(function () {
    'use strict';

    const gasDischargeLines = [
        {
            "name": "Aluminum",
            "wavelengths": [
                390.068, 393.2, 394.4, 396.152, 399.586, 422.681, 458.582, 458.819, 466.68, 489.876,
                490.277, 528.021, 510.752, 528.377, 528.585, 531.232, 531.607, 537.184, 555.706, 555.795,
                559.323, 585.362, 597.194, 600.176, 600.188, 600.642, 606.111, 606.843, 606.853, 607.323,
                618.157, 618.168, 618.228, 618.245, 618.342, 620.152, 620.17, 622.618, 623.178, 624.336,
                633.574, 669.602, 669.867, 708.397, 708.464
            ],
            "strengths": [
                450, 60, 4500, 9000, 110, 290, 150, 110, 550, 110, 110, 150, 70, 290, 150, 110, 220, 150,
                180, 110, 450, 110, 220, 290, 220, 450, 150, 290, 110, 450, 110, 150, 290, 220, 450, 450,
                360, 290, 360, 450, 450, 360, 230, 60, 70
            ]
        },
        {
            "name": "Argon",
            "wavelengths": [
                392.572, 392.862, 393.255, 394.61, 394.751, 394.898, 397.936, 399.479, 401.386, 403.381,
                403.546, 404.289, 404.442, 405.292, 407.201, 407.239, 407.663, 407.957, 408.239, 410.391,
                413.172, 415.609, 415.859, 416.418, 417.93, 418.188, 419.071, 419.103, 419.832, 420.067,
                421.867, 422.264, 422.699, 422.816, 423.722, 425.119, 425.936, 426.629, 426.653, 427.217,
                427.753, 428.29, 430.01, 430.065, 430.924, 433.12, 433.203, 433.356, 433.534, 434.517,
                434.806, 435.221, 436.207, 436.783, 437.075, 437.133, 437.595, 437.967, 438.506, 440.01,
                440.099, 442.6, 443.019, 443.1, 443.384, 443.946, 444.888, 447.476, 448.181, 451.073,
                452.232, 453.055, 454.505, 456.441, 457.935, 458.99, 459.61, 460.957, 462.844, 463.723,
                465.79, 470.232, 472.159, 472.687, 473.205, 473.591, 476.487, 480.602, 484.781, 486.591,
                487.986, 488.904, 490.475, 493.321, 496.508, 500.933, 501.716, 506.204, 509.05, 514.178,
                514.531, 515.139, 516.229, 516.577, 518.775, 521.681, 522.127, 542.135, 545.165, 549.587,
                550.611, 555.87, 557.254, 560.673, 565.07, 573.952, 583.426, 586.031, 588.262, 588.858,
                591.209, 592.881, 594.267, 598.73, 599.9, 602.515, 603.213, 604.322, 605.272, 605.937,
                609.88, 610.564, 611.492, 614.544, 617.017, 617.228, 617.31, 621.25, 621.594, 624.312,
                629.687, 630.766, 636.958, 638.472, 641.631, 648.308, 653.811, 660.485, 663.822, 663.974,
                664.37, 666.068, 666.405, 666.636, 667.728, 668.429, 675.283, 675.616, 676.661, 686.127,
                687.129, 687.958, 688.817, 693.766, 695.148, 696.025, 696.543, 703.025, 706.722, 706.874,
                710.748, 712.582, 714.704, 715.884
            ],
            "strengths": [
                35, 50, 25, 70, 7, 35, 20, 35, 50, 50, 20, 150, 50, 100, 200, 70, 25, 35, 25, 150, 300,
                35, 400, 50, 35, 50, 100, 50, 200, 400, 25, 25, 25, 100, 100, 25, 200, 100, 70, 150, 550,
                20, 100, 25, 70, 200, 50, 100, 50, 25, 800, 50, 25, 50, 200, 70, 50, 150, 50, 70, 200,
                400, 150, 50, 50, 20, 35, 100, 200, 100, 20, 20, 400, 20, 400, 400, 15, 550, 7, 35, 400,
                15, 20, 550, 50, 300, 800, 550, 150, 50, 800, 70, 20, 35, 200, 50, 70, 70, 20, 100, 70, 5,
                15, 25, 20, 20, 7, 5, 10, 25, 5, 25, 10, 35, 20, 10, 5, 10, 15, 25, 50, 15, 5, 7, 5, 5,
                70, 35, 10, 20, 7, 10, 100, 10, 7, 150, 10, 10, 5, 25, 7, 15, 7, 20, 70, 25, 15, 15, 25,
                20, 50, 5, 5, 25, 100, 35, 150, 5, 15, 20, 150, 5, 10, 50, 7, 7, 9999, 150, 9999, 100, 25,
                25, 1000, 15
            ]
        },
        {
            "name": "Barium",
            "wavelengths": [
                405.371, 408.096, 408.487, 408.725, 408.734, 413.065, 413.243, 416.6, 417.935, 422.396,
                423.956, 424.26, 426.442, 426.792, 428.31, 429.116, 430.518, 430.927, 430.927, 432.3,
                432.511, 433.291, 435.033, 435.953, 440.254, 440.683, 441.366, 443.189, 446.709, 448.898,
                449.364, 450.435, 450.592, 452.317, 452.493, 455.403, 457.385, 457.964, 458.976, 459.182,
                459.972, 460.498, 461.992, 462.833, 467.362, 469.161, 469.744, 469.91, 470.042, 472.471,
                472.643, 487.765, 489.993, 490.285, 493.408, 494.731, 495.709, 499.564, 501.295, 501.295,
                504.955, 505.496, 509.754, 510.225, 513.454, 515.988, 525.38, 530.57, 542.455, 543.732,
                551.904, 553.548, 553.587, 559.331, 568.0, 568.018, 577.762, 578.404, 580.023, 580.568,
                581.881, 582.627, 585.368, 590.764, 597.17, 597.846, 599.709, 599.8, 601.947, 606.311,
                608.339, 610.199, 611.078, 612.923, 614.171, 634.168, 637.711, 638.376, 641.111, 645.085,
                648.291, 649.69, 649.876, 652.617, 652.731, 659.533, 665.411, 667.527, 669.384, 676.948,
                677.186, 686.569, 686.791, 687.408, 687.408, 696.148
            ],
            "strengths": [
                18, 13, 43, 8, 9, 910, 309, 103, 14, 34, 25, 17, 42, 8, 530, 26, 6, 4, 4, 61, 18, 39, 271,
                9, 273, 29, 13, 374, 30, 234, 137, 5, 209, 327, 188, 9300, 230, 580, 22, 28, 108, 28, 40,
                63, 133, 306, 15, 24, 80, 8, 371, 66, 273, 63, 6900, 25, 10, 5, 5, 5, 10, 19, 10, 12, 10,
                80, 5, 6, 199, 5, 280, 1830, 112, 5, 21, 41, 740, 5, 203, 419, 14, 610, 331, 94, 700, 8,
                620, 10, 610, 840, 5, 13, 880, 5, 1510, 900, 10, 10, 3, 580, 1770, 900, 1060, 8, 890, 740,
                9, 462, 454, 6, 4, 62, 8, 7, 7, 1
            ]
        },
        {
            "name": "Calcium",
            "wavelengths": [
                362.411, 363.075, 363.097, 364.441, 364.477, 364.499, 367.529, 367.821, 368.37, 369.411,
                369.436, 370.603, 373.69, 373.938, 374.835, 375.029, 375.334, 375.567, 375.839, 387.048,
                387.254, 387.256, 387.578, 387.58, 388.91, 392.348, 393.366, 393.529, 394.604, 394.89,
                395.705, 396.847, 397.257, 397.371, 408.177, 409.71, 409.853, 409.857, 410.982, 411.028,
                415.357, 416.431, 418.42, 420.618, 420.724, 422.007, 422.673, 423.374, 424.046, 424.074,
                428.301, 428.439, 428.936, 429.899, 430.253, 430.281, 430.774, 431.865, 432.919, 433.357,
                435.508, 435.838, 439.959, 440.629, 442.544, 443.13, 443.496, 443.569, 445.478, 445.589,
                445.661, 447.204, 447.923, 448.918, 449.988, 451.659, 452.694, 457.212, 457.855, 458.14,
                458.147, 458.587, 458.596, 468.527, 470.883, 471.627, 471.674, 472.103, 479.997, 485.917,
                487.813, 500.148, 500.895, 501.997, 502.114, 504.162, 505.007, 518.885, 523.182, 524.737,
                526.171, 526.224, 526.424, 526.556, 527.027, 527.198, 528.527, 530.132, 530.722, 532.129,
                532.806, 533.919, 534.947, 551.298, 557.058, 557.906, 558.197, 558.876, 559.012, 559.447,
                559.849, 560.129, 560.285, 585.745, 592.272, 592.369, 606.998, 610.272, 612.222, 616.129,
                616.217, 616.376, 616.644, 616.906, 616.956, 617.322, 621.398, 629.489, 637.011, 638.755,
                642.451, 643.907, 644.981, 645.56, 645.687, 646.257, 647.166, 648.535, 649.378, 649.965,
                653.878, 654.224, 657.278, 671.769, 714.815, 720.219, 730.869, 732.615
            ],
            "strengths": [
                15, 17, 14, 20, 14, 8, 5, 6, 30, 40, 10, 170, 180, 10, 6, 8, 9, 20, 30, 9, 11, 11, 12, 12,
                6, 6, 230, 9, 6, 15, 17, 220, 8, 18, 15, 50, 15, 15, 60, 30, 15, 15, 15, 40, 18, 50, 50,
                17, 15, 16, 24, 15, 22, 22, 25, 20, 23, 22, 15, 16, 20, 15, 19, 17, 25, 17, 26, 25, 30,
                28, 20, 20, 10, 20, 19, 18, 23, 18, 22, 23, 23, 24, 24, 20, 11, 11, 30, 40, 40, 10, 25,
                70, 10, 80, 40, 23, 10, 25, 10, 11, 22, 23, 22, 24, 25, 13, 60, 10, 70, 11, 10, 50, 27,
                23, 11, 10, 25, 27, 24, 26, 25, 24, 24, 30, 10, 10, 13, 27, 29, 22, 30, 22, 24, 26, 28,
                10, 12, 11, 11, 10, 12, 35, 30, 22, 80, 34, 29, 12, 32, 28, 10, 10, 23, 30, 33, 31, 10, 33
            ]
        },
        {
            "name": "Carbon",
            "wavelengths": [
                391.898, 392.069, 407.452, 407.585, 426.7, 426.726, 477.175, 493.205, 505.217, 513.294,
                513.328, 514.349, 514.516, 515.109, 538.034, 564.807, 566.247, 588.977, 589.159, 600.113,
                600.603, 600.718, 601.068, 601.322, 601.484, 657.805, 658.288, 658.761, 678.39, 711.318,
                711.519, 711.563, 711.699, 711.99
            ],
            "strengths": [
                570, 800, 250, 350, 800, 1000, 200, 200, 200, 350, 350, 350, 570, 400, 300, 250, 350, 570,
                350, 200, 250, 110, 150, 300, 250, 800, 570, 200, 250, 250, 250, 250, 200, 350
            ]
        },
        {
            "name": "Helium",
            "wavelengths": [
                396.473, 400.927, 402.619, 402.636, 412.082, 412.099, 414.376, 438.793, 443.755, 447.148,
                447.168, 468.54, 468.57, 471.315, 471.338, 492.193, 501.568, 504.774, 541.152, 587.562,
                587.597, 656.01, 667.815, 686.748, 706.519, 706.571
            ],
            "strengths": [
                20, 1, 50, 5, 12, 2, 3, 10, 3, 200, 25, 6, 30, 30, 4, 20, 100, 10, 5, 500, 100, 8, 100, 3,
                200, 30
            ]
        },
        {
            "name": "Hydrogen",
            "wavelengths": [
                397.007, 410.174, 434.047, 486.133, 656.272, 656.285
            ],
            "strengths": [
                8, 15, 30, 80, 120, 180
            ]
        },
        {
            "name": "Iron",
            "wavelengths": [
                400.524, 400.971, 401.453, 402.187, 404.064, 404.581, 406.359, 406.698, 406.798, 407.174,
                407.663, 410.074, 410.749, 411.854, 412.76, 413.206, 413.468, 413.7, 414.342, 414.387,
                415.39, 415.45, 415.68, 417.274, 417.491, 417.564, 417.759, 418.175, 418.489, 418.704,
                418.78, 419.143, 419.532, 419.83, 419.91, 420.203, 420.398, 420.67, 421.034, 421.618,
                421.936, 422.221, 422.596, 422.742, 423.36, 423.594, 423.88, 424.743, 425.012, 425.079,
                425.832, 426.047, 427.115, 427.176, 428.24, 429.146, 429.923, 430.79, 431.508, 432.576,
                435.273, 436.977, 437.593, 438.354, 440.475, 441.512, 442.73, 446.165, 446.655, 447.602,
                448.217, 448.225, 448.974, 452.861, 464.743, 473.677, 485.974, 487.132, 487.214, 487.821,
                489.075, 489.149, 490.331, 491.899, 492.05, 495.76, 500.186, 500.191, 500.571, 500.612,
                501.207, 501.494, 503.077, 504.176, 504.982, 505.163, 507.475, 510.073, 511.036, 513.369,
                513.925, 513.946, 515.191, 516.227, 516.628, 516.749, 516.889, 517.16, 519.145, 519.234,
                519.494, 520.458, 521.518, 521.627, 521.685, 522.686, 522.715, 523.294, 526.026, 526.656,
                526.954, 527.036, 528.179, 528.362, 530.23, 532.418, 532.804, 532.853, 533.29, 533.993,
                534.102, 536.487, 536.747, 536.996, 537.149, 538.337, 539.317, 539.713, 540.412, 540.577,
                541.091, 541.52, 542.407, 542.783, 542.97, 543.452, 544.687, 545.545, 545.561, 546.593,
                546.694, 548.231, 549.752, 550.146, 550.62, 550.678, 556.962, 557.284, 558.676, 561.564,
                562.454, 566.252, 576.299, 586.235, 591.411, 598.696, 596.171, 596.24, 606.548, 610.216,
                613.661, 613.769, 614.773, 614.924, 619.156, 621.343, 621.928, 623.073, 623.837, 624.632,
                624.756, 625.255, 639.36, 640.0, 641.165, 641.69, 642.135, 643.084, 644.643, 645.638,
                649.498, 651.605, 654.624, 659.291, 667.799
            ],
            "strengths": [
                400, 60, 80, 100, 50, 4000, 1500, 50, 50, 1200, 40, 40, 40, 150, 40, 400, 80, 40, 200,
                800, 40, 50, 60, 50, 60, 50, 50, 120, 50, 120, 120, 80, 40, 150, 40, 300, 40, 80, 80, 400,
                100, 50, 50, 200, 100, 250, 50, 50, 200, 300, 40, 800, 250, 1200, 1200, 80, 250, 1200,
                150, 1500, 80, 80, 800, 3000, 1200, 300, 600, 400, 120, 80, 80, 200, 50, 50, 30, 30, 50,
                120, 60, 30, 100, 250, 30, 150, 500, 1500, 80, 18, 30, 100, 60, 30, 25, 150, 30, 30, 25,
                18, 150, 40, 40, 100, 25, 30, 80, 2500, 80, 500, 50, 80, 200, 30, 25, 150, 18, 60, 1000,
                250, 18, 100, 1200, 800, 30, 60, 25, 150, 800, 300, 100, 80, 500, 25, 40, 50, 400, 60, 40,
                300, 60, 250, 30, 60, 60, 30, 250, 100, 200, 25, 120, 16, 20, 16, 25, 20, 18, 30, 30, 60,
                120, 200, 20, 50, 20, 30, 30, 30, 18, 30, 40, 30, 40, 40, 30, 20, 40, 30, 30, 40, 20, 20,
                80, 30, 20, 30, 20, 20, 20, 30, 20, 200, 60, 20, 20, 20, 40
            ]
        },
        {
            "name": "Krypton",
            "wavelengths": [
                390.618, 392.008, 399.484, 399.779, 405.704, 406.513, 408.834, 409.873, 410.925, 414.512,
                425.058, 427.397, 428.297, 429.292, 430.049, 431.781, 431.855, 431.958, 432.298, 435.136,
                435.548, 436.264, 436.969, 437.612, 438.654, 439.997, 442.519, 443.169, 443.681, 445.392,
                446.369, 447.501, 448.988, 450.235, 452.314, 455.661, 457.721, 458.298, 459.28, 461.529,
                461.917, 463.389, 465.888, 468.04, 469.13, 469.436, 473.9, 476.244, 476.574, 481.176,
                482.518, 483.208, 484.661, 485.72, 494.559, 502.24, 508.652, 512.573, 520.832, 530.866,
                533.341, 546.817, 556.222, 557.029, 558.039, 564.956, 568.189, 569.035, 583.286, 587.091,
                599.222, 599.385, 605.613, 642.018, 642.103, 645.629, 657.007, 669.923, 690.468
            ],
            "strengths": [
                150, 200, 100, 100, 300, 300, 500, 250, 100, 250, 150, 1000, 100, 600, 200, 500, 400,
                1000, 150, 100, 3000, 500, 200, 800, 300, 200, 100, 500, 600, 600, 800, 800, 400, 600,
                400, 200, 800, 300, 150, 500, 1000, 800, 2000, 500, 100, 200, 3000, 300, 1000, 300, 300,
                800, 700, 150, 300, 200, 250, 400, 500, 200, 500, 200, 500, 2000, 80, 100, 400, 200, 100,
                3000, 200, 60, 60, 300, 100, 200, 150, 60, 100
            ]
        },
        {
            "name": "Magnesium",
            "wavelengths": [
                390.386, 393.84, 398.421, 398.675, 405.469, 405.75, 407.506, 408.183, 416.51, 416.727,
                435.191, 435.453, 438.038, 438.464, 439.059, 442.8, 443.399, 443.649, 443.66, 448.116,
                448.133, 453.429, 457.11, 462.13, 470.299, 473.003, 473.959, 473.971, 485.11, 516.733,
                517.268, 518.361, 526.421, 526.437, 534.598, 540.154, 550.96, 552.841, 571.109, 578.531,
                578.556, 591.643, 591.816, 631.872, 631.924, 631.949, 634.674, 634.696, 654.597, 662.044,
                662.057, 663.083, 678.145, 678.785, 681.286, 681.927, 689.49, 696.54, 706.041
            ],
            "strengths": [
                4, 6, 1, 8, 2, 10, 3, 2, 4, 15, 20, 6, 6, 9, 10, 8, 9, 5, 4, 14, 12, 6, 28, 3, 7, 10, 6,
                5, 7, 75, 22, 400, 8, 7, 1, 9, 2, 6, 30, 5, 4, 7, 6, 10, 9, 7, 10, 9, 11, 5, 6, 2, 7, 8,
                7, 8, 4, 6, 8
            ]
        },
        {
            "name": "Mercury",
            "wavelengths": [
                404.656, 407.783, 410.805, 433.922, 434.749, 435.833, 439.862, 466.028, 485.572, 488.3,
                488.991, 491.607, 497.037, 498.064, 510.27, 512.064, 512.845, 513.794, 529.074, 531.678,
                535.405, 538.463, 546.074, 554.963, 567.586, 576.96, 578.966, 579.066, 580.378, 585.925,
                587.173, 587.198, 607.272, 614.95, 623.44, 652.113, 671.643, 690.752, 708.19, 709.186
            ],
            "strengths": [
                1800, 150, 40, 125, 240, 2000, 100, 90, 80, 5, 5, 80, 5, 5, 20, 40, 100, 20, 20, 5, 60,
                30, 1100, 30, 160, 1240, 1100, 280, 140, 60, 60, 20, 20, 1000, 30, 80, 160, 250, 250, 200
            ]
        },
        {
            "name": "Neon",
            "wavelengths": [
                421.974, 423.385, 425.065, 436.986, 437.94, 437.955, 438.506, 439.199, 439.799, 440.93,
                441.322, 442.139, 442.852, 442.863, 443.09, 443.094, 445.705, 452.272, 453.775, 454.038,
                456.906, 470.44, 470.886, 471.007, 471.207, 471.535, 475.273, 478.893, 479.022, 482.734,
                488.492, 500.516, 503.775, 514.494, 533.078, 534.109, 534.328, 540.056, 556.277, 565.666,
                571.923, 574.83, 576.442, 580.445, 582.016, 585.249, 587.283, 588.19, 590.246, 590.643,
                594.483, 596.547, 597.463, 597.553, 598.791, 603.0, 607.434, 609.616, 612.845, 614.306,
                616.359, 618.215, 621.728, 626.65, 630.479, 633.443, 638.299, 640.225, 650.653, 653.288,
                659.895, 665.209, 667.828, 671.704, 692.947, 702.405, 703.241, 705.129, 705.911
            ],
            "strengths": [
                150, 100, 120, 120, 70, 150, 100, 200, 150, 150, 100, 100, 100, 100, 150, 150, 120, 100,
                10, 10, 100, 15, 12, 10, 10, 15, 10, 12, 10, 10, 10, 4, 10, 10, 25, 20, 8, 60, 5, 10, 5,
                12, 80, 12, 40, 500, 100, 100, 60, 60, 100, 100, 100, 120, 80, 100, 100, 80, 60, 100, 120,
                250, 150, 150, 60, 100, 120, 200, 150, 60, 150, 70, 90, 20, 100, 90, 100, 50, 80
            ]
        },
        {
            "name": "Nitrogen",
            "wavelengths": [
                391.9, 395.585, 399.5, 403.508, 404.131, 404.353, 409.994, 410.995, 417.616, 422.774,
                423.691, 423.705, 424.178, 443.274, 444.703, 453.041, 460.148, 460.716, 461.387, 462.139,
                463.054, 464.308, 478.813, 480.329, 484.738, 489.511, 491.494, 493.512, 495.023, 496.398,
                498.737, 499.436, 500.148, 500.27, 500.515, 500.732, 501.062, 501.639, 502.566, 504.51,
                528.12, 529.268, 549.567, 553.536, 566.663, 567.602, 567.956, 568.621, 571.077, 574.73,
                575.25, 576.475, 582.954, 585.404, 592.781, 593.178, 594.024, 594.165, 595.239, 599.943,
                600.847, 616.776, 637.962, 641.165, 642.064, 642.302, 642.832, 643.768, 644.094, 645.79,
                646.844, 648.205, 648.27, 648.375, 648.171, 648.48, 649.122, 649.954, 650.631, 661.056,
                662.254, 663.694, 664.496, 664.65, 665.346, 665.651, 672.262
            ],
            "strengths": [
                360, 450, 1000, 360, 550, 360, 140, 185, 285, 285, 285, 220, 450, 285, 650, 360, 550, 450,
                360, 450, 870, 550, 285, 450, 180, 285, 160, 210, 160, 350, 285, 450, 650, 360, 870, 550,
                450, 360, 360, 550, 185, 140, 450, 285, 650, 550, 870, 450, 450, 285, 700, 240, 265, 235,
                360, 550, 285, 650, 285, 160, 210, 285, 360, 185, 210, 210, 210, 185, 235, 185, 300, 750,
                360, 300, 265, 325, 160, 210, 185, 750, 185, 185, 235, 185, 235, 210, 185
            ]
        },
        {
            "name": "Oxygen",
            "wavelengths": [
                391.196, 391.929, 394.729, 394.748, 394.759, 395.437, 395.461, 397.326, 398.22, 406.99,
                407.216, 407.587, 408.391, 408.714, 408.927, 409.724, 410.5, 411.922, 413.281, 414.606,
                415.33, 418.546, 418.979, 423.327, 425.374, 425.398, 427.547, 430.378, 431.714, 433.686,
                434.556, 434.943, 436.69, 436.825, 439.595, 441.491, 441.698, 444.821, 445.238, 446.545,
                446.628, 446.783, 446.941, 459.097, 459.617, 460.939, 463.885, 464.181, 464.914, 465.084,
                466.164, 467.623, 469.921, 470.536, 492.46, 494.306, 532.91, 532.968, 533.074, 543.518,
                543.578, 543.686, 557.734, 595.839, 595.858, 599.528, 604.623, 604.644, 604.649, 610.627,
                615.598, 615.677, 615.818, 625.683, 626.155, 636.634, 637.432, 645.36, 645.444, 645.598,
                660.491, 665.383, 700.192, 700.223, 715.67
            ],
            "strengths": [
                450, 160, 185, 160, 140, 220, 100, 450, 220, 160, 285, 450, 80, 50, 150, 110, 220, 285,
                160, 50, 220, 285, 450, 80, 50, 50, 50, 50, 285, 160, 220, 285, 220, 100, 220, 450, 285,
                160, 160, 50, 50, 50, 50, 360, 285, 80, 160, 360, 450, 160, 360, 285, 220, 285, 160, 220,
                135, 160, 190, 90, 110, 135, 120, 160, 190, 80, 160, 190, 110, 100, 400, 450, 490, 80,
                100, 100, 100, 320, 360, 400, 80, 100, 360, 450, 210
            ]
        },
        {
            "name": "Potassium",
            "wavelengths": [
                360.888, 361.849, 362.642, 368.154, 371.66, 372.134, 373.913, 374.442, 376.736, 378.319,
                380.014, 381.656, 381.75, 387.374, 387.862, 389.792, 392.3, 392.636, 394.253, 395.521,
                396.672, 397.258, 399.51, 400.124, 401.21, 404.259, 409.369, 411.499, 413.472, 414.919,
                418.624, 422.297, 422.567, 426.34, 430.5, 430.91, 434.003, 438.816, 446.665, 450.533,
                459.565, 460.845, 465.938, 482.923, 494.329, 500.56, 505.627, 531.024, 547.013, 564.273,
                577.232, 596.964, 612.027, 624.659, 630.729, 642.796, 659.5
            ],
            "strengths": [
                5, 6, 4, 6, 5, 5, 5, 5, 6, 6, 6, 6, 7, 5, 4, 8, 5, 5, 6, 6, 6, 6, 6, 7, 5, 6, 5, 6, 7, 7,
                8, 7, 7, 7, 7, 7, 5, 7, 5, 6, 5, 8, 5, 9, 6, 8, 7, 5, 6, 5, 4, 2, 8, 6, 7, 5, 2
            ]
        },
        {
            "name": "Silicon",
            "wavelengths": [
                390.552, 395.574, 397.746, 399.177, 399.801, 407.545, 407.678, 410.294, 412.807, 413.089,
                418.335, 419.072, 419.813, 462.142, 462.172, 478.299, 479.221, 479.232, 488.32, 490.699,
                493.28, 494.761, 500.606, 504.103, 505.598, 518.19, 518.525, 519.286, 520.241, 529.519,
                540.534, 541.724, 542.892, 543.289, 543.862, 544.726, 545.449, 545.645, 546.643, 546.687,
                546.921, 549.323, 549.645, 551.754, 554.074, 557.666, 562.222, 563.297, 563.948, 564.561,
                566.066, 566.555, 566.956, 568.144, 568.448, 568.881, 569.043, 570.111, 570.137, 570.637,
                570.84, 574.767, 575.363, 575.422, 576.298, 577.215, 578.038, 578.573, 579.307, 579.49,
                579.786, 580.047, 580.674, 582.78, 584.613, 586.748, 586.84, 587.376, 591.522, 594.855,
                595.756, 597.893, 606.745, 608.006, 608.667, 612.502, 613.157, 613.185, 614.249, 614.502,
                615.513, 623.732, 623.829, 624.381, 624.447, 625.419, 633.195, 634.71, 637.136, 652.661,
                652.72, 655.546, 666.052, 666.5, 667.188, 669.938, 671.704, 672.185, 674.164, 675.028,
                681.845, 682.982, 684.857, 697.652, 700.357, 700.588, 701.728, 701.765, 703.49, 716.469,
                716.555, 718.489, 719.358, 719.39
            ],
            "strengths": [
                300, 10, 10, 15, 10, 20, 15, 70, 300, 500, 10, 100, 50, 100, 150, 50, 35, 80, 15, 20, 20,
                30, 40, 1000, 1000, 100, 100, 200, 500, 30, 100, 15, 15, 15, 100, 20, 15, 100, 500, 500,
                100, 40, 200, 35, 100, 150, 30, 100, 200, 90, 150, 80, 1000, 30, 120, 300, 100, 90, 200,
                100, 160, 45, 45, 45, 45, 70, 70, 30, 90, 30, 100, 150, 200, 30, 50, 10, 300, 40, 150,
                200, 500, 500, 10, 20, 10, 90, 85, 90, 100, 100, 160, 160, 40, 125, 125, 180, 45, 1000,
                1000, 45, 45, 45, 50, 15, 100, 20, 50, 100, 30, 20, 30, 50, 30, 80, 180, 180, 30, 90, 250,
                70, 200, 70, 65, 30
            ]
        },
        {
            "name": "Sodium",
            "wavelengths": [
                371.107, 411.37, 412.308, 423.326, 423.899, 424.09, 424.208, 424.208, 424.941, 425.252,
                427.364, 427.679, 427.679, 428.784, 429.101, 429.248, 429.286, 430.881, 430.904, 432.091,
                432.14, 432.462, 432.462, 433.729, 434.149, 434.411, 434.474, 436.86, 437.522, 438.749,
                439.003, 439.281, 439.334, 439.334, 440.512, 441.988, 442.325, 444.67, 444.741, 445.474,
                445.523, 445.721, 447.463, 447.88, 448.167, 449.015, 449.087, 449.418, 449.766, 449.766,
                449.962, 450.697, 451.921, 452.498, 453.332, 454.163, 454.519, 455.153, 459.092, 466.481,
                466.856, 466.856, 472.223, 473.11, 474.167, 474.794, 475.182, 476.879, 478.879, 497.854,
                498.281, 514.884, 515.34, 519.165, 520.855, 540.046, 541.455, 568.263, 568.819, 568.821,
                588.995, 589.592, 615.423, 616.075, 617.525, 619.926, 623.468, 626.001, 627.474, 636.115,
                636.641, 651.421, 652.468, 653.07, 654.404, 654.575, 655.243, 737.323, 737.349
            ],
            "strengths": [
                850, 300, 250, 250, 6, 250, 10, 10, 1, 2, 15, 20, 20, 2, 3, 250, 250, 250, 250, 250, 30,
                40, 40, 250, 3, 250, 5, 200, 200, 200, 40, 250, 60, 60, 200, 5, 8, 200, 200, 200, 200,
                200, 200, 200, 200, 200, 200, 60, 100, 100, 200, 200, 200, 200, 200, 10, 15, 200, 160,
                120, 200, 200, 160, 160, 160, 20, 30, 160, 100, 200, 400, 40, 80, 100, 80, 70, 90, 280,
                70, 560, 80000, 40000, 120, 240, 60, 70, 70, 80, 80, 70, 70, 90, 80, 130, 130, 130, 80,
                20, 10
            ]
        },
        {
            "name": "Strontium",
            "wavelengths": [
                403.038, 403.238, 407.771, 409.403, 409.702, 410.563, 416.18, 421.552, 429.857, 430.545,
                433.58, 443.804, 460.733, 468.508, 472.228, 474.192, 478.432, 481.188, 483.208, 485.504,
                486.87, 487.249, 487.606, 487.632, 489.198, 496.226, 496.794, 507.109, 513.034, 515.607,
                515.826, 522.22, 522.511, 522.927, 523.855, 525.69, 525.771, 526.221, 528.832, 532.982,
                539.103, 544.348, 545.084, 546.39, 548.084, 548.612, 550.417, 552.183, 553.481, 554.005,
                554.336, 566.466, 568.972, 597.01, 634.575, 636.394, 636.996, 638.075, 638.65, 638.824,
                640.847, 644.668, 646.579, 650.4, 654.679, 655.026, 661.726, 664.354, 679.105, 687.838,
                689.259
            ],
            "strengths": [
                1300, 300, 46000, 30, 30, 30, 200, 32000, 9, 340, 35, 350, 65000, 9, 3200, 2200, 1400,
                4800, 3600, 500, 600, 3000, 600, 2000, 1000, 8000, 1300, 30, 30, 800, 35, 1400, 2000,
                2000, 2800, 4800, 40, 30, 30, 350, 30, 40, 1500, 30, 7000, 1100, 3500, 2600, 2000, 2000,
                250, 30, 30, 200, 250, 250, 350, 1000, 900, 600, 9000, 250, 250, 5500, 1000, 1700, 3000,
                800, 1800, 4800, 1200
            ]
        },
        {
            "name": "Sulfur",
            "wavelengths": [
                390.2, 393.33, 412.08, 414.23, 414.51, 415.31, 416.27, 469.41, 469.54, 469.62, 471.62,
                481.55, 492.41, 492.53, 499.35, 542.86, 543.28, 545.38, 547.36, 550.97, 556.49, 560.61,
                564.0, 564.03, 564.7, 565.99, 566.47, 570.61, 581.92, 605.27, 628.64, 628.71, 630.55,
                631.27, 638.49, 639.73, 639.8, 641.37, 674.36, 674.88, 675.72, 757.9
            ],
            "strengths": [
                285, 360, 450, 280, 360, 450, 450, 450, 285, 160, 280, 450, 360, 450, 285, 360, 650, 1000,
                1000, 1000, 280, 1000, 450, 450, 280, 650, 450, 160, 450, 450, 280, 450, 450, 450, 280,
                280, 280, 360, 160, 285, 450, 450
            ]
        },
        {
            "name": "Xenon",
            "wavelengths": [
                390.791, 403.759, 405.746, 409.889, 415.804, 418.01, 419.315, 420.848, 420.947, 421.372,
                421.56, 422.3, 423.825, 424.538, 425.157, 429.64, 431.051, 433.052, 436.92, 437.378,
                439.32, 439.577, 440.688, 441.607, 444.813, 446.219, 448.086, 452.186, 473.415, 479.262,
                480.702, 482.971, 484.329, 491.651, 492.315, 497.171, 497.271, 498.877, 499.117, 502.828,
                504.492, 508.062, 512.242, 512.57, 517.882, 518.804, 519.137, 519.21, 526.044, 526.195,
                529.222, 530.927, 531.387, 533.933, 536.32, 536.807, 537.239, 539.28, 541.915, 543.896,
                544.545, 545.045, 546.039, 547.261, 549.486, 552.553, 553.107, 556.662, 561.667, 565.938,
                566.756, 567.091, 569.575, 569.961, 571.61, 572.691, 575.103, 575.865, 577.639, 581.596,
                582.389, 582.48, 587.502, 589.329, 589.499, 590.513, 593.417, 594.553, 597.113, 597.646,
                600.892, 603.62, 605.115, 609.35, 609.759, 610.143, 611.508, 614.645, 617.83, 617.966,
                618.242, 619.407, 619.826, 622.002, 627.082, 627.754, 628.441, 628.601, 630.086, 631.806,
                634.396, 635.635, 637.528, 639.799, 646.97, 647.284, 648.776, 649.872, 650.418, 651.283,
                652.865, 653.316, 659.501, 659.556, 659.725, 659.884, 666.892, 669.432, 672.801, 678.871,
                679.037, 680.574, 682.732, 687.211, 688.216, 691.022, 692.553, 694.211, 697.618, 699.088,
                708.215
            ],
            "strengths": [
                100, 100, 200, 100, 200, 1000, 500, 300, 100, 300, 100, 300, 400, 500, 100, 500, 500,
                1000, 200, 100, 500, 500, 200, 150, 500, 1000, 500, 100, 600, 150, 500, 400, 300, 500,
                500, 200, 400, 300, 100, 200, 200, 1000, 300, 100, 100, 300, 400, 100, 500, 500, 2000,
                300, 1000, 2000, 200, 200, 500, 100, 3000, 800, 300, 200, 400, 1000, 100, 200, 600, 100,
                300, 300, 600, 150, 100, 200, 200, 500, 500, 300, 300, 100, 300, 150, 100, 300, 100, 200,
                100, 500, 300, 2000, 200, 1000, 2000, 600, 1500, 400, 100, 100, 150, 120, 300, 500, 100,
                100, 500, 400, 100, 100, 250, 500, 400, 600, 200, 100, 300, 150, 120, 100, 200, 300, 200,
                100, 1000, 100, 400, 100, 150, 300, 200, 150, 100, 1000, 200, 100, 300, 80, 100, 800, 100,
                2000, 150
            ]
        }
    ];

    const wavelengthToRgbTable = new Float32Array([
        +0.00045, -0.00048, +0.00344, 0.0, +0.00054, -0.00057, +0.00411, 0.0, +0.00064, -0.00068, +0.00491, 0.0, +0.00076, -0.00081, +0.00587, 0.0,
        +0.00091, -0.00097, +0.00702, 0.0, +0.00109, -0.00116, +0.00840, 0.0, +0.00129, -0.00138, +0.01001, 0.0, +0.00153, -0.00164, +0.01190, 0.0,
        +0.00182, -0.00194, +0.01414, 0.0, +0.00218, -0.00234, +0.01703, 0.0, +0.00264, -0.00284, +0.02071, 0.0, +0.00322, -0.00348, +0.02534, 0.0,
        +0.00386, -0.00417, +0.03038, 0.0, +0.00450, -0.00486, +0.03546, 0.0, +0.00516, -0.00558, +0.04072, 0.0, +0.00598, -0.00647, +0.04724, 0.0,
        +0.00710, -0.00769, +0.05613, 0.0, +0.00863, -0.00936, +0.06836, 0.0, +0.01053, -0.01144, +0.08357, 0.0, +0.01274, -0.01385, +0.10125, 0.0,
        +0.01519, -0.01653, +0.12093, 0.0, +0.01803, -0.01965, +0.14389, 0.0, +0.02168, -0.02365, +0.17330, 0.0, +0.02643, -0.02888, +0.21162, 0.0,
        +0.03245, -0.03552, +0.26028, 0.0, +0.03908, -0.04284, +0.31394, 0.0, +0.04569, -0.05016, +0.36771, 0.0, +0.05227, -0.05746, +0.42149, 0.0,
        +0.06027, -0.06638, +0.48734, 0.0, +0.07081, -0.07815, +0.57443, 0.0, +0.08552, -0.09461, +0.69639, 0.0, +0.10362, -0.11491, +0.84703, 0.0,
        +0.12528, -0.13927, +1.02788, 0.0, +0.14983, -0.16697, +1.23378, 0.0, +0.17827, -0.19920, +1.47406, 0.0, +0.21158, -0.23708, +1.75729, 0.0,
        +0.25101, -0.28203, +2.09453, 0.0, +0.29624, -0.33380, +2.48475, 0.0, +0.34779, -0.39321, +2.93667, 0.0, +0.40658, -0.46162, +3.46319, 0.0,
        +0.47220, -0.53867, +4.06305, 0.0, +0.54051, -0.61973, +4.70338, 0.0, +0.60635, -0.69886, +5.33983, 0.0, +0.66537, -0.77121, +5.93862, 0.0,
        +0.71768, -0.83688, +6.49979, 0.0, +0.76113, -0.89376, +7.01109, 0.0, +0.79616, -0.94228, +7.47436, 0.0, +0.82035, -0.97986, +7.87338, 0.0,
        +0.83614, -1.00873, +8.22049, 0.0, +0.84242, -1.02744, +8.50645, 0.0, +0.84078, -1.03762, +8.74118, 0.0, +0.83034, -1.03859, +8.92043, 0.0,
        +0.81254, -1.03214, +9.05476, 0.0, +0.78703, -1.01809, +9.14316, 0.0, +0.75484, -0.99759, +9.19545, 0.0, +0.71615, -0.97105, +9.21808, 0.0,
        +0.67160, -0.93921, +9.21831, 0.0, +0.62161, -0.90259, +9.20002, 0.0, +0.56689, -0.86205, +9.17044, 0.0, +0.50834, -0.81861, +9.13661, 0.0,
        +0.44594, -0.77208, +9.09795, 0.0, +0.37943, -0.72170, +9.04709, 0.0, +0.30755, -0.66573, +8.97282, 0.0, +0.23092, -0.60438, +8.87416, 0.0,
        +0.14981, -0.53723, +8.74625, 0.0, +0.06594, -0.46565, +8.59299, 0.0, -0.02033, -0.38919, +8.40964, 0.0, -0.10876, -0.30770, +8.19449, 0.0,
        -0.20050, -0.21796, +7.92484, 0.0, -0.29554, -0.11954, +7.59637, 0.0, -0.39331, -0.01241, +7.21152, 0.0, -0.49150, +0.09945, +6.80323, 0.0,
        -0.58821, +0.21359, +6.39517, 0.0, -0.68287, +0.32900, +5.99509, 0.0, -0.77548, +0.44604, +5.60104, 0.0, -0.86610, +0.56489, +5.21161, 0.0,
        -0.95460, +0.68545, +4.82936, 0.0, -1.04075, +0.80685, +4.45829, 0.0, -1.12455, +0.92810, +4.09979, 0.0, -1.20591, +1.04853, +3.75664, 0.0,
        -1.28534, +1.16898, +3.42953, 0.0, -1.36289, +1.29080, +3.12382, 0.0, -1.43893, +1.41475, +2.83930, 0.0, -1.51418, +1.54219, +2.57957, 0.0,
        -1.59057, +1.67393, +2.33844, 0.0, -1.67070, +1.81285, +2.11752, 0.0, -1.75483, +1.95874, +1.91220, 0.0, -1.84334, +2.11293, +1.72443, 0.0,
        -1.93521, +2.27405, +1.55044, 0.0, -2.03042, +2.44286, +1.39069, 0.0, -2.13002, +2.62100, +1.24237, 0.0, -2.23687, +2.81319, +1.10525, 0.0,
        -2.35236, +3.02163, +0.97760, 0.0, -2.47428, +3.24476, +0.85780, 0.0, -2.59703, +3.47704, +0.74210, 0.0, -2.71594, +3.71384, +0.62737, 0.0,
        -2.82897, +3.95378, +0.51297, 0.0, -2.93632, +4.19762, +0.39993, 0.0, -3.03724, +4.44667, +0.28956, 0.0, -3.13108, +4.69930, +0.18189, 0.0,
        -3.21371, +4.95123, +0.07878, 0.0, -3.28397, +5.19852, -0.01863, 0.0, -3.33736, +5.43706, -0.10798, 0.0, -3.37511, +5.66511, -0.19039, 0.0,
        -3.39057, +5.87377, -0.26368, 0.0, -3.38528, +6.06146, -0.32886, 0.0, -3.35591, +6.22465, -0.38509, 0.0, -3.30812, +6.37058, -0.43551, 0.0,
        -3.24179, +6.50082, -0.48132, 0.0, -3.15961, +6.61749, -0.52364, 0.0, -3.06176, +6.71875, -0.56240, 0.0, -2.95103, +6.80507, -0.59813, 0.0,
        -2.82820, +6.87607, -0.63112, 0.0, -2.69357, +6.93282, -0.66147, 0.0, -2.54728, +6.97631, -0.68910, 0.0, -2.38914, +7.00683, -0.71390, 0.0,
        -2.22005, +7.02525, -0.73614, 0.0, -2.03886, +7.03046, -0.75560, 0.0, -1.84668, +7.02377, -0.77259, 0.0, -1.64223, +7.00396, -0.78687, 0.0,
        -1.42756, +6.97316, -0.79889, 0.0, -1.20113, +6.92961, -0.80833, 0.0, -0.96551, +6.87626, -0.81577, 0.0, -0.71778, +6.81012, -0.82080, 0.0,
        -0.46110, +6.73561, -0.82419, 0.0, -0.19336, +6.65064, -0.82569, 0.0, +0.08365, +6.55671, -0.82561, 0.0, +0.37088, +6.45270, -0.82381, 0.0,
        +0.66727, +6.33938, -0.82051, 0.0, +0.97318, +6.21586, -0.81561, 0.0, +1.28739, +6.08248, -0.80924, 0.0, +1.60955, +5.93863, -0.80137, 0.0,
        +1.93880, +5.78480, -0.79209, 0.0, +2.27437, +5.62195, -0.78153, 0.0, +2.61591, +5.45037, -0.76973, 0.0, +2.96233, +5.27108, -0.75682, 0.0,
        +3.31285, +5.08373, -0.74275, 0.0, +3.66602, +4.88945, -0.72766, 0.0, +4.02090, +4.68771, -0.71146, 0.0, +4.37621, +4.48023, -0.69439, 0.0,
        +4.73064, +4.26687, -0.67639, 0.0, +5.08331, +4.04937, -0.65773, 0.0, +5.43209, +3.82766, -0.63835, 0.0, +5.77578, +3.60300, -0.61845, 0.0,
        +6.11136, +3.37554, -0.59802, 0.0, +6.43833, +3.14646, -0.57722, 0.0, +6.75425, +2.91678, -0.55610, 0.0, +7.05863, +2.68778, -0.53481, 0.0,
        +7.34897, +2.46063, -0.51343, 0.0, +7.62475, +2.23621, -0.49201, 0.0, +7.88502, +2.01551, -0.47056, 0.0, +8.12917, +1.79937, -0.44912, 0.0,
        +8.35493, +1.58891, -0.42780, 0.0, +8.55610, +1.38639, -0.40686, 0.0, +8.72994, +1.19299, -0.38646, 0.0, +8.87308, +1.01015, -0.36670, 0.0,
        +8.99180, +0.83597, -0.34746, 0.0, +9.08621, +0.67076, -0.32872, 0.0, +9.16062, +0.51316, -0.31041, 0.0, +9.20686, +0.36631, -0.29275, 0.0,
        +9.22610, +0.22973, -0.27574, 0.0, +9.21024, +0.10654, -0.25962, 0.0, +9.16717, -0.00588, -0.24419, 0.0, +9.09596, -0.10655, -0.22948, 0.0,
        +9.00259, -0.19742, -0.21535, 0.0, +8.88469, -0.27749, -0.20186, 0.0, +8.74432, -0.34784, -0.18898, 0.0, +8.58049, -0.40808, -0.17677, 0.0,
        +8.39510, -0.45899, -0.16519, 0.0, +8.18703, -0.50078, -0.15418, 0.0, +7.95487, -0.53377, -0.14371, 0.0, +7.70010, -0.55866, -0.13371, 0.0,
        +7.42649, -0.57586, -0.12424, 0.0, +7.14029, -0.58670, -0.11524, 0.0, +6.84421, -0.59128, -0.10677, 0.0, +6.54303, -0.59108, -0.09875, 0.0,
        +6.24334, -0.58674, -0.09130, 0.0, +5.95045, -0.57990, -0.08435, 0.0, +5.66682, -0.57050, -0.07797, 0.0, +5.38831, -0.55895, -0.07199, 0.0,
        +5.11322, -0.54477, -0.06645, 0.0, +4.84120, -0.52865, -0.06124, 0.0, +4.57352, -0.51058, -0.05640, 0.0, +4.30991, -0.49103, -0.05187, 0.0,
        +4.05110, -0.47010, -0.04764, 0.0, +3.79769, -0.44817, -0.04369, 0.0, +3.55123, -0.42545, -0.04004, 0.0, +3.31243, -0.40220, -0.03666, 0.0,
        +3.08214, -0.37871, -0.03354, 0.0, +2.86197, -0.35542, -0.03067, 0.0, +2.65285, -0.33270, -0.02800, 0.0, +2.45568, -0.31075, -0.02556, 0.0,
        +2.26865, -0.28947, -0.02330, 0.0, +2.09183, -0.26889, -0.02122, 0.0, +1.92374, -0.24898, -0.01930, 0.0, +1.76572, -0.22991, -0.01753, 0.0,
        +1.61595, -0.21155, -0.01589, 0.0, +1.47600, -0.19411, -0.01440, 0.0, +1.34405, -0.17747, -0.01302, 0.0, +1.22181, -0.16189, -0.01176, 0.0,
        +1.10773, -0.14727, -0.01060, 0.0, +1.00305, -0.13378, -0.00954, 0.0, +0.90716, -0.12137, -0.00858, 0.0, +0.82139, -0.11020, -0.00773, 0.0,
        +0.74466, -0.10017, -0.00697, 0.0, +0.67637, -0.09120, -0.00631, 0.0, +0.61518, -0.08315, -0.00571, 0.0, +0.56049, -0.07594, -0.00518, 0.0,
        +0.51097, -0.06939, -0.00470, 0.0, +0.46462, -0.06325, -0.00425, 0.0, +0.42008, -0.05731, -0.00383, 0.0, +0.37742, -0.05161, -0.00343, 0.0,
        +0.33796, -0.04630, -0.00305, 0.0, +0.30196, -0.04144, -0.00272, 0.0, +0.26980, -0.03708, -0.00242, 0.0, +0.24065, -0.03310, -0.00216, 0.0,
        +0.21505, -0.02960, -0.00193, 0.0, +0.19221, -0.02648, -0.00172, 0.0, +0.17238, -0.02376, -0.00154, 0.0, +0.15483, -0.02136, -0.00138, 0.0,
        +0.13963, -0.01927, -0.00124, 0.0, +0.12619, -0.01742, -0.00112, 0.0, +0.11421, -0.01577, -0.00102, 0.0, +0.10320, -0.01425, -0.00092, 0.0,
        +0.09311, -0.01286, -0.00083, 0.0, +0.08395, -0.01159, -0.00075, 0.0, +0.07572, -0.01046, -0.00067, 0.0, +0.06834, -0.00944, -0.00061, 0.0,
        +0.06165, -0.00851, -0.00055, 0.0, +0.05561, -0.00768, -0.00049, 0.0, +0.05009, -0.00692, -0.00045, 0.0, +0.04513, -0.00623, -0.00040, 0.0,
        +0.04059, -0.00560, -0.00036, 0.0, +0.03653, -0.00504, -0.00033, 0.0, +0.03281, -0.00453, -0.00029, 0.0, +0.02951, -0.00407, -0.00026, 0.0,
        +0.02652, -0.00366, -0.00024, 0.0, +0.02386, -0.00330, -0.00021, 0.0, +0.02146, -0.00296, -0.00019, 0.0, +0.01930, -0.00267, -0.00017, 0.0,
        +0.01734, -0.00239, -0.00015, 0.0, +0.01557, -0.00215, -0.00014, 0.0, +0.01396, -0.00193, -0.00012, 0.0, +0.01250, -0.00173, -0.00011, 0.0,
        +0.01118, -0.00154, -0.00010, 0.0, +0.01000, -0.00138, -0.00009, 0.0, +0.00893, -0.00123, -0.00008, 0.0, +0.00797, -0.00110, -0.00007, 0.0,
        +0.00712, -0.00098, -0.00006, 0.0, +0.00635, -0.00088, -0.00006, 0.0, +0.00567, -0.00078, -0.00005, 0.0, +0.00506, -0.00070, -0.00005, 0.0,
        +0.00453, -0.00062, -0.00004, 0.0, +0.00405, -0.00056, -0.00004, 0.0, +0.00363, -0.00050, -0.00003, 0.0, +0.00326, -0.00045, -0.00003, 0.0
    ]);

    /* @license twgl.js 4.21.2 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
    Available via the MIT license.
    see: http://github.com/greggman/twgl.js for details */

    /*
     * Copyright 2019 Gregg Tavares
     *
     * Permission is hereby granted, free of charge, to any person obtaining a
     * copy of this software and associated documentation files (the "Software"),
     * to deal in the Software without restriction, including without limitation
     * the rights to use, copy, modify, merge, publish, distribute, sublicense,
     * and/or sell copies of the Software, and to permit persons to whom the
     * Software is furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
     * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
     * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
     * DEALINGS IN THE SOFTWARE.
     */

    /* DataType */
    const BYTE                           = 0x1400;
    const UNSIGNED_BYTE                  = 0x1401;
    const SHORT                          = 0x1402;
    const UNSIGNED_SHORT                 = 0x1403;
    const INT                            = 0x1404;
    const UNSIGNED_INT                   = 0x1405;
    const FLOAT                          = 0x1406;
    const UNSIGNED_SHORT_4_4_4_4       = 0x8033;
    const UNSIGNED_SHORT_5_5_5_1       = 0x8034;
    const UNSIGNED_SHORT_5_6_5         = 0x8363;
    const HALF_FLOAT                   = 0x140B;
    const UNSIGNED_INT_2_10_10_10_REV  = 0x8368;
    const UNSIGNED_INT_10F_11F_11F_REV = 0x8C3B;
    const UNSIGNED_INT_5_9_9_9_REV     = 0x8C3E;
    const FLOAT_32_UNSIGNED_INT_24_8_REV = 0x8DAD;
    const UNSIGNED_INT_24_8            = 0x84FA;

    const glTypeToTypedArray = {};
    {
      const tt = glTypeToTypedArray;
      tt[BYTE]                           = Int8Array;
      tt[UNSIGNED_BYTE]                  = Uint8Array;
      tt[SHORT]                          = Int16Array;
      tt[UNSIGNED_SHORT]                 = Uint16Array;
      tt[INT]                            = Int32Array;
      tt[UNSIGNED_INT]                   = Uint32Array;
      tt[FLOAT]                          = Float32Array;
      tt[UNSIGNED_SHORT_4_4_4_4]         = Uint16Array;
      tt[UNSIGNED_SHORT_5_5_5_1]         = Uint16Array;
      tt[UNSIGNED_SHORT_5_6_5]           = Uint16Array;
      tt[HALF_FLOAT]                     = Uint16Array;
      tt[UNSIGNED_INT_2_10_10_10_REV]    = Uint32Array;
      tt[UNSIGNED_INT_10F_11F_11F_REV]   = Uint32Array;
      tt[UNSIGNED_INT_5_9_9_9_REV]       = Uint32Array;
      tt[FLOAT_32_UNSIGNED_INT_24_8_REV] = Uint32Array;
      tt[UNSIGNED_INT_24_8]              = Uint32Array;
    }

    /**
     * Get the GL type for a typedArray
     * @param {ArrayBufferView} typedArray a typedArray
     * @return {number} the GL type for array. For example pass in an `Int8Array` and `gl.BYTE` will
     *   be returned. Pass in a `Uint32Array` and `gl.UNSIGNED_INT` will be returned
     * @memberOf module:twgl/typedArray
     */
    function getGLTypeForTypedArray(typedArray) {
      if (typedArray instanceof Int8Array)         { return BYTE; }           // eslint-disable-line
      if (typedArray instanceof Uint8Array)        { return UNSIGNED_BYTE; }  // eslint-disable-line
      if (typedArray instanceof Uint8ClampedArray) { return UNSIGNED_BYTE; }  // eslint-disable-line
      if (typedArray instanceof Int16Array)        { return SHORT; }          // eslint-disable-line
      if (typedArray instanceof Uint16Array)       { return UNSIGNED_SHORT; } // eslint-disable-line
      if (typedArray instanceof Int32Array)        { return INT; }            // eslint-disable-line
      if (typedArray instanceof Uint32Array)       { return UNSIGNED_INT; }   // eslint-disable-line
      if (typedArray instanceof Float32Array)      { return FLOAT; }          // eslint-disable-line
      throw new Error('unsupported typed array type');
    }

    /**
     * Get the GL type for a typedArray type
     * @param {ArrayBufferView} typedArrayType a typedArray constructor
     * @return {number} the GL type for type. For example pass in `Int8Array` and `gl.BYTE` will
     *   be returned. Pass in `Uint32Array` and `gl.UNSIGNED_INT` will be returned
     * @memberOf module:twgl/typedArray
     */
    function getGLTypeForTypedArrayType(typedArrayType) {
      if (typedArrayType === Int8Array)         { return BYTE; }           // eslint-disable-line
      if (typedArrayType === Uint8Array)        { return UNSIGNED_BYTE; }  // eslint-disable-line
      if (typedArrayType === Uint8ClampedArray) { return UNSIGNED_BYTE; }  // eslint-disable-line
      if (typedArrayType === Int16Array)        { return SHORT; }          // eslint-disable-line
      if (typedArrayType === Uint16Array)       { return UNSIGNED_SHORT; } // eslint-disable-line
      if (typedArrayType === Int32Array)        { return INT; }            // eslint-disable-line
      if (typedArrayType === Uint32Array)       { return UNSIGNED_INT; }   // eslint-disable-line
      if (typedArrayType === Float32Array)      { return FLOAT; }          // eslint-disable-line
      throw new Error('unsupported typed array type');
    }

    /**
     * Get the typed array constructor for a given GL type
     * @param {number} type the GL type. (eg: `gl.UNSIGNED_INT`)
     * @return {function} the constructor for a the corresponding typed array. (eg. `Uint32Array`).
     * @memberOf module:twgl/typedArray
     */
    function getTypedArrayTypeForGLType(type) {
      const CTOR = glTypeToTypedArray[type];
      if (!CTOR) {
        throw new Error('unknown gl type');
      }
      return CTOR;
    }

    const isArrayBuffer = typeof SharedArrayBuffer !== 'undefined'
      ? function isArrayBufferOrSharedArrayBuffer(a) {
        return a && a.buffer && (a.buffer instanceof ArrayBuffer || a.buffer instanceof SharedArrayBuffer);
      }
      : function isArrayBuffer(a) {
        return a && a.buffer && a.buffer instanceof ArrayBuffer;
      };

    function error(...args) {
      console.error(...args);
    }

    function isBuffer(gl, t) {
      return typeof WebGLBuffer !== 'undefined' && t instanceof WebGLBuffer;
    }

    function isShader(gl, t) {
      return typeof WebGLShader !== 'undefined' && t instanceof WebGLShader;
    }

    function isTexture(gl, t) {
      return typeof WebGLTexture !== 'undefined' && t instanceof WebGLTexture;
    }

    function isSampler(gl, t) {
      return typeof WebGLSampler !== 'undefined' && t instanceof WebGLSampler;
    }

    /*
     * Copyright 2019 Gregg Tavares
     *
     * Permission is hereby granted, free of charge, to any person obtaining a
     * copy of this software and associated documentation files (the "Software"),
     * to deal in the Software without restriction, including without limitation
     * the rights to use, copy, modify, merge, publish, distribute, sublicense,
     * and/or sell copies of the Software, and to permit persons to whom the
     * Software is furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
     * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
     * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
     * DEALINGS IN THE SOFTWARE.
     */

    const STATIC_DRAW                  = 0x88e4;
    const ARRAY_BUFFER                 = 0x8892;
    const ELEMENT_ARRAY_BUFFER         = 0x8893;
    const BUFFER_SIZE                  = 0x8764;

    const BYTE$1                         = 0x1400;
    const UNSIGNED_BYTE$1                = 0x1401;
    const SHORT$1                        = 0x1402;
    const UNSIGNED_SHORT$1               = 0x1403;
    const INT$1                          = 0x1404;
    const UNSIGNED_INT$1                 = 0x1405;
    const FLOAT$1                        = 0x1406;
    const defaults = {
      attribPrefix: "",
    };

    function setBufferFromTypedArray(gl, type, buffer, array, drawType) {
      gl.bindBuffer(type, buffer);
      gl.bufferData(type, array, drawType || STATIC_DRAW);
    }

    /**
     * Given typed array creates a WebGLBuffer and copies the typed array
     * into it.
     *
     * @param {WebGLRenderingContext} gl A WebGLRenderingContext
     * @param {ArrayBuffer|SharedArrayBuffer|ArrayBufferView|WebGLBuffer} typedArray the typed array. Note: If a WebGLBuffer is passed in it will just be returned. No action will be taken
     * @param {number} [type] the GL bind type for the buffer. Default = `gl.ARRAY_BUFFER`.
     * @param {number} [drawType] the GL draw type for the buffer. Default = 'gl.STATIC_DRAW`.
     * @return {WebGLBuffer} the created WebGLBuffer
     * @memberOf module:twgl/attributes
     */
    function createBufferFromTypedArray(gl, typedArray, type, drawType) {
      if (isBuffer(gl, typedArray)) {
        return typedArray;
      }
      type = type || ARRAY_BUFFER;
      const buffer = gl.createBuffer();
      setBufferFromTypedArray(gl, type, buffer, typedArray, drawType);
      return buffer;
    }

    function isIndices(name) {
      return name === "indices";
    }

    // This is really just a guess. Though I can't really imagine using
    // anything else? Maybe for some compression?
    function getNormalizationForTypedArray(typedArray) {
      if (typedArray instanceof Int8Array)    { return true; }  // eslint-disable-line
      if (typedArray instanceof Uint8Array)   { return true; }  // eslint-disable-line
      return false;
    }

    // This is really just a guess. Though I can't really imagine using
    // anything else? Maybe for some compression?
    function getNormalizationForTypedArrayType(typedArrayType) {
      if (typedArrayType === Int8Array)    { return true; }  // eslint-disable-line
      if (typedArrayType === Uint8Array)   { return true; }  // eslint-disable-line
      return false;
    }

    function getArray(array) {
      return array.length ? array : array.data;
    }

    const texcoordRE = /coord|texture/i;
    const colorRE = /color|colour/i;

    function guessNumComponentsFromName(name, length) {
      let numComponents;
      if (texcoordRE.test(name)) {
        numComponents = 2;
      } else if (colorRE.test(name)) {
        numComponents = 4;
      } else {
        numComponents = 3;  // position, normals, indices ...
      }

      if (length % numComponents > 0) {
        throw new Error(`Can not guess numComponents for attribute '${name}'. Tried ${numComponents} but ${length} values is not evenly divisible by ${numComponents}. You should specify it.`);
      }

      return numComponents;
    }

    function getNumComponents(array, arrayName) {
      return array.numComponents || array.size || guessNumComponentsFromName(arrayName, getArray(array).length);
    }

    function makeTypedArray(array, name) {
      if (isArrayBuffer(array)) {
        return array;
      }

      if (isArrayBuffer(array.data)) {
        return array.data;
      }

      if (Array.isArray(array)) {
        array = {
          data: array,
        };
      }

      let Type = array.type;
      if (!Type) {
        if (isIndices(name)) {
          Type = Uint16Array;
        } else {
          Type = Float32Array;
        }
      }
      return new Type(array.data);
    }

    /**
     * The info for an attribute. This is effectively just the arguments to `gl.vertexAttribPointer` plus the WebGLBuffer
     * for the attribute.
     *
     * @typedef {Object} AttribInfo
     * @property {number[]|ArrayBufferView} [value] a constant value for the attribute. Note: if this is set the attribute will be
     *    disabled and set to this constant value and all other values will be ignored.
     * @property {number} [numComponents] the number of components for this attribute.
     * @property {number} [size] synonym for `numComponents`.
     * @property {number} [type] the type of the attribute (eg. `gl.FLOAT`, `gl.UNSIGNED_BYTE`, etc...) Default = `gl.FLOAT`
     * @property {boolean} [normalize] whether or not to normalize the data. Default = false
     * @property {number} [offset] offset into buffer in bytes. Default = 0
     * @property {number} [stride] the stride in bytes per element. Default = 0
     * @property {number} [divisor] the divisor in instances. Default = undefined. Note: undefined = don't call gl.vertexAttribDivisor
     *    where as anything else = do call it with this value
     * @property {WebGLBuffer} buffer the buffer that contains the data for this attribute
     * @property {number} [drawType] the draw type passed to gl.bufferData. Default = gl.STATIC_DRAW
     * @memberOf module:twgl
     */

    /**
     * Use this type of array spec when TWGL can't guess the type or number of components of an array
     * @typedef {Object} FullArraySpec
     * @property {number[]|ArrayBufferView} [value] a constant value for the attribute. Note: if this is set the attribute will be
     *    disabled and set to this constant value and all other values will be ignored.
     * @property {(number|number[]|ArrayBufferView)} data The data of the array. A number alone becomes the number of elements of type.
     * @property {number} [numComponents] number of components for `vertexAttribPointer`. Default is based on the name of the array.
     *    If `coord` is in the name assumes `numComponents = 2`.
     *    If `color` is in the name assumes `numComponents = 4`.
     *    otherwise assumes `numComponents = 3`
     * @property {constructor} [type] type. This is only used if `data` is a JavaScript array. It is the constructor for the typedarray. (eg. `Uint8Array`).
     * For example if you want colors in a `Uint8Array` you might have a `FullArraySpec` like `{ type: Uint8Array, data: [255,0,255,255, ...], }`.
     * @property {number} [size] synonym for `numComponents`.
     * @property {boolean} [normalize] normalize for `vertexAttribPointer`. Default is true if type is `Int8Array` or `Uint8Array` otherwise false.
     * @property {number} [stride] stride for `vertexAttribPointer`. Default = 0
     * @property {number} [offset] offset for `vertexAttribPointer`. Default = 0
     * @property {number} [divisor] divisor for `vertexAttribDivisor`. Default = undefined. Note: undefined = don't call gl.vertexAttribDivisor
     *    where as anything else = do call it with this value
     * @property {string} [attrib] name of attribute this array maps to. Defaults to same name as array prefixed by the default attribPrefix.
     * @property {string} [name] synonym for `attrib`.
     * @property {string} [attribName] synonym for `attrib`.
     * @property {WebGLBuffer} [buffer] Buffer to use for this attribute. This lets you use your own buffer
     *    but you will need to supply `numComponents` and `type`. You can effectively pass an `AttribInfo`
     *    to provide this. Example:
     *
     *         const bufferInfo1 = twgl.createBufferInfoFromArrays(gl, {
     *           position: [1, 2, 3, ... ],
     *         });
     *         const bufferInfo2 = twgl.createBufferInfoFromArrays(gl, {
     *           position: bufferInfo1.attribs.position,  // use the same buffer from bufferInfo1
     *         });
     *
     * @memberOf module:twgl
     */

    /**
     * An individual array in {@link module:twgl.Arrays}
     *
     * When passed to {@link module:twgl.createBufferInfoFromArrays} if an ArraySpec is `number[]` or `ArrayBufferView`
     * the types will be guessed based on the name. `indices` will be `Uint16Array`, everything else will
     * be `Float32Array`. If an ArraySpec is a number it's the number of floats for an empty (zeroed) buffer.
     *
     * @typedef {(number|number[]|ArrayBufferView|module:twgl.FullArraySpec)} ArraySpec
     * @memberOf module:twgl
     */

    /**
     * This is a JavaScript object of arrays by name. The names should match your shader's attributes. If your
     * attributes have a common prefix you can specify it by calling {@link module:twgl.setAttributePrefix}.
     *
     *     Bare JavaScript Arrays
     *
     *         var arrays = {
     *            position: [-1, 1, 0],
     *            normal: [0, 1, 0],
     *            ...
     *         }
     *
     *     Bare TypedArrays
     *
     *         var arrays = {
     *            position: new Float32Array([-1, 1, 0]),
     *            color: new Uint8Array([255, 128, 64, 255]),
     *            ...
     *         }
     *
     * *   Will guess at `numComponents` if not specified based on name.
     *
     *     If `coord` is in the name assumes `numComponents = 2`
     *
     *     If `color` is in the name assumes `numComponents = 4`
     *
     *     otherwise assumes `numComponents = 3`
     *
     * Objects with various fields. See {@link module:twgl.FullArraySpec}.
     *
     *     var arrays = {
     *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },
     *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },
     *       normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },
     *       indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },
     *     };
     *
     * @typedef {Object.<string, module:twgl.ArraySpec>} Arrays
     * @memberOf module:twgl
     */


    /**
     * Creates a set of attribute data and WebGLBuffers from set of arrays
     *
     * Given
     *
     *      var arrays = {
     *        position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },
     *        texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },
     *        normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },
     *        color:    { numComponents: 4, data: [255, 255, 255, 255, 255, 0, 0, 255, 0, 0, 255, 255], type: Uint8Array, },
     *        indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },
     *      };
     *
     * returns something like
     *
     *      var attribs = {
     *        position: { numComponents: 3, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },
     *        texcoord: { numComponents: 2, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },
     *        normal:   { numComponents: 3, type: gl.FLOAT,         normalize: false, buffer: WebGLBuffer, },
     *        color:    { numComponents: 4, type: gl.UNSIGNED_BYTE, normalize: true,  buffer: WebGLBuffer, },
     *      };
     *
     * notes:
     *
     * *   Arrays can take various forms
     *
     *     Bare JavaScript Arrays
     *
     *         var arrays = {
     *            position: [-1, 1, 0],
     *            normal: [0, 1, 0],
     *            ...
     *         }
     *
     *     Bare TypedArrays
     *
     *         var arrays = {
     *            position: new Float32Array([-1, 1, 0]),
     *            color: new Uint8Array([255, 128, 64, 255]),
     *            ...
     *         }
     *
     * *   Will guess at `numComponents` if not specified based on name.
     *
     *     If `coord` is in the name assumes `numComponents = 2`
     *
     *     If `color` is in the name assumes `numComponents = 4`
     *
     *     otherwise assumes `numComponents = 3`
     *
     * @param {WebGLRenderingContext} gl The webgl rendering context.
     * @param {module:twgl.Arrays} arrays The arrays
     * @param {module:twgl.BufferInfo} [srcBufferInfo] a BufferInfo to copy from
     *   This lets you share buffers. Any arrays you supply will override
     *   the buffers from srcBufferInfo.
     * @return {Object.<string, module:twgl.AttribInfo>} the attribs
     * @memberOf module:twgl/attributes
     */
    function createAttribsFromArrays(gl, arrays) {
      const attribs = {};
      Object.keys(arrays).forEach(function(arrayName) {
        if (!isIndices(arrayName)) {
          const array = arrays[arrayName];
          const attribName = array.attrib || array.name || array.attribName || (defaults.attribPrefix + arrayName);
          if (array.value) {
            if (!Array.isArray(array.value) && !isArrayBuffer(array.value)) {
              throw new Error('array.value is not array or typedarray');
            }
            attribs[attribName] = {
              value: array.value,
            };
          } else {
            let buffer;
            let type;
            let normalization;
            let numComponents;
            if (array.buffer && array.buffer instanceof WebGLBuffer) {
              buffer = array.buffer;
              numComponents = array.numComponents || array.size;
              type = array.type;
              normalization = array.normalize;
            } else if (typeof array === "number" || typeof array.data === "number") {
              const numValues = array.data || array;
              const arrayType = array.type || Float32Array;
              const numBytes = numValues * arrayType.BYTES_PER_ELEMENT;
              type = getGLTypeForTypedArrayType(arrayType);
              normalization = array.normalize !== undefined ? array.normalize : getNormalizationForTypedArrayType(arrayType);
              numComponents = array.numComponents || array.size || guessNumComponentsFromName(arrayName, numValues);
              buffer = gl.createBuffer();
              gl.bindBuffer(ARRAY_BUFFER, buffer);
              gl.bufferData(ARRAY_BUFFER, numBytes, array.drawType || STATIC_DRAW);
            } else {
              const typedArray = makeTypedArray(array, arrayName);
              buffer = createBufferFromTypedArray(gl, typedArray, undefined, array.drawType);
              type = getGLTypeForTypedArray(typedArray);
              normalization = array.normalize !== undefined ? array.normalize : getNormalizationForTypedArray(typedArray);
              numComponents = getNumComponents(array, arrayName);
            }
            attribs[attribName] = {
              buffer:        buffer,
              numComponents: numComponents,
              type:          type,
              normalize:     normalization,
              stride:        array.stride || 0,
              offset:        array.offset || 0,
              divisor:       array.divisor === undefined ? undefined : array.divisor,
              drawType:      array.drawType,
            };
          }
        }
      });
      gl.bindBuffer(ARRAY_BUFFER, null);
      return attribs;
    }

    function getBytesPerValueForGLType(gl, type) {
      if (type === BYTE$1)           return 1;  // eslint-disable-line
      if (type === UNSIGNED_BYTE$1)  return 1;  // eslint-disable-line
      if (type === SHORT$1)          return 2;  // eslint-disable-line
      if (type === UNSIGNED_SHORT$1) return 2;  // eslint-disable-line
      if (type === INT$1)            return 4;  // eslint-disable-line
      if (type === UNSIGNED_INT$1)   return 4;  // eslint-disable-line
      if (type === FLOAT$1)          return 4;  // eslint-disable-line
      return 0;
    }

    // Tries to get the number of elements from a set of arrays.
    const positionKeys = ['position', 'positions', 'a_position'];

    function getNumElementsFromAttributes(gl, attribs) {
      let key;
      let ii;
      for (ii = 0; ii < positionKeys.length; ++ii) {
        key = positionKeys[ii];
        if (key in attribs) {
          break;
        }
        key = defaults.attribPrefix + key;
        if (key in attribs) {
          break;
        }
      }
      if (ii === positionKeys.length) {
        key = Object.keys(attribs)[0];
      }
      const attrib = attribs[key];
      gl.bindBuffer(ARRAY_BUFFER, attrib.buffer);
      const numBytes = gl.getBufferParameter(ARRAY_BUFFER, BUFFER_SIZE);
      gl.bindBuffer(ARRAY_BUFFER, null);

      const bytesPerValue = getBytesPerValueForGLType(gl, attrib.type);
      const totalElements = numBytes / bytesPerValue;
      const numComponents = attrib.numComponents || attrib.size;
      // TODO: check stride
      const numElements = totalElements / numComponents;
      if (numElements % 1 !== 0) {
        throw new Error(`numComponents ${numComponents} not correct for length ${length}`);
      }
      return numElements;
    }

    /**
     * @typedef {Object} BufferInfo
     * @property {number} numElements The number of elements to pass to `gl.drawArrays` or `gl.drawElements`.
     * @property {number} [elementType] The type of indices `UNSIGNED_BYTE`, `UNSIGNED_SHORT` etc..
     * @property {WebGLBuffer} [indices] The indices `ELEMENT_ARRAY_BUFFER` if any indices exist.
     * @property {Object.<string, module:twgl.AttribInfo>} [attribs] The attribs appropriate to call `setAttributes`
     * @memberOf module:twgl
     */

    /**
     * Creates a BufferInfo from an object of arrays.
     *
     * This can be passed to {@link module:twgl.setBuffersAndAttributes} and to
     * {@link module:twgl:drawBufferInfo}.
     *
     * Given an object like
     *
     *     var arrays = {
     *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },
     *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },
     *       normal:   { numComponents: 3, data: [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],     },
     *       indices:  { numComponents: 3, data: [0, 1, 2, 1, 2, 3],                       },
     *     };
     *
     *  Creates an BufferInfo like this
     *
     *     bufferInfo = {
     *       numElements: 4,        // or whatever the number of elements is
     *       indices: WebGLBuffer,  // this property will not exist if there are no indices
     *       attribs: {
     *         position: { buffer: WebGLBuffer, numComponents: 3, },
     *         normal:   { buffer: WebGLBuffer, numComponents: 3, },
     *         texcoord: { buffer: WebGLBuffer, numComponents: 2, },
     *       },
     *     };
     *
     *  The properties of arrays can be JavaScript arrays in which case the number of components
     *  will be guessed.
     *
     *     var arrays = {
     *        position: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0],
     *        texcoord: [0, 0, 0, 1, 1, 0, 1, 1],
     *        normal:   [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1],
     *        indices:  [0, 1, 2, 1, 2, 3],
     *     };
     *
     *  They can also be TypedArrays
     *
     *     var arrays = {
     *        position: new Float32Array([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]),
     *        texcoord: new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]),
     *        normal:   new Float32Array([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]),
     *        indices:  new Uint16Array([0, 1, 2, 1, 2, 3]),
     *     };
     *
     *  Or AugmentedTypedArrays
     *
     *     var positions = createAugmentedTypedArray(3, 4);
     *     var texcoords = createAugmentedTypedArray(2, 4);
     *     var normals   = createAugmentedTypedArray(3, 4);
     *     var indices   = createAugmentedTypedArray(3, 2, Uint16Array);
     *
     *     positions.push([0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0]);
     *     texcoords.push([0, 0, 0, 1, 1, 0, 1, 1]);
     *     normals.push([0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]);
     *     indices.push([0, 1, 2, 1, 2, 3]);
     *
     *     var arrays = {
     *        position: positions,
     *        texcoord: texcoords,
     *        normal:   normals,
     *        indices:  indices,
     *     };
     *
     * For the last example it is equivalent to
     *
     *     var bufferInfo = {
     *       attribs: {
     *         position: { numComponents: 3, buffer: gl.createBuffer(), },
     *         texcoord: { numComponents: 2, buffer: gl.createBuffer(), },
     *         normal: { numComponents: 3, buffer: gl.createBuffer(), },
     *       },
     *       indices: gl.createBuffer(),
     *       numElements: 6,
     *     };
     *
     *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.position.buffer);
     *     gl.bufferData(gl.ARRAY_BUFFER, arrays.position, gl.STATIC_DRAW);
     *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.texcoord.buffer);
     *     gl.bufferData(gl.ARRAY_BUFFER, arrays.texcoord, gl.STATIC_DRAW);
     *     gl.bindBuffer(gl.ARRAY_BUFFER, bufferInfo.attribs.normal.buffer);
     *     gl.bufferData(gl.ARRAY_BUFFER, arrays.normal, gl.STATIC_DRAW);
     *     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, bufferInfo.indices);
     *     gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, arrays.indices, gl.STATIC_DRAW);
     *
     * @param {WebGLRenderingContext} gl A WebGLRenderingContext
     * @param {module:twgl.Arrays} arrays Your data
     * @param {module:twgl.BufferInfo} [srcBufferInfo] An existing
     *        buffer info to start from. WebGLBuffers etc specified
     *        in the srcBufferInfo will be used in a new BufferInfo
     *        with any arrays specified overriding the ones in
     *        srcBufferInfo.
     * @return {module:twgl.BufferInfo} A BufferInfo
     * @memberOf module:twgl/attributes
     */
    function createBufferInfoFromArrays(gl, arrays, srcBufferInfo) {
      const newAttribs = createAttribsFromArrays(gl, arrays);
      const bufferInfo = Object.assign({}, srcBufferInfo ? srcBufferInfo : {});
      bufferInfo.attribs = Object.assign({}, srcBufferInfo ? srcBufferInfo.attribs : {}, newAttribs);
      const indices = arrays.indices;
      if (indices) {
        const newIndices = makeTypedArray(indices, "indices");
        bufferInfo.indices = createBufferFromTypedArray(gl, newIndices, ELEMENT_ARRAY_BUFFER);
        bufferInfo.numElements = newIndices.length;
        bufferInfo.elementType = getGLTypeForTypedArray(newIndices);
      } else if (!bufferInfo.numElements) {
        bufferInfo.numElements = getNumElementsFromAttributes(gl, bufferInfo.attribs);
      }

      return bufferInfo;
    }

    /*
     * Copyright 2019 Gregg Tavares
     *
     * Permission is hereby granted, free of charge, to any person obtaining a
     * copy of this software and associated documentation files (the "Software"),
     * to deal in the Software without restriction, including without limitation
     * the rights to use, copy, modify, merge, publish, distribute, sublicense,
     * and/or sell copies of the Software, and to permit persons to whom the
     * Software is furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
     * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
     * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
     * DEALINGS IN THE SOFTWARE.
     */

    /**
     * Gets the gl version as a number
     * @param {WebGLRenderingContext} gl A WebGLRenderingContext
     * @return {number} version of gl
     * @private
     */
    //function getVersionAsNumber(gl) {
    //  return parseFloat(gl.getParameter(gl.VERSION).substr(6));
    //}

    /**
     * Check if context is WebGL 2.0
     * @param {WebGLRenderingContext} gl A WebGLRenderingContext
     * @return {bool} true if it's WebGL 2.0
     * @memberOf module:twgl
     */
    function isWebGL2(gl) {
      // This is the correct check but it's slow
      //  return gl.getParameter(gl.VERSION).indexOf("WebGL 2.0") === 0;
      // This might also be the correct check but I'm assuming it's slow-ish
      // return gl instanceof WebGL2RenderingContext;
      return !!gl.texStorage2D;
    }

    /**
     * Gets a string for WebGL enum
     *
     * Note: Several enums are the same. Without more
     * context (which function) it's impossible to always
     * give the correct enum. As it is, for matching values
     * it gives all enums. Checking the WebGL2RenderingContext
     * that means
     *
     *      0     = ZERO | POINT | NONE | NO_ERROR
     *      1     = ONE | LINES | SYNC_FLUSH_COMMANDS_BIT
     *      32777 = BLEND_EQUATION_RGB | BLEND_EQUATION_RGB
     *      36662 = COPY_READ_BUFFER | COPY_READ_BUFFER_BINDING
     *      36663 = COPY_WRITE_BUFFER | COPY_WRITE_BUFFER_BINDING
     *      36006 = FRAMEBUFFER_BINDING | DRAW_FRAMEBUFFER_BINDING
     *
     * It's also not useful for bits really unless you pass in individual bits.
     * In other words
     *
     *     const bits = gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT;
     *     twgl.glEnumToString(gl, bits);  // not going to work
     *
     * Note that some enums only exist on extensions. If you
     * want them to show up you need to pass the extension at least
     * once. For example
     *
     *     const ext = gl.getExtension('WEBGL_compressed_texture_s3tc');
     *     if (ext) {
     *        twgl.glEnumToString(ext, 0);  // just prime the function
     *
     *        ..later..
     *
     *        const internalFormat = ext.COMPRESSED_RGB_S3TC_DXT1_EXT;
     *        console.log(twgl.glEnumToString(gl, internalFormat));
     *
     * Notice I didn't have to pass the extension the second time. This means
     * you can have place that generically gets an enum for texture formats for example.
     * and as long as you primed the function with the extensions
     *
     * If you're using `twgl.addExtensionsToContext` to enable your extensions
     * then twgl will automatically get the extension's enums.
     *
     * @param {WebGLRenderingContext} gl A WebGLRenderingContext or any extension object
     * @param {number} value the value of the enum you want to look up.
     * @return {string} enum string or hex value
     * @memberOf module:twgl
     * @function glEnumToString
     */
    const glEnumToString = (function() {
      const haveEnumsForType = {};
      const enums = {};

      function addEnums(gl) {
        const type = gl.constructor.name;
        if (!haveEnumsForType[type]) {
          for (const key in gl) {
            if (typeof gl[key] === 'number') {
              const existing = enums[gl[key]];
              enums[gl[key]] = existing ? `${existing} | ${key}` : key;
            }
          }
          haveEnumsForType[type] = true;
        }
      }

      return function glEnumToString(gl, value) {
        addEnums(gl);
        return enums[value] || (typeof value === 'number' ? `0x${value.toString(16)}` : value);
      };
    }());

    /*
     * Copyright 2019 Gregg Tavares
     *
     * Permission is hereby granted, free of charge, to any person obtaining a
     * copy of this software and associated documentation files (the "Software"),
     * to deal in the Software without restriction, including without limitation
     * the rights to use, copy, modify, merge, publish, distribute, sublicense,
     * and/or sell copies of the Software, and to permit persons to whom the
     * Software is furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
     * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
     * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
     * DEALINGS IN THE SOFTWARE.
     */
    const defaults$1 = {
      textureColor: new Uint8Array([128, 192, 255, 255]),
      textureOptions: {},
      crossOrigin: undefined,
    };
    const isArrayBuffer$1 = isArrayBuffer;

    // Should we make this on demand?
    const getShared2DContext = function() {
      let s_ctx;
      return function getShared2DContext() {
        s_ctx = s_ctx ||
            ((typeof document !== 'undefined' && document.createElement)
              ? document.createElement("canvas").getContext("2d")
              : null);
        return s_ctx;
      };
    }();

    // NOTE: Chrome supports 2D canvas in a Worker (behind flag as of v64 but
    //       not only does Firefox NOT support it but Firefox freezes immediately
    //       if you try to create one instead of just returning null and continuing.
    //  : (global.OffscreenCanvas && (new global.OffscreenCanvas(1, 1)).getContext("2d"));  // OffscreenCanvas may not support 2d

    // NOTE: We can maybe remove some of the need for the 2d canvas. In WebGL2
    // we can use the various unpack settings. Otherwise we could try using
    // the ability of an ImageBitmap to be cut. Unfortunately cutting an ImageBitmap
    // is async and the current TWGL code expects a non-Async result though that
    // might not be a problem. ImageBitmap though is not available in Edge or Safari
    // as of 2018-01-02

    /* PixelFormat */
    const ALPHA                          = 0x1906;
    const RGB                            = 0x1907;
    const RGBA                           = 0x1908;
    const LUMINANCE                      = 0x1909;
    const LUMINANCE_ALPHA                = 0x190A;
    const DEPTH_COMPONENT                = 0x1902;
    const DEPTH_STENCIL                  = 0x84F9;

    /* TextureWrapMode */
    // const REPEAT                         = 0x2901;
    // const MIRRORED_REPEAT                = 0x8370;
    const CLAMP_TO_EDGE                  = 0x812f;

    /* TextureMagFilter */
    const NEAREST                        = 0x2600;
    const LINEAR                         = 0x2601;

    /* TextureMinFilter */
    // const NEAREST_MIPMAP_NEAREST         = 0x2700;
    // const LINEAR_MIPMAP_NEAREST          = 0x2701;
    // const NEAREST_MIPMAP_LINEAR          = 0x2702;
    // const LINEAR_MIPMAP_LINEAR           = 0x2703;

    /* Texture Target */
    const TEXTURE_2D                     = 0x0de1;
    const TEXTURE_CUBE_MAP               = 0x8513;
    const TEXTURE_3D                     = 0x806f;
    const TEXTURE_2D_ARRAY               = 0x8c1a;

    /* Cubemap Targets */
    const TEXTURE_CUBE_MAP_POSITIVE_X    = 0x8515;
    const TEXTURE_CUBE_MAP_NEGATIVE_X    = 0x8516;
    const TEXTURE_CUBE_MAP_POSITIVE_Y    = 0x8517;
    const TEXTURE_CUBE_MAP_NEGATIVE_Y    = 0x8518;
    const TEXTURE_CUBE_MAP_POSITIVE_Z    = 0x8519;
    const TEXTURE_CUBE_MAP_NEGATIVE_Z    = 0x851a;

    /* Texture Parameters */
    const TEXTURE_MIN_FILTER             = 0x2801;
    const TEXTURE_MAG_FILTER             = 0x2800;
    const TEXTURE_WRAP_S                 = 0x2802;
    const TEXTURE_WRAP_T                 = 0x2803;
    const TEXTURE_WRAP_R                 = 0x8072;
    const TEXTURE_MIN_LOD                = 0x813a;
    const TEXTURE_MAX_LOD                = 0x813b;
    const TEXTURE_BASE_LEVEL             = 0x813c;
    const TEXTURE_MAX_LEVEL              = 0x813d;


    /* Pixel store */
    const UNPACK_ALIGNMENT                   = 0x0cf5;
    const UNPACK_ROW_LENGTH                  = 0x0cf2;
    const UNPACK_IMAGE_HEIGHT                = 0x806e;
    const UNPACK_SKIP_PIXELS                 = 0x0cf4;
    const UNPACK_SKIP_ROWS                   = 0x0cf3;
    const UNPACK_SKIP_IMAGES                 = 0x806d;
    const UNPACK_COLORSPACE_CONVERSION_WEBGL = 0x9243;
    const UNPACK_PREMULTIPLY_ALPHA_WEBGL     = 0x9241;
    const UNPACK_FLIP_Y_WEBGL                = 0x9240;

    const R8                           = 0x8229;
    const R8_SNORM                     = 0x8F94;
    const R16F                         = 0x822D;
    const R32F                         = 0x822E;
    const R8UI                         = 0x8232;
    const R8I                          = 0x8231;
    const RG16UI                       = 0x823A;
    const RG16I                        = 0x8239;
    const RG32UI                       = 0x823C;
    const RG32I                        = 0x823B;
    const RG8                          = 0x822B;
    const RG8_SNORM                    = 0x8F95;
    const RG16F                        = 0x822F;
    const RG32F                        = 0x8230;
    const RG8UI                        = 0x8238;
    const RG8I                         = 0x8237;
    const R16UI                        = 0x8234;
    const R16I                         = 0x8233;
    const R32UI                        = 0x8236;
    const R32I                         = 0x8235;
    const RGB8                         = 0x8051;
    const SRGB8                        = 0x8C41;
    const RGB565                       = 0x8D62;
    const RGB8_SNORM                   = 0x8F96;
    const R11F_G11F_B10F               = 0x8C3A;
    const RGB9_E5                      = 0x8C3D;
    const RGB16F                       = 0x881B;
    const RGB32F                       = 0x8815;
    const RGB8UI                       = 0x8D7D;
    const RGB8I                        = 0x8D8F;
    const RGB16UI                      = 0x8D77;
    const RGB16I                       = 0x8D89;
    const RGB32UI                      = 0x8D71;
    const RGB32I                       = 0x8D83;
    const RGBA8                        = 0x8058;
    const SRGB8_ALPHA8                 = 0x8C43;
    const RGBA8_SNORM                  = 0x8F97;
    const RGB5_A1                      = 0x8057;
    const RGBA4                        = 0x8056;
    const RGB10_A2                     = 0x8059;
    const RGBA16F                      = 0x881A;
    const RGBA32F                      = 0x8814;
    const RGBA8UI                      = 0x8D7C;
    const RGBA8I                       = 0x8D8E;
    const RGB10_A2UI                   = 0x906F;
    const RGBA16UI                     = 0x8D76;
    const RGBA16I                      = 0x8D88;
    const RGBA32I                      = 0x8D82;
    const RGBA32UI                     = 0x8D70;

    const DEPTH_COMPONENT16            = 0x81A5;
    const DEPTH_COMPONENT24            = 0x81A6;
    const DEPTH_COMPONENT32F           = 0x8CAC;
    const DEPTH32F_STENCIL8            = 0x8CAD;
    const DEPTH24_STENCIL8             = 0x88F0;

    /* DataType */
    const BYTE$2                         = 0x1400;
    const UNSIGNED_BYTE$2                = 0x1401;
    const SHORT$2                        = 0x1402;
    const UNSIGNED_SHORT$2               = 0x1403;
    const INT$2                          = 0x1404;
    const UNSIGNED_INT$2                 = 0x1405;
    const FLOAT$2                        = 0x1406;
    const UNSIGNED_SHORT_4_4_4_4$1       = 0x8033;
    const UNSIGNED_SHORT_5_5_5_1$1       = 0x8034;
    const UNSIGNED_SHORT_5_6_5$1         = 0x8363;
    const HALF_FLOAT$1                   = 0x140B;
    const HALF_FLOAT_OES               = 0x8D61;  // Thanks Khronos for making this different >:(
    const UNSIGNED_INT_2_10_10_10_REV$1  = 0x8368;
    const UNSIGNED_INT_10F_11F_11F_REV$1 = 0x8C3B;
    const UNSIGNED_INT_5_9_9_9_REV$1     = 0x8C3E;
    const FLOAT_32_UNSIGNED_INT_24_8_REV$1 = 0x8DAD;
    const UNSIGNED_INT_24_8$1            = 0x84FA;

    const RG                           = 0x8227;
    const RG_INTEGER                   = 0x8228;
    const RED                          = 0x1903;
    const RED_INTEGER                  = 0x8D94;
    const RGB_INTEGER                  = 0x8D98;
    const RGBA_INTEGER                 = 0x8D99;

    /**
     * @typedef {Object} TextureFormatDetails
     * @property {number} textureFormat format to pass texImage2D and similar functions.
     * @property {boolean} colorRenderable true if you can render to this format of texture.
     * @property {boolean} textureFilterable true if you can filter the texture, false if you can ony use `NEAREST`.
     * @property {number[]} type Array of possible types you can pass to texImage2D and similar function
     * @property {Object.<number,number>} bytesPerElementMap A map of types to bytes per element
     * @private
     */

    let s_textureInternalFormatInfo;
    function getTextureInternalFormatInfo(internalFormat) {
      if (!s_textureInternalFormatInfo) {
        // NOTE: these properties need unique names so we can let Uglify mangle the name.
        const t = {};
        // unsized formats
        t[ALPHA]              = { textureFormat: ALPHA,           colorRenderable: true,  textureFilterable: true,  bytesPerElement: [1, 2, 2, 4],        type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2], };
        t[LUMINANCE]          = { textureFormat: LUMINANCE,       colorRenderable: true,  textureFilterable: true,  bytesPerElement: [1, 2, 2, 4],        type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2], };
        t[LUMINANCE_ALPHA]    = { textureFormat: LUMINANCE_ALPHA, colorRenderable: true,  textureFilterable: true,  bytesPerElement: [2, 4, 4, 8],        type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2], };
        t[RGB]                = { textureFormat: RGB,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [3, 6, 6, 12, 2],    type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2, UNSIGNED_SHORT_5_6_5$1], };
        t[RGBA]               = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4, 8, 8, 16, 2, 2], type: [UNSIGNED_BYTE$2, HALF_FLOAT$1, HALF_FLOAT_OES, FLOAT$2, UNSIGNED_SHORT_4_4_4_4$1, UNSIGNED_SHORT_5_5_5_1$1], };
        t[DEPTH_COMPONENT]    = { textureFormat: DEPTH_COMPONENT, colorRenderable: true,  textureFilterable: false, bytesPerElement: [2, 4],              type: [UNSIGNED_INT$2, UNSIGNED_SHORT$2], };

        // sized formats
        t[R8]                 = { textureFormat: RED,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [1],        type: [UNSIGNED_BYTE$2], };
        t[R8_SNORM]           = { textureFormat: RED,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [1],        type: [BYTE$2], };
        t[R16F]               = { textureFormat: RED,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [4, 2],     type: [FLOAT$2, HALF_FLOAT$1], };
        t[R32F]               = { textureFormat: RED,             colorRenderable: false, textureFilterable: false, bytesPerElement: [4],        type: [FLOAT$2], };
        t[R8UI]               = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [1],        type: [UNSIGNED_BYTE$2], };
        t[R8I]                = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [1],        type: [BYTE$2], };
        t[R16UI]              = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [UNSIGNED_SHORT$2], };
        t[R16I]               = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [SHORT$2], };
        t[R32UI]              = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT$2], };
        t[R32I]               = { textureFormat: RED_INTEGER,     colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [INT$2], };
        t[RG8]                = { textureFormat: RG,              colorRenderable: true,  textureFilterable: true,  bytesPerElement: [2],        type: [UNSIGNED_BYTE$2], };
        t[RG8_SNORM]          = { textureFormat: RG,              colorRenderable: false, textureFilterable: true,  bytesPerElement: [2],        type: [BYTE$2], };
        t[RG16F]              = { textureFormat: RG,              colorRenderable: false, textureFilterable: true,  bytesPerElement: [8, 4],     type: [FLOAT$2, HALF_FLOAT$1], };
        t[RG32F]              = { textureFormat: RG,              colorRenderable: false, textureFilterable: false, bytesPerElement: [8],        type: [FLOAT$2], };
        t[RG8UI]              = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [UNSIGNED_BYTE$2], };
        t[RG8I]               = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [2],        type: [BYTE$2], };
        t[RG16UI]             = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_SHORT$2], };
        t[RG16I]              = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [SHORT$2], };
        t[RG32UI]             = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [UNSIGNED_INT$2], };
        t[RG32I]              = { textureFormat: RG_INTEGER,      colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [INT$2], };
        t[RGB8]               = { textureFormat: RGB,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [3],        type: [UNSIGNED_BYTE$2], };
        t[SRGB8]              = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [3],        type: [UNSIGNED_BYTE$2], };
        t[RGB565]             = { textureFormat: RGB,             colorRenderable: true,  textureFilterable: true,  bytesPerElement: [3, 2],     type: [UNSIGNED_BYTE$2, UNSIGNED_SHORT_5_6_5$1], };
        t[RGB8_SNORM]         = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [3],        type: [BYTE$2], };
        t[R11F_G11F_B10F]     = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [12, 6, 4], type: [FLOAT$2, HALF_FLOAT$1, UNSIGNED_INT_10F_11F_11F_REV$1], };
        t[RGB9_E5]            = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [12, 6, 4], type: [FLOAT$2, HALF_FLOAT$1, UNSIGNED_INT_5_9_9_9_REV$1], };
        t[RGB16F]             = { textureFormat: RGB,             colorRenderable: false, textureFilterable: true,  bytesPerElement: [12, 6],    type: [FLOAT$2, HALF_FLOAT$1], };
        t[RGB32F]             = { textureFormat: RGB,             colorRenderable: false, textureFilterable: false, bytesPerElement: [12],       type: [FLOAT$2], };
        t[RGB8UI]             = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [3],        type: [UNSIGNED_BYTE$2], };
        t[RGB8I]              = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [3],        type: [BYTE$2], };
        t[RGB16UI]            = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [6],        type: [UNSIGNED_SHORT$2], };
        t[RGB16I]             = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [6],        type: [SHORT$2], };
        t[RGB32UI]            = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [12],       type: [UNSIGNED_INT$2], };
        t[RGB32I]             = { textureFormat: RGB_INTEGER,     colorRenderable: false, textureFilterable: false, bytesPerElement: [12],       type: [INT$2], };
        t[RGBA8]              = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4],        type: [UNSIGNED_BYTE$2], };
        t[SRGB8_ALPHA8]       = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4],        type: [UNSIGNED_BYTE$2], };
        t[RGBA8_SNORM]        = { textureFormat: RGBA,            colorRenderable: false, textureFilterable: true,  bytesPerElement: [4],        type: [BYTE$2], };
        t[RGB5_A1]            = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4, 2, 4],  type: [UNSIGNED_BYTE$2, UNSIGNED_SHORT_5_5_5_1$1, UNSIGNED_INT_2_10_10_10_REV$1], };
        t[RGBA4]              = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4, 2],     type: [UNSIGNED_BYTE$2, UNSIGNED_SHORT_4_4_4_4$1], };
        t[RGB10_A2]           = { textureFormat: RGBA,            colorRenderable: true,  textureFilterable: true,  bytesPerElement: [4],        type: [UNSIGNED_INT_2_10_10_10_REV$1], };
        t[RGBA16F]            = { textureFormat: RGBA,            colorRenderable: false, textureFilterable: true,  bytesPerElement: [16, 8],    type: [FLOAT$2, HALF_FLOAT$1], };
        t[RGBA32F]            = { textureFormat: RGBA,            colorRenderable: false, textureFilterable: false, bytesPerElement: [16],       type: [FLOAT$2], };
        t[RGBA8UI]            = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_BYTE$2], };
        t[RGBA8I]             = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [BYTE$2], };
        t[RGB10_A2UI]         = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT_2_10_10_10_REV$1], };
        t[RGBA16UI]           = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [UNSIGNED_SHORT$2], };
        t[RGBA16I]            = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [8],        type: [SHORT$2], };
        t[RGBA32I]            = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [16],       type: [INT$2], };
        t[RGBA32UI]           = { textureFormat: RGBA_INTEGER,    colorRenderable: true,  textureFilterable: false, bytesPerElement: [16],       type: [UNSIGNED_INT$2], };
        // Sized Internal
        t[DEPTH_COMPONENT16]  = { textureFormat: DEPTH_COMPONENT, colorRenderable: true,  textureFilterable: false, bytesPerElement: [2, 4],     type: [UNSIGNED_SHORT$2, UNSIGNED_INT$2], };
        t[DEPTH_COMPONENT24]  = { textureFormat: DEPTH_COMPONENT, colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT$2], };
        t[DEPTH_COMPONENT32F] = { textureFormat: DEPTH_COMPONENT, colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [FLOAT$2], };
        t[DEPTH24_STENCIL8]   = { textureFormat: DEPTH_STENCIL,   colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [UNSIGNED_INT_24_8$1], };
        t[DEPTH32F_STENCIL8]  = { textureFormat: DEPTH_STENCIL,   colorRenderable: true,  textureFilterable: false, bytesPerElement: [4],        type: [FLOAT_32_UNSIGNED_INT_24_8_REV$1], };

        Object.keys(t).forEach(function(internalFormat) {
          const info = t[internalFormat];
          info.bytesPerElementMap = {};
          info.bytesPerElement.forEach(function(bytesPerElement, ndx) {
            const type = info.type[ndx];
            info.bytesPerElementMap[type] = bytesPerElement;
          });
        });
        s_textureInternalFormatInfo = t;
      }
      return s_textureInternalFormatInfo[internalFormat];
    }

    /**
     * Gets the number of bytes per element for a given internalFormat / type
     * @param {number} internalFormat The internalFormat parameter from texImage2D etc..
     * @param {number} type The type parameter for texImage2D etc..
     * @return {number} the number of bytes per element for the given internalFormat, type combo
     * @memberOf module:twgl/textures
     */
    function getBytesPerElementForInternalFormat(internalFormat, type) {
      const info = getTextureInternalFormatInfo(internalFormat);
      if (!info) {
        throw "unknown internal format";
      }
      const bytesPerElement = info.bytesPerElementMap[type];
      if (bytesPerElement === undefined) {
        throw "unknown internal format";
      }
      return bytesPerElement;
    }

    /**
     * Info related to a specific texture internalFormat as returned
     * from {@link module:twgl/textures.getFormatAndTypeForInternalFormat}.
     *
     * @typedef {Object} TextureFormatInfo
     * @property {number} format Format to pass to texImage2D and related functions
     * @property {number} type Type to pass to texImage2D and related functions
     * @memberOf module:twgl/textures
     */

    /**
     * Gets the format and type for a given internalFormat
     *
     * @param {number} internalFormat The internal format
     * @return {module:twgl/textures.TextureFormatInfo} the corresponding format and type,
     * @memberOf module:twgl/textures
     */
    function getFormatAndTypeForInternalFormat(internalFormat) {
      const info = getTextureInternalFormatInfo(internalFormat);
      if (!info) {
        throw "unknown internal format";
      }
      return {
        format: info.textureFormat,
        type: info.type[0],
      };
    }

    /**
     * Returns true if value is power of 2
     * @param {number} value number to check.
     * @return true if value is power of 2
     * @private
     */
    function isPowerOf2(value) {
      return (value & (value - 1)) === 0;
    }

    /**
     * Gets whether or not we can generate mips for the given
     * internal format.
     *
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {number} width The width parameter from texImage2D etc..
     * @param {number} height The height parameter from texImage2D etc..
     * @param {number} internalFormat The internalFormat parameter from texImage2D etc..
     * @return {boolean} true if we can generate mips
     * @memberOf module:twgl/textures
     */
    function canGenerateMipmap(gl, width, height, internalFormat) {
      if (!isWebGL2(gl)) {
        return isPowerOf2(width) && isPowerOf2(height);
      }
      const info = getTextureInternalFormatInfo(internalFormat);
      if (!info) {
        throw "unknown internal format";
      }
      return info.colorRenderable && info.textureFilterable;
    }

    /**
     * Gets whether or not we can generate mips for the given format
     * @param {number} internalFormat The internalFormat parameter from texImage2D etc..
     * @return {boolean} true if we can generate mips
     * @memberOf module:twgl/textures
     */
    function canFilter(internalFormat) {
      const info = getTextureInternalFormatInfo(internalFormat);
      if (!info) {
        throw "unknown internal format";
      }
      return info.textureFilterable;
    }

    /**
     * Gets the texture type for a given array type.
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @return {number} the gl texture type
     * @private
     */
    function getTextureTypeForArrayType(gl, src, defaultType) {
      if (isArrayBuffer$1(src)) {
        return getGLTypeForTypedArray(src);
      }
      return defaultType || UNSIGNED_BYTE$2;
    }

    function guessDimensions(gl, target, width, height, numElements) {
      if (numElements % 1 !== 0) {
        throw "can't guess dimensions";
      }
      if (!width && !height) {
        const size = Math.sqrt(numElements / (target === TEXTURE_CUBE_MAP ? 6 : 1));
        if (size % 1 === 0) {
          width = size;
          height = size;
        } else {
          width = numElements;
          height = 1;
        }
      } else if (!height) {
        height = numElements / width;
        if (height % 1) {
          throw "can't guess dimensions";
        }
      } else if (!width) {
        width = numElements / height;
        if (width % 1) {
          throw "can't guess dimensions";
        }
      }
      return {
        width: width,
        height: height,
      };
    }

    /**
     * A function to generate the source for a texture.
     * @callback TextureFunc
     * @param {WebGLRenderingContext} gl A WebGLRenderingContext
     * @param {module:twgl.TextureOptions} options the texture options
     * @return {*} Returns any of the things documented for `src` for {@link module:twgl.TextureOptions}.
     * @memberOf module:twgl
     */

    /**
     * Texture options passed to most texture functions. Each function will use whatever options
     * are appropriate for its needs. This lets you pass the same options to all functions.
     *
     * Note: A `TexImageSource` is defined in the WebGL spec as a `HTMLImageElement`, `HTMLVideoElement`,
     * `HTMLCanvasElement`, `ImageBitmap`, or `ImageData`.
     *
     * @typedef {Object} TextureOptions
     * @property {number} [target] the type of texture `gl.TEXTURE_2D` or `gl.TEXTURE_CUBE_MAP`. Defaults to `gl.TEXTURE_2D`.
     * @property {number} [level] the mip level to affect. Defaults to 0. Note, if set auto will be considered false unless explicitly set to true.
     * @property {number} [width] the width of the texture. Only used if src is an array or typed array or null.
     * @property {number} [height] the height of a texture. Only used if src is an array or typed array or null.
     * @property {number} [depth] the depth of a texture. Only used if src is an array or type array or null and target is `TEXTURE_3D` .
     * @property {number} [min] the min filter setting (eg. `gl.LINEAR`). Defaults to `gl.NEAREST_MIPMAP_LINEAR`
     *     or if texture is not a power of 2 on both dimensions then defaults to `gl.LINEAR`.
     * @property {number} [mag] the mag filter setting (eg. `gl.LINEAR`). Defaults to `gl.LINEAR`
     * @property {number} [minMag] both the min and mag filter settings.
     * @property {number} [internalFormat] internal format for texture. Defaults to `gl.RGBA`
     * @property {number} [format] format for texture. Defaults to `gl.RGBA`.
     * @property {number} [type] type for texture. Defaults to `gl.UNSIGNED_BYTE` unless `src` is ArrayBufferView. If `src`
     *     is ArrayBufferView defaults to type that matches ArrayBufferView type.
     * @property {number} [wrap] Texture wrapping for both S and T (and R if TEXTURE_3D or WebGLSampler). Defaults to `gl.REPEAT` for 2D unless src is WebGL1 and src not npot and `gl.CLAMP_TO_EDGE` for cube
     * @property {number} [wrapS] Texture wrapping for S. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.
     * @property {number} [wrapT] Texture wrapping for T. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.
     * @property {number} [wrapR] Texture wrapping for R. Defaults to `gl.REPEAT` and `gl.CLAMP_TO_EDGE` for cube. If set takes precedence over `wrap`.
     * @property {number} [minLod] TEXTURE_MIN_LOD setting
     * @property {number} [maxLod] TEXTURE_MAX_LOD setting
     * @property {number} [baseLevel] TEXTURE_BASE_LEVEL setting
     * @property {number} [maxLevel] TEXTURE_MAX_LEVEL setting
     * @property {number} [unpackAlignment] The `gl.UNPACK_ALIGNMENT` used when uploading an array. Defaults to 1.
     * @property {number[]|ArrayBufferView} [color] Color to initialize this texture with if loading an image asynchronously.
     *     The default use a blue 1x1 pixel texture. You can set another default by calling `twgl.setDefaults`
     *     or you can set an individual texture's initial color by setting this property. Example: `[1, .5, .5, 1]` = pink
     * @property {number} [premultiplyAlpha] Whether or not to premultiply alpha. Defaults to whatever the current setting is.
     *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override
     *     the current setting for specific textures.
     * @property {number} [flipY] Whether or not to flip the texture vertically on upload. Defaults to whatever the current setting is.
     *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override
     *     the current setting for specific textures.
     * @property {number} [colorspaceConversion] Whether or not to let the browser do colorspace conversion of the texture on upload. Defaults to whatever the current setting is.
     *     This lets you set it once before calling `twgl.createTexture` or `twgl.createTextures` and only override
     *     the current setting for specific textures.
     * @property {boolean} [auto] If `undefined` or `true`, in WebGL1, texture filtering is set automatically for non-power of 2 images and
     *    mips are generated for power of 2 images. In WebGL2 mips are generated if they can be. Note: if `level` is set above
     *    then then `auto` is assumed to be `false` unless explicity set to `true`.
     * @property {number[]} [cubeFaceOrder] The order that cube faces are pulled out of an img or set of images. The default is
     *
     *     [gl.TEXTURE_CUBE_MAP_POSITIVE_X,
     *      gl.TEXTURE_CUBE_MAP_NEGATIVE_X,
     *      gl.TEXTURE_CUBE_MAP_POSITIVE_Y,
     *      gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,
     *      gl.TEXTURE_CUBE_MAP_POSITIVE_Z,
     *      gl.TEXTURE_CUBE_MAP_NEGATIVE_Z]
     *
     * @property {(number[]|ArrayBufferView|TexImageSource|TexImageSource[]|string|string[]|module:twgl.TextureFunc)} [src] source for texture
     *
     *    If `string` then it's assumed to be a URL to an image. The image will be downloaded async. A usable
     *    1x1 pixel texture will be returned immediately. The texture will be updated once the image has downloaded.
     *    If `target` is `gl.TEXTURE_CUBE_MAP` will attempt to divide image into 6 square pieces. 1x6, 6x1, 3x2, 2x3.
     *    The pieces will be uploaded in `cubeFaceOrder`
     *
     *    If `string[]` or `TexImageSource[]` and target is `gl.TEXTURE_CUBE_MAP` then it must have 6 entries, one for each face of a cube map.
     *
     *    If `string[]` or `TexImageSource[]` and target is `gl.TEXTURE_2D_ARRAY` then each entry is a slice of the a 2d array texture
     *    and will be scaled to the specified width and height OR to the size of the first image that loads.
     *
     *    If `TexImageSource` then it wil be used immediately to create the contents of the texture. Examples `HTMLImageElement`,
     *    `HTMLCanvasElement`, `HTMLVideoElement`.
     *
     *    If `number[]` or `ArrayBufferView` it's assumed to be data for a texture. If `width` or `height` is
     *    not specified it is guessed as follows. First the number of elements is computed by `src.length / numComponents`
     *    where `numComponents` is derived from `format`. If `target` is `gl.TEXTURE_CUBE_MAP` then `numElements` is divided
     *    by 6. Then
     *
     *    *   If neither `width` nor `height` are specified and `sqrt(numElements)` is an integer then width and height
     *        are set to `sqrt(numElements)`. Otherwise `width = numElements` and `height = 1`.
     *
     *    *   If only one of `width` or `height` is specified then the other equals `numElements / specifiedDimension`.
     *
     * If `number[]` will be converted to `type`.
     *
     * If `src` is a function it will be called with a `WebGLRenderingContext` and these options.
     * Whatever it returns is subject to these rules. So it can return a string url, an `HTMLElement`
     * an array etc...
     *
     * If `src` is undefined then an empty texture will be created of size `width` by `height`.
     *
     * @property {string} [crossOrigin] What to set the crossOrigin property of images when they are downloaded.
     *    default: undefined. Also see {@link module:twgl.setDefaults}.
     *
     * @memberOf module:twgl
     */

    /**
     * Sets any packing state that will be set based on the options.
     * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @private
     */
    function setPackState(gl, options) {
      if (options.colorspaceConversion !== undefined) {
        gl.pixelStorei(UNPACK_COLORSPACE_CONVERSION_WEBGL, options.colorspaceConversion);
      }
      if (options.premultiplyAlpha !== undefined) {
        gl.pixelStorei(UNPACK_PREMULTIPLY_ALPHA_WEBGL, options.premultiplyAlpha);
      }
      if (options.flipY !== undefined) {
        gl.pixelStorei(UNPACK_FLIP_Y_WEBGL, options.flipY);
      }
    }

    /**
     * Set skip state to defaults
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @private
     */
    function setSkipStateToDefault(gl) {
      gl.pixelStorei(UNPACK_ALIGNMENT, 4);
      if (isWebGL2(gl)) {
        gl.pixelStorei(UNPACK_ROW_LENGTH, 0);
        gl.pixelStorei(UNPACK_IMAGE_HEIGHT, 0);
        gl.pixelStorei(UNPACK_SKIP_PIXELS, 0);
        gl.pixelStorei(UNPACK_SKIP_ROWS, 0);
        gl.pixelStorei(UNPACK_SKIP_IMAGES, 0);
      }
    }

    /**
     * Sets the parameters of a texture or sampler
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {number|WebGLSampler} target texture target or sampler
     * @param {function()} parameteriFn texParameteri or samplerParameteri fn
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.
     *   This is often the same options you passed in when you created the texture.
     * @private
     */
    function setTextureSamplerParameters(gl, target, parameteriFn, options) {
      if (options.minMag) {
        parameteriFn.call(gl, target, TEXTURE_MIN_FILTER, options.minMag);
        parameteriFn.call(gl, target, TEXTURE_MAG_FILTER, options.minMag);
      }
      if (options.min) {
        parameteriFn.call(gl, target, TEXTURE_MIN_FILTER, options.min);
      }
      if (options.mag) {
        parameteriFn.call(gl, target, TEXTURE_MAG_FILTER, options.mag);
      }
      if (options.wrap) {
        parameteriFn.call(gl, target, TEXTURE_WRAP_S, options.wrap);
        parameteriFn.call(gl, target, TEXTURE_WRAP_T, options.wrap);
        if (target === TEXTURE_3D || isSampler(gl, target)) {
          parameteriFn.call(gl, target, TEXTURE_WRAP_R, options.wrap);
        }
      }
      if (options.wrapR) {
        parameteriFn.call(gl, target, TEXTURE_WRAP_R, options.wrapR);
      }
      if (options.wrapS) {
        parameteriFn.call(gl, target, TEXTURE_WRAP_S, options.wrapS);
      }
      if (options.wrapT) {
        parameteriFn.call(gl, target, TEXTURE_WRAP_T, options.wrapT);
      }
      if (options.minLod) {
        parameteriFn.call(gl, target, TEXTURE_MIN_LOD, options.minLod);
      }
      if (options.maxLod) {
        parameteriFn.call(gl, target, TEXTURE_MAX_LOD, options.maxLod);
      }
      if (options.baseLevel) {
        parameteriFn.call(gl, target, TEXTURE_BASE_LEVEL, options.baseLevel);
      }
      if (options.maxLevel) {
        parameteriFn.call(gl, target, TEXTURE_MAX_LEVEL, options.maxLevel);
      }
    }

    /**
     * Sets the texture parameters of a texture.
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.
     *   This is often the same options you passed in when you created the texture.
     * @memberOf module:twgl/textures
     */
    function setTextureParameters(gl, tex, options) {
      const target = options.target || TEXTURE_2D;
      gl.bindTexture(target, tex);
      setTextureSamplerParameters(gl, target, gl.texParameteri, options);
    }

    /**
     * Makes a 1x1 pixel
     * If no color is passed in uses the default color which can be set by calling `setDefaultTextureColor`.
     * @param {(number[]|ArrayBufferView)} [color] The color using 0-1 values
     * @return {Uint8Array} Unit8Array with color.
     * @private
     */
    function make1Pixel(color) {
      color = color || defaults$1.textureColor;
      if (isArrayBuffer$1(color)) {
        return color;
      }
      return new Uint8Array([color[0] * 255, color[1] * 255, color[2] * 255, color[3] * 255]);
    }

    /**
     * Sets filtering or generates mips for texture based on width or height
     * If width or height is not passed in uses `options.width` and//or `options.height`
     *
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.
     *   This is often the same options you passed in when you created the texture.
     * @param {number} [width] width of texture
     * @param {number} [height] height of texture
     * @param {number} [internalFormat] The internalFormat parameter from texImage2D etc..
     * @memberOf module:twgl/textures
     */
    function setTextureFilteringForSize(gl, tex, options, width, height, internalFormat) {
      options = options || defaults$1.textureOptions;
      internalFormat = internalFormat || RGBA;
      const target = options.target || TEXTURE_2D;
      width = width || options.width;
      height = height || options.height;
      gl.bindTexture(target, tex);
      if (canGenerateMipmap(gl, width, height, internalFormat)) {
        gl.generateMipmap(target);
      } else {
        const filtering = canFilter(internalFormat) ? LINEAR : NEAREST;
        gl.texParameteri(target, TEXTURE_MIN_FILTER, filtering);
        gl.texParameteri(target, TEXTURE_MAG_FILTER, filtering);
        gl.texParameteri(target, TEXTURE_WRAP_S, CLAMP_TO_EDGE);
        gl.texParameteri(target, TEXTURE_WRAP_T, CLAMP_TO_EDGE);
      }
    }

    function shouldAutomaticallySetTextureFilteringForSize(options) {
      return options.auto === true || (options.auto === undefined && options.level === undefined);
    }

    /**
     * Gets an array of cubemap face enums
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.
     *   This is often the same options you passed in when you created the texture.
     * @return {number[]} cubemap face enums
     * @private
     */
    function getCubeFaceOrder(gl, options) {
      options = options || {};
      return options.cubeFaceOrder || [
          TEXTURE_CUBE_MAP_POSITIVE_X,
          TEXTURE_CUBE_MAP_NEGATIVE_X,
          TEXTURE_CUBE_MAP_POSITIVE_Y,
          TEXTURE_CUBE_MAP_NEGATIVE_Y,
          TEXTURE_CUBE_MAP_POSITIVE_Z,
          TEXTURE_CUBE_MAP_NEGATIVE_Z,
        ];
    }

    /**
     * @typedef {Object} FaceInfo
     * @property {number} face gl enum for texImage2D
     * @property {number} ndx face index (0 - 5) into source data
     * @ignore
     */

    /**
     * Gets an array of FaceInfos
     * There's a bug in some NVidia drivers that will crash the driver if
     * `gl.TEXTURE_CUBE_MAP_POSITIVE_X` is not uploaded first. So, we take
     * the user's desired order from his faces to WebGL and make sure we
     * do the faces in WebGL order
     *
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.
     * @return {FaceInfo[]} cubemap face infos. Arguably the `face` property of each element is redundant but
     *    it's needed internally to sort the array of `ndx` properties by `face`.
     * @private
     */
    function getCubeFacesWithNdx(gl, options) {
      const faces = getCubeFaceOrder(gl, options);
      // work around bug in NVidia drivers. We have to upload the first face first else the driver crashes :(
      const facesWithNdx = faces.map(function(face, ndx) {
        return { face: face, ndx: ndx };
      });
      facesWithNdx.sort(function(a, b) {
        return a.face - b.face;
      });
      return facesWithNdx;
    }

    /**
     * Set a texture from the contents of an element. Will also set
     * texture filtering or generate mips based on the dimensions of the element
     * unless `options.auto === false`. If `target === gl.TEXTURE_CUBE_MAP` will
     * attempt to slice image into 1x6, 2x3, 3x2, or 6x1 images, one for each face.
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {HTMLElement} element a canvas, img, or video element.
     * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.
     *   This is often the same options you passed in when you created the texture.
     * @memberOf module:twgl/textures
     * @kind function
     */
    function setTextureFromElement(gl, tex, element, options) {
      options = options || defaults$1.textureOptions;
      const target = options.target || TEXTURE_2D;
      const level = options.level || 0;
      let width = element.width;
      let height = element.height;
      const internalFormat = options.internalFormat || options.format || RGBA;
      const formatType = getFormatAndTypeForInternalFormat(internalFormat);
      const format = options.format || formatType.format;
      const type = options.type || formatType.type;
      setPackState(gl, options);
      gl.bindTexture(target, tex);
      if (target === TEXTURE_CUBE_MAP) {
        // guess the parts
        const imgWidth  = element.width;
        const imgHeight = element.height;
        let size;
        let slices;
        if (imgWidth / 6 === imgHeight) {
          // It's 6x1
          size = imgHeight;
          slices = [0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5, 0];
        } else if (imgHeight / 6 === imgWidth) {
          // It's 1x6
          size = imgWidth;
          slices = [0, 0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 5];
        } else if (imgWidth / 3 === imgHeight / 2) {
          // It's 3x2
          size = imgWidth / 3;
          slices = [0, 0, 1, 0, 2, 0, 0, 1, 1, 1, 2, 1];
        } else if (imgWidth / 2 === imgHeight / 3) {
          // It's 2x3
          size = imgWidth / 2;
          slices = [0, 0, 1, 0, 0, 1, 1, 1, 0, 2, 1, 2];
        } else {
          throw "can't figure out cube map from element: " + (element.src ? element.src : element.nodeName);
        }
        const ctx = getShared2DContext();
        if (ctx) {
          ctx.canvas.width = size;
          ctx.canvas.height = size;
          width = size;
          height = size;
          getCubeFacesWithNdx(gl, options).forEach(function(f) {
            const xOffset = slices[f.ndx * 2 + 0] * size;
            const yOffset = slices[f.ndx * 2 + 1] * size;
            ctx.drawImage(element, xOffset, yOffset, size, size, 0, 0, size, size);
            gl.texImage2D(f.face, level, internalFormat, format, type, ctx.canvas);
          });
          // Free up the canvas memory
          ctx.canvas.width = 1;
          ctx.canvas.height = 1;
        } else if (typeof createImageBitmap !== 'undefined') {
          // NOTE: It seems like we should prefer ImageBitmap because unlike canvas it's
          // note lossy? (alpha is not premultiplied? although I'm not sure what
          width = size;
          height = size;
          getCubeFacesWithNdx(gl, options).forEach(function(f) {
            const xOffset = slices[f.ndx * 2 + 0] * size;
            const yOffset = slices[f.ndx * 2 + 1] * size;
            // We can't easily use a default texture color here as it would have to match
            // the type across all faces where as with a 2D one there's only one face
            // so we're replacing everything all at once. It also has to be the correct size.
            // On the other hand we need all faces to be the same size so as one face loads
            // the rest match else the texture will be un-renderable.
            gl.texImage2D(f.face, level, internalFormat, size, size, 0, format, type, null);
            createImageBitmap(element, xOffset, yOffset, size, size, {
              premultiplyAlpha: 'none',
              colorSpaceConversion: 'none',
            })
            .then(function(imageBitmap) {
              setPackState(gl, options);
              gl.bindTexture(target, tex);
              gl.texImage2D(f.face, level, internalFormat, format, type, imageBitmap);
              if (shouldAutomaticallySetTextureFilteringForSize(options)) {
                setTextureFilteringForSize(gl, tex, options, width, height, internalFormat);
              }
            });
          });
        }
      } else if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {
        const smallest = Math.min(element.width, element.height);
        const largest = Math.max(element.width, element.height);
        const depth = largest / smallest;
        if (depth % 1 !== 0) {
          throw "can not compute 3D dimensions of element";
        }
        const xMult = element.width  === largest ? 1 : 0;
        const yMult = element.height === largest ? 1 : 0;
        gl.pixelStorei(UNPACK_ALIGNMENT, 1);
        gl.pixelStorei(UNPACK_ROW_LENGTH, element.width);
        gl.pixelStorei(UNPACK_IMAGE_HEIGHT, 0);
        gl.pixelStorei(UNPACK_SKIP_IMAGES, 0);
        gl.texImage3D(target, level, internalFormat, smallest, smallest, smallest, 0, format, type, null);
        for (let d = 0; d < depth; ++d) {
          const srcX = d * smallest * xMult;
          const srcY = d * smallest * yMult;
          gl.pixelStorei(UNPACK_SKIP_PIXELS, srcX);
          gl.pixelStorei(UNPACK_SKIP_ROWS, srcY);
          gl.texSubImage3D(target, level, 0, 0, d, smallest, smallest, 1, format, type, element);
        }
        setSkipStateToDefault(gl);
      } else {
        gl.texImage2D(target, level, internalFormat, format, type, element);
      }
      if (shouldAutomaticallySetTextureFilteringForSize(options)) {
        setTextureFilteringForSize(gl, tex, options, width, height, internalFormat);
      }
      setTextureParameters(gl, tex, options);
    }

    function noop() {
    }

    /**
     * Checks whether the url's origin is the same so that we can set the `crossOrigin`
     * @param {string} url url to image
     * @returns {boolean} true if the window's origin is the same as image's url
     * @private
     */
    function urlIsSameOrigin(url) {
      if (typeof document !== 'undefined') {
        // for IE really
        const a = document.createElement('a');
        a.href = url;
        return a.hostname === location.hostname &&
               a.port     === location.port &&
               a.protocol === location.protocol;
      } else {
        const localOrigin = (new URL(location.href)).origin;
        const urlOrigin = (new URL(url, location.href)).origin;
        return urlOrigin === localOrigin;
      }
    }

    function setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url, crossOrigin) {
      return crossOrigin === undefined && !urlIsSameOrigin(url)
         ? 'anonymous'
         : crossOrigin;
    }

    /**
     * Loads an image
     * @param {string} url url to image
     * @param {string} crossOrigin
     * @param {function(err, img)} [callback] a callback that's passed an error and the image. The error will be non-null
     *     if there was an error
     * @return {HTMLImageElement} the image being loaded.
     * @private
     */
    function loadImage(url, crossOrigin, callback) {
      callback = callback || noop;
      let img;
      crossOrigin = crossOrigin !== undefined ? crossOrigin : defaults$1.crossOrigin;
      crossOrigin = setToAnonymousIfUndefinedAndURLIsNotSameOrigin(url, crossOrigin);
      if (typeof Image !== 'undefined') {
        img = new Image();
        if (crossOrigin !== undefined) {
          img.crossOrigin = crossOrigin;
        }

        const clearEventHandlers = function clearEventHandlers() {
          img.removeEventListener('error', onError);  // eslint-disable-line
          img.removeEventListener('load', onLoad);  // eslint-disable-line
          img = null;
        };

        const onError = function onError() {
          const msg = "couldn't load image: " + url;
          error(msg);
          callback(msg, img);
          clearEventHandlers();
        };

        const onLoad = function onLoad() {
          callback(null, img);
          clearEventHandlers();
        };

        img.addEventListener('error', onError);
        img.addEventListener('load', onLoad);
        img.src = url;
        return img;
      } else if (typeof ImageBitmap !== 'undefined') {
        let err;
        let bm;
        const cb = function cb() {
          callback(err, bm);
        };

        const options = {};
        if (crossOrigin) {
          options.mode = 'cors'; // TODO: not sure how to translate image.crossOrigin
        }
        fetch(url, options).then(function(response) {
          if (!response.ok) {
            throw response;
          }
          return response.blob();
        }).then(function(blob) {
          return createImageBitmap(blob, {
            premultiplyAlpha: 'none',
            colorSpaceConversion: 'none',
          });
        }).then(function(bitmap) {
          // not sure if this works. We don't want
          // to catch the user's error. So, call
          // the callback in a timeout so we're
          // not in this scope inside the promise.
          bm = bitmap;
          setTimeout(cb);
        }).catch(function(e) {
          err = e;
          setTimeout(cb);
        });
        img = null;
      }
      return img;
    }

    /**
     * check if object is a TexImageSource
     *
     * @param {Object} obj Object to test
     * @return {boolean} true if object is a TexImageSource
     * @private
     */
    function isTexImageSource(obj) {
      return (typeof ImageBitmap !== 'undefined' && obj instanceof ImageBitmap) ||
             (typeof ImageData !== 'undefined'  && obj instanceof ImageData) ||
             (typeof HTMLElement !== 'undefined'  && obj instanceof HTMLElement);
    }

    /**
     * if obj is an TexImageSource then just
     * uses it otherwise if obj is a string
     * then load it first.
     *
     * @param {string|TexImageSource} obj
     * @param {string} crossOrigin
     * @param {function(err, img)} [callback] a callback that's passed an error and the image. The error will be non-null
     *     if there was an error
     * @private
     */
    function loadAndUseImage(obj, crossOrigin, callback) {
      if (isTexImageSource(obj)) {
        setTimeout(function() {
          callback(null, obj);
        });
        return obj;
      }

      return loadImage(obj, crossOrigin, callback);
    }

    /**
     * Sets a texture to a 1x1 pixel color. If `options.color === false` is nothing happens. If it's not set
     * the default texture color is used which can be set by calling `setDefaultTextureColor`.
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.
     *   This is often the same options you passed in when you created the texture.
     * @memberOf module:twgl/textures
     */
    function setTextureTo1PixelColor(gl, tex, options) {
      options = options || defaults$1.textureOptions;
      const target = options.target || TEXTURE_2D;
      gl.bindTexture(target, tex);
      if (options.color === false) {
        return;
      }
      // Assume it's a URL
      // Put 1x1 pixels in texture. That makes it renderable immediately regardless of filtering.
      const color = make1Pixel(options.color);
      if (target === TEXTURE_CUBE_MAP) {
        for (let ii = 0; ii < 6; ++ii) {
          gl.texImage2D(TEXTURE_CUBE_MAP_POSITIVE_X + ii, 0, RGBA, 1, 1, 0, RGBA, UNSIGNED_BYTE$2, color);
        }
      } else if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {
        gl.texImage3D(target, 0, RGBA, 1, 1, 1, 0, RGBA, UNSIGNED_BYTE$2, color);
      } else {
        gl.texImage2D(target, 0, RGBA, 1, 1, 0, RGBA, UNSIGNED_BYTE$2, color);
      }
    }

    /**
     * The src image(s) used to create a texture.
     *
     * When you call {@link module:twgl.createTexture} or {@link module:twgl.createTextures}
     * you can pass in urls for images to load into the textures. If it's a single url
     * then this will be a single HTMLImageElement. If it's an array of urls used for a cubemap
     * this will be a corresponding array of images for the cubemap.
     *
     * @typedef {HTMLImageElement|HTMLImageElement[]} TextureSrc
     * @memberOf module:twgl
     */

    /**
     * A callback for when an image finished downloading and been uploaded into a texture
     * @callback TextureReadyCallback
     * @param {*} err If truthy there was an error.
     * @param {WebGLTexture} texture the texture.
     * @param {module:twgl.TextureSrc} source image(s) used to as the src for the texture
     * @memberOf module:twgl
     */

    /**
     * A callback for when all images have finished downloading and been uploaded into their respective textures
     * @callback TexturesReadyCallback
     * @param {*} err If truthy there was an error.
     * @param {Object.<string, WebGLTexture>} textures the created textures by name. Same as returned by {@link module:twgl.createTextures}.
     * @param {Object.<string, module:twgl.TextureSrc>} sources the image(s) used for the texture by name.
     * @memberOf module:twgl
     */

    /**
     * A callback for when an image finished downloading and been uploaded into a texture
     * @callback CubemapReadyCallback
     * @param {*} err If truthy there was an error.
     * @param {WebGLTexture} tex the texture.
     * @param {HTMLImageElement[]} imgs the images for each face.
     * @memberOf module:twgl
     */

    /**
     * A callback for when an image finished downloading and been uploaded into a texture
     * @callback ThreeDReadyCallback
     * @param {*} err If truthy there was an error.
     * @param {WebGLTexture} tex the texture.
     * @param {HTMLImageElement[]} imgs the images for each slice.
     * @memberOf module:twgl
     */

    /**
     * Loads a texture from an image from a Url as specified in `options.src`
     * If `options.color !== false` will set the texture to a 1x1 pixel color so that the texture is
     * immediately useable. It will be updated with the contents of the image once the image has finished
     * downloading. Filtering options will be set as appropriate for image unless `options.auto === false`.
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.
     * @param {module:twgl.TextureReadyCallback} [callback] A function to be called when the image has finished loading. err will
     *    be non null if there was an error.
     * @return {HTMLImageElement} the image being downloaded.
     * @memberOf module:twgl/textures
     */
    function loadTextureFromUrl(gl, tex, options, callback) {
      callback = callback || noop;
      options = options || defaults$1.textureOptions;
      setTextureTo1PixelColor(gl, tex, options);
      // Because it's async we need to copy the options.
      options = Object.assign({}, options);
      const img = loadAndUseImage(options.src, options.crossOrigin, function(err, img) {
        if (err) {
          callback(err, tex, img);
        } else {
          setTextureFromElement(gl, tex, img, options);
          callback(null, tex, img);
        }
      });
      return img;
    }

    /**
     * Loads a cubemap from 6 urls or TexImageSources as specified in `options.src`. Will set the cubemap to a 1x1 pixel color
     * so that it is usable immediately unless `option.color === false`.
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.
     * @param {module:twgl.CubemapReadyCallback} [callback] A function to be called when all the images have finished loading. err will
     *    be non null if there was an error.
     * @memberOf module:twgl/textures
     */
    function loadCubemapFromUrls(gl, tex, options, callback) {
      callback = callback || noop;
      const urls = options.src;
      if (urls.length !== 6) {
        throw "there must be 6 urls for a cubemap";
      }
      const level = options.level || 0;
      const internalFormat = options.internalFormat || options.format || RGBA;
      const formatType = getFormatAndTypeForInternalFormat(internalFormat);
      const format = options.format || formatType.format;
      const type = options.type || UNSIGNED_BYTE$2;
      const target = options.target || TEXTURE_2D;
      if (target !== TEXTURE_CUBE_MAP) {
        throw "target must be TEXTURE_CUBE_MAP";
      }
      setTextureTo1PixelColor(gl, tex, options);
      // Because it's async we need to copy the options.
      options = Object.assign({}, options);
      let numToLoad = 6;
      const errors = [];
      const faces = getCubeFaceOrder(gl, options);
      let imgs;  // eslint-disable-line

      function uploadImg(faceTarget) {
        return function(err, img) {
          --numToLoad;
          if (err) {
            errors.push(err);
          } else {
            if (img.width !== img.height) {
              errors.push("cubemap face img is not a square: " + img.src);
            } else {
              setPackState(gl, options);
              gl.bindTexture(target, tex);

              // So assuming this is the first image we now have one face that's img sized
              // and 5 faces that are 1x1 pixel so size the other faces
              if (numToLoad === 5) {
                // use the default order
                getCubeFaceOrder().forEach(function(otherTarget) {
                  // Should we re-use the same face or a color?
                  gl.texImage2D(otherTarget, level, internalFormat, format, type, img);
                });
              } else {
                gl.texImage2D(faceTarget, level, internalFormat, format, type, img);
              }

              if (shouldAutomaticallySetTextureFilteringForSize(options)) {
                gl.generateMipmap(target);
              }
            }
          }

          if (numToLoad === 0) {
            callback(errors.length ? errors : undefined, tex, imgs);
          }
        };
      }

      imgs = urls.map(function(url, ndx) {
        return loadAndUseImage(url, options.crossOrigin, uploadImg(faces[ndx]));
      });
    }

    /**
     * Loads a 2d array or 3d texture from urls OR TexImageSources as specified in `options.src`.
     * Will set the texture to a 1x1 pixel color
     * so that it is usable immediately unless `option.color === false`.
     *
     * If the width and height is not specified the width and height of the first
     * image loaded will be used. Note that since images are loaded async
     * which image downloads first is unknown.
     *
     * If an image is not the same size as the width and height it will be scaled
     * to that width and height.
     *
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.
     * @param {module:twgl.ThreeDReadyCallback} [callback] A function to be called when all the images have finished loading. err will
     *    be non null if there was an error.
     * @memberOf module:twgl/textures
     */
    function loadSlicesFromUrls(gl, tex, options, callback) {
      callback = callback || noop;
      const urls = options.src;
      const internalFormat = options.internalFormat || options.format || RGBA;
      const formatType = getFormatAndTypeForInternalFormat(internalFormat);
      const format = options.format || formatType.format;
      const type = options.type || UNSIGNED_BYTE$2;
      const target = options.target || TEXTURE_2D_ARRAY;
      if (target !== TEXTURE_3D && target !== TEXTURE_2D_ARRAY) {
        throw "target must be TEXTURE_3D or TEXTURE_2D_ARRAY";
      }
      setTextureTo1PixelColor(gl, tex, options);
      // Because it's async we need to copy the options.
      options = Object.assign({}, options);
      let numToLoad = urls.length;
      const errors = [];
      let imgs;  // eslint-disable-line
      const level = options.level || 0;
      let width = options.width;
      let height = options.height;
      const depth = urls.length;
      let firstImage = true;

      function uploadImg(slice) {
        return function(err, img) {
          --numToLoad;
          if (err) {
            errors.push(err);
          } else {
            setPackState(gl, options);
            gl.bindTexture(target, tex);

            if (firstImage) {
              firstImage = false;
              width = options.width || img.width;
              height = options.height || img.height;
              gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, null);

              // put it in every slice otherwise some slices will be 0,0,0,0
              for (let s = 0; s < depth; ++s) {
                gl.texSubImage3D(target, level, 0, 0, s, width, height, 1, format, type, img);
              }
            } else {
              let src = img;
              let ctx;
              if (img.width !== width || img.height !== height) {
                // Size the image to fix
                ctx = getShared2DContext();
                src = ctx.canvas;
                ctx.canvas.width = width;
                ctx.canvas.height = height;
                ctx.drawImage(img, 0, 0, width, height);
              }

              gl.texSubImage3D(target, level, 0, 0, slice, width, height, 1, format, type, src);

              // free the canvas memory
              if (ctx && src === ctx.canvas) {
                ctx.canvas.width = 0;
                ctx.canvas.height = 0;
              }
            }

            if (shouldAutomaticallySetTextureFilteringForSize(options)) {
              gl.generateMipmap(target);
            }
          }

          if (numToLoad === 0) {
            callback(errors.length ? errors : undefined, tex, imgs);
          }
        };
      }

      imgs = urls.map(function(url, ndx) {
        return loadAndUseImage(url, options.crossOrigin, uploadImg(ndx));
      });
    }

    /**
     * Sets a texture from an array or typed array. If the width or height is not provided will attempt to
     * guess the size. See {@link module:twgl.TextureOptions}.
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {(number[]|ArrayBufferView)} src An array or typed arry with texture data.
     * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.
     *   This is often the same options you passed in when you created the texture.
     * @memberOf module:twgl/textures
     */
    function setTextureFromArray(gl, tex, src, options) {
      options = options || defaults$1.textureOptions;
      const target = options.target || TEXTURE_2D;
      gl.bindTexture(target, tex);
      let width = options.width;
      let height = options.height;
      let depth = options.depth;
      const level = options.level || 0;
      const internalFormat = options.internalFormat || options.format || RGBA;
      const formatType = getFormatAndTypeForInternalFormat(internalFormat);
      const format = options.format || formatType.format;
      const type = options.type || getTextureTypeForArrayType(gl, src, formatType.type);
      if (!isArrayBuffer$1(src)) {
        const Type = getTypedArrayTypeForGLType(type);
        src = new Type(src);
      } else if (src instanceof Uint8ClampedArray) {
        src = new Uint8Array(src.buffer);
      }

      const bytesPerElement = getBytesPerElementForInternalFormat(internalFormat, type);
      const numElements = src.byteLength / bytesPerElement;  // TODO: check UNPACK_ALIGNMENT?
      if (numElements % 1) {
        throw "length wrong size for format: " + glEnumToString(gl, format);
      }
      let dimensions;
      if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {
        if (!width && !height && !depth) {
          const size = Math.cbrt(numElements);
          if (size % 1 !== 0) {
            throw "can't guess cube size of array of numElements: " + numElements;
          }
          width = size;
          height = size;
          depth = size;
        } else if (width && (!height || !depth)) {
          dimensions = guessDimensions(gl, target, height, depth, numElements / width);
          height = dimensions.width;
          depth = dimensions.height;
        } else if (height && (!width || !depth)) {
          dimensions = guessDimensions(gl, target, width, depth, numElements / height);
          width = dimensions.width;
          depth = dimensions.height;
        } else {
          dimensions = guessDimensions(gl, target, width, height, numElements / depth);
          width = dimensions.width;
          height = dimensions.height;
        }
      } else {
        dimensions = guessDimensions(gl, target, width, height, numElements);
        width = dimensions.width;
        height = dimensions.height;
      }
      setSkipStateToDefault(gl);
      gl.pixelStorei(UNPACK_ALIGNMENT, options.unpackAlignment || 1);
      setPackState(gl, options);
      if (target === TEXTURE_CUBE_MAP) {
        const elementsPerElement = bytesPerElement / src.BYTES_PER_ELEMENT;
        const faceSize = numElements / 6 * elementsPerElement;

        getCubeFacesWithNdx(gl, options).forEach(f => {
          const offset = faceSize * f.ndx;
          const data = src.subarray(offset, offset + faceSize);
          gl.texImage2D(f.face, level, internalFormat, width, height, 0, format, type, data);
        });
      } else if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {
        gl.texImage3D(target, level, internalFormat, width, height, depth, 0, format, type, src);
      } else {
        gl.texImage2D(target, level, internalFormat, width, height, 0, format, type, src);
      }
      return {
        width: width,
        height: height,
        depth: depth,
        type: type,
      };
    }

    /**
     * Sets a texture with no contents of a certain size. In other words calls `gl.texImage2D` with `null`.
     * You must set `options.width` and `options.height`.
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {WebGLTexture} tex the WebGLTexture to set parameters for
     * @param {module:twgl.TextureOptions} options A TextureOptions object with whatever parameters you want set.
     * @memberOf module:twgl/textures
     */
    function setEmptyTexture(gl, tex, options) {
      const target = options.target || TEXTURE_2D;
      gl.bindTexture(target, tex);
      const level = options.level || 0;
      const internalFormat = options.internalFormat || options.format || RGBA;
      const formatType = getFormatAndTypeForInternalFormat(internalFormat);
      const format = options.format || formatType.format;
      const type = options.type || formatType.type;
      setPackState(gl, options);
      if (target === TEXTURE_CUBE_MAP) {
        for (let ii = 0; ii < 6; ++ii) {
          gl.texImage2D(TEXTURE_CUBE_MAP_POSITIVE_X + ii, level, internalFormat, options.width, options.height, 0, format, type, null);
        }
      } else if (target === TEXTURE_3D || target === TEXTURE_2D_ARRAY) {
        gl.texImage3D(target, level, internalFormat, options.width, options.height, options.depth, 0, format, type, null);
      } else {
        gl.texImage2D(target, level, internalFormat, options.width, options.height, 0, format, type, null);
      }
    }

    /**
     * Creates a texture based on the options passed in.
     *
     * Note: may reset UNPACK_ALIGNMENT, UNPACK_ROW_LENGTH, UNPACK_IMAGE_HEIGHT, UNPACK_SKIP_IMAGES
     * UNPACK_SKIP_PIXELS, and UNPACK_SKIP_ROWS
     *
     * @param {WebGLRenderingContext} gl the WebGLRenderingContext
     * @param {module:twgl.TextureOptions} [options] A TextureOptions object with whatever parameters you want set.
     * @param {module:twgl.TextureReadyCallback} [callback] A callback called when an image has been downloaded and uploaded to the texture.
     * @return {WebGLTexture} the created texture.
     * @memberOf module:twgl/textures
     */
    function createTexture(gl, options, callback) {
      callback = callback || noop;
      options = options || defaults$1.textureOptions;
      const tex = gl.createTexture();
      const target = options.target || TEXTURE_2D;
      let width  = options.width  || 1;
      let height = options.height || 1;
      const internalFormat = options.internalFormat || RGBA;
      gl.bindTexture(target, tex);
      if (target === TEXTURE_CUBE_MAP) {
        // this should have been the default for cubemaps :(
        gl.texParameteri(target, TEXTURE_WRAP_S, CLAMP_TO_EDGE);
        gl.texParameteri(target, TEXTURE_WRAP_T, CLAMP_TO_EDGE);
      }
      let src = options.src;
      if (src) {
        if (typeof src === "function") {
          src = src(gl, options);
        }
        if (typeof (src) === "string") {
          loadTextureFromUrl(gl, tex, options, callback);
        } else if (isArrayBuffer$1(src) ||
                   (Array.isArray(src) && (
                        typeof src[0] === 'number' ||
                        Array.isArray(src[0]) ||
                        isArrayBuffer$1(src[0]))
                   )
                  ) {
          const dimensions = setTextureFromArray(gl, tex, src, options);
          width  = dimensions.width;
          height = dimensions.height;
        } else if (Array.isArray(src) && (typeof (src[0]) === 'string' || isTexImageSource(src[0]))) {
          if (target === TEXTURE_CUBE_MAP) {
            loadCubemapFromUrls(gl, tex, options, callback);
          } else {
            loadSlicesFromUrls(gl, tex, options, callback);
          }
        } else { // if (isTexImageSource(src))
          setTextureFromElement(gl, tex, src, options);
          width  = src.width;
          height = src.height;
        }
      } else {
        setEmptyTexture(gl, tex, options);
      }
      if (shouldAutomaticallySetTextureFilteringForSize(options)) {
        setTextureFilteringForSize(gl, tex, options, width, height, internalFormat);
      }
      setTextureParameters(gl, tex, options);
      return tex;
    }

    /*
     * Copyright 2019 Gregg Tavares
     *
     * Permission is hereby granted, free of charge, to any person obtaining a
     * copy of this software and associated documentation files (the "Software"),
     * to deal in the Software without restriction, including without limitation
     * the rights to use, copy, modify, merge, publish, distribute, sublicense,
     * and/or sell copies of the Software, and to permit persons to whom the
     * Software is furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
     * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
     * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
     * DEALINGS IN THE SOFTWARE.
     */

    /**
     * Low level shader program related functions
     *
     * You should generally not need to use these functions. They are provided
     * for those cases where you're doing something out of the ordinary
     * and you need lower level access.
     *
     * For backward compatibility they are available at both `twgl.programs` and `twgl`
     * itself
     *
     * See {@link module:twgl} for core functions
     *
     * @module twgl/programs
     */

    const error$1 = error;
    function getElementById(id) {
      return (typeof document !== 'undefined' && document.getElementById)
          ? document.getElementById(id)
          : null;
    }

    const TEXTURE0                       = 0x84c0;

    const ARRAY_BUFFER$1                   = 0x8892;
    const ELEMENT_ARRAY_BUFFER$1           = 0x8893;

    const COMPILE_STATUS                 = 0x8b81;
    const LINK_STATUS                    = 0x8b82;
    const FRAGMENT_SHADER                = 0x8b30;
    const VERTEX_SHADER                  = 0x8b31;
    const SEPARATE_ATTRIBS               = 0x8c8d;

    const ACTIVE_UNIFORMS                = 0x8b86;
    const ACTIVE_ATTRIBUTES              = 0x8b89;
    const TRANSFORM_FEEDBACK_VARYINGS    = 0x8c83;
    const ACTIVE_UNIFORM_BLOCKS          = 0x8a36;
    const UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER   = 0x8a44;
    const UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER = 0x8a46;
    const UNIFORM_BLOCK_DATA_SIZE                     = 0x8a40;
    const UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES        = 0x8a43;

    const FLOAT$3                         = 0x1406;
    const FLOAT_VEC2                    = 0x8B50;
    const FLOAT_VEC3                    = 0x8B51;
    const FLOAT_VEC4                    = 0x8B52;
    const INT$3                           = 0x1404;
    const INT_VEC2                      = 0x8B53;
    const INT_VEC3                      = 0x8B54;
    const INT_VEC4                      = 0x8B55;
    const BOOL                          = 0x8B56;
    const BOOL_VEC2                     = 0x8B57;
    const BOOL_VEC3                     = 0x8B58;
    const BOOL_VEC4                     = 0x8B59;
    const FLOAT_MAT2                    = 0x8B5A;
    const FLOAT_MAT3                    = 0x8B5B;
    const FLOAT_MAT4                    = 0x8B5C;
    const SAMPLER_2D                    = 0x8B5E;
    const SAMPLER_CUBE                  = 0x8B60;
    const SAMPLER_3D                    = 0x8B5F;
    const SAMPLER_2D_SHADOW             = 0x8B62;
    const FLOAT_MAT2x3                  = 0x8B65;
    const FLOAT_MAT2x4                  = 0x8B66;
    const FLOAT_MAT3x2                  = 0x8B67;
    const FLOAT_MAT3x4                  = 0x8B68;
    const FLOAT_MAT4x2                  = 0x8B69;
    const FLOAT_MAT4x3                  = 0x8B6A;
    const SAMPLER_2D_ARRAY              = 0x8DC1;
    const SAMPLER_2D_ARRAY_SHADOW       = 0x8DC4;
    const SAMPLER_CUBE_SHADOW           = 0x8DC5;
    const UNSIGNED_INT$3                  = 0x1405;
    const UNSIGNED_INT_VEC2             = 0x8DC6;
    const UNSIGNED_INT_VEC3             = 0x8DC7;
    const UNSIGNED_INT_VEC4             = 0x8DC8;
    const INT_SAMPLER_2D                = 0x8DCA;
    const INT_SAMPLER_3D                = 0x8DCB;
    const INT_SAMPLER_CUBE              = 0x8DCC;
    const INT_SAMPLER_2D_ARRAY          = 0x8DCF;
    const UNSIGNED_INT_SAMPLER_2D       = 0x8DD2;
    const UNSIGNED_INT_SAMPLER_3D       = 0x8DD3;
    const UNSIGNED_INT_SAMPLER_CUBE     = 0x8DD4;
    const UNSIGNED_INT_SAMPLER_2D_ARRAY = 0x8DD7;

    const TEXTURE_2D$1                    = 0x0DE1;
    const TEXTURE_CUBE_MAP$1              = 0x8513;
    const TEXTURE_3D$1                    = 0x806F;
    const TEXTURE_2D_ARRAY$1              = 0x8C1A;

    const typeMap = {};

    /**
     * Returns the corresponding bind point for a given sampler type
     */
    function getBindPointForSamplerType(gl, type) {
      return typeMap[type].bindPoint;
    }

    // This kind of sucks! If you could compose functions as in `var fn = gl[name];`
    // this code could be a lot smaller but that is sadly really slow (T_T)

    function floatSetter(gl, location) {
      return function(v) {
        gl.uniform1f(location, v);
      };
    }

    function floatArraySetter(gl, location) {
      return function(v) {
        gl.uniform1fv(location, v);
      };
    }

    function floatVec2Setter(gl, location) {
      return function(v) {
        gl.uniform2fv(location, v);
      };
    }

    function floatVec3Setter(gl, location) {
      return function(v) {
        gl.uniform3fv(location, v);
      };
    }

    function floatVec4Setter(gl, location) {
      return function(v) {
        gl.uniform4fv(location, v);
      };
    }

    function intSetter(gl, location) {
      return function(v) {
        gl.uniform1i(location, v);
      };
    }

    function intArraySetter(gl, location) {
      return function(v) {
        gl.uniform1iv(location, v);
      };
    }

    function intVec2Setter(gl, location) {
      return function(v) {
        gl.uniform2iv(location, v);
      };
    }

    function intVec3Setter(gl, location) {
      return function(v) {
        gl.uniform3iv(location, v);
      };
    }

    function intVec4Setter(gl, location) {
      return function(v) {
        gl.uniform4iv(location, v);
      };
    }

    function uintSetter(gl, location) {
      return function(v) {
        gl.uniform1ui(location, v);
      };
    }

    function uintArraySetter(gl, location) {
      return function(v) {
        gl.uniform1uiv(location, v);
      };
    }

    function uintVec2Setter(gl, location) {
      return function(v) {
        gl.uniform2uiv(location, v);
      };
    }

    function uintVec3Setter(gl, location) {
      return function(v) {
        gl.uniform3uiv(location, v);
      };
    }

    function uintVec4Setter(gl, location) {
      return function(v) {
        gl.uniform4uiv(location, v);
      };
    }

    function floatMat2Setter(gl, location) {
      return function(v) {
        gl.uniformMatrix2fv(location, false, v);
      };
    }

    function floatMat3Setter(gl, location) {
      return function(v) {
        gl.uniformMatrix3fv(location, false, v);
      };
    }

    function floatMat4Setter(gl, location) {
      return function(v) {
        gl.uniformMatrix4fv(location, false, v);
      };
    }

    function floatMat23Setter(gl, location) {
      return function(v) {
        gl.uniformMatrix2x3fv(location, false, v);
      };
    }

    function floatMat32Setter(gl, location) {
      return function(v) {
        gl.uniformMatrix3x2fv(location, false, v);
      };
    }

    function floatMat24Setter(gl, location) {
      return function(v) {
        gl.uniformMatrix2x4fv(location, false, v);
      };
    }

    function floatMat42Setter(gl, location) {
      return function(v) {
        gl.uniformMatrix4x2fv(location, false, v);
      };
    }

    function floatMat34Setter(gl, location) {
      return function(v) {
        gl.uniformMatrix3x4fv(location, false, v);
      };
    }

    function floatMat43Setter(gl, location) {
      return function(v) {
        gl.uniformMatrix4x3fv(location, false, v);
      };
    }

    function samplerSetter(gl, type, unit, location) {
      const bindPoint = getBindPointForSamplerType(gl, type);
      return isWebGL2(gl) ? function(textureOrPair) {
        let texture;
        let sampler;
        if (isTexture(gl, textureOrPair)) {
          texture = textureOrPair;
          sampler = null;
        } else {
          texture = textureOrPair.texture;
          sampler = textureOrPair.sampler;
        }
        gl.uniform1i(location, unit);
        gl.activeTexture(TEXTURE0 + unit);
        gl.bindTexture(bindPoint, texture);
        gl.bindSampler(unit, sampler);
      } : function(texture) {
        gl.uniform1i(location, unit);
        gl.activeTexture(TEXTURE0 + unit);
        gl.bindTexture(bindPoint, texture);
      };
    }

    function samplerArraySetter(gl, type, unit, location, size) {
      const bindPoint = getBindPointForSamplerType(gl, type);
      const units = new Int32Array(size);
      for (let ii = 0; ii < size; ++ii) {
        units[ii] = unit + ii;
      }

      return isWebGL2(gl) ? function(textures) {
        gl.uniform1iv(location, units);
        textures.forEach(function(textureOrPair, index) {
          gl.activeTexture(TEXTURE0 + units[index]);
          let texture;
          let sampler;
          if (isTexture(gl, textureOrPair)) {
            texture = textureOrPair;
            sampler = null;
          } else {
            texture = textureOrPair.texture;
            sampler = textureOrPair.sampler;
          }
          gl.bindSampler(unit, sampler);
          gl.bindTexture(bindPoint, texture);
        });
      } : function(textures) {
        gl.uniform1iv(location, units);
        textures.forEach(function(texture, index) {
          gl.activeTexture(TEXTURE0 + units[index]);
          gl.bindTexture(bindPoint, texture);
        });
      };
    }

    typeMap[FLOAT$3]                         = { Type: Float32Array, size:  4, setter: floatSetter,      arraySetter: floatArraySetter, };
    typeMap[FLOAT_VEC2]                    = { Type: Float32Array, size:  8, setter: floatVec2Setter,  cols: 2, };
    typeMap[FLOAT_VEC3]                    = { Type: Float32Array, size: 12, setter: floatVec3Setter,  cols: 3, };
    typeMap[FLOAT_VEC4]                    = { Type: Float32Array, size: 16, setter: floatVec4Setter,  cols: 4, };
    typeMap[INT$3]                           = { Type: Int32Array,   size:  4, setter: intSetter,        arraySetter: intArraySetter, };
    typeMap[INT_VEC2]                      = { Type: Int32Array,   size:  8, setter: intVec2Setter,    cols: 2, };
    typeMap[INT_VEC3]                      = { Type: Int32Array,   size: 12, setter: intVec3Setter,    cols: 3, };
    typeMap[INT_VEC4]                      = { Type: Int32Array,   size: 16, setter: intVec4Setter,    cols: 4, };
    typeMap[UNSIGNED_INT$3]                  = { Type: Uint32Array,  size:  4, setter: uintSetter,       arraySetter: uintArraySetter, };
    typeMap[UNSIGNED_INT_VEC2]             = { Type: Uint32Array,  size:  8, setter: uintVec2Setter,   cols: 2, };
    typeMap[UNSIGNED_INT_VEC3]             = { Type: Uint32Array,  size: 12, setter: uintVec3Setter,   cols: 3, };
    typeMap[UNSIGNED_INT_VEC4]             = { Type: Uint32Array,  size: 16, setter: uintVec4Setter,   cols: 4, };
    typeMap[BOOL]                          = { Type: Uint32Array,  size:  4, setter: intSetter,        arraySetter: intArraySetter, };
    typeMap[BOOL_VEC2]                     = { Type: Uint32Array,  size:  8, setter: intVec2Setter,    cols: 2, };
    typeMap[BOOL_VEC3]                     = { Type: Uint32Array,  size: 12, setter: intVec3Setter,    cols: 3, };
    typeMap[BOOL_VEC4]                     = { Type: Uint32Array,  size: 16, setter: intVec4Setter,    cols: 4, };
    typeMap[FLOAT_MAT2]                    = { Type: Float32Array, size: 32, setter: floatMat2Setter,  rows: 2, cols: 2, };
    typeMap[FLOAT_MAT3]                    = { Type: Float32Array, size: 48, setter: floatMat3Setter,  rows: 3, cols: 3, };
    typeMap[FLOAT_MAT4]                    = { Type: Float32Array, size: 64, setter: floatMat4Setter,  rows: 4, cols: 4, };
    typeMap[FLOAT_MAT2x3]                  = { Type: Float32Array, size: 32, setter: floatMat23Setter, rows: 2, cols: 3, };
    typeMap[FLOAT_MAT2x4]                  = { Type: Float32Array, size: 32, setter: floatMat24Setter, rows: 2, cols: 4, };
    typeMap[FLOAT_MAT3x2]                  = { Type: Float32Array, size: 48, setter: floatMat32Setter, rows: 3, cols: 2, };
    typeMap[FLOAT_MAT3x4]                  = { Type: Float32Array, size: 48, setter: floatMat34Setter, rows: 3, cols: 4, };
    typeMap[FLOAT_MAT4x2]                  = { Type: Float32Array, size: 64, setter: floatMat42Setter, rows: 4, cols: 2, };
    typeMap[FLOAT_MAT4x3]                  = { Type: Float32Array, size: 64, setter: floatMat43Setter, rows: 4, cols: 3, };
    typeMap[SAMPLER_2D]                    = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };
    typeMap[SAMPLER_CUBE]                  = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP$1, };
    typeMap[SAMPLER_3D]                    = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_3D$1,       };
    typeMap[SAMPLER_2D_SHADOW]             = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };
    typeMap[SAMPLER_2D_ARRAY]              = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY$1, };
    typeMap[SAMPLER_2D_ARRAY_SHADOW]       = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY$1, };
    typeMap[SAMPLER_CUBE_SHADOW]           = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP$1, };
    typeMap[INT_SAMPLER_2D]                = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };
    typeMap[INT_SAMPLER_3D]                = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_3D$1,       };
    typeMap[INT_SAMPLER_CUBE]              = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP$1, };
    typeMap[INT_SAMPLER_2D_ARRAY]          = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY$1, };
    typeMap[UNSIGNED_INT_SAMPLER_2D]       = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D$1,       };
    typeMap[UNSIGNED_INT_SAMPLER_3D]       = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_3D$1,       };
    typeMap[UNSIGNED_INT_SAMPLER_CUBE]     = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_CUBE_MAP$1, };
    typeMap[UNSIGNED_INT_SAMPLER_2D_ARRAY] = { Type: null,         size:  0, setter: samplerSetter,    arraySetter: samplerArraySetter, bindPoint: TEXTURE_2D_ARRAY$1, };

    function floatAttribSetter(gl, index) {
      return function(b) {
        if (b.value) {
          gl.disableVertexAttribArray(index);
          switch (b.value.length) {
            case 4:
              gl.vertexAttrib4fv(index, b.value);
              break;
            case 3:
              gl.vertexAttrib3fv(index, b.value);
              break;
            case 2:
              gl.vertexAttrib2fv(index, b.value);
              break;
            case 1:
              gl.vertexAttrib1fv(index, b.value);
              break;
            default:
              throw new Error('the length of a float constant value must be between 1 and 4!');
          }
        } else {
          gl.bindBuffer(ARRAY_BUFFER$1, b.buffer);
          gl.enableVertexAttribArray(index);
          gl.vertexAttribPointer(
              index, b.numComponents || b.size, b.type || FLOAT$3, b.normalize || false, b.stride || 0, b.offset || 0);
          if (b.divisor !== undefined) {
            gl.vertexAttribDivisor(index, b.divisor);
          }
        }
      };
    }

    function intAttribSetter(gl, index) {
      return function(b) {
        if (b.value) {
          gl.disableVertexAttribArray(index);
          if (b.value.length === 4) {
            gl.vertexAttrib4iv(index, b.value);
          } else {
            throw new Error('The length of an integer constant value must be 4!');
          }
        } else {
          gl.bindBuffer(ARRAY_BUFFER$1, b.buffer);
          gl.enableVertexAttribArray(index);
          gl.vertexAttribIPointer(
              index, b.numComponents || b.size, b.type || INT$3, b.stride || 0, b.offset || 0);
          if (b.divisor !== undefined) {
            gl.vertexAttribDivisor(index, b.divisor);
          }
        }
      };
    }

    function uintAttribSetter(gl, index) {
      return function(b) {
        if (b.value) {
          gl.disableVertexAttribArray(index);
          if (b.value.length === 4) {
            gl.vertexAttrib4uiv(index, b.value);
          } else {
            throw new Error('The length of an unsigned integer constant value must be 4!');
          }
        } else {
          gl.bindBuffer(ARRAY_BUFFER$1, b.buffer);
          gl.enableVertexAttribArray(index);
          gl.vertexAttribIPointer(
              index, b.numComponents || b.size, b.type || UNSIGNED_INT$3, b.stride || 0, b.offset || 0);
          if (b.divisor !== undefined) {
            gl.vertexAttribDivisor(index, b.divisor);
          }
        }
      };
    }

    function matAttribSetter(gl, index, typeInfo) {
      const defaultSize = typeInfo.size;
      const count = typeInfo.count;

      return function(b) {
        gl.bindBuffer(ARRAY_BUFFER$1, b.buffer);
        const numComponents = b.size || b.numComponents || defaultSize;
        const size = numComponents / count;
        const type = b.type || FLOAT$3;
        const typeInfo = typeMap[type];
        const stride = typeInfo.size * numComponents;
        const normalize = b.normalize || false;
        const offset = b.offset || 0;
        const rowOffset = stride / count;
        for (let i = 0; i < count; ++i) {
          gl.enableVertexAttribArray(index + i);
          gl.vertexAttribPointer(
              index + i, size, type, normalize, stride, offset + rowOffset * i);
          if (b.divisor !== undefined) {
            gl.vertexAttribDivisor(index + i, b.divisor);
          }
        }
      };
    }



    const attrTypeMap = {};
    attrTypeMap[FLOAT$3]             = { size:  4, setter: floatAttribSetter, };
    attrTypeMap[FLOAT_VEC2]        = { size:  8, setter: floatAttribSetter, };
    attrTypeMap[FLOAT_VEC3]        = { size: 12, setter: floatAttribSetter, };
    attrTypeMap[FLOAT_VEC4]        = { size: 16, setter: floatAttribSetter, };
    attrTypeMap[INT$3]               = { size:  4, setter: intAttribSetter,   };
    attrTypeMap[INT_VEC2]          = { size:  8, setter: intAttribSetter,   };
    attrTypeMap[INT_VEC3]          = { size: 12, setter: intAttribSetter,   };
    attrTypeMap[INT_VEC4]          = { size: 16, setter: intAttribSetter,   };
    attrTypeMap[UNSIGNED_INT$3]      = { size:  4, setter: uintAttribSetter,  };
    attrTypeMap[UNSIGNED_INT_VEC2] = { size:  8, setter: uintAttribSetter,  };
    attrTypeMap[UNSIGNED_INT_VEC3] = { size: 12, setter: uintAttribSetter,  };
    attrTypeMap[UNSIGNED_INT_VEC4] = { size: 16, setter: uintAttribSetter,  };
    attrTypeMap[BOOL]              = { size:  4, setter: intAttribSetter,   };
    attrTypeMap[BOOL_VEC2]         = { size:  8, setter: intAttribSetter,   };
    attrTypeMap[BOOL_VEC3]         = { size: 12, setter: intAttribSetter,   };
    attrTypeMap[BOOL_VEC4]         = { size: 16, setter: intAttribSetter,   };
    attrTypeMap[FLOAT_MAT2]        = { size:  4, setter: matAttribSetter,   count: 2, };
    attrTypeMap[FLOAT_MAT3]        = { size:  9, setter: matAttribSetter,   count: 3, };
    attrTypeMap[FLOAT_MAT4]        = { size: 16, setter: matAttribSetter,   count: 4, };

    const errorRE = /ERROR:\s*\d+:(\d+)/gi;
    function addLineNumbersWithError(src, log = '', lineOffset = 0) {
      // Note: Error message formats are not defined by any spec so this may or may not work.
      const matches = [...log.matchAll(errorRE)];
      const lineNoToErrorMap = new Map(matches.map((m, ndx) => {
        const lineNo = parseInt(m[1]);
        const next = matches[ndx + 1];
        const end = next ? next.index : log.length;
        const msg = log.substring(m.index, end);
        return [lineNo - 1, msg];
      }));
      return src.split('\n').map((line, lineNo) => {
        const err = lineNoToErrorMap.get(lineNo);
        return `${lineNo + 1 + lineOffset}: ${line}${err ? `\n\n^^^ ${err}` : ''}`;
      }).join('\n');
    }

    /**
     * Error Callback
     * @callback ErrorCallback
     * @param {string} msg error message.
     * @param {number} [lineOffset] amount to add to line number
     * @memberOf module:twgl
     */

    const spaceRE = /^[ \t]*\n/;

    /**
     * Loads a shader.
     * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.
     * @param {string} shaderSource The shader source.
     * @param {number} shaderType The type of shader.
     * @param {module:twgl.ErrorCallback} opt_errorCallback callback for errors.
     * @return {WebGLShader} The created shader.
     * @private
     */
    function loadShader(gl, shaderSource, shaderType, opt_errorCallback) {
      const errFn = opt_errorCallback || error$1;
      // Create the shader object
      const shader = gl.createShader(shaderType);

      // Remove the first end of line because WebGL 2.0 requires
      // #version 300 es
      // as the first line. No whitespace allowed before that line
      // so
      //
      // <script>
      // #version 300 es
      // </script>
      //
      // Has one line before it which is invalid according to GLSL ES 3.00
      //
      let lineOffset = 0;
      if (spaceRE.test(shaderSource)) {
        lineOffset = 1;
        shaderSource = shaderSource.replace(spaceRE, '');
      }

      // Load the shader source
      gl.shaderSource(shader, shaderSource);

      // Compile the shader
      gl.compileShader(shader);

      // Check the compile status
      const compiled = gl.getShaderParameter(shader, COMPILE_STATUS);
      if (!compiled) {
        // Something went wrong during compilation; get the error
        const lastError = gl.getShaderInfoLog(shader);
        errFn(`${addLineNumbersWithError(shaderSource, lastError, lineOffset)}\nError compiling ${glEnumToString(gl, shaderType)}: ${lastError}`);
        gl.deleteShader(shader);
        return null;
      }

      return shader;
    }

    /**
     * @typedef {Object} ProgramOptions
     * @property {function(string)} [errorCallback] callback for errors
     * @property {Object.<string,number>} [attribLocations] a attribute name to location map
     * @property {(module:twgl.BufferInfo|Object.<string,module:twgl.AttribInfo>|string[])} [transformFeedbackVaryings] If passed
     *   a BufferInfo will use the attribs names inside. If passed an object of AttribInfos will use the names from that object. Otherwise
     *   you can pass an array of names.
     * @property {number} [transformFeedbackMode] the mode to pass `gl.transformFeedbackVaryings`. Defaults to `SEPARATE_ATTRIBS`.
     * @memberOf module:twgl
     */

    /**
     * Gets the program options based on all these optional arguments
     * @param {module:twgl.ProgramOptions|string[]} [opt_attribs] Options for the program or an array of attribs names. Locations will be assigned by index if not passed in
     * @param {number[]} [opt_locations] The locations for the. A parallel array to opt_attribs letting you assign locations.
     * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console
     *        on error. If you want something else pass an callback. It's passed an error message.
     * @return {module:twgl.ProgramOptions} an instance of ProgramOptions based on the arguments passed in
     * @private
     */
    function getProgramOptions(opt_attribs, opt_locations, opt_errorCallback) {
      let transformFeedbackVaryings;
      let transformFeedbackMode;
      if (typeof opt_locations === 'function') {
        opt_errorCallback = opt_locations;
        opt_locations = undefined;
      }
      if (typeof opt_attribs === 'function') {
        opt_errorCallback = opt_attribs;
        opt_attribs = undefined;
      } else if (opt_attribs && !Array.isArray(opt_attribs)) {
        // If we have an errorCallback we can just return this object
        // Otherwise we need to construct one with default errorCallback
        if (opt_attribs.errorCallback) {
          return opt_attribs;
        }
        const opt = opt_attribs;
        opt_errorCallback = opt.errorCallback;
        opt_attribs = opt.attribLocations;
        transformFeedbackVaryings = opt.transformFeedbackVaryings;
        transformFeedbackMode = opt.transformFeedbackMode;
      }

      const options = {
        errorCallback: opt_errorCallback || error$1,
        transformFeedbackVaryings: transformFeedbackVaryings,
        transformFeedbackMode: transformFeedbackMode,
      };

      if (opt_attribs) {
        let attribLocations = {};
        if (Array.isArray(opt_attribs)) {
          opt_attribs.forEach(function(attrib,  ndx) {
            attribLocations[attrib] = opt_locations ? opt_locations[ndx] : ndx;
          });
        } else {
          attribLocations = opt_attribs;
        }
        options.attribLocations = attribLocations;
      }

      return options;
    }

    const defaultShaderType = [
      "VERTEX_SHADER",
      "FRAGMENT_SHADER",
    ];

    function getShaderTypeFromScriptType(gl, scriptType) {
      if (scriptType.indexOf("frag") >= 0) {
        return FRAGMENT_SHADER;
      } else if (scriptType.indexOf("vert") >= 0) {
        return VERTEX_SHADER;
      }
      return undefined;
    }

    function deleteShaders(gl, shaders) {
      shaders.forEach(function(shader) {
        gl.deleteShader(shader);
      });
    }

    /**
     * Creates a program, attaches (and/or compiles) shaders, binds attrib locations, links the
     * program and calls useProgram.
     *
     * NOTE: There are 4 signatures for this function
     *
     *     twgl.createProgram(gl, [vs, fs], options);
     *     twgl.createProgram(gl, [vs, fs], opt_errFunc);
     *     twgl.createProgram(gl, [vs, fs], opt_attribs, opt_errFunc);
     *     twgl.createProgram(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);
     *
     * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.
     * @param {WebGLShader[]|string[]} shaders The shaders to attach, or element ids for their source, or strings that contain their source
     * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in
     * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.
     * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console
     *        on error. If you want something else pass an callback. It's passed an error message.
     * @return {WebGLProgram?} the created program or null if error.
     * @memberOf module:twgl/programs
     */
    function createProgram(
        gl, shaders, opt_attribs, opt_locations, opt_errorCallback) {
      const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);
      const realShaders = [];
      const newShaders = [];
      for (let ndx = 0; ndx < shaders.length; ++ndx) {
        let shader = shaders[ndx];
        if (typeof (shader) === 'string') {
          const elem = getElementById(shader);
          const src = elem ? elem.text : shader;
          let type = gl[defaultShaderType[ndx]];
          if (elem && elem.type) {
            type = getShaderTypeFromScriptType(gl, elem.type) || type;
          }
          shader = loadShader(gl, src, type, progOptions.errorCallback);
          newShaders.push(shader);
        }
        if (isShader(gl, shader)) {
          realShaders.push(shader);
        }
      }

      if (realShaders.length !== shaders.length) {
        progOptions.errorCallback("not enough shaders for program");
        deleteShaders(gl, newShaders);
        return null;
      }

      const program = gl.createProgram();
      realShaders.forEach(function(shader) {
        gl.attachShader(program, shader);
      });
      if (progOptions.attribLocations) {
        Object.keys(progOptions.attribLocations).forEach(function(attrib) {
          gl.bindAttribLocation(program, progOptions.attribLocations[attrib], attrib);
        });
      }
      let varyings = progOptions.transformFeedbackVaryings;
      if (varyings) {
        if (varyings.attribs) {
          varyings = varyings.attribs;
        }
        if (!Array.isArray(varyings)) {
          varyings = Object.keys(varyings);
        }
        gl.transformFeedbackVaryings(program, varyings, progOptions.transformFeedbackMode || SEPARATE_ATTRIBS);
      }
      gl.linkProgram(program);

      // Check the link status
      const linked = gl.getProgramParameter(program, LINK_STATUS);
      if (!linked) {
        // something went wrong with the link
        const lastError = gl.getProgramInfoLog(program);
        progOptions.errorCallback(`${
      realShaders.map(shader => {
        const src = addLineNumbersWithError(gl.getShaderSource(shader), '', 0);
        const type = gl.getShaderParameter(shader, gl.SHADER_TYPE);
        return `${glEnumToString(gl, type)}\n${src}}`;
      }).join('\n')
    }\nError in program linking: ${lastError}`);

        gl.deleteProgram(program);
        deleteShaders(gl, newShaders);
        return null;
      }
      return program;
    }

    /**
     * Creates a program from 2 sources.
     *
     * NOTE: There are 4 signatures for this function
     *
     *     twgl.createProgramFromSource(gl, [vs, fs], opt_options);
     *     twgl.createProgramFromSource(gl, [vs, fs], opt_errFunc);
     *     twgl.createProgramFromSource(gl, [vs, fs], opt_attribs, opt_errFunc);
     *     twgl.createProgramFromSource(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);
     *
     * @param {WebGLRenderingContext} gl The WebGLRenderingContext
     *        to use.
     * @param {string[]} shaderSources Array of sources for the
     *        shaders. The first is assumed to be the vertex shader,
     *        the second the fragment shader.
     * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in
     * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.
     * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console
     *        on error. If you want something else pass an callback. It's passed an error message.
     * @return {WebGLProgram?} the created program or null if error.
     * @memberOf module:twgl/programs
     */
    function createProgramFromSources(
        gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback) {
      const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);
      const shaders = [];
      for (let ii = 0; ii < shaderSources.length; ++ii) {
        const shader = loadShader(
            gl, shaderSources[ii], gl[defaultShaderType[ii]], progOptions.errorCallback);
        if (!shader) {
          return null;
        }
        shaders.push(shader);
      }
      return createProgram(gl, shaders, progOptions);
    }

    /**
     * Returns true if attribute/uniform is a reserved/built in
     *
     * It makes no sense to me why GL returns these because it's
     * illegal to call `gl.getUniformLocation` and `gl.getAttribLocation`
     * with names that start with `gl_` (and `webgl_` in WebGL)
     *
     * I can only assume they are there because they might count
     * when computing the number of uniforms/attributes used when you want to
     * know if you are near the limit. That doesn't really make sense
     * to me but the fact that these get returned are in the spec.
     *
     * @param {WebGLActiveInfo} info As returned from `gl.getActiveUniform` or
     *    `gl.getActiveAttrib`.
     * @return {bool} true if it's reserved
     * @private
     */
    function isBuiltIn(info) {
      const name = info.name;
      return name.startsWith("gl_") || name.startsWith("webgl_");
    }

    const tokenRE = /(\.|\[|]|\w+)/g;
    const isDigit = s => s >= '0' && s <= '9';
    function addSetterToUniformTree(fullPath, setter, node, uniformSetters) {
      const tokens = fullPath.split(tokenRE).filter(s => s !== '');
      let tokenNdx = 0;
      let path = '';

      for (;;) {
        const token = tokens[tokenNdx++];  // has to be name or number
        path += token;
        const isArrayIndex = isDigit(token[0]);
        const accessor = isArrayIndex
            ? parseInt(token)
            : token;
        if (isArrayIndex) {
          path += tokens[tokenNdx++];  // skip ']'
        }
        const isLastToken = tokenNdx === tokens.length;
        if (isLastToken) {
          node[accessor] = setter;
          break;
        } else {
          const token = tokens[tokenNdx++];  // has to be . or [
          const isArray = token === '[';
          const child = node[accessor] || (isArray ? [] : {});
          node[accessor] = child;
          node = child;
          uniformSetters[path] = uniformSetters[path] || function(node) {
            return function(value) {
              setUniformTree(node, value);
            };
          }(child);
          path += token;
        }
      }
    }

    /**
     * Creates setter functions for all uniforms of a shader
     * program.
     *
     * @see {@link module:twgl.setUniforms}
     *
     * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.
     * @param {WebGLProgram} program the program to create setters for.
     * @returns {Object.<string, function>} an object with a setter by name for each uniform
     * @memberOf module:twgl/programs
     */
    function createUniformSetters(gl, program) {
      let textureUnit = 0;

      /**
       * Creates a setter for a uniform of the given program with it's
       * location embedded in the setter.
       * @param {WebGLProgram} program
       * @param {WebGLUniformInfo} uniformInfo
       * @returns {function} the created setter.
       */
      function createUniformSetter(program, uniformInfo, location) {
        const isArray = uniformInfo.name.endsWith("[0]");
        const type = uniformInfo.type;
        const typeInfo = typeMap[type];
        if (!typeInfo) {
          throw new Error(`unknown type: 0x${type.toString(16)}`); // we should never get here.
        }
        let setter;
        if (typeInfo.bindPoint) {
          // it's a sampler
          const unit = textureUnit;
          textureUnit += uniformInfo.size;
          if (isArray) {
            setter = typeInfo.arraySetter(gl, type, unit, location, uniformInfo.size);
          } else {
            setter = typeInfo.setter(gl, type, unit, location, uniformInfo.size);
          }
        } else {
          if (typeInfo.arraySetter && isArray) {
            setter = typeInfo.arraySetter(gl, location);
          } else {
            setter = typeInfo.setter(gl, location);
          }
        }
        setter.location = location;
        return setter;
      }

      const uniformSetters = {};
      const uniformTree = {};
      const numUniforms = gl.getProgramParameter(program, ACTIVE_UNIFORMS);

      for (let ii = 0; ii < numUniforms; ++ii) {
        const uniformInfo = gl.getActiveUniform(program, ii);
        if (isBuiltIn(uniformInfo)) {
          continue;
        }
        let name = uniformInfo.name;
        // remove the array suffix.
        if (name.endsWith("[0]")) {
          name = name.substr(0, name.length - 3);
        }
        const location = gl.getUniformLocation(program, uniformInfo.name);
        // the uniform will have no location if it's in a uniform block
        if (location) {
          const setter = createUniformSetter(program, uniformInfo, location);
          uniformSetters[name] = setter;
          addSetterToUniformTree(name, setter, uniformTree, uniformSetters);
        }
      }

      return uniformSetters;
    }

    /**
     * @typedef {Object} TransformFeedbackInfo
     * @property {number} index index of transform feedback
     * @property {number} type GL type
     * @property {number} size 1 - 4
     * @memberOf module:twgl
     */

    /**
     * Create TransformFeedbackInfo for passing to bindTransformFeedbackInfo.
     * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.
     * @param {WebGLProgram} program an existing WebGLProgram.
     * @return {Object<string, module:twgl.TransformFeedbackInfo>}
     * @memberOf module:twgl
     */
    function createTransformFeedbackInfo(gl, program) {
      const info = {};
      const numVaryings = gl.getProgramParameter(program, TRANSFORM_FEEDBACK_VARYINGS);
      for (let ii = 0; ii < numVaryings; ++ii) {
        const varying = gl.getTransformFeedbackVarying(program, ii);
        info[varying.name] = {
          index: ii,
          type: varying.type,
          size: varying.size,
        };
      }
      return info;
    }

    /**
     * @typedef {Object} UniformData
     * @property {string} name The name of the uniform
     * @property {number} type The WebGL type enum for this uniform
     * @property {number} size The number of elements for this uniform
     * @property {number} blockNdx The block index this uniform appears in
     * @property {number} offset The byte offset in the block for this uniform's value
     * @memberOf module:twgl
     */

    /**
     * The specification for one UniformBlockObject
     *
     * @typedef {Object} BlockSpec
     * @property {number} index The index of the block.
     * @property {number} size The size in bytes needed for the block
     * @property {number[]} uniformIndices The indices of the uniforms used by the block. These indices
     *    correspond to entries in a UniformData array in the {@link module:twgl.UniformBlockSpec}.
     * @property {bool} usedByVertexShader Self explanatory
     * @property {bool} usedByFragmentShader Self explanatory
     * @property {bool} used Self explanatory
     * @memberOf module:twgl
     */

    /**
     * A `UniformBlockSpec` represents the data needed to create and bind
     * UniformBlockObjects for a given program
     *
     * @typedef {Object} UniformBlockSpec
     * @property {Object.<string, module:twgl.BlockSpec>} blockSpecs The BlockSpec for each block by block name
     * @property {UniformData[]} uniformData An array of data for each uniform by uniform index.
     * @memberOf module:twgl
     */

    /**
     * Creates a UniformBlockSpec for the given program.
     *
     * A UniformBlockSpec represents the data needed to create and bind
     * UniformBlockObjects
     *
     * @param {WebGL2RenderingContext} gl A WebGL2 Rendering Context
     * @param {WebGLProgram} program A WebGLProgram for a successfully linked program
     * @return {module:twgl.UniformBlockSpec} The created UniformBlockSpec
     * @memberOf module:twgl/programs
     */
    function createUniformBlockSpecFromProgram(gl, program) {
      const numUniforms = gl.getProgramParameter(program, ACTIVE_UNIFORMS);
      const uniformData = [];
      const uniformIndices = [];

      for (let ii = 0; ii < numUniforms; ++ii) {
        uniformIndices.push(ii);
        uniformData.push({});
        const uniformInfo = gl.getActiveUniform(program, ii);
        uniformData[ii].name = uniformInfo.name;
      }

      [
        [ "UNIFORM_TYPE", "type" ],
        [ "UNIFORM_SIZE", "size" ],  // num elements
        [ "UNIFORM_BLOCK_INDEX", "blockNdx" ],
        [ "UNIFORM_OFFSET", "offset", ],
      ].forEach(function(pair) {
        const pname = pair[0];
        const key = pair[1];
        gl.getActiveUniforms(program, uniformIndices, gl[pname]).forEach(function(value, ndx) {
          uniformData[ndx][key] = value;
        });
      });

      const blockSpecs = {};

      const numUniformBlocks = gl.getProgramParameter(program, ACTIVE_UNIFORM_BLOCKS);
      for (let ii = 0; ii < numUniformBlocks; ++ii) {
        const name = gl.getActiveUniformBlockName(program, ii);
        const blockSpec = {
          index: gl.getUniformBlockIndex(program, name),
          usedByVertexShader: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),
          usedByFragmentShader: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),
          size: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_DATA_SIZE),
          uniformIndices: gl.getActiveUniformBlockParameter(program, ii, UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES),
        };
        blockSpec.used = blockSpec.usedByVertexShader || blockSpec.usedByFragmentShader;
        blockSpecs[name] = blockSpec;
      }

      return {
        blockSpecs: blockSpecs,
        uniformData: uniformData,
      };
    }

    function setUniformTree(tree, values) {
      for (const name in values) {
        const prop = tree[name];
        if (typeof prop === 'function') {
          prop(values[name]);
        } else {
          setUniformTree(tree[name], values[name]);
        }
      }
    }

    /**
     * Set uniforms and binds related textures.
     *
     * example:
     *
     *     const programInfo = createProgramInfo(
     *         gl, ["some-vs", "some-fs"]);
     *
     *     const tex1 = gl.createTexture();
     *     const tex2 = gl.createTexture();
     *
     *     ... assume we setup the textures with data ...
     *
     *     const uniforms = {
     *       u_someSampler: tex1,
     *       u_someOtherSampler: tex2,
     *       u_someColor: [1,0,0,1],
     *       u_somePosition: [0,1,1],
     *       u_someMatrix: [
     *         1,0,0,0,
     *         0,1,0,0,
     *         0,0,1,0,
     *         0,0,0,0,
     *       ],
     *     };
     *
     *     gl.useProgram(program);
     *
     * This will automatically bind the textures AND set the
     * uniforms.
     *
     *     twgl.setUniforms(programInfo, uniforms);
     *
     * For the example above it is equivalent to
     *
     *     var texUnit = 0;
     *     gl.activeTexture(gl.TEXTURE0 + texUnit);
     *     gl.bindTexture(gl.TEXTURE_2D, tex1);
     *     gl.uniform1i(u_someSamplerLocation, texUnit++);
     *     gl.activeTexture(gl.TEXTURE0 + texUnit);
     *     gl.bindTexture(gl.TEXTURE_2D, tex2);
     *     gl.uniform1i(u_someSamplerLocation, texUnit++);
     *     gl.uniform4fv(u_someColorLocation, [1, 0, 0, 1]);
     *     gl.uniform3fv(u_somePositionLocation, [0, 1, 1]);
     *     gl.uniformMatrix4fv(u_someMatrix, false, [
     *         1,0,0,0,
     *         0,1,0,0,
     *         0,0,1,0,
     *         0,0,0,0,
     *       ]);
     *
     * Note it is perfectly reasonable to call `setUniforms` multiple times. For example
     *
     *     const uniforms = {
     *       u_someSampler: tex1,
     *       u_someOtherSampler: tex2,
     *     };
     *
     *     const moreUniforms {
     *       u_someColor: [1,0,0,1],
     *       u_somePosition: [0,1,1],
     *       u_someMatrix: [
     *         1,0,0,0,
     *         0,1,0,0,
     *         0,0,1,0,
     *         0,0,0,0,
     *       ],
     *     };
     *
     *     twgl.setUniforms(programInfo, uniforms);
     *     twgl.setUniforms(programInfo, moreUniforms);
     *
     * You can also add WebGLSamplers to uniform samplers as in
     *
     *     const uniforms = {
     *       u_someSampler: {
     *         texture: someWebGLTexture,
     *         sampler: someWebGLSampler,
     *       },
     *     };
     *
     * In which case both the sampler and texture will be bound to the
     * same unit.
     *
     * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters a `ProgramInfo` as returned from `createProgramInfo` or the setters returned from
     *        `createUniformSetters`.
     * @param {Object.<string, ?>} values an object with values for the
     *        uniforms.
     *   You can pass multiple objects by putting them in an array or by calling with more arguments.For example
     *
     *     const sharedUniforms = {
     *       u_fogNear: 10,
     *       u_projection: ...
     *       ...
     *     };
     *
     *     const localUniforms = {
     *       u_world: ...
     *       u_diffuseColor: ...
     *     };
     *
     *     twgl.setUniforms(programInfo, sharedUniforms, localUniforms);
     *
     *     // is the same as
     *
     *     twgl.setUniforms(programInfo, [sharedUniforms, localUniforms]);
     *
     *     // is the same as
     *
     *     twgl.setUniforms(programInfo, sharedUniforms);
     *     twgl.setUniforms(programInfo, localUniforms};
     *
     *   You can also fill out structure and array values either via
     *   shortcut. Example
     *
     *     // -- in shader --
     *     struct Light {
     *       float intensity;
     *       vec4 color;
     *     };
     *     uniform Light lights[2];
     *
     *     // in JavaScript
     *
     *     twgl.setUniforms(programInfo, {
     *       lights: [
     *         { intensity: 5.0, color: [1, 0, 0, 1] },
     *         { intensity: 2.0, color: [0, 0, 1, 1] },
     *       ],
     *     });
     *
     *   or the more traditional way
     *
     *     twgl.setUniforms(programInfo, {
     *       "lights[0].intensity": 5.0,
     *       "lights[0].color": [1, 0, 0, 1],
     *       "lights[1].intensity": 2.0,
     *       "lights[1].color": [0, 0, 1, 1],
     *     });
     *
     *   You can also specify partial paths
     *
     *     twgl.setUniforms(programInfo, {
     *       'lights[1]: { intensity: 5.0, color: [1, 0, 0, 1] },
     *     });
     *
     *   But you can not specify leaf array indices
     *
     * @memberOf module:twgl/programs
     */
    function setUniforms(setters, ...args) {  // eslint-disable-line
      const actualSetters = setters.uniformSetters || setters;
      const numArgs = args.length;
      for (let aNdx = 0; aNdx < numArgs; ++aNdx) {
        const values = args[aNdx];
        if (Array.isArray(values)) {
          const numValues = values.length;
          for (let ii = 0; ii < numValues; ++ii) {
            setUniforms(actualSetters, values[ii]);
          }
        } else {
          for (const name in values) {
            const setter = actualSetters[name];
            if (setter) {
              setter(values[name]);
            }
          }
        }
      }
    }

    /**
     * Creates setter functions for all attributes of a shader
     * program. You can pass this to {@link module:twgl.setBuffersAndAttributes} to set all your buffers and attributes.
     *
     * @see {@link module:twgl.setAttributes} for example
     * @param {WebGLRenderingContext} gl The WebGLRenderingContext to use.
     * @param {WebGLProgram} program the program to create setters for.
     * @return {Object.<string, function>} an object with a setter for each attribute by name.
     * @memberOf module:twgl/programs
     */
    function createAttributeSetters(gl, program) {
      const attribSetters = {
      };

      const numAttribs = gl.getProgramParameter(program, ACTIVE_ATTRIBUTES);
      for (let ii = 0; ii < numAttribs; ++ii) {
        const attribInfo = gl.getActiveAttrib(program, ii);
        if (isBuiltIn(attribInfo)) {
          continue;
        }
        const index = gl.getAttribLocation(program, attribInfo.name);
        const typeInfo = attrTypeMap[attribInfo.type];
        const setter = typeInfo.setter(gl, index, typeInfo);
        setter.location = index;
        attribSetters[attribInfo.name] = setter;
      }

      return attribSetters;
    }

    /**
     * Sets attributes and binds buffers (deprecated... use {@link module:twgl.setBuffersAndAttributes})
     *
     * Example:
     *
     *     const program = createProgramFromScripts(
     *         gl, ["some-vs", "some-fs");
     *
     *     const attribSetters = createAttributeSetters(program);
     *
     *     const positionBuffer = gl.createBuffer();
     *     const texcoordBuffer = gl.createBuffer();
     *
     *     const attribs = {
     *       a_position: {buffer: positionBuffer, numComponents: 3},
     *       a_texcoord: {buffer: texcoordBuffer, numComponents: 2},
     *     };
     *
     *     gl.useProgram(program);
     *
     * This will automatically bind the buffers AND set the
     * attributes.
     *
     *     setAttributes(attribSetters, attribs);
     *
     * Properties of attribs. For each attrib you can add
     * properties:
     *
     * *   type: the type of data in the buffer. Default = gl.FLOAT
     * *   normalize: whether or not to normalize the data. Default = false
     * *   stride: the stride. Default = 0
     * *   offset: offset into the buffer. Default = 0
     * *   divisor: the divisor for instances. Default = undefined
     *
     * For example if you had 3 value float positions, 2 value
     * float texcoord and 4 value uint8 colors you'd setup your
     * attribs like this
     *
     *     const attribs = {
     *       a_position: {buffer: positionBuffer, numComponents: 3},
     *       a_texcoord: {buffer: texcoordBuffer, numComponents: 2},
     *       a_color: {
     *         buffer: colorBuffer,
     *         numComponents: 4,
     *         type: gl.UNSIGNED_BYTE,
     *         normalize: true,
     *       },
     *     };
     *
     * @param {Object.<string, function>} setters Attribute setters as returned from createAttributeSetters
     * @param {Object.<string, module:twgl.AttribInfo>} buffers AttribInfos mapped by attribute name.
     * @memberOf module:twgl/programs
     * @deprecated use {@link module:twgl.setBuffersAndAttributes}
     */
    function setAttributes(setters, buffers) {
      for (const name in buffers) {
        const setter = setters[name];
        if (setter) {
          setter(buffers[name]);
        }
      }
    }

    /**
     * Sets attributes and buffers including the `ELEMENT_ARRAY_BUFFER` if appropriate
     *
     * Example:
     *
     *     const programInfo = createProgramInfo(
     *         gl, ["some-vs", "some-fs");
     *
     *     const arrays = {
     *       position: { numComponents: 3, data: [0, 0, 0, 10, 0, 0, 0, 10, 0, 10, 10, 0], },
     *       texcoord: { numComponents: 2, data: [0, 0, 0, 1, 1, 0, 1, 1],                 },
     *     };
     *
     *     const bufferInfo = createBufferInfoFromArrays(gl, arrays);
     *
     *     gl.useProgram(programInfo.program);
     *
     * This will automatically bind the buffers AND set the
     * attributes.
     *
     *     setBuffersAndAttributes(gl, programInfo, bufferInfo);
     *
     * For the example above it is equivalent to
     *
     *     gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
     *     gl.enableVertexAttribArray(a_positionLocation);
     *     gl.vertexAttribPointer(a_positionLocation, 3, gl.FLOAT, false, 0, 0);
     *     gl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);
     *     gl.enableVertexAttribArray(a_texcoordLocation);
     *     gl.vertexAttribPointer(a_texcoordLocation, 4, gl.FLOAT, false, 0, 0);
     *
     * @param {WebGLRenderingContext} gl A WebGLRenderingContext.
     * @param {(module:twgl.ProgramInfo|Object.<string, function>)} setters A `ProgramInfo` as returned from {@link module:twgl.createProgramInfo} or Attribute setters as returned from {@link module:twgl.createAttributeSetters}
     * @param {(module:twgl.BufferInfo|module:twgl.VertexArrayInfo)} buffers a `BufferInfo` as returned from {@link module:twgl.createBufferInfoFromArrays}.
     *   or a `VertexArrayInfo` as returned from {@link module:twgl.createVertexArrayInfo}
     * @memberOf module:twgl/programs
     */
    function setBuffersAndAttributes(gl, programInfo, buffers) {
      if (buffers.vertexArrayObject) {
        gl.bindVertexArray(buffers.vertexArrayObject);
      } else {
        setAttributes(programInfo.attribSetters || programInfo, buffers.attribs);
        if (buffers.indices) {
          gl.bindBuffer(ELEMENT_ARRAY_BUFFER$1, buffers.indices);
        }
      }
    }

    /**
     * @typedef {Object} ProgramInfo
     * @property {WebGLProgram} program A shader program
     * @property {Object<string, function>} uniformSetters object of setters as returned from createUniformSetters,
     * @property {Object<string, function>} attribSetters object of setters as returned from createAttribSetters,
     * @property {module:twgl.UniformBlockSpec} [uniformBlockSpec] a uniform block spec for making UniformBlockInfos with createUniformBlockInfo etc..
     * @property {Object<string, module:twgl.TransformFeedbackInfo>} [transformFeedbackInfo] info for transform feedbacks
     * @memberOf module:twgl
     */

    /**
     * Creates a ProgramInfo from an existing program.
     *
     * A ProgramInfo contains
     *
     *     programInfo = {
     *        program: WebGLProgram,
     *        uniformSetters: object of setters as returned from createUniformSetters,
     *        attribSetters: object of setters as returned from createAttribSetters,
     *     }
     *
     * @param {WebGLRenderingContext} gl The WebGLRenderingContext
     *        to use.
     * @param {WebGLProgram} program an existing WebGLProgram.
     * @return {module:twgl.ProgramInfo} The created ProgramInfo.
     * @memberOf module:twgl/programs
     */
    function createProgramInfoFromProgram(gl, program) {
      const uniformSetters = createUniformSetters(gl, program);
      const attribSetters = createAttributeSetters(gl, program);
      const programInfo = {
        program,
        uniformSetters,
        attribSetters,
      };

      if (isWebGL2(gl)) {
        programInfo.uniformBlockSpec = createUniformBlockSpecFromProgram(gl, program);
        programInfo.transformFeedbackInfo = createTransformFeedbackInfo(gl, program);
      }

      return programInfo;
    }

    /**
     * Creates a ProgramInfo from 2 sources.
     *
     * A ProgramInfo contains
     *
     *     programInfo = {
     *        program: WebGLProgram,
     *        uniformSetters: object of setters as returned from createUniformSetters,
     *        attribSetters: object of setters as returned from createAttribSetters,
     *     }
     *
     * NOTE: There are 4 signatures for this function
     *
     *     twgl.createProgramInfo(gl, [vs, fs], options);
     *     twgl.createProgramInfo(gl, [vs, fs], opt_errFunc);
     *     twgl.createProgramInfo(gl, [vs, fs], opt_attribs, opt_errFunc);
     *     twgl.createProgramInfo(gl, [vs, fs], opt_attribs, opt_locations, opt_errFunc);
     *
     * @param {WebGLRenderingContext} gl The WebGLRenderingContext
     *        to use.
     * @param {string[]} shaderSources Array of sources for the
     *        shaders or ids. The first is assumed to be the vertex shader,
     *        the second the fragment shader.
     * @param {module:twgl.ProgramOptions|string[]|module:twgl.ErrorCallback} [opt_attribs] Options for the program or an array of attribs names or an error callback. Locations will be assigned by index if not passed in
     * @param {number[]} [opt_locations|module:twgl.ErrorCallback] The locations for the. A parallel array to opt_attribs letting you assign locations or an error callback.
     * @param {module:twgl.ErrorCallback} [opt_errorCallback] callback for errors. By default it just prints an error to the console
     *        on error. If you want something else pass an callback. It's passed an error message.
     * @return {module:twgl.ProgramInfo?} The created ProgramInfo or null if it failed to link or compile
     * @memberOf module:twgl/programs
     */
    function createProgramInfo(
        gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback) {
      const progOptions = getProgramOptions(opt_attribs, opt_locations, opt_errorCallback);
      let good = true;
      shaderSources = shaderSources.map(function(source) {
        // Lets assume if there is no \n it's an id
        if (source.indexOf("\n") < 0) {
          const script = getElementById(source);
          if (!script) {
            progOptions.errorCallback("no element with id: " + source);
            good = false;
          } else {
            source = script.text;
          }
        }
        return source;
      });
      if (!good) {
        return null;
      }
      const program = createProgramFromSources(gl, shaderSources, progOptions);
      if (!program) {
        return null;
      }
      return createProgramInfoFromProgram(gl, program);
    }

    /*
     * Copyright 2019 Gregg Tavares
     *
     * Permission is hereby granted, free of charge, to any person obtaining a
     * copy of this software and associated documentation files (the "Software"),
     * to deal in the Software without restriction, including without limitation
     * the rights to use, copy, modify, merge, publish, distribute, sublicense,
     * and/or sell copies of the Software, and to permit persons to whom the
     * Software is furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
     * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
     * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
     * DEALINGS IN THE SOFTWARE.
     */

    const TRIANGLES                      = 0x0004;
    const UNSIGNED_SHORT$3                 = 0x1403;

    /**
     * Drawing related functions
     *
     * For backward compatibility they are available at both `twgl.draw` and `twgl`
     * itself
     *
     * See {@link module:twgl} for core functions
     *
     * @module twgl/draw
     */

    /**
     * Calls `gl.drawElements` or `gl.drawArrays`, whichever is appropriate
     *
     * normally you'd call `gl.drawElements` or `gl.drawArrays` yourself
     * but calling this means if you switch from indexed data to non-indexed
     * data you don't have to remember to update your draw call.
     *
     * @param {WebGLRenderingContext} gl A WebGLRenderingContext
     * @param {(module:twgl.BufferInfo|module:twgl.VertexArrayInfo)} bufferInfo A BufferInfo as returned from {@link module:twgl.createBufferInfoFromArrays} or
     *   a VertexArrayInfo as returned from {@link module:twgl.createVertexArrayInfo}
     * @param {number} [type] eg (gl.TRIANGLES, gl.LINES, gl.POINTS, gl.TRIANGLE_STRIP, ...). Defaults to `gl.TRIANGLES`
     * @param {number} [count] An optional count. Defaults to bufferInfo.numElements
     * @param {number} [offset] An optional offset. Defaults to 0.
     * @param {number} [instanceCount] An optional instanceCount. if set then `drawArraysInstanced` or `drawElementsInstanced` will be called
     * @memberOf module:twgl/draw
     */
    function drawBufferInfo(gl, bufferInfo, type, count, offset, instanceCount) {
      type = type === undefined ? TRIANGLES : type;
      const indices = bufferInfo.indices;
      const elementType = bufferInfo.elementType;
      const numElements = count === undefined ? bufferInfo.numElements : count;
      offset = offset === undefined ? 0 : offset;
      if (elementType || indices) {
        if (instanceCount !== undefined) {
          gl.drawElementsInstanced(type, numElements, elementType === undefined ? UNSIGNED_SHORT$3 : bufferInfo.elementType, offset, instanceCount);
        } else {
          gl.drawElements(type, numElements, elementType === undefined ? UNSIGNED_SHORT$3 : bufferInfo.elementType, offset);
        }
      } else {
        if (instanceCount !== undefined) {
          gl.drawArraysInstanced(type, offset, numElements, instanceCount);
        } else {
          gl.drawArrays(type, offset, numElements);
        }
      }
    }

    /**
     * A DrawObject is useful for putting objects in to an array and passing them to {@link module:twgl.drawObjectList}.
     *
     * You need either a `BufferInfo` or a `VertexArrayInfo`.
     *
     * @typedef {Object} DrawObject
     * @property {boolean} [active] whether or not to draw. Default = `true` (must be `false` to be not true). In other words `undefined` = `true`
     * @property {number} [type] type to draw eg. `gl.TRIANGLES`, `gl.LINES`, etc...
     * @property {module:twgl.ProgramInfo} programInfo A ProgramInfo as returned from {@link module:twgl.createProgramInfo}
     * @property {module:twgl.BufferInfo} [bufferInfo] A BufferInfo as returned from {@link module:twgl.createBufferInfoFromArrays}
     * @property {module:twgl.VertexArrayInfo} [vertexArrayInfo] A VertexArrayInfo as returned from {@link module:twgl.createVertexArrayInfo}
     * @property {Object<string, ?>} uniforms The values for the uniforms.
     *   You can pass multiple objects by putting them in an array. For example
     *
     *     var sharedUniforms = {
     *       u_fogNear: 10,
     *       u_projection: ...
     *       ...
     *     };
     *
     *     var localUniforms = {
     *       u_world: ...
     *       u_diffuseColor: ...
     *     };
     *
     *     var drawObj = {
     *       ...
     *       uniforms: [sharedUniforms, localUniforms],
     *     };
     *
     * @property {number} [offset] the offset to pass to `gl.drawArrays` or `gl.drawElements`. Defaults to 0.
     * @property {number} [count] the count to pass to `gl.drawArrays` or `gl.drawElements`. Defaults to bufferInfo.numElements.
     * @property {number} [instanceCount] the number of instances. Defaults to undefined.
     * @memberOf module:twgl
     */

    /**
     * Draws a list of objects
     * @param {WebGLRenderingContext} gl A WebGLRenderingContext
     * @param {DrawObject[]} objectsToDraw an array of objects to draw.
     * @memberOf module:twgl/draw
     */
    function drawObjectList(gl, objectsToDraw) {
      let lastUsedProgramInfo = null;
      let lastUsedBufferInfo = null;

      objectsToDraw.forEach(function(object) {
        if (object.active === false) {
          return;
        }

        const programInfo = object.programInfo;
        const bufferInfo = object.vertexArrayInfo || object.bufferInfo;
        let bindBuffers = false;
        const type = object.type === undefined ? TRIANGLES : object.type;

        if (programInfo !== lastUsedProgramInfo) {
          lastUsedProgramInfo = programInfo;
          gl.useProgram(programInfo.program);

          // We have to rebind buffers when changing programs because we
          // only bind buffers the program uses. So if 2 programs use the same
          // bufferInfo but the 1st one uses only positions the when the
          // we switch to the 2nd one some of the attributes will not be on.
          bindBuffers = true;
        }

        // Setup all the needed attributes.
        if (bindBuffers || bufferInfo !== lastUsedBufferInfo) {
          if (lastUsedBufferInfo && lastUsedBufferInfo.vertexArrayObject && !bufferInfo.vertexArrayObject) {
            gl.bindVertexArray(null);
          }
          lastUsedBufferInfo = bufferInfo;
          setBuffersAndAttributes(gl, programInfo, bufferInfo);
        }

        // Set the uniforms.
        setUniforms(programInfo, object.uniforms);

        // Draw
        drawBufferInfo(gl, bufferInfo, type, object.count, object.offset, object.instanceCount);
      });

      if (lastUsedBufferInfo && lastUsedBufferInfo.vertexArrayObject) {
        gl.bindVertexArray(null);
      }
    }

    class EmissionSpectrum {
        constructor(gl) {
            this.gl = gl;
            this.emissionType = EmissionSpectrum.SPECTRUM_WHITE;
            this.emitterTemperature = 5000.0;
            this.emitterGas = 0;
            this.samples = new Float32Array(EmissionSpectrum.SPECTRUM_SAMPLES);
            this.cdf = new Float32Array(EmissionSpectrum.SPECTRUM_SAMPLES + 1);
            this.pdf = new Float32Array(EmissionSpectrum.SPECTRUM_SAMPLES);
            this.icdf = new Float32Array(EmissionSpectrum.ICDF_SAMPLES);
            this.spectrumTex = createTexture(gl, {
                width: wavelengthToRgbTable.length / 4,
                height: 1,
                format: gl.RGBA,
                type: gl.FLOAT,
                minMag: gl.LINEAR,
                wrap: gl.CLAMP_TO_EDGE,
                src: wavelengthToRgbTable,
            });
            this.emissionTex = createTexture(gl, {
                width: EmissionSpectrum.SPECTRUM_SAMPLES,
                height: 1,
                format: gl.LUMINANCE,
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE,
            });
            this.emissionIcdfTex = createTexture(gl, {
                width: EmissionSpectrum.ICDF_SAMPLES,
                height: 1,
                format: gl.LUMINANCE,
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE,
            });
            this.emissionPdfTex = createTexture(gl, {
                width: EmissionSpectrum.SPECTRUM_SAMPLES,
                height: 1,
                format: gl.LUMINANCE,
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE,
            });
            this.compute();
        }
        set(values) {
            Object.assign(this, values);
            this.compute();
        }
        compute() {
            switch (this.emissionType) {
                case EmissionSpectrum.SPECTRUM_WHITE:
                    this.computeWhite();
                    break;
                case EmissionSpectrum.SPECTRUM_INCANDESCENT:
                    this.computeIncandescent();
                    break;
                case EmissionSpectrum.SPECTRUM_GAS_DISCHARGE:
                    this.computeDischarge();
            }
            this.computeIcdf();
            const gl = this.gl;
            setTextureFromArray(gl, this.emissionIcdfTex, this.icdf, {
                width: EmissionSpectrum.ICDF_SAMPLES,
                height: 1,
                format: gl.LUMINANCE,
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE,
            });
            setTextureFromArray(gl, this.emissionPdfTex, this.pdf, {
                width: EmissionSpectrum.SPECTRUM_SAMPLES,
                height: 1,
                format: gl.LUMINANCE,
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE,
            });
            setTextureFromArray(gl, this.emissionTex, this.samples, {
                width: EmissionSpectrum.SPECTRUM_SAMPLES,
                height: 1,
                format: gl.LUMINANCE,
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE,
            });
        }
        computeWhite() {
            const { SPECTRUM_SAMPLES } = EmissionSpectrum;
            for (let i = 0; i < SPECTRUM_SAMPLES; ++i) {
                this.samples[i] = 1.0;
            }
        }
        computeIncandescent() {
            const { SPECTRUM_SAMPLES, LAMBDA_MIN, LAMBDA_MAX } = EmissionSpectrum;
            const h = 6.626070040e-34;
            const c = 299792458.0;
            const kB = 1.3806488e-23;
            const T = this.emitterTemperature;
            for (let i = 0; i < SPECTRUM_SAMPLES; ++i) {
                const l = (LAMBDA_MIN + (LAMBDA_MAX - LAMBDA_MIN) * (i + 0.5) / SPECTRUM_SAMPLES) * 1e-9;
                const power = 1e-12 * (2.0 * h * c * c) / (l * l * l * l * l * (Math.exp(h * c / (l * kB * T)) - 1.0));
                this.samples[i] = power;
            }
        }
        computeDischarge() {
            const { SPECTRUM_SAMPLES, LAMBDA_MIN, LAMBDA_MAX } = EmissionSpectrum;
            const wavelengths = gasDischargeLines[this.emitterGas].wavelengths;
            const strengths = gasDischargeLines[this.emitterGas].strengths;
            for (var i = 0; i < SPECTRUM_SAMPLES; ++i)
                this.samples[i] = 0.0;
            for (var i = 0; i < wavelengths.length; ++i) {
                var idx = Math.floor((wavelengths[i] - LAMBDA_MIN) / (LAMBDA_MAX - LAMBDA_MIN) * SPECTRUM_SAMPLES);
                if (idx < 0 || idx >= SPECTRUM_SAMPLES)
                    continue;
                this.samples[idx] += strengths[i];
            }
        }
        computeIcdf() {
            const { SPECTRUM_SAMPLES, ICDF_SAMPLES } = EmissionSpectrum;
            const { pdf, cdf, icdf, samples: emissionSpectrum } = this;
            let sum = 0.0;
            for (var i = 0; i < SPECTRUM_SAMPLES; ++i) {
                sum += emissionSpectrum[i];
            }
            /* Mix in 10% of a uniform sample distribution to stay on the safe side.
               Especially gas emission spectra with lots of emission lines
               tend to have small peaks that fall through the cracks otherwise */
            var safetyPadding = 0.1;
            var normalization = SPECTRUM_SAMPLES / sum;
            /* Precompute cdf and pdf (unnormalized for now) */
            cdf[0] = 0.0;
            for (var i = 0; i < SPECTRUM_SAMPLES; ++i) {
                emissionSpectrum[i] *= normalization;
                /* Also take into account the observer response when distributing samples.
                   Otherwise tends to prioritize peaks just barely outside the visible spectrum */
                var observerResponse = (1.0 / 3.0) * (Math.abs(wavelengthToRgbTable[i * 4]) +
                    Math.abs(wavelengthToRgbTable[i * 4 + 1]) +
                    Math.abs(wavelengthToRgbTable[i * 4 + 2]));
                pdf[i] = observerResponse * (emissionSpectrum[i] + safetyPadding) / (1.0 + safetyPadding);
                this.cdf[i + 1] = pdf[i] + this.cdf[i];
            }
            /* All done! Time to normalize */
            var cdfSum = cdf[SPECTRUM_SAMPLES];
            for (var i = 0; i < SPECTRUM_SAMPLES; ++i) {
                pdf[i] *= SPECTRUM_SAMPLES / cdfSum;
                cdf[i + 1] /= cdfSum;
            }
            /* Make sure we don't fall into any floating point pits */
            cdf[SPECTRUM_SAMPLES] = 1.0;
            /* Precompute an inverted mapping of the cdf. This is biased!
               Unfortunately we can't really afford to do runtime bisection
               on the GPU, so this will have to do. For our purposes a small
               amount of bias is tolerable anyway. */
            var cdfIdx = 0;
            for (var i = 0; i < ICDF_SAMPLES; ++i) {
                var target = Math.min((i + 1) / ICDF_SAMPLES, 1.0);
                while (this.cdf[cdfIdx] < target)
                    cdfIdx++;
                icdf[i] = (cdfIdx - 1.0) / SPECTRUM_SAMPLES;
            }
        }
    }
    EmissionSpectrum.LAMBDA_MIN = 360.0;
    EmissionSpectrum.LAMBDA_MAX = 750.0;
    EmissionSpectrum.SPECTRUM_SAMPLES = 256;
    EmissionSpectrum.ICDF_SAMPLES = 1024;
    EmissionSpectrum.SPECTRUM_WHITE = 0;
    EmissionSpectrum.SPECTRUM_INCANDESCENT = 1;
    EmissionSpectrum.SPECTRUM_GAS_DISCHARGE = 2;

    class SpectrumRenderer {
        constructor(canvas, spectrum) {
            this.canvas = canvas;
            this.spectrum = spectrum;
            this.smooth = true;
            this.context = this.canvas.getContext('2d');
            this.spectrumFill = new Image();
            this.spectrumFill.src = 'Spectrum.png';
            this.spectrumFill.addEventListener('load', this.loadPattern.bind(this));
            if (this.spectrumFill.complete)
                this.loadPattern();
        }
        loadPattern() {
            this.pattern = this.context.createPattern(this.spectrumFill, 'repeat-y');
            this.draw();
        }
        setColor(r, g, b) {
            this.context.strokeStyle = 'rgb(' + r + ',' + g + ',' + b + ')';
        }
        drawLine(p) {
            this.context.moveTo(p[0], p[1]);
            for (var i = 2; i < p.length; i += 2)
                this.context.lineTo(p[i], p[i + 1]);
        }
        setSmooth(smooth) {
            this.smooth = smooth;
        }
        draw() {
            var ctx = this.context;
            var w = this.canvas.width;
            var h = this.canvas.height;
            var marginX = 10;
            var marginY = 20;
            ctx.clearRect(0, 0, w, h);
            var graphW = w - 2 * marginX;
            var graphH = h - 2 * marginY;
            var graphX = 0 * 0.5 + marginX;
            var graphY = 0 * 0.5 + h - marginY;
            var axisX0 = 360;
            var axisX1 = 750;
            var axisY0 = 0.0;
            var axisY1 = 1.0;
            var xTicks = 50.0;
            var yTicks = 0.2;
            var tickSize = 10;
            var mapX = function (x) { return graphX + Math.floor(graphW * (x - axisX0) / (axisX1 - axisX0)); };
            var mapY = function (y) { return graphY - Math.floor(graphH * (y - axisY0) / (axisY1 - axisY0)); };
            ctx.beginPath();
            this.setColor(128, 128, 128);
            ctx.lineWidth = 1;
            ctx.setLineDash([1, 2]);
            for (var gx = axisX0 - 10 + xTicks; gx <= axisX1; gx += xTicks)
                this.drawLine([mapX(gx), graphY, mapX(gx), graphY - graphH]);
            for (var gy = axisY0 + yTicks; gy <= axisY1; gy += yTicks)
                this.drawLine([graphX, mapY(gy), graphX + graphW, mapY(gy)]);
            ctx.stroke();
            ctx.setLineDash([]);
            const spectrum = this.spectrum.samples;
            var max = 0.0;
            for (var i = 0; i < spectrum.length; ++i)
                max = Math.max(spectrum[i], max);
            max *= 1.1;
            var grapher = this;
            var drawGraph = function () {
                const { LAMBDA_MIN, LAMBDA_MAX } = EmissionSpectrum;
                var spectrum = grapher.spectrum.samples;
                var path = new Path2D();
                path.moveTo(0, h);
                for (var gx = axisX0; gx <= axisX1; gx += grapher.smooth ? 15 : 1) {
                    var x = mapX(gx);
                    var sx = spectrum.length * (gx - LAMBDA_MIN) / (LAMBDA_MAX - LAMBDA_MIN);
                    var y = mapY(spectrum[Math.max(Math.min(Math.floor(sx), spectrum.length - 1), 0)] / max);
                    if (gx == axisX0)
                        path.moveTo(x, y);
                    else
                        path.lineTo(x, y);
                }
                return path;
            };
            var filled = drawGraph();
            filled.lineTo(graphX + graphW, graphY);
            filled.lineTo(graphX, graphY);
            ctx.fillStyle = this.pattern;
            ctx.fill(filled);
            ctx.fillStyle = "black";
            var outline = drawGraph();
            this.setColor(0, 0, 0);
            ctx.lineWidth = 2;
            ctx.stroke(outline);
            ctx.beginPath();
            this.setColor(128, 128, 128);
            ctx.lineWidth = 2;
            this.drawLine([
                graphX + graphW, graphY - tickSize,
                graphX + graphW, graphY,
                graphX, graphY,
                graphX, graphY - graphH,
                graphX + tickSize, graphY - graphH
            ]);
            ctx.stroke();
            ctx.beginPath();
            ctx.lineWidth = 2;
            for (var gx = axisX0 - 10 + xTicks; gx < axisX1; gx += xTicks)
                this.drawLine([mapX(gx), graphY, mapX(gx), graphY - tickSize]);
            for (var gy = axisY0 + yTicks; gy < axisY1; gy += yTicks)
                this.drawLine([graphX, mapY(gy), graphX + tickSize, mapY(gy)]);
            ctx.stroke();
            ctx.font = "15px serif";
            ctx.textAlign = "center";
            for (var gx = axisX0 - 10 + xTicks; gx < axisX1; gx += xTicks)
                ctx.fillText(gx.toString(), mapX(gx), graphY + 15);
            ctx.fillText("", graphX + graphW, graphY + 16);
        }
    }

    class ProgressBar {
        constructor(hasLabel) {
            this.progressFraction = 0;
            this.progressPercentage = 0;
            const progressBackground = document.createElement("div");
            progressBackground.className = "progress";
            this.progressBar = document.createElement("div");
            this.progressBar.className = "progress-bar";
            progressBackground.appendChild(this.progressBar);
            this.setProgress(0.0);
            this.el = document.createElement("div");
            this.el.appendChild(progressBackground);
            if (hasLabel) {
                this.label = document.createElement("p");
                this.label.className = "progress-label";
                this.el.appendChild(this.label);
            }
        }
        getProgress() {
            return this.progressFraction;
        }
        setProgress(progressFraction) {
            this.progressFraction = progressFraction;
            this.progressPercentage = Math.min(Math.max(Math.floor(progressFraction * 100.0), 0), 100);
            this.progressBar.style.width = this.progressPercentage.toString() + "%";
        }
        setProgressWithoutTransition(progressFraction) {
            this.progressBar.classList.add("notransition");
            this.setProgress(progressFraction);
            this.progressBar.offsetHeight; /* Flush CSS changes */
            this.progressBar.classList.remove("notransition");
        }
        setLabel(text) {
            if (this.label)
                this.label.textContent = text;
        }
        getProgressPercentage() {
            return this.progressPercentage;
        }
    }

    class Slider {
        constructor(minValue, maxValue, hasLabel, callback) {
            this.minValue = minValue;
            this.maxValue = maxValue;
            this.callback = callback;
            this.value = 0;
            this.sliderBackground = document.createElement("div");
            this.sliderBackground.className = "slider";
            this.sliderBar = document.createElement("div");
            this.sliderBar.className = "slider-bar";
            this.sliderBackground.appendChild(this.sliderBar);
            this.sliderHandle = document.createElement("a");
            this.sliderHandle.className = "slider-handle";
            this.sliderBackground.appendChild(this.sliderHandle);
            var mouseMoveListener = this.mouseMove.bind(this);
            function mouseUpListener() {
                document.removeEventListener("mousemove", mouseMoveListener);
                document.removeEventListener("mouseup", mouseUpListener);
            }
            this.sliderHandle.addEventListener("mousedown", function (event) {
                event.preventDefault();
                document.addEventListener("mousemove", mouseMoveListener);
                document.addEventListener("mouseup", mouseUpListener);
            });
            this.el = document.createElement("div");
            this.el.appendChild(this.sliderBackground);
            if (hasLabel) {
                this.label = document.createElement("p");
                this.label.className = "slider-label";
                this.el.appendChild(this.label);
            }
            this.setPosition(0.45);
        }
        mouseMove(event) {
            var rect = this.sliderBackground.getBoundingClientRect();
            this.setPosition((event.clientX - rect.left) / (rect.right - rect.left));
        }
        setLabel(text) {
            if (this.label) {
                this.label.textContent = text;
            }
        }
        setValue(value) {
            value = Math.min(this.maxValue, Math.max(this.minValue, value));
            if (value != this.value) {
                this.value = value;
                var percentage = Math.max(Math.min(Math.floor(100.0 * (value - this.minValue) / (this.maxValue - this.minValue)), 100.0), 0.0);
                this.sliderHandle.style.left = this.sliderBar.style.width = percentage.toString() + "%";
                if (this.callback)
                    this.callback(value);
            }
        }
        setPosition(position) {
            this.setValue(Math.floor(this.minValue + position * (this.maxValue - this.minValue)));
        }
        show(show) {
            var display = show ? "block" : "none";
            this.sliderBackground.style.display = display;
            if (this.label)
                this.label.style.display = display;
        }
    }

    class ButtonGrid {
        constructor(cols, labels, selectionCallback) {
            this.cols = cols;
            this.selectionCallback = selectionCallback;
            this.selectedButton = 0;
            this.selectionCallback = selectionCallback;
            this.el = document.createElement("div");
            this.el.className = "button-grid";
            this.columns = Array.from({ length: cols }, () => {
                const column = document.createElement("div");
                column.className = "button-grid-column";
                return column;
            });
            this.el.append(...this.columns);
            this.cells = labels.map((label, i) => {
                var column = i % this.cols;
                var cell = document.createElement("div");
                cell.className = "button stretch-button button-grid-button";
                cell.appendChild(document.createTextNode(label));
                if (i == 0)
                    cell.classList.add("button-grid-tl");
                if (i == this.cols - 1)
                    cell.classList.add("button-grid-tr");
                if (i + this.cols >= labels.length) {
                    if (column == 0)
                        cell.classList.add("button-grid-bl");
                    if (column == this.cols - 1 || i == labels.length - 1)
                        cell.classList.add("button-grid-br");
                }
                cell.addEventListener("click", () => this.select(i));
                this.columns[column].appendChild(cell);
                return cell;
            });
            this.select(0);
        }
        select(idx) {
            if (idx < 0 || idx >= this.cells.length)
                return;
            this.cells[this.selectedButton].classList.remove("active");
            this.cells[idx].classList.add("active");
            if (this.selectedButton != idx && this.selectionCallback)
                this.selectionCallback(idx);
            this.selectedButton = idx;
        }
        show(show) {
            this.el.style.display = show ? "flex" : "none";
        }
    }

    class ButtonGroup extends ButtonGrid {
        constructor(vertical, labels, selectionCallback) {
            super(vertical ? 1 : labels.length, labels, selectionCallback);
        }
    }

    class MouseListener {
        constructor(target, callback) {
            this.target = target;
            this.callback = callback;
            this.mouseStart = [0, 0];
            this.mouseUpHandler = () => {
                document.removeEventListener('mouseup', this.mouseUpHandler);
                document.removeEventListener('mousemove', this.mouseMoveHandler);
            };
            this.mouseMoveHandler = (evt) => {
                this.callback(this.mouseStart, this.mapMouseEvent(evt));
            };
            this.mouseDown = (evt) => {
                evt.preventDefault();
                this.mouseStart = this.mapMouseEvent(evt);
                this.callback(this.mouseStart, this.mouseStart);
                document.addEventListener('mouseup', this.mouseUpHandler);
                document.addEventListener('mousemove', this.mouseMoveHandler);
            };
            target.addEventListener('mousedown', this.mouseDown);
        }
        mapMouseEvent(evt) {
            var rect = this.target.getBoundingClientRect();
            return [evt.clientX - rect.left, evt.clientY - rect.top];
        }
    }

    function replace(targetId, el) {
        const target = document.getElementById(targetId);
        target.parentNode.replaceChild(el, target);
    }

    var bsdf = "float sellmeierIor(vec3 b, vec3 c, float lambda) {\r\n    float lSq = (lambda*1e-3)*(lambda*1e-3);\r\n    return 1.0 + dot((b*lSq)/(lSq - c), vec3(1.0));\r\n}\r\n\r\nfloat tanh(float x) {\r\n    if (abs(x) > 10.0) /* Prevent nasty overflow problems */\r\n        return sign(x);\r\n    float e = exp(-2.0*x);\r\n    return (1.0 - e)/(1.0 + e);\r\n}\r\nfloat atanh(float x) {\r\n    return 0.5*log((1.0 + x)/(1.0 - x));\r\n}\r\n\r\nfloat dielectricReflectance(float eta, float cosThetaI, out float cosThetaT) {\r\n    float sinThetaTSq = eta*eta*(1.0 - cosThetaI*cosThetaI);\r\n    if (sinThetaTSq > 1.0) {\r\n        cosThetaT = 0.0;\r\n        return 1.0;\r\n    }\r\n    cosThetaT = sqrt(1.0 - sinThetaTSq);\r\n\r\n    float Rs = (eta*cosThetaI - cosThetaT)/(eta*cosThetaI + cosThetaT);\r\n    float Rp = (eta*cosThetaT - cosThetaI)/(eta*cosThetaT + cosThetaI);\r\n\r\n    return (Rs*Rs + Rp*Rp)*0.5;\r\n}\r\n\r\nvec2 sampleDiffuse(inout vec4 state, vec2 wi) {\r\n    float x = rand(state)*2.0 - 1.0;\r\n    float y = sqrt(1.0 - x*x);\r\n    return vec2(x, y*sign(wi.y));\r\n}\r\nvec2 sampleMirror(vec2 wi) {\r\n    return vec2(-wi.x, wi.y);\r\n}\r\nvec2 sampleDielectric(inout vec4 state, vec2 wi, float ior) {\r\n    float cosThetaT;\r\n    float eta = wi.y < 0.0 ? ior : 1.0/ior;\r\n    float Fr = dielectricReflectance(eta, abs(wi.y), cosThetaT);\r\n    if (rand(state) < Fr)\r\n        return vec2(-wi.x, wi.y);\r\n    else\r\n        return vec2(-wi.x*eta, -cosThetaT*sign(wi.y));\r\n}\r\n\r\nfloat sampleVisibleNormal(float sigma, float xi, float theta0, float theta1) {\r\n    float sigmaSq = sigma*sigma;\r\n    float invSigmaSq = 1.0/sigmaSq;\r\n    \r\n    float cdf0 = tanh(theta0*0.5*invSigmaSq);\r\n    float cdf1 = tanh(theta1*0.5*invSigmaSq);\r\n\r\n    return 2.0*sigmaSq*atanh(cdf0 + (cdf1 - cdf0)*xi);\r\n}\r\nvec2 sampleRoughMirror(inout vec4 state, vec2 wi, inout vec3 throughput, float sigma) {\r\n    float theta = asin(clamp(wi.x, -1.0, 1.0));\r\n    float theta0 = max(theta - PI_HALF, -PI_HALF);\r\n    float theta1 = min(theta + PI_HALF,  PI_HALF);\r\n\r\n    float thetaM = sampleVisibleNormal(sigma, rand(state), theta0, theta1);\r\n    vec2 m = vec2(sin(thetaM), cos(thetaM));\r\n    vec2 wo = m*(dot(wi, m)*2.0) - wi;\r\n    if (wo.y < 0.0)\r\n        throughput = vec3(0.0);\r\n    return wo;\r\n}\r\nvec2 sampleRoughDielectric(inout vec4 state, vec2 wi, float sigma, float ior)\r\n{\r\n    float theta = asin(min(abs(wi.x), 1.0));\r\n    float theta0 = max(theta - PI_HALF, -PI_HALF);\r\n    float theta1 = min(theta + PI_HALF,  PI_HALF);\r\n\r\n    float thetaM = sampleVisibleNormal(sigma, rand(state), theta0, theta1);\r\n    vec2 m = vec2(sin(thetaM), cos(thetaM));\r\n\r\n    float wiDotM = dot(wi, m);\r\n    \r\n    float cosThetaT;\r\n    float etaM = wiDotM < 0.0 ? ior : 1.0/ior;\r\n    float F = dielectricReflectance(etaM, abs(wiDotM), cosThetaT);\r\n    if (wiDotM < 0.0)\r\n        cosThetaT = -cosThetaT;\r\n\r\n    if (rand(state) < F)\r\n        return 2.0*wiDotM*m - wi;\r\n    else\r\n        return (etaM*wiDotM - cosThetaT)*m - etaM*wi;\r\n}\r\n";

    var compose_frag = "#include \"preamble\"\r\n\r\nuniform sampler2D Frame;\r\nuniform float Exposure;\r\n\r\nvarying vec2 vTexCoord;\r\n\r\nvoid main() {\r\n    gl_FragColor = vec4(pow(texture2D(Frame, vTexCoord).rgb*Exposure, vec3(1.0/2.2)), 1.0);\r\n}\r\n";

    var compose_vert = "#include \"preamble\"\r\n\r\nattribute vec3 Position;\r\nattribute vec2 TexCoord;\r\n\r\nvarying vec2 vTexCoord;\r\n\r\nvoid main(void) {\r\n    gl_Position = vec4(Position, 1.0);\r\n    vTexCoord = TexCoord;\r\n}\r\n";

    var csg_intersect = "struct Segment {\r\n    float tNear, tFar;\r\n    vec2  nNear, nFar;\r\n};\r\n\r\nSegment segmentIntersection(Segment a, Segment b) {\r\n    return Segment(\r\n        max(a.tNear, b.tNear),\r\n        min(a.tFar,  b.tFar),\r\n        (a.tNear > b.tNear) ? a.nNear : b.nNear,\r\n        (a.tFar  < b.tFar)  ? a.nFar  : b.nFar\r\n    );\r\n}\r\nSegment segmentSubtraction(Segment a, Segment b, float tMin) {\r\n    if (a.tNear >= a.tFar || b.tNear >= b.tFar || a.tFar <= b.tNear || a.tNear >= b.tFar)\r\n        return a;\r\n    \r\n    Segment s1 = Segment(a.tNear, b.tNear, a.nNear, -b.nNear);\r\n    Segment s2 = Segment(b.tFar,  a.tFar, -b.nFar,   a.nFar);\r\n    bool valid1 = s1.tNear <= s1.tFar;\r\n    bool valid2 = s2.tNear <= s2.tFar;\r\n    \r\n    if (valid1 && valid2) {\r\n        if (s1.tFar >= tMin) return s1; else return s2;\r\n    } else {\r\n        if (valid1) return s1; else return s2;\r\n    }\r\n}\r\nvoid segmentCollapse(Segment segment, float matId, inout Intersection isect) {\r\n    segment.tNear = max(segment.tNear, isect.tMin);\r\n    segment.tFar  = min(segment.tFar,  isect.tMax);\r\n    \r\n    if (segment.tNear <= segment.tFar) {\r\n        if (segment.tNear > isect.tMin) {\r\n            isect.tMax = segment.tNear;\r\n            isect.n = segment.nNear;\r\n            isect.mat = matId;\r\n        } else if (segment.tFar < isect.tMax) {\r\n            isect.tMax = segment.tFar;\r\n            isect.n = segment.nFar;\r\n            isect.mat = matId;\r\n        }\r\n    }\r\n}\r\n\r\nSegment horzSpanIntersect(Ray ray, float y, float radius) {\r\n    float dc = (y - ray.pos.y)*ray.invDir.y;\r\n    float dt = ray.dirSign.y*radius*ray.invDir.y;\r\n    return Segment(dc - dt, dc + dt, vec2(0.0, -ray.dirSign.y), vec2(0.0, ray.dirSign.y));\r\n}\r\nSegment vertSpanIntersect(Ray ray, float x, float radius) {\r\n    float dc = (x - ray.pos.x)*ray.invDir.x;\r\n    float dt = ray.dirSign.x*radius*ray.invDir.x;\r\n    return Segment(dc - dt, dc + dt, vec2(-ray.dirSign.x, 0.0), vec2(ray.dirSign.x, 0.0));\r\n}\r\nSegment boxSegmentIntersect(Ray ray, vec2 center, vec2 radius) {\r\n    return segmentIntersection(\r\n        horzSpanIntersect(ray, center.y, radius.y),\r\n        vertSpanIntersect(ray, center.x, radius.x)\r\n    );\r\n}\r\nSegment sphereSegmentIntersect(Ray ray, vec2 center, float radius) {\r\n    Segment result;\r\n    \r\n    vec2 p = ray.pos - center;\r\n    float B = dot(p, ray.dir);\r\n    float C = dot(p, p) - radius*radius;\r\n    float detSq = B*B - C;\r\n    if (detSq >= 0.0) {\r\n        float det = sqrt(detSq);\r\n        result.tNear = -B - det;\r\n        result.tFar  = -B + det;\r\n        result.nNear = (p + ray.dir*result.tNear)*(1.0/radius);\r\n        result.nFar  = (p + ray.dir*result.tFar)*(1.0/radius);\r\n    } else {\r\n        result.tNear =  1e30;\r\n        result.tFar  = -1e30;\r\n    }\r\n    \r\n    return result;\r\n}\r\n\r\nvoid biconvexLensIntersect(Ray ray, vec2 center, float h, float d, float r1, float r2, float matId, inout Intersection isect) {\r\n    segmentCollapse(segmentIntersection(segmentIntersection(\r\n        horzSpanIntersect(ray, center.y, h),\r\n        sphereSegmentIntersect(ray, center + vec2(r1 - d, 0.0), r1)),\r\n        sphereSegmentIntersect(ray, center - vec2(r2 - d, 0.0), r2)\r\n    ), matId, isect);\r\n}\r\nvoid biconcaveLensIntersect(Ray ray, vec2 center, float h, float d, float r1, float r2, float matId, inout Intersection isect) {\r\n    segmentCollapse(segmentSubtraction(segmentSubtraction(segmentIntersection(\r\n        horzSpanIntersect(ray, center.y, h),\r\n        vertSpanIntersect(ray, center.x + 0.5*(r2 - r1), 0.5*(abs(r1) + abs(r2)) + d)),\r\n        sphereSegmentIntersect(ray, center + vec2(r2 + d, 0.0), r2), isect.tMin),\r\n        sphereSegmentIntersect(ray, center - vec2(r1 + d, 0.0), r1), isect.tMin\r\n    ), matId, isect);\r\n}\r\nvoid meniscusLensIntersect(Ray ray, vec2 center, float h, float d, float r1, float r2, float matId, inout Intersection isect) {\r\n    segmentCollapse(segmentSubtraction(segmentIntersection(segmentIntersection(\r\n        horzSpanIntersect(ray, center.y, h),\r\n        vertSpanIntersect(ray, center.x + 0.5*r2, 0.5*abs(r2) + d)),\r\n        sphereSegmentIntersect(ray, center + vec2(r1 - sign(r1)*d, 0.0), abs(r1))),\r\n        sphereSegmentIntersect(ray, center + vec2(r2 + sign(r2)*d, 0.0), abs(r2)), isect.tMin\r\n    ), matId, isect);\r\n}\r\nvoid planoConvexLensIntersect(Ray ray, vec2 center, float h, float d, float r, float matId, inout Intersection isect) {\r\n    segmentCollapse(segmentIntersection(\r\n        boxSegmentIntersect(ray, center, vec2(d, h)),\r\n        sphereSegmentIntersect(ray, center + vec2(r - d, 0.0), abs(r))\r\n    ), matId, isect);\r\n}\r\nvoid planoConcaveLensIntersect(Ray ray, vec2 center, float h, float d, float r, float matId, inout Intersection isect) {\r\n    segmentCollapse(segmentSubtraction(segmentIntersection(\r\n        horzSpanIntersect(ray, center.y, h),\r\n        vertSpanIntersect(ray, center.x - 0.5*r, 0.5*abs(r) + d)),\r\n        sphereSegmentIntersect(ray, center - vec2(r + d, 0.0), abs(r)), isect.tMin\r\n    ), matId, isect);\r\n}\r\n";

    var emit_frag = "#extension GL_EXT_draw_buffers : require\r\n#include \"preamble\"\r\n\r\n#include \"rand\"\r\n\r\nuniform sampler2D RngData;\r\nuniform sampler2D Spectrum;\r\nuniform sampler2D Emission;\r\nuniform sampler2D ICDF;\r\nuniform sampler2D PDF;\r\nuniform vec2 EmitterPos;\r\nuniform vec2 EmitterDir;\r\nuniform float EmitterPower;\r\nuniform float SpatialSpread;\r\nuniform vec2 AngularSpread;\r\n\r\nvarying vec2 vTexCoord;\r\n\r\nvoid main() {\r\n    vec4 state = texture2D(RngData, vTexCoord);\r\n\r\n    float theta = AngularSpread.x + (rand(state) - 0.5)*AngularSpread.y;\r\n    vec2 dir = vec2(cos(theta), sin(theta));\r\n    vec2 pos = EmitterPos + (rand(state) - 0.5)*SpatialSpread*vec2(-EmitterDir.y, EmitterDir.x);\r\n    \r\n    float randL = rand(state);\r\n    float spectrumOffset = texture2D(ICDF, vec2(randL, 0.5)).r + rand(state)*(1.0/256.0);\r\n    float lambda = 360.0 + (750.0 - 360.0)*spectrumOffset;\r\n    vec3 rgb = EmitterPower\r\n                    *texture2D(Emission, vec2(spectrumOffset, 0.5)).r\r\n                    *texture2D(Spectrum, vec2(spectrumOffset, 0.5)).rgb\r\n                    /texture2D(PDF,      vec2(spectrumOffset, 0.5)).r;\r\n    \r\n    gl_FragData[0] = vec4(pos, dir);\r\n    gl_FragData[1] = state;\r\n    gl_FragData[2] = vec4(rgb, lambda);\r\n}\r\n";

    var monochromatic_point_emit_frag = "#extension GL_EXT_draw_buffers : require\r\n#include \"preamble\"\r\n\r\n#include \"rand\"\r\n\r\nuniform sampler2D RngData;\r\nuniform vec2 EmitterPos;\r\n\r\nvarying vec2 vTexCoord;\r\n\r\nvoid main() {\r\n    vec4 state = texture2D(RngData, vTexCoord);\r\n\r\n    float theta = (rand(state) - 0.5)*2.0*PI;\r\n    vec2 dir = vec2(cos(theta), sin(theta));\r\n    \r\n    vec3 rgb = 0.1 * vec3(1.0);\r\n\r\n    gl_FragData[0] = vec4(EmitterPos, dir);\r\n    gl_FragData[1] = state;\r\n    gl_FragData[2] = vec4(rgb, 555.0);\r\n}\r\n";

    var emit_vert = "#include \"preamble\"\r\n\r\nattribute vec3 Position;\r\nattribute vec2 TexCoord;\r\n\r\nvarying vec2 vTexCoord;\r\n\r\nvoid main() {\r\n    gl_Position = vec4(Position, 1.0);\r\n    vTexCoord = TexCoord;\r\n}\r\n";

    var intersect = "void bboxIntersect(Ray ray, vec2 center, vec2 radius, float matId, inout Intersection isect) {\r\n    vec2 pos = ray.pos - center;\r\n    float tx1 = (-radius.x - pos.x)*ray.invDir.x;\r\n    float tx2 = ( radius.x - pos.x)*ray.invDir.x;\r\n    float ty1 = (-radius.y - pos.y)*ray.invDir.y;\r\n    float ty2 = ( radius.y - pos.y)*ray.invDir.y;\r\n    \r\n    float minX = min(tx1, tx2), maxX = max(tx1, tx2);\r\n    float minY = min(ty1, ty2), maxY = max(ty1, ty2);\r\n \r\n    float tmin = max(isect.tMin, max(minX, minY));\r\n    float tmax = min(isect.tMax, min(maxX, maxY));\r\n \r\n    if (tmax >= tmin) {\r\n        isect.tMax = (tmin == isect.tMin) ? tmax : tmin;\r\n        isect.n = isect.tMax == tx1 ? vec2(-1.0, 0.0) : isect.tMax == tx2 ? vec2(1.0, 0.0) :\r\n                  isect.tMax == ty1 ? vec2( 0.0, 1.0) :                     vec2(0.0, 1.0);\r\n        isect.mat = matId;\r\n    }\r\n}\r\nvoid sphereIntersect(Ray ray, vec2 center, float radius, float matId, inout Intersection isect) {\r\n    vec2 p = ray.pos - center;\r\n    float B = dot(p, ray.dir);\r\n    float C = dot(p, p) - radius*radius;\r\n    float detSq = B*B - C;\r\n    if (detSq >= 0.0) {\r\n        float det = sqrt(detSq);\r\n        float t = -B - det;\r\n        if (t <= isect.tMin || t >= isect.tMax)\r\n            t = -B + det;\r\n        if (t > isect.tMin && t < isect.tMax) {\r\n            isect.tMax = t;\r\n            isect.n = normalize(p + ray.dir*t);\r\n            isect.mat = matId;\r\n        }\r\n    }\r\n}\r\nvoid lineIntersect(Ray ray, vec2 a, vec2 b, float matId, inout Intersection isect) {\r\n    vec2 sT = b - a;\r\n    vec2 sN = vec2(-sT.y, sT.x);\r\n    float t = dot(sN, a - ray.pos)/dot(sN, ray.dir);\r\n    float u = dot(sT, ray.pos + ray.dir*t - a);\r\n    if (t < isect.tMin || t >= isect.tMax || u < 0.0 || u > dot(sT, sT))\r\n        return;\r\n    \r\n    isect.tMax = t;\r\n    isect.n = normalize(sN);\r\n    isect.mat = matId;\r\n}\r\nvoid prismIntersect(Ray ray, vec2 center, float radius, float matId, inout Intersection isect) {\r\n    lineIntersect(ray, center + vec2(   0.0,  1.0)*radius, center + vec2( 0.866, -0.5)*radius, matId, isect);\r\n    lineIntersect(ray, center + vec2( 0.866, -0.5)*radius, center + vec2(-0.866, -0.5)*radius, matId, isect);\r\n    lineIntersect(ray, center + vec2(-0.866, -0.5)*radius, center + vec2(   0.0,  1.0)*radius, matId, isect);\r\n}\r\n";

    var pass_frag = "#include \"preamble\"\r\n\r\nuniform sampler2D Frame;\r\n\r\nvarying vec2 vTexCoord;\r\n\r\nvoid main() {\r\n    gl_FragColor = vec4(texture2D(Frame, vTexCoord).rgb, 1.0);\r\n}\r\n";

    var preamble = "#define PI      3.1415926536\r\n#define PI_HALF 1.5707963268\r\n\r\nprecision highp float;\r\n";

    var rand = "float rand(inout vec4 state) {\r\n    const vec4 q = vec4(   1225.0,    1585.0,    2457.0,    2098.0);\r\n    const vec4 r = vec4(   1112.0,     367.0,      92.0,     265.0);\r\n    const vec4 a = vec4(   3423.0,    2646.0,    1707.0,    1999.0);\r\n    const vec4 m = vec4(4194287.0, 4194277.0, 4194191.0, 4194167.0);\r\n\r\n    vec4 beta = floor(state/q);\r\n    vec4 p = a*(state - beta*q) - beta*r;\r\n    beta = (1.0 - sign(p))*0.5*m;\r\n    state = p + beta;\r\n    return fract(dot(state/m, vec4(1.0, -1.0, 1.0, -1.0)));\r\n}\r\n";

    var ray_frag = "#include \"preamble\"\r\n\r\nvarying vec3 vColor;\r\n\r\nvoid main() {\r\n    gl_FragColor = vec4(vColor, 1.0);\r\n}\r\n";

    var ray_vert = "#include \"preamble\"\r\n\r\nuniform sampler2D PosDataA;\r\nuniform sampler2D PosDataB;\r\nuniform sampler2D RgbData;\r\nuniform float Aspect;\r\n\r\nattribute vec3 TexCoord;\r\n\r\nvarying vec3 vColor;\r\n\r\nvoid main() {\r\n    vec2 posA = texture2D(PosDataA, TexCoord.xy).xy;\r\n    vec2 posB = texture2D(PosDataB, TexCoord.xy).xy;\r\n    vec2 pos = mix(posA, posB, TexCoord.z);\r\n    vec2 dir = posB - posA;\r\n    float biasCorrection = clamp(length(dir)/max(abs(dir.x), abs(dir.y)), 1.0, 1.414214);\r\n    \r\n    gl_Position = vec4(pos.x/Aspect, pos.y, 0.0, 1.0);\r\n    vColor = texture2D(RgbData, TexCoord.xy).rgb*biasCorrection;\r\n}\r\n";

    var scene1 = "#include \"trace_frag\"\r\n\r\n#include \"bsdf\"\r\n#include \"intersect\"\r\n#include \"csg_intersect\"\r\n\r\nvoid intersect(Ray ray, inout Intersection isect) {\r\n    bboxIntersect(ray, vec2(0.0), vec2(1.78, 1.0), 0.0, isect);\r\n    biconvexLensIntersect   (ray, vec2(-0.4, 0.0), 0.375, 0.15,   0.75, 0.75, 1.0, isect);\r\n    biconcaveLensIntersect  (ray, vec2( 0.4, 0.0), 0.375, 0.0375, 0.75, 0.75, 1.0, isect);\r\n    planoConvexLensIntersect(ray, vec2(-1.2, 0.0), 0.375, 0.075,  0.75,       1.0, isect);\r\n    meniscusLensIntersect   (ray, vec2( 0.8, 0.0), 0.375, 0.15,   0.45, 0.75, 1.0, isect);\r\n}\r\n\r\nvec2 sample(inout vec4 state, Intersection isect, float lambda, vec2 wiLocal, inout vec3 throughput) {\r\n    if (isect.mat == 1.0) {\r\n        float ior = sellmeierIor(vec3(1.6215, 0.2563, 1.6445), vec3(0.0122, 0.0596, 147.4688), lambda)/1.4;\r\n        return sampleDielectric(state, wiLocal, ior);\r\n    } else {\r\n        throughput *= vec3(0.5);\r\n        return sampleDiffuse(state, wiLocal);\r\n    }\r\n}\r\n";

    var scene2 = "#include \"trace_frag\"\r\n\r\n#include \"bsdf\"\r\n#include \"intersect\"\r\n\r\nvoid intersect(Ray ray, inout Intersection isect) {\r\n    bboxIntersect(ray, vec2(0.0), vec2(1.78, 1.0), 0.0, isect);\r\n    sphereIntersect(ray, vec2(-1.424, -0.8), 0.356, 1.0, isect);\r\n    sphereIntersect(ray, vec2(-0.72,  -0.8), 0.356, 2.0, isect);\r\n    sphereIntersect(ray, vec2( 0.0,   -0.8), 0.356, 3.0, isect);\r\n    sphereIntersect(ray, vec2( 0.72,  -0.8), 0.356, 4.0, isect);\r\n    sphereIntersect(ray, vec2( 1.424, -0.8), 0.356, 5.0, isect);\r\n}\r\n\r\nvec2 sample(inout vec4 state, Intersection isect, float lambda, vec2 wiLocal, inout vec3 throughput) {\r\n           if (isect.mat == 1.0) { return sampleRoughMirror(state, wiLocal, throughput, 0.02);\r\n    } else if (isect.mat == 2.0) { return sampleRoughMirror(state, wiLocal, throughput, 0.05);\r\n    } else if (isect.mat == 3.0) { return sampleRoughMirror(state, wiLocal, throughput, 0.1);\r\n    } else if (isect.mat == 4.0) { return sampleRoughMirror(state, wiLocal, throughput, 0.2);\r\n    } else if (isect.mat == 5.0) { return sampleRoughMirror(state, wiLocal, throughput, 0.5);\r\n    } else {\r\n        throughput *= vec3(0.5);\r\n        return sampleDiffuse(state, wiLocal);\r\n    }\r\n}\r\n";

    var scene3 = "#include \"trace_frag\"\r\n\r\n#include \"bsdf\"\r\n#include \"intersect\"\r\n\r\nvoid intersect(Ray ray, inout Intersection isect) {\r\n    bboxIntersect(ray, vec2(0.0), vec2(1.78, 1.0), 0.0, isect);\r\n    bboxIntersect(ray, vec2(0.0), vec2(1.2,  0.8), 1.0, isect);\r\n    sphereIntersect(ray, vec2(-0.7, -0.45), 0.35, 3.0, isect);\r\n    sphereIntersect(ray, vec2( 0.7, -0.45), 0.35, 2.0, isect);\r\n}\r\n\r\nvec2 sample(inout vec4 state, Intersection isect, float lambda, vec2 wiLocal, inout vec3 throughput) {\r\n    if (isect.mat == 2.0) {\r\n        float ior = sellmeierIor(vec3(1.6215, 0.2563, 1.6445), vec3(0.0122, 0.0596, 147.4688), lambda)/1.4;\r\n        return sampleDielectric(state, wiLocal, ior);\r\n    } else if (isect.mat == 3.0) {\r\n        return sampleMirror(wiLocal);\r\n    } else if (isect.mat == 1.0) {\r\n             if (isect.n.x == -1.0) throughput *= vec3(0.14,  0.45,  0.091);\r\n        else if (isect.n.x ==  1.0) throughput *= vec3(0.63,  0.065, 0.05);\r\n        else                        throughput *= vec3(0.725, 0.71,  0.68);\r\n        return sampleDiffuse(state, wiLocal);\r\n    } else {\r\n        throughput *= vec3(0.5);\r\n        return sampleDiffuse(state, wiLocal);\r\n    }\r\n}\r\n";

    var scene4 = "#include \"trace_frag\"\r\n\r\n#include \"bsdf\"\r\n#include \"intersect\"\r\n\r\nvoid intersect(Ray ray, inout Intersection isect) {\r\n    bboxIntersect(ray, vec2(0.0), vec2(1.78, 1.0), 0.0, isect);\r\n    prismIntersect(ray, vec2(0.0, 0.0), 0.6, 1.0, isect);\r\n}\r\n\r\nvec2 sample(inout vec4 state, Intersection isect, float lambda, vec2 wiLocal, inout vec3 throughput) {\r\n    if (isect.mat == 1.0) {\r\n        float ior = sellmeierIor(vec3(1.6215, 0.2563, 1.6445), vec3(0.0122, 0.0596, 17.4688), lambda)/1.8;\r\n        return sampleRoughDielectric(state, wiLocal, 0.1, ior);\r\n    } else {\r\n        throughput *= vec3(0.05);\r\n        return sampleDiffuse(state, wiLocal);\r\n    }\r\n}\r\n";

    var scene5 = "#include \"trace_frag\"\r\n\r\n#include \"bsdf\"\r\n#include \"intersect\"\r\n#include \"csg_intersect\"\r\n\r\nvoid intersect(Ray ray, inout Intersection isect) {\r\n    bboxIntersect(ray, vec2(0.0), vec2(1.78, 1.0), 0.0, isect);\r\n    planoConcaveLensIntersect(ray, vec2(0.8, 0.0), 0.6, 0.3, 0.6, 1.0, isect);\r\n}\r\n\r\nvec2 sample(inout vec4 state, Intersection isect, float lambda, vec2 wiLocal, inout vec3 throughput) {\r\n    if (isect.mat == 1.0) {\r\n        return sampleMirror(wiLocal);\r\n    } else {\r\n        throughput *= vec3(0.5);\r\n        return sampleDiffuse(state, wiLocal);\r\n    }\r\n}\r\n";

    var scene6 = "#include \"trace_frag\"\r\n\r\n#include \"bsdf\"\r\n#include \"intersect\"\r\n\r\nvoid intersect(Ray ray, inout Intersection isect) {\r\n    bboxIntersect(ray, vec2(0.0), vec2(1.78, 1.0), 0.0, isect);\r\n    sphereIntersect(ray, vec2(-0.95,   0.25),    0.4, 1.0, isect);\r\n    sphereIntersect(ray, vec2(-0.15,  -0.25),    0.2, 1.0, isect);\r\n    sphereIntersect(ray, vec2(1.11667, 0.18333), 0.2, 1.0, isect);\r\n    lineIntersect(ray, vec2(0.168689, -0.885424), vec2(1.13131,  -0.614576), 2.0, isect);\r\n    lineIntersect(ray, vec2(1.71686,   0.310275), vec2(0.983139,  0.989725), 2.0, isect);\r\n}\r\n\r\nvec2 sample(inout vec4 state, Intersection isect, float lambda, vec2 wiLocal, inout vec3 throughput) {\r\n    if (isect.mat == 1.0) {\r\n        float ior = sqrt(sellmeierIor(vec3(1.0396, 0.2318, 1.0105), vec3(0.0060, 0.0200, 103.56), lambda));\r\n        return sampleDielectric(state, wiLocal, ior);\r\n    } else if (isect.mat == 2.0) {\r\n        return sampleMirror(wiLocal);\r\n    } else {\r\n        throughput *= vec3(0.5);\r\n        return sampleDiffuse(state, wiLocal);\r\n    }\r\n}\r\n";

    var scene7 = "#include \"trace_frag\"\r\n\r\n#include \"bsdf\"\r\n#include \"intersect\"\r\n#include \"csg_intersect\"\r\n\r\nvoid intersect(Ray ray, inout Intersection isect) {\r\n    bboxIntersect(ray, vec2(0.0), vec2(1.78, 1.0), 0.0, isect);\r\n    sphereIntersect(ray, vec2(0.0, 0.0), 0.4, 1.0, isect);\r\n    biconvexLensIntersect(ray, vec2(-0.4, -0.65), 0.3, 0.12, 0.5, 0.5, 1.0, isect);\r\n    meniscusLensIntersect(ray, vec2(-0.8, -0.65), 0.3, 0.08, -0.5, -0.5, 1.0, isect);\r\n    planoConcaveLensIntersect(ray, vec2(1.3, 0.0), 0.3, 0.0, 0.3, 2.0, isect);\r\n    prismIntersect(ray, vec2(0.8, -0.7), 0.2, 1.0, isect);\r\n}\r\n\r\nvec2 sample(inout vec4 state, Intersection isect, float lambda, vec2 wiLocal, inout vec3 throughput) {\r\n    if (isect.mat == 1.0) {\r\n        float ior = sellmeierIor(vec3(1.6215, 0.2563, 1.6445), vec3(0.0122, 0.0596, 147.4688), lambda)/1.6; // SF10\r\n        return sampleDielectric(state, wiLocal, ior);\r\n    } else if (isect.mat == 2.0) {\r\n        return sampleMirror(wiLocal);\r\n    } else {\r\n        throughput *= vec3(0.25);\r\n        return sampleDiffuse(state, wiLocal);\r\n    }\r\n}\r\n";

    var trace_frag = "#extension GL_EXT_draw_buffers : require\r\n#include \"preamble\"\r\n#include \"rand\"\r\n\r\nuniform sampler2D PosData;\r\nuniform sampler2D RngData;\r\nuniform sampler2D RgbData;\r\n\r\nvarying vec2 vTexCoord;\r\n\r\nstruct Ray {\r\n    vec2 pos;\r\n    vec2 dir;\r\n    vec2 invDir;\r\n    vec2 dirSign;\r\n};\r\nstruct Intersection {\r\n    float tMin;\r\n    float tMax;\r\n    vec2 n;\r\n    float mat;\r\n};\r\n\r\nvoid intersect(Ray ray, inout Intersection isect);\r\nvec2 sample(inout vec4 state, Intersection isect, float lambda, vec2 wiLocal, inout vec3 throughput);\r\n\r\nRay unpackRay(vec4 posDir) {\r\n    vec2 pos = posDir.xy;\r\n    vec2 dir = posDir.zw;\r\n    dir.x = abs(dir.x) < 1e-5 ? 1e-5 : dir.x; /* The nuclear option to fix NaN issues on some platforms */\r\n    dir.y = abs(dir.y) < 1e-5 ? 1e-5 : dir.y;\r\n    return Ray(pos, normalize(dir), 1.0/dir, sign(dir));\r\n}\r\n\r\nvoid main() {\r\n    vec4 posDir    = texture2D(PosData, vTexCoord);\r\n    vec4 state     = texture2D(RngData, vTexCoord);\r\n    vec4 rgbLambda = texture2D(RgbData, vTexCoord);\r\n    \r\n    Ray ray = unpackRay(posDir);\r\n    Intersection isect;\r\n    isect.tMin = 1e-4;\r\n    isect.tMax = 1e30;\r\n    intersect(ray, isect);\r\n    \r\n    vec2 t = vec2(-isect.n.y, isect.n.x);\r\n    vec2 wiLocal = -vec2(dot(t, ray.dir), dot(isect.n, ray.dir));\r\n    vec2 woLocal = sample(state, isect, rgbLambda.w, wiLocal, rgbLambda.rgb);\r\n    \r\n    if (isect.tMax == 1e30) {\r\n        rgbLambda.rgb = vec3(0.0);\r\n    } else {\r\n        posDir.xy = ray.pos + ray.dir*isect.tMax;\r\n        posDir.zw = woLocal.y*isect.n + woLocal.x*t;\r\n    }\r\n    \r\n    gl_FragData[0] = posDir;\r\n    gl_FragData[1] = state;\r\n    gl_FragData[2] = rgbLambda;\r\n}\r\n";

    var trace_vert = "#include \"preamble\"\r\n\r\nattribute vec3 Position;\r\nattribute vec2 TexCoord;\r\n\r\nvarying vec2 vTexCoord;\r\n\r\nvoid main() {\r\n    gl_Position = vec4(Position, 1.0);\r\n    vTexCoord = TexCoord;\r\n}\r\n";

    var _shaders = /*#__PURE__*/Object.freeze({
        __proto__: null,
        bsdf: bsdf,
        compose_frag: compose_frag,
        compose_vert: compose_vert,
        csg_intersect: csg_intersect,
        emit_frag: emit_frag,
        monochromatic_point_emit_frag: monochromatic_point_emit_frag,
        emit_vert: emit_vert,
        intersect: intersect,
        pass_frag: pass_frag,
        preamble: preamble,
        rand: rand,
        ray_frag: ray_frag,
        ray_vert: ray_vert,
        scene1: scene1,
        scene2: scene2,
        scene3: scene3,
        scene4: scene4,
        scene5: scene5,
        scene6: scene6,
        scene7: scene7,
        trace_frag: trace_frag,
        trace_vert: trace_vert
    });

    const shaders = _shaders;
    function resolveShader(name) {
        if (!(name in shaders))
            throw new Error("Unable to find shader source for '" + name + "'");
        /* Rudimentary include handling for convenience.
           Not the most robust, but it will do for our purposes */
        return shaders[name].replaceAll(/#include "(.+)"/g, (_, g1) => resolveShader(g1));
    }

    class Emitter {
        constructor(gl, multiBufExt) {
            this.gl = gl;
            this.multiBufExt = multiBufExt;
            this.spreadType = Emitter.SPREAD_POINT;
            this.pos = [0.5, 0.5];
            this.angle = 0;
            this.power = 0;
            this.spatialSpread = 0;
            this.angularSpread = [0, 0];
            this.frameBuffer = gl.createFramebuffer();
            this.quadVertexBuffer = createBufferInfoFromArrays(gl, {
                Position: [1.0, 1.0, 0.0, -1.0, 1.0, 0.0, -1.0, -1.0, 0.0, 1.0, -1.0, 0.0],
                TexCoord: [1.0, 1.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0],
            });
            this.emitProgram = createProgramInfo(gl, [
                resolveShader("emit_vert"),
                resolveShader("emit_frag"),
            ], er => { throw new Error(er); });
            this.spectrum = new EmissionSpectrum(gl);
            this.computeSpread();
        }
        setEmissionSpectrum(values) {
            this.spectrum.set(values);
        }
        setPos(posA, posB) {
            this.pos = this.spreadType == Emitter.SPREAD_POINT ? posB : posA;
            this.angle = this.spreadType == Emitter.SPREAD_POINT ? 0.0 : Math.atan2(posB[1] - posA[1], posB[0] - posA[0]);
            this.computeSpread();
        }
        setSpreadType(type) {
            this.spreadType = type;
            this.computeSpread();
        }
        computeSpread() {
            switch (this.spreadType) {
                case Emitter.SPREAD_POINT:
                    this.power = 0.1;
                    this.spatialSpread = 0.0;
                    this.angularSpread = [0.0, Math.PI * 2.0];
                    break;
                case Emitter.SPREAD_CONE:
                    this.power = 0.03;
                    this.spatialSpread = 0.0;
                    this.angularSpread = [this.angle, Math.PI * 0.3];
                    break;
                case Emitter.SPREAD_BEAM:
                    this.power = 0.03;
                    this.spatialSpread = 0.4;
                    this.angularSpread = [this.angle, 0.0];
                    break;
                case Emitter.SPREAD_LASER:
                    this.power = 0.05;
                    this.spatialSpread = 0.0;
                    this.angularSpread = [this.angle, 0.0];
                    break;
                case Emitter.SPREAD_AREA:
                    this.power = 0.1;
                    this.spatialSpread = 0.4;
                    this.angularSpread = [this.angle, Math.PI];
                    break;
            }
        }
        runEmit(currentRayState, nextRayState, rayCount, aspect) {
            const gl = this.gl;
            const raySize = nextRayState.size;
            gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);
            gl.viewport(0, 0, raySize, raySize);
            gl.scissor(0, 0, raySize, rayCount);
            gl.enable(gl.SCISSOR_TEST);
            this.multiBufExt.drawBuffersWEBGL([
                gl.COLOR_ATTACHMENT0,
                gl.COLOR_ATTACHMENT0 + 1,
                gl.COLOR_ATTACHMENT0 + 2,
            ]);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, nextRayState.posTex, 0);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + 1, gl.TEXTURE_2D, nextRayState.rngTex, 0);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + 2, gl.TEXTURE_2D, nextRayState.rgbTex, 0);
            drawObjectList(gl, [{
                    programInfo: this.emitProgram,
                    bufferInfo: this.quadVertexBuffer,
                    uniforms: {
                        RngData: currentRayState.rngTex,
                        Spectrum: this.spectrum.spectrumTex,
                        Emission: this.spectrum.emissionTex,
                        ICDF: this.spectrum.emissionIcdfTex,
                        PDF: this.spectrum.emissionPdfTex,
                        EmitterPos: [
                            ((this.pos[0]) * 2.0 - 1.0) * aspect,
                            1.0 - (this.pos[1]) * 2.0
                        ],
                        EmitterDir: [
                            Math.cos(this.angularSpread[0]),
                            -Math.sin(this.angularSpread[0])
                        ],
                        EmitterPower: this.power,
                        SpatialSpread: this.spatialSpread,
                        AngularSpread: [-this.angularSpread[0], this.angularSpread[1]],
                    },
                    type: gl.TRIANGLE_FAN,
                }]);
            this.multiBufExt.drawBuffersWEBGL([
                gl.COLOR_ATTACHMENT0,
            ]);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, null, 0);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + 1, gl.TEXTURE_2D, null, 0);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + 2, gl.TEXTURE_2D, null, 0);
            gl.disable(gl.SCISSOR_TEST);
            gl.bindFramebuffer(gl.FRAMEBUFFER, null);
        }
    }
    Emitter.SPREAD_POINT = 0;
    Emitter.SPREAD_CONE = 1;
    Emitter.SPREAD_BEAM = 2;
    Emitter.SPREAD_LASER = 3;
    Emitter.SPREAD_AREA = 4;

    class RayState {
        constructor(gl, size) {
            this.gl = gl;
            this.size = size;
            this.posTex = createTexture(gl, {
                width: size,
                height: size,
                format: gl.RGBA,
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE,
            });
            const rngData = new Float32Array(size * size * 4);
            for (let i = 0; i < size * size * 4; ++i) {
                rngData[i] = Math.random() * 4194167.0;
            }
            this.rngTex = createTexture(gl, {
                width: size,
                height: size,
                format: gl.RGBA,
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE,
                src: rngData,
            });
            this.rgbTex = createTexture(gl, {
                width: size,
                height: size,
                format: gl.RGBA,
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE,
            });
        }
    }

    function getFormatForChannelCount(gl, channels) {
        return [gl.LUMINANCE, gl.RG, gl.RGB, gl.RGBA][channels - 1];
    }
    class Renderer {
        constructor(gl, multiBufExt, width, height, scenes) {
            this.gl = gl;
            this.multiBufExt = multiBufExt;
            this.width = width;
            this.height = height;
            this.maxSampleCount = 100000;
            this.maxPathLength = 12;
            this.currentScene = 0;
            this.raySize = 512;
            this.rayCount = this.raySize * this.raySize;
            this.currentStateIndex = 0;
            this.raysPerWave = 4;
            this.aspect = 1;
            this.isFirstWave = true;
            this.waveStartTimestamp = 0;
            this.waveFramesCount = 0;
            this.raysTraced = 0;
            this.samplesTraced = 0;
            this.pathLength = 0;
            this.emitter = new Emitter(gl, multiBufExt);
            this.quadVbo = createBufferInfoFromArrays(gl, {
                Position: [
                    1.0, 1.0, 0.0,
                    -1.0, 1.0, 0.0,
                    -1.0, -1.0, 0.0,
                    1.0, -1.0, 0.0
                ],
                TexCoord: [
                    1.0, 1.0,
                    0.0, 1.0,
                    0.0, 0.0,
                    1.0, 0.0
                ]
            });
            function createProgram(vertName, fragName) {
                return createProgramInfo(gl, [
                    resolveShader(vertName),
                    resolveShader(fragName),
                ], er => { throw new Error(er); });
            }
            this.compositeProgram = createProgram("compose_vert", "compose_frag");
            this.passProgram = createProgram("compose_vert", "pass_frag");
            this.rayProgram = createProgram("ray_vert", "ray_frag");
            this.tracePrograms = scenes.map(s => createProgram("trace_vert", s));
            this.resetActiveBlock();
            this.currentStateIndex = 0;
            this.rayStates = [new RayState(gl, this.raySize), new RayState(gl, this.raySize)];
            const vboData = new Float32Array(this.rayCount * 2 * 3);
            for (let i = 0; i < this.rayCount; ++i) {
                const u = ((i % this.raySize) + 0.5) / this.raySize;
                const v = (Math.floor(i / this.raySize) + 0.5) / this.raySize;
                vboData[i * 6 + 0] = vboData[i * 6 + 3] = u;
                vboData[i * 6 + 1] = vboData[i * 6 + 4] = v;
                vboData[i * 6 + 2] = 0.0;
                vboData[i * 6 + 5] = 1.0;
            }
            this.rayVbo = createBufferInfoFromArrays(gl, {
                "TexCoord": { numComponents: 3, data: vboData },
            });
            this.fbo = gl.createFramebuffer();
            gl.clearColor(0.0, 0.0, 0.0, 1.0);
            this.changeResolution(width, height);
        }
        resetActiveBlock() {
            this.raysPerWave = 4;
        }
        setEmissionSpectrum(values) {
            this.emitter.setEmissionSpectrum(values);
            this.reset();
        }
        setMaxPathLength(length) {
            this.maxPathLength = length;
            this.reset();
        }
        setMaxSampleCount(count) {
            this.maxSampleCount = count;
        }
        changeResolution(width, height) {
            this.width = width;
            this.height = height;
            this.aspect = this.width / this.height;
            const gl = this.gl;
            this.screenBuffer = createTexture(gl, {
                width: this.width,
                height: this.height,
                format: getFormatForChannelCount(gl, 4),
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE
            });
            this.waveBuffer = createTexture(gl, {
                width: this.width,
                height: this.height,
                format: getFormatForChannelCount(gl, 4),
                type: gl.FLOAT,
                minMag: gl.NEAREST,
                wrap: gl.CLAMP_TO_EDGE
            });
            this.resetActiveBlock();
            this.reset();
        }
        changeScene(idx) {
            this.resetActiveBlock();
            this.currentScene = idx;
            this.reset();
        }
        reset() {
            this.isFirstWave = true;
            this.waveStartTimestamp = 0;
            this.waveFramesCount = 0;
            this.raysTraced = 0;
            this.samplesTraced = 0;
            this.pathLength = 0;
            const gl = this.gl;
            gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);
            this.multiBufExt.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0]);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.screenBuffer, 0);
            gl.clear(gl.COLOR_BUFFER_BIT);
            gl.bindFramebuffer(gl.FRAMEBUFFER, null);
        }
        setSpreadType(...args) {
            this.resetActiveBlock();
            this.emitter.setSpreadType(...args);
            this.reset();
        }
        setEmitterPos(posA, posB) {
            this.setNormalizedEmitterPos([posA[0] / this.width, posA[1] / this.height], [posB[0] / this.width, posB[1] / this.height]);
        }
        setNormalizedEmitterPos(...args) {
            this.emitter.setPos(...args);
            this.reset();
        }
        totalRaysTraced() {
            return this.raysTraced;
        }
        maxRayCount() {
            return this.maxPathLength * this.maxSampleCount;
        }
        totalSamplesTraced() {
            return this.samplesTraced;
        }
        progress() {
            return Math.min(this.totalRaysTraced() / this.maxRayCount(), 1.0);
        }
        finished() {
            return this.totalSamplesTraced() >= this.maxSampleCount;
        }
        runComposite() {
            drawObjectList(this.gl, [{
                    programInfo: this.compositeProgram,
                    bufferInfo: this.quadVbo,
                    uniforms: {
                        Frame: this.screenBuffer,
                        Exposure: this.width / (Math.max(this.samplesTraced, this.raySize * this.raysPerWave)),
                    },
                    type: this.gl.TRIANGLE_FAN,
                }]);
        }
        runRay() {
            const gl = this.gl;
            const current = this.currentStateIndex;
            const next = 1 - this.currentStateIndex;
            gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);
            gl.viewport(0, 0, this.width, this.height);
            this.multiBufExt.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0]);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.waveBuffer, 0);
            if (this.pathLength == 0 || this.isFirstWave) {
                gl.clear(gl.COLOR_BUFFER_BIT);
            }
            gl.enable(gl.BLEND);
            drawObjectList(gl, [{
                    programInfo: this.rayProgram,
                    bufferInfo: this.rayVbo,
                    uniforms: {
                        PosDataA: this.rayStates[current].posTex,
                        PosDataB: this.rayStates[next].posTex,
                        RgbData: this.rayStates[current].rgbTex,
                        Aspect: this.aspect,
                    },
                    type: gl.LINES,
                    count: this.raySize * this.raysPerWave * 2,
                }]);
            gl.disable(gl.BLEND);
            gl.bindFramebuffer(gl.FRAMEBUFFER, null);
        }
        runPass() {
            const gl = this.gl;
            gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);
            gl.viewport(0, 0, this.width, this.height);
            this.multiBufExt.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0]);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.screenBuffer, 0);
            gl.enable(gl.BLEND);
            gl.blendFunc(gl.ONE, gl.ONE);
            drawObjectList(gl, [{
                    programInfo: this.passProgram,
                    bufferInfo: this.quadVbo,
                    uniforms: {
                        Frame: this.waveBuffer,
                    },
                    type: gl.TRIANGLE_FAN,
                }]);
            gl.disable(gl.BLEND);
            gl.bindFramebuffer(gl.FRAMEBUFFER, null);
        }
        runTrace() {
            const gl = this.gl;
            const currectRayState = this.rayStates[this.currentStateIndex];
            const nextRayState = this.rayStates[1 - this.currentStateIndex];
            gl.bindFramebuffer(gl.FRAMEBUFFER, this.fbo);
            gl.viewport(0, 0, this.raySize, this.raySize);
            gl.scissor(0, 0, this.raySize, this.raysPerWave);
            gl.enable(gl.SCISSOR_TEST);
            this.multiBufExt.drawBuffersWEBGL([
                gl.COLOR_ATTACHMENT0,
                gl.COLOR_ATTACHMENT0 + 1,
                gl.COLOR_ATTACHMENT0 + 2,
            ]);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, nextRayState.posTex, 0);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + 1, gl.TEXTURE_2D, nextRayState.rngTex, 0);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + 2, gl.TEXTURE_2D, nextRayState.rgbTex, 0);
            drawObjectList(gl, [{
                    programInfo: this.tracePrograms[this.currentScene],
                    bufferInfo: this.quadVbo,
                    uniforms: {
                        PosData: currectRayState.posTex,
                        RngData: currectRayState.rngTex,
                        RgbData: currectRayState.rgbTex,
                    },
                    type: this.gl.TRIANGLE_FAN,
                }]);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, null, 0);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + 1, gl.TEXTURE_2D, null, 0);
            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + 2, gl.TEXTURE_2D, null, 0);
            gl.disable(gl.SCISSOR_TEST);
            gl.bindFramebuffer(gl.FRAMEBUFFER, null);
        }
        render(timestamp) {
            // If this frame starts a new wave
            if (this.pathLength == 0) {
                this.waveStartTimestamp = timestamp;
                this.waveFramesCount = 0;
                this.emitter.runEmit(this.rayStates[this.currentStateIndex], this.rayStates[1 - this.currentStateIndex], this.raysPerWave, this.aspect);
                this.currentStateIndex = 1 - this.currentStateIndex;
            }
            this.runTrace();
            this.runRay();
            this.raysTraced += this.raySize * this.raysPerWave;
            this.pathLength += 1;
            // If the wave has ended, prepare to start a new wave
            if (this.pathLength == this.maxPathLength) {
                this.runPass();
                this.samplesTraced += this.raySize * this.raysPerWave;
                this.isFirstWave = false;
                this.pathLength = 0;
                // Adjust how many rays are computed per wave
                // judging from the FPS during that wave
                if (this.waveFramesCount > 4) {
                    const avgFrameTime = (timestamp - this.waveStartTimestamp) / this.waveFramesCount;
                    console.log(avgFrameTime, this.raysPerWave);
                    /* Let's try to stay at reasonable frame times. Targeting 16ms is
                       a bit tricky because there's a lot of variability in how often
                       the browser executes this loop and 16ms might well not be
                       reachable, but 24ms seems to do ok */
                    const targetFrameTime = 24.0;
                    this.raysPerWave = Math.max(4, Math.min(512, Math.round(this.raysPerWave * (targetFrameTime / avgFrameTime))));
                }
            }
            // Draw the results every frame during the first wave
            if (this.isFirstWave) {
                this.runPass();
            }
            this.runComposite();
            this.currentStateIndex = 1 - this.currentStateIndex;
            this.waveFramesCount++;
        }
    }

    function colorBufferFloatTest(gl, multiBufExt) {
        /* This one is slightly awkward. The WEBGL_color_buffer_float
           extension is apparently causing a lot of troubles for
           ANGLE, so barely anyone bothers to implement it. On the other
           hand, most platforms do actually implicitly support float render
           targets just fine, even though they pretend they don't.
           So to *actually* figure out whether we can do float attachments
           or not, we have to do a very hacky up-front blending test
           and see whether the results come out correct.
           Hurray WebGL! */
        const blend_test_vert = `precision highp float; 
    attribute vec3 Position; 
    void main() { gl_Position = vec4(Position, 1.0); }`;
        const blend_test_frag = `precision highp float; 
    void main() { gl_FragColor = vec4(vec3(7.0, 59.0, -7.0), 1.0); }`;
        const blend_test_pack_frag = `precision highp float; 
    uniform sampler2D Tex; 
    void main() { gl_FragColor = texture2D(Tex, vec2(0.5))*(1.0/255.0); }`;
        const shader = createProgramInfo(gl, [blend_test_vert, blend_test_frag], er => { throw new Error(er); });
        const packShader = createProgramInfo(gl, [blend_test_vert, blend_test_pack_frag], er => { throw new Error(er); });
        const target = createTexture(gl, {
            width: 1,
            height: 1,
            format: gl.RGBA,
            type: gl.FLOAT,
            minMag: gl.NEAREST,
            wrap: gl.REPEAT,
            src: [-6.0, 10.0, 30.0, 2.0],
        });
        const fbo = gl.createFramebuffer();
        const vbo = createBufferInfoFromArrays(gl, {
            Position: [
                1.0, 1.0, 0.0,
                -1.0, 1.0, 0.0,
                -1.0, -1.0, 0.0,
                1.0, -1.0, 0.0
            ],
        });
        gl.viewport(0, 0, 1, 1);
        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);
        multiBufExt.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0]);
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, target, 0);
        gl.enable(gl.BLEND);
        gl.blendFunc(gl.ONE, gl.ONE);
        gl.useProgram(shader.program);
        drawObjectList(gl, [{
                programInfo: shader,
                bufferInfo: vbo,
                uniforms: {},
                type: gl.TRIANGLE_FAN,
            }]);
        drawObjectList(gl, [{
                programInfo: shader,
                bufferInfo: vbo,
                uniforms: {},
                type: gl.TRIANGLE_FAN,
            }]);
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);
        gl.disable(gl.BLEND);
        /* Of course we can neither read back texture contents or read floating point
           FBO attachments in WebGL, so we have to do another pass, convert to uint8
           and check whether the results are ok.
           Hurray WebGL! */
        drawObjectList(gl, [{
                programInfo: packShader,
                bufferInfo: vbo,
                uniforms: {
                    Tex: target
                },
                type: gl.TRIANGLE_FAN,
            }]);
        const pixels = new Uint8Array([0, 0, 0, 0]);
        gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixels);
        if (pixels[0] != 8 || pixels[1] != 128 || pixels[2] != 16 || pixels[3] != 4) {
            console.log("Floating point blending test failed. Result was " + pixels + " but should have been " + [8, 128, 16, 4]);
            throw new Error("Your platform does not support floating point attachments");
        }
    }

    class Tantalum {
        constructor() {
            this.canvas = document.getElementById("render-canvas");
            this.overlay = document.getElementById("render-overlay");
            this.content = document.getElementById("content");
            this.controls = document.getElementById("controls");
            this.spectrumCanvas = document.getElementById("spectrum-canvas");
            this.savedImages = 0;
            this.saveImageData = false;
            this.boundRenderLoop = this.renderLoop.bind(this);
            try {
                const { gl, multiBufExt } = this.setupGL();
                this.gl = gl;
                this.multiBufExt = multiBufExt;
            }
            catch (e) {
                /* GL errors at this stage are to be expected to some degree,
                   so display a nice error message and call it quits */
                e.message += ". This demo won't run in your browser.";
                throw e;
            }
            try {
                const ui = this.setupUI();
                this.renderer = ui.renderer;
                this.spectrumRenderer = ui.spectrumRenderer;
                this.progressBar = ui.progressBar;
            }
            catch (e) {
                /* Errors here are a bit more serious and shouldn't normally happen.
                   Let's just dump what we have and hope the user can make sense of it */
                e.message = "Ooops! Something unexpected happened. The error message is listed below:<br/>" +
                    "<pre>" + e.message + "</pre>";
                throw e;
            }
            /* Ok, all seems well. Time to show the controls */
            this.controls.style.visibility = "visible";
            window.requestAnimationFrame(this.boundRenderLoop);
        }
        setupGL() {
            let gl;
            try {
                gl = (this.canvas.getContext("webgl") || this.canvas.getContext("experimental-webgl"));
            }
            catch (e) {
                e.message = "Could not initialise WebGL: " + e.message;
                throw e;
            }
            if (!gl)
                throw new Error("Could not initialise WebGL");
            const floatExt = gl.getExtension("OES_texture_float");
            const floatLinExt = gl.getExtension("OES_texture_float_linear");
            const floatBufExt = gl.getExtension("WEBGL_color_buffer_float");
            const multiBufExt = gl.getExtension("WEBGL_draw_buffers");
            if (!floatExt || !floatLinExt)
                throw new Error("Your platform does not support float textures");
            if (!multiBufExt)
                throw new Error("Your platform does not support the draw buffers extension");
            if (!floatBufExt) {
                colorBufferFloatTest(gl, multiBufExt);
            }
            return { gl, multiBufExt };
        }
        setupUI() {
            function map(a, b) { return [a * 0.5 / 1.78 + 0.5, -b * 0.5 + 0.5]; }
            const config = {
                "resolutions": [[820, 461], [1024, 576], [1280, 720], [1600, 900], [1920, 1080], [4096, 2160]],
                "scenes": [
                    { 'shader': 'scene1', 'name': 'Lenses', 'posA': [0.5, 0.5], 'posB': [0.5, 0.5], 'spread': Emitter.SPREAD_POINT },
                    { 'shader': 'scene6', 'name': 'Spheres', 'posA': map(-1.59, 0.65), 'posB': map(0.65, -0.75), 'spread': Emitter.SPREAD_BEAM },
                    { 'shader': 'scene7', 'name': 'Playground', 'posA': [0.3, 0.52], 'posB': [0.3, 0.52], 'spread': Emitter.SPREAD_POINT },
                    { 'shader': 'scene4', 'name': 'Prism', 'posA': [0.1, 0.65], 'posB': [0.4, 0.4], 'spread': Emitter.SPREAD_LASER },
                    { 'shader': 'scene5', 'name': 'Cardioid', 'posA': [0.2, 0.5], 'posB': [0.2, 0.5], 'spread': Emitter.SPREAD_POINT },
                    { 'shader': 'scene3', 'name': 'Cornell Box', 'posA': [0.5, 0.101], 'posB': [0.5, 0.2], 'spread': Emitter.SPREAD_AREA },
                    { 'shader': 'scene2', 'name': 'Rough Mirror Spheres', 'posA': [0.25, 0.125], 'posB': [0.5, 0.66], 'spread': Emitter.SPREAD_LASER }
                ]
            };
            const renderer = new Renderer(this.gl, this.multiBufExt, this.canvas.width, this.canvas.height, config.scenes.map(s => s.shader));
            const spectrumRenderer = new SpectrumRenderer(this.spectrumCanvas, renderer.emitter.spectrum);
            /* Let's try and make member variables in JS a little less verbose... */
            const { content, canvas } = this;
            const progressBar = new ProgressBar(true);
            replace("render-progress", progressBar.el);
            const resolutionLabels = [];
            for (let i = 0; i < config.resolutions.length; ++i)
                resolutionLabels.push(config.resolutions[i][0] + "x" + config.resolutions[i][1]);
            replace("resolution-selector", new ButtonGroup(false, resolutionLabels, function (idx) {
                const [width, height] = config.resolutions[idx];
                content.style.width = width + "px";
                content.style.height = height + "px";
                canvas.width = width;
                canvas.height = height;
                renderer.changeResolution(width, height);
            }).el);
            const spreadSelector = new ButtonGroup(true, ["Point", "Cone", "Beam", "Laser", "Area"], renderer.setSpreadType.bind(renderer));
            replace("spread-selector", spreadSelector.el);
            function selectScene(idx) {
                renderer.changeScene(idx);
                spreadSelector.select(config.scenes[idx].spread);
                renderer.setNormalizedEmitterPos(config.scenes[idx].posA, config.scenes[idx].posB);
            }
            replace("scene-selector", new ButtonGroup(true, config.scenes.map(s => s.name), selectScene).el);
            const mouseListener = new MouseListener(canvas, renderer.setEmitterPos.bind(renderer));
            const temperatureSlider = new Slider(1000, 10000, true, function (temperature) {
                this.setLabel("Temperature: " + temperature + "K");
                renderer.setEmissionSpectrum({ emitterTemperature: temperature });
                spectrumRenderer.draw();
            });
            replace("emission-temperature", temperatureSlider.el);
            const bounceSlider = new Slider(1, 20, true, function (length) {
                this.setLabel((length - 1) + " light bounces");
                renderer.setMaxPathLength(length);
            });
            bounceSlider.setValue(12);
            replace("path-length", bounceSlider.el);
            const sampleSlider = new Slider(400, 700, true, function (exponent100) {
                const sampleCount = Math.floor(Math.pow(10, exponent100 * 0.01));
                this.setLabel(sampleCount + " light paths");
                renderer.setMaxSampleCount(sampleCount);
            });
            sampleSlider.setValue(600);
            replace("sample-count", sampleSlider.el);
            const gasGrid = new ButtonGrid(4, gasDischargeLines.map(l => l.name), function (gasId) {
                renderer.setEmissionSpectrum({ emitterGas: gasId });
                spectrumRenderer.draw();
            });
            replace("gas-selection", gasGrid.el);
            temperatureSlider.show(false);
            gasGrid.show(false);
            replace("emission-selector", new ButtonGroup(false, ["White", "Incandescent", "Gas Discharge"], function (type) {
                renderer.setEmissionSpectrum({ emissionType: type });
                spectrumRenderer.setSmooth(type != EmissionSpectrum.SPECTRUM_GAS_DISCHARGE);
                spectrumRenderer.draw();
                temperatureSlider.show(type == EmissionSpectrum.SPECTRUM_INCANDESCENT);
                gasGrid.show(type == EmissionSpectrum.SPECTRUM_GAS_DISCHARGE);
            }).el);
            document.getElementById('save-button')
                .addEventListener('click', () => this.saveImageData = true);
            selectScene(0);
            this.overlay.className = "render-help";
            this.overlay.offsetHeight; /* Flush CSS changes */
            this.overlay.className += " render-help-transition";
            this.overlay.textContent = "Click and drag!";
            this.overlay.addEventListener("mousedown", function (event) {
                this.parentNode.removeChild(this);
                mouseListener.mouseDown(event);
            });
            return {
                renderer,
                spectrumRenderer,
                progressBar,
            };
        }
        renderLoop(timestamp) {
            window.requestAnimationFrame(this.boundRenderLoop);
            if (!this.renderer.finished())
                this.renderer.render(timestamp);
            if (this.saveImageData) {
                /* Ensure we redraw the image before we grab it. This is a strange one:
                   To save power the renderer stops doing anything after it finished
                   tracing rays, and the canvas keeps displaying the correct image
                   (as you would expect). However, when we get the canvas as a blob,
                   the results are garbage unless we rendered to it in that frame.
                   There's most likely some browser/ANGLE meddling happening here, but
                   in interest of my mental health I'm not going to dig deeper into this */
                if (this.renderer.finished())
                    this.renderer.runComposite();
                let fileName = "Tantalum";
                if (this.savedImages > 0)
                    fileName += (this.savedImages + 1);
                fileName += ".png";
                this.canvas.toBlob(function (blob) { saveAs(blob, fileName); });
                this.savedImages++;
                this.saveImageData = false;
            }
            this.progressBar.setProgress(this.renderer.progress());
            this.progressBar.setLabel(Math.min(this.renderer.totalRaysTraced(), this.renderer.maxRayCount()) +
                "/" + this.renderer.maxRayCount() + " rays traced; Progress: " +
                this.progressBar.getProgressPercentage() + "%");
        }
        static fail(message) {
            const sorryP = document.createElement("p");
            sorryP.appendChild(document.createTextNode("Sorry! :("));
            sorryP.style.fontSize = "50px";
            const failureP = document.createElement("p");
            failureP.className = "warning-box";
            failureP.innerHTML = message;
            const errorImg = document.createElement("img");
            errorImg.title = errorImg.alt = "The Element of Failure";
            errorImg.src = "derp.gif";
            const failureDiv = document.createElement("div");
            failureDiv.className = "center";
            failureDiv.append(sorryP, errorImg, failureP);
            document.getElementById("content").appendChild(failureDiv);
            document.getElementById("render-overlay").style.display = 'none';
            document.getElementById("render-canvas").style.display = 'none';
        }
    }

    try {
        new Tantalum();
    }
    catch (e) {
        Tantalum.fail(e.message);
        throw e;
    }

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmdlbmVyYXRlZC5qcyIsInNvdXJjZXMiOlsic3JjL3RhbnRhbHVtLWNvcmUvZ2FzRGlzY2hhcmdlTGluZXMudHMiLCJzcmMvdGFudGFsdW0tY29yZS93YXZlbGVuZ3RoVG9SZ2JUYWJsZS50cyIsIm5vZGVfbW9kdWxlcy90d2dsLmpzL2Rpc3QvNC54L3R3Z2wtZnVsbC5tb2R1bGUuanMiLCJzcmMvdGFudGFsdW0tY29yZS9FbWlzc2lvblNwZWN0cnVtLnRzIiwic3JjL3RhbnRhbHVtLWNvcmUvU3BlY3RydW1SZW5kZXJlci50cyIsInNyYy90YW50YWx1bS11aS9Qcm9ncmVzc0Jhci50cyIsInNyYy90YW50YWx1bS11aS9TbGlkZXIudHMiLCJzcmMvdGFudGFsdW0tdWkvQnV0dG9uR3JpZC50cyIsInNyYy90YW50YWx1bS11aS9CdXR0b25Hcm91cC50cyIsInNyYy90YW50YWx1bS11aS9Nb3VzZUxpc3RlbmVyLnRzIiwic3JjL3RhbnRhbHVtLXVpL2luZGV4LnRzIiwic3JjL3Jlc29sdmVTaGFkZXIudHMiLCJzcmMvdGFudGFsdW0tY29yZS9FbWl0dGVyLnRzIiwic3JjL3RhbnRhbHVtLWNvcmUvUmF5U3RhdGUudHMiLCJzcmMvdGFudGFsdW0tY29yZS9SZW5kZXJlci50cyIsInNyYy9jb2xvckJ1ZmZlckZsb2F0VGVzdC50cyIsInNyYy9UYW50YWx1bS50cyIsInNyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2FzRGlzY2hhcmdlTGluZXMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiQWx1bWludW1cIixcclxuICAgICAgICBcIndhdmVsZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzkwLjA2OCwgMzkzLjIsIDM5NC40LCAzOTYuMTUyLCAzOTkuNTg2LCA0MjIuNjgxLCA0NTguNTgyLCA0NTguODE5LCA0NjYuNjgsIDQ4OS44NzYsXHJcbiAgICAgICAgICAgIDQ5MC4yNzcsIDUyOC4wMjEsIDUxMC43NTIsIDUyOC4zNzcsIDUyOC41ODUsIDUzMS4yMzIsIDUzMS42MDcsIDUzNy4xODQsIDU1NS43MDYsIDU1NS43OTUsXHJcbiAgICAgICAgICAgIDU1OS4zMjMsIDU4NS4zNjIsIDU5Ny4xOTQsIDYwMC4xNzYsIDYwMC4xODgsIDYwMC42NDIsIDYwNi4xMTEsIDYwNi44NDMsIDYwNi44NTMsIDYwNy4zMjMsXHJcbiAgICAgICAgICAgIDYxOC4xNTcsIDYxOC4xNjgsIDYxOC4yMjgsIDYxOC4yNDUsIDYxOC4zNDIsIDYyMC4xNTIsIDYyMC4xNywgNjIyLjYxOCwgNjIzLjE3OCwgNjI0LjMzNixcclxuICAgICAgICAgICAgNjMzLjU3NCwgNjY5LjYwMiwgNjY5Ljg2NywgNzA4LjM5NywgNzA4LjQ2NFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgXCJzdHJlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICA0NTAsIDYwLCA0NTAwLCA5MDAwLCAxMTAsIDI5MCwgMTUwLCAxMTAsIDU1MCwgMTEwLCAxMTAsIDE1MCwgNzAsIDI5MCwgMTUwLCAxMTAsIDIyMCwgMTUwLFxyXG4gICAgICAgICAgICAxODAsIDExMCwgNDUwLCAxMTAsIDIyMCwgMjkwLCAyMjAsIDQ1MCwgMTUwLCAyOTAsIDExMCwgNDUwLCAxMTAsIDE1MCwgMjkwLCAyMjAsIDQ1MCwgNDUwLFxyXG4gICAgICAgICAgICAzNjAsIDI5MCwgMzYwLCA0NTAsIDQ1MCwgMzYwLCAyMzAsIDYwLCA3MFxyXG4gICAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiQXJnb25cIixcclxuICAgICAgICBcIndhdmVsZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzkyLjU3MiwgMzkyLjg2MiwgMzkzLjI1NSwgMzk0LjYxLCAzOTQuNzUxLCAzOTQuODk4LCAzOTcuOTM2LCAzOTkuNDc5LCA0MDEuMzg2LCA0MDMuMzgxLFxyXG4gICAgICAgICAgICA0MDMuNTQ2LCA0MDQuMjg5LCA0MDQuNDQyLCA0MDUuMjkyLCA0MDcuMjAxLCA0MDcuMjM5LCA0MDcuNjYzLCA0MDcuOTU3LCA0MDguMjM5LCA0MTAuMzkxLFxyXG4gICAgICAgICAgICA0MTMuMTcyLCA0MTUuNjA5LCA0MTUuODU5LCA0MTYuNDE4LCA0MTcuOTMsIDQxOC4xODgsIDQxOS4wNzEsIDQxOS4xMDMsIDQxOS44MzIsIDQyMC4wNjcsXHJcbiAgICAgICAgICAgIDQyMS44NjcsIDQyMi4yNjQsIDQyMi42OTksIDQyMi44MTYsIDQyMy43MjIsIDQyNS4xMTksIDQyNS45MzYsIDQyNi42MjksIDQyNi42NTMsIDQyNy4yMTcsXHJcbiAgICAgICAgICAgIDQyNy43NTMsIDQyOC4yOSwgNDMwLjAxLCA0MzAuMDY1LCA0MzAuOTI0LCA0MzMuMTIsIDQzMy4yMDMsIDQzMy4zNTYsIDQzMy41MzQsIDQzNC41MTcsXHJcbiAgICAgICAgICAgIDQzNC44MDYsIDQzNS4yMjEsIDQzNi4yMDcsIDQzNi43ODMsIDQzNy4wNzUsIDQzNy4xMzMsIDQzNy41OTUsIDQzNy45NjcsIDQzOC41MDYsIDQ0MC4wMSxcclxuICAgICAgICAgICAgNDQwLjA5OSwgNDQyLjYsIDQ0My4wMTksIDQ0My4xLCA0NDMuMzg0LCA0NDMuOTQ2LCA0NDQuODg4LCA0NDcuNDc2LCA0NDguMTgxLCA0NTEuMDczLFxyXG4gICAgICAgICAgICA0NTIuMjMyLCA0NTMuMDU1LCA0NTQuNTA1LCA0NTYuNDQxLCA0NTcuOTM1LCA0NTguOTksIDQ1OS42MSwgNDYwLjk1NywgNDYyLjg0NCwgNDYzLjcyMyxcclxuICAgICAgICAgICAgNDY1Ljc5LCA0NzAuMjMyLCA0NzIuMTU5LCA0NzIuNjg3LCA0NzMuMjA1LCA0NzMuNTkxLCA0NzYuNDg3LCA0ODAuNjAyLCA0ODQuNzgxLCA0ODYuNTkxLFxyXG4gICAgICAgICAgICA0ODcuOTg2LCA0ODguOTA0LCA0OTAuNDc1LCA0OTMuMzIxLCA0OTYuNTA4LCA1MDAuOTMzLCA1MDEuNzE2LCA1MDYuMjA0LCA1MDkuMDUsIDUxNC4xNzgsXHJcbiAgICAgICAgICAgIDUxNC41MzEsIDUxNS4xMzksIDUxNi4yMjksIDUxNi41NzcsIDUxOC43NzUsIDUyMS42ODEsIDUyMi4xMjcsIDU0Mi4xMzUsIDU0NS4xNjUsIDU0OS41ODcsXHJcbiAgICAgICAgICAgIDU1MC42MTEsIDU1NS44NywgNTU3LjI1NCwgNTYwLjY3MywgNTY1LjA3LCA1NzMuOTUyLCA1ODMuNDI2LCA1ODYuMDMxLCA1ODguMjYyLCA1ODguODU4LFxyXG4gICAgICAgICAgICA1OTEuMjA5LCA1OTIuODgxLCA1OTQuMjY3LCA1OTguNzMsIDU5OS45LCA2MDIuNTE1LCA2MDMuMjEzLCA2MDQuMzIyLCA2MDUuMjcyLCA2MDUuOTM3LFxyXG4gICAgICAgICAgICA2MDkuODgsIDYxMC41NjQsIDYxMS40OTIsIDYxNC41NDQsIDYxNy4wMTcsIDYxNy4yMjgsIDYxNy4zMSwgNjIxLjI1LCA2MjEuNTk0LCA2MjQuMzEyLFxyXG4gICAgICAgICAgICA2MjkuNjg3LCA2MzAuNzY2LCA2MzYuOTU4LCA2MzguNDcyLCA2NDEuNjMxLCA2NDguMzA4LCA2NTMuODExLCA2NjAuNDg1LCA2NjMuODIyLCA2NjMuOTc0LFxyXG4gICAgICAgICAgICA2NjQuMzcsIDY2Ni4wNjgsIDY2Ni40MDUsIDY2Ni42MzYsIDY2Ny43MjgsIDY2OC40MjksIDY3NS4yODMsIDY3NS42MTYsIDY3Ni42NjEsIDY4Ni4xMjcsXHJcbiAgICAgICAgICAgIDY4Ny4xMjksIDY4Ny45NTgsIDY4OC44MTcsIDY5My43NjYsIDY5NS4xNDgsIDY5Ni4wMjUsIDY5Ni41NDMsIDcwMy4wMjUsIDcwNi43MjIsIDcwNi44NzQsXHJcbiAgICAgICAgICAgIDcxMC43NDgsIDcxMi41ODIsIDcxNC43MDQsIDcxNS44ODRcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzUsIDUwLCAyNSwgNzAsIDcsIDM1LCAyMCwgMzUsIDUwLCA1MCwgMjAsIDE1MCwgNTAsIDEwMCwgMjAwLCA3MCwgMjUsIDM1LCAyNSwgMTUwLCAzMDAsXHJcbiAgICAgICAgICAgIDM1LCA0MDAsIDUwLCAzNSwgNTAsIDEwMCwgNTAsIDIwMCwgNDAwLCAyNSwgMjUsIDI1LCAxMDAsIDEwMCwgMjUsIDIwMCwgMTAwLCA3MCwgMTUwLCA1NTAsXHJcbiAgICAgICAgICAgIDIwLCAxMDAsIDI1LCA3MCwgMjAwLCA1MCwgMTAwLCA1MCwgMjUsIDgwMCwgNTAsIDI1LCA1MCwgMjAwLCA3MCwgNTAsIDE1MCwgNTAsIDcwLCAyMDAsXHJcbiAgICAgICAgICAgIDQwMCwgMTUwLCA1MCwgNTAsIDIwLCAzNSwgMTAwLCAyMDAsIDEwMCwgMjAsIDIwLCA0MDAsIDIwLCA0MDAsIDQwMCwgMTUsIDU1MCwgNywgMzUsIDQwMCxcclxuICAgICAgICAgICAgMTUsIDIwLCA1NTAsIDUwLCAzMDAsIDgwMCwgNTUwLCAxNTAsIDUwLCA4MDAsIDcwLCAyMCwgMzUsIDIwMCwgNTAsIDcwLCA3MCwgMjAsIDEwMCwgNzAsIDUsXHJcbiAgICAgICAgICAgIDE1LCAyNSwgMjAsIDIwLCA3LCA1LCAxMCwgMjUsIDUsIDI1LCAxMCwgMzUsIDIwLCAxMCwgNSwgMTAsIDE1LCAyNSwgNTAsIDE1LCA1LCA3LCA1LCA1LFxyXG4gICAgICAgICAgICA3MCwgMzUsIDEwLCAyMCwgNywgMTAsIDEwMCwgMTAsIDcsIDE1MCwgMTAsIDEwLCA1LCAyNSwgNywgMTUsIDcsIDIwLCA3MCwgMjUsIDE1LCAxNSwgMjUsXHJcbiAgICAgICAgICAgIDIwLCA1MCwgNSwgNSwgMjUsIDEwMCwgMzUsIDE1MCwgNSwgMTUsIDIwLCAxNTAsIDUsIDEwLCA1MCwgNywgNywgOTk5OSwgMTUwLCA5OTk5LCAxMDAsIDI1LFxyXG4gICAgICAgICAgICAyNSwgMTAwMCwgMTVcclxuICAgICAgICBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwibmFtZVwiOiBcIkJhcml1bVwiLFxyXG4gICAgICAgIFwid2F2ZWxlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICA0MDUuMzcxLCA0MDguMDk2LCA0MDguNDg3LCA0MDguNzI1LCA0MDguNzM0LCA0MTMuMDY1LCA0MTMuMjQzLCA0MTYuNiwgNDE3LjkzNSwgNDIyLjM5NixcclxuICAgICAgICAgICAgNDIzLjk1NiwgNDI0LjI2LCA0MjYuNDQyLCA0MjYuNzkyLCA0MjguMzEsIDQyOS4xMTYsIDQzMC41MTgsIDQzMC45MjcsIDQzMC45MjcsIDQzMi4zLFxyXG4gICAgICAgICAgICA0MzIuNTExLCA0MzMuMjkxLCA0MzUuMDMzLCA0MzUuOTUzLCA0NDAuMjU0LCA0NDAuNjgzLCA0NDEuMzY2LCA0NDMuMTg5LCA0NDYuNzA5LCA0NDguODk4LFxyXG4gICAgICAgICAgICA0NDkuMzY0LCA0NTAuNDM1LCA0NTAuNTkyLCA0NTIuMzE3LCA0NTIuNDkzLCA0NTUuNDAzLCA0NTcuMzg1LCA0NTcuOTY0LCA0NTguOTc2LCA0NTkuMTgyLFxyXG4gICAgICAgICAgICA0NTkuOTcyLCA0NjAuNDk4LCA0NjEuOTkyLCA0NjIuODMzLCA0NjcuMzYyLCA0NjkuMTYxLCA0NjkuNzQ0LCA0NjkuOTEsIDQ3MC4wNDIsIDQ3Mi40NzEsXHJcbiAgICAgICAgICAgIDQ3Mi42NDMsIDQ4Ny43NjUsIDQ4OS45OTMsIDQ5MC4yODUsIDQ5My40MDgsIDQ5NC43MzEsIDQ5NS43MDksIDQ5OS41NjQsIDUwMS4yOTUsIDUwMS4yOTUsXHJcbiAgICAgICAgICAgIDUwNC45NTUsIDUwNS40OTYsIDUwOS43NTQsIDUxMC4yMjUsIDUxMy40NTQsIDUxNS45ODgsIDUyNS4zOCwgNTMwLjU3LCA1NDIuNDU1LCA1NDMuNzMyLFxyXG4gICAgICAgICAgICA1NTEuOTA0LCA1NTMuNTQ4LCA1NTMuNTg3LCA1NTkuMzMxLCA1NjguMCwgNTY4LjAxOCwgNTc3Ljc2MiwgNTc4LjQwNCwgNTgwLjAyMywgNTgwLjU2OCxcclxuICAgICAgICAgICAgNTgxLjg4MSwgNTgyLjYyNywgNTg1LjM2OCwgNTkwLjc2NCwgNTk3LjE3LCA1OTcuODQ2LCA1OTkuNzA5LCA1OTkuOCwgNjAxLjk0NywgNjA2LjMxMSxcclxuICAgICAgICAgICAgNjA4LjMzOSwgNjEwLjE5OSwgNjExLjA3OCwgNjEyLjkyMywgNjE0LjE3MSwgNjM0LjE2OCwgNjM3LjcxMSwgNjM4LjM3NiwgNjQxLjExMSwgNjQ1LjA4NSxcclxuICAgICAgICAgICAgNjQ4LjI5MSwgNjQ5LjY5LCA2NDkuODc2LCA2NTIuNjE3LCA2NTIuNzMxLCA2NTkuNTMzLCA2NjUuNDExLCA2NjcuNTI3LCA2NjkuMzg0LCA2NzYuOTQ4LFxyXG4gICAgICAgICAgICA2NzcuMTg2LCA2ODYuNTY5LCA2ODYuNzkxLCA2ODcuNDA4LCA2ODcuNDA4LCA2OTYuMTQ4XHJcbiAgICAgICAgXSxcclxuICAgICAgICBcInN0cmVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDE4LCAxMywgNDMsIDgsIDksIDkxMCwgMzA5LCAxMDMsIDE0LCAzNCwgMjUsIDE3LCA0MiwgOCwgNTMwLCAyNiwgNiwgNCwgNCwgNjEsIDE4LCAzOSwgMjcxLFxyXG4gICAgICAgICAgICA5LCAyNzMsIDI5LCAxMywgMzc0LCAzMCwgMjM0LCAxMzcsIDUsIDIwOSwgMzI3LCAxODgsIDkzMDAsIDIzMCwgNTgwLCAyMiwgMjgsIDEwOCwgMjgsIDQwLFxyXG4gICAgICAgICAgICA2MywgMTMzLCAzMDYsIDE1LCAyNCwgODAsIDgsIDM3MSwgNjYsIDI3MywgNjMsIDY5MDAsIDI1LCAxMCwgNSwgNSwgNSwgMTAsIDE5LCAxMCwgMTIsIDEwLFxyXG4gICAgICAgICAgICA4MCwgNSwgNiwgMTk5LCA1LCAyODAsIDE4MzAsIDExMiwgNSwgMjEsIDQxLCA3NDAsIDUsIDIwMywgNDE5LCAxNCwgNjEwLCAzMzEsIDk0LCA3MDAsIDgsXHJcbiAgICAgICAgICAgIDYyMCwgMTAsIDYxMCwgODQwLCA1LCAxMywgODgwLCA1LCAxNTEwLCA5MDAsIDEwLCAxMCwgMywgNTgwLCAxNzcwLCA5MDAsIDEwNjAsIDgsIDg5MCwgNzQwLFxyXG4gICAgICAgICAgICA5LCA0NjIsIDQ1NCwgNiwgNCwgNjIsIDgsIDcsIDcsIDFcclxuICAgICAgICBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwibmFtZVwiOiBcIkNhbGNpdW1cIixcclxuICAgICAgICBcIndhdmVsZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzYyLjQxMSwgMzYzLjA3NSwgMzYzLjA5NywgMzY0LjQ0MSwgMzY0LjQ3NywgMzY0LjQ5OSwgMzY3LjUyOSwgMzY3LjgyMSwgMzY4LjM3LCAzNjkuNDExLFxyXG4gICAgICAgICAgICAzNjkuNDM2LCAzNzAuNjAzLCAzNzMuNjksIDM3My45MzgsIDM3NC44MzUsIDM3NS4wMjksIDM3NS4zMzQsIDM3NS41NjcsIDM3NS44MzksIDM4Ny4wNDgsXHJcbiAgICAgICAgICAgIDM4Ny4yNTQsIDM4Ny4yNTYsIDM4Ny41NzgsIDM4Ny41OCwgMzg4LjkxLCAzOTIuMzQ4LCAzOTMuMzY2LCAzOTMuNTI5LCAzOTQuNjA0LCAzOTQuODksXHJcbiAgICAgICAgICAgIDM5NS43MDUsIDM5Ni44NDcsIDM5Ny4yNTcsIDM5Ny4zNzEsIDQwOC4xNzcsIDQwOS43MSwgNDA5Ljg1MywgNDA5Ljg1NywgNDEwLjk4MiwgNDExLjAyOCxcclxuICAgICAgICAgICAgNDE1LjM1NywgNDE2LjQzMSwgNDE4LjQyLCA0MjAuNjE4LCA0MjAuNzI0LCA0MjIuMDA3LCA0MjIuNjczLCA0MjMuMzc0LCA0MjQuMDQ2LCA0MjQuMDc0LFxyXG4gICAgICAgICAgICA0MjguMzAxLCA0MjguNDM5LCA0MjguOTM2LCA0MjkuODk5LCA0MzAuMjUzLCA0MzAuMjgxLCA0MzAuNzc0LCA0MzEuODY1LCA0MzIuOTE5LCA0MzMuMzU3LFxyXG4gICAgICAgICAgICA0MzUuNTA4LCA0MzUuODM4LCA0MzkuOTU5LCA0NDAuNjI5LCA0NDIuNTQ0LCA0NDMuMTMsIDQ0My40OTYsIDQ0My41NjksIDQ0NS40NzgsIDQ0NS41ODksXHJcbiAgICAgICAgICAgIDQ0NS42NjEsIDQ0Ny4yMDQsIDQ0Ny45MjMsIDQ0OC45MTgsIDQ0OS45ODgsIDQ1MS42NTksIDQ1Mi42OTQsIDQ1Ny4yMTIsIDQ1Ny44NTUsIDQ1OC4xNCxcclxuICAgICAgICAgICAgNDU4LjE0NywgNDU4LjU4NywgNDU4LjU5NiwgNDY4LjUyNywgNDcwLjg4MywgNDcxLjYyNywgNDcxLjY3NCwgNDcyLjEwMywgNDc5Ljk5NywgNDg1LjkxNyxcclxuICAgICAgICAgICAgNDg3LjgxMywgNTAwLjE0OCwgNTAwLjg5NSwgNTAxLjk5NywgNTAyLjExNCwgNTA0LjE2MiwgNTA1LjAwNywgNTE4Ljg4NSwgNTIzLjE4MiwgNTI0LjczNyxcclxuICAgICAgICAgICAgNTI2LjE3MSwgNTI2LjIyNCwgNTI2LjQyNCwgNTI2LjU1NiwgNTI3LjAyNywgNTI3LjE5OCwgNTI4LjUyNywgNTMwLjEzMiwgNTMwLjcyMiwgNTMyLjEyOSxcclxuICAgICAgICAgICAgNTMyLjgwNiwgNTMzLjkxOSwgNTM0Ljk0NywgNTUxLjI5OCwgNTU3LjA1OCwgNTU3LjkwNiwgNTU4LjE5NywgNTU4Ljg3NiwgNTU5LjAxMiwgNTU5LjQ0NyxcclxuICAgICAgICAgICAgNTU5Ljg0OSwgNTYwLjEyOSwgNTYwLjI4NSwgNTg1Ljc0NSwgNTkyLjI3MiwgNTkyLjM2OSwgNjA2Ljk5OCwgNjEwLjI3MiwgNjEyLjIyMiwgNjE2LjEyOSxcclxuICAgICAgICAgICAgNjE2LjIxNywgNjE2LjM3NiwgNjE2LjY0NCwgNjE2LjkwNiwgNjE2Ljk1NiwgNjE3LjMyMiwgNjIxLjM5OCwgNjI5LjQ4OSwgNjM3LjAxMSwgNjM4Ljc1NSxcclxuICAgICAgICAgICAgNjQyLjQ1MSwgNjQzLjkwNywgNjQ0Ljk4MSwgNjQ1LjU2LCA2NDUuNjg3LCA2NDYuMjU3LCA2NDcuMTY2LCA2NDguNTM1LCA2NDkuMzc4LCA2NDkuOTY1LFxyXG4gICAgICAgICAgICA2NTMuODc4LCA2NTQuMjI0LCA2NTcuMjc4LCA2NzEuNzY5LCA3MTQuODE1LCA3MjAuMjE5LCA3MzAuODY5LCA3MzIuNjE1XHJcbiAgICAgICAgXSxcclxuICAgICAgICBcInN0cmVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDE1LCAxNywgMTQsIDIwLCAxNCwgOCwgNSwgNiwgMzAsIDQwLCAxMCwgMTcwLCAxODAsIDEwLCA2LCA4LCA5LCAyMCwgMzAsIDksIDExLCAxMSwgMTIsIDEyLFxyXG4gICAgICAgICAgICA2LCA2LCAyMzAsIDksIDYsIDE1LCAxNywgMjIwLCA4LCAxOCwgMTUsIDUwLCAxNSwgMTUsIDYwLCAzMCwgMTUsIDE1LCAxNSwgNDAsIDE4LCA1MCwgNTAsXHJcbiAgICAgICAgICAgIDE3LCAxNSwgMTYsIDI0LCAxNSwgMjIsIDIyLCAyNSwgMjAsIDIzLCAyMiwgMTUsIDE2LCAyMCwgMTUsIDE5LCAxNywgMjUsIDE3LCAyNiwgMjUsIDMwLFxyXG4gICAgICAgICAgICAyOCwgMjAsIDIwLCAxMCwgMjAsIDE5LCAxOCwgMjMsIDE4LCAyMiwgMjMsIDIzLCAyNCwgMjQsIDIwLCAxMSwgMTEsIDMwLCA0MCwgNDAsIDEwLCAyNSxcclxuICAgICAgICAgICAgNzAsIDEwLCA4MCwgNDAsIDIzLCAxMCwgMjUsIDEwLCAxMSwgMjIsIDIzLCAyMiwgMjQsIDI1LCAxMywgNjAsIDEwLCA3MCwgMTEsIDEwLCA1MCwgMjcsXHJcbiAgICAgICAgICAgIDIzLCAxMSwgMTAsIDI1LCAyNywgMjQsIDI2LCAyNSwgMjQsIDI0LCAzMCwgMTAsIDEwLCAxMywgMjcsIDI5LCAyMiwgMzAsIDIyLCAyNCwgMjYsIDI4LFxyXG4gICAgICAgICAgICAxMCwgMTIsIDExLCAxMSwgMTAsIDEyLCAzNSwgMzAsIDIyLCA4MCwgMzQsIDI5LCAxMiwgMzIsIDI4LCAxMCwgMTAsIDIzLCAzMCwgMzMsIDMxLCAxMCwgMzNcclxuICAgICAgICBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwibmFtZVwiOiBcIkNhcmJvblwiLFxyXG4gICAgICAgIFwid2F2ZWxlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICAzOTEuODk4LCAzOTIuMDY5LCA0MDcuNDUyLCA0MDcuNTg1LCA0MjYuNywgNDI2LjcyNiwgNDc3LjE3NSwgNDkzLjIwNSwgNTA1LjIxNywgNTEzLjI5NCxcclxuICAgICAgICAgICAgNTEzLjMyOCwgNTE0LjM0OSwgNTE0LjUxNiwgNTE1LjEwOSwgNTM4LjAzNCwgNTY0LjgwNywgNTY2LjI0NywgNTg4Ljk3NywgNTg5LjE1OSwgNjAwLjExMyxcclxuICAgICAgICAgICAgNjAwLjYwMywgNjAwLjcxOCwgNjAxLjA2OCwgNjAxLjMyMiwgNjAxLjQ4NCwgNjU3LjgwNSwgNjU4LjI4OCwgNjU4Ljc2MSwgNjc4LjM5LCA3MTEuMzE4LFxyXG4gICAgICAgICAgICA3MTEuNTE5LCA3MTEuNTYzLCA3MTEuNjk5LCA3MTEuOTlcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgNTcwLCA4MDAsIDI1MCwgMzUwLCA4MDAsIDEwMDAsIDIwMCwgMjAwLCAyMDAsIDM1MCwgMzUwLCAzNTAsIDU3MCwgNDAwLCAzMDAsIDI1MCwgMzUwLCA1NzAsXHJcbiAgICAgICAgICAgIDM1MCwgMjAwLCAyNTAsIDExMCwgMTUwLCAzMDAsIDI1MCwgODAwLCA1NzAsIDIwMCwgMjUwLCAyNTAsIDI1MCwgMjUwLCAyMDAsIDM1MFxyXG4gICAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiSGVsaXVtXCIsXHJcbiAgICAgICAgXCJ3YXZlbGVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDM5Ni40NzMsIDQwMC45MjcsIDQwMi42MTksIDQwMi42MzYsIDQxMi4wODIsIDQxMi4wOTksIDQxNC4zNzYsIDQzOC43OTMsIDQ0My43NTUsIDQ0Ny4xNDgsXHJcbiAgICAgICAgICAgIDQ0Ny4xNjgsIDQ2OC41NCwgNDY4LjU3LCA0NzEuMzE1LCA0NzEuMzM4LCA0OTIuMTkzLCA1MDEuNTY4LCA1MDQuNzc0LCA1NDEuMTUyLCA1ODcuNTYyLFxyXG4gICAgICAgICAgICA1ODcuNTk3LCA2NTYuMDEsIDY2Ny44MTUsIDY4Ni43NDgsIDcwNi41MTksIDcwNi41NzFcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMjAsIDEsIDUwLCA1LCAxMiwgMiwgMywgMTAsIDMsIDIwMCwgMjUsIDYsIDMwLCAzMCwgNCwgMjAsIDEwMCwgMTAsIDUsIDUwMCwgMTAwLCA4LCAxMDAsIDMsXHJcbiAgICAgICAgICAgIDIwMCwgMzBcclxuICAgICAgICBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwibmFtZVwiOiBcIkh5ZHJvZ2VuXCIsXHJcbiAgICAgICAgXCJ3YXZlbGVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDM5Ny4wMDcsIDQxMC4xNzQsIDQzNC4wNDcsIDQ4Ni4xMzMsIDY1Ni4yNzIsIDY1Ni4yODVcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgOCwgMTUsIDMwLCA4MCwgMTIwLCAxODBcclxuICAgICAgICBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwibmFtZVwiOiBcIklyb25cIixcclxuICAgICAgICBcIndhdmVsZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgNDAwLjUyNCwgNDAwLjk3MSwgNDAxLjQ1MywgNDAyLjE4NywgNDA0LjA2NCwgNDA0LjU4MSwgNDA2LjM1OSwgNDA2LjY5OCwgNDA2Ljc5OCwgNDA3LjE3NCxcclxuICAgICAgICAgICAgNDA3LjY2MywgNDEwLjA3NCwgNDEwLjc0OSwgNDExLjg1NCwgNDEyLjc2LCA0MTMuMjA2LCA0MTMuNDY4LCA0MTMuNywgNDE0LjM0MiwgNDE0LjM4NyxcclxuICAgICAgICAgICAgNDE1LjM5LCA0MTUuNDUsIDQxNS42OCwgNDE3LjI3NCwgNDE3LjQ5MSwgNDE3LjU2NCwgNDE3Ljc1OSwgNDE4LjE3NSwgNDE4LjQ4OSwgNDE4LjcwNCxcclxuICAgICAgICAgICAgNDE4Ljc4LCA0MTkuMTQzLCA0MTkuNTMyLCA0MTkuODMsIDQxOS45MSwgNDIwLjIwMywgNDIwLjM5OCwgNDIwLjY3LCA0MjEuMDM0LCA0MjEuNjE4LFxyXG4gICAgICAgICAgICA0MjEuOTM2LCA0MjIuMjIxLCA0MjIuNTk2LCA0MjIuNzQyLCA0MjMuMzYsIDQyMy41OTQsIDQyMy44OCwgNDI0Ljc0MywgNDI1LjAxMiwgNDI1LjA3OSxcclxuICAgICAgICAgICAgNDI1LjgzMiwgNDI2LjA0NywgNDI3LjExNSwgNDI3LjE3NiwgNDI4LjI0LCA0MjkuMTQ2LCA0MjkuOTIzLCA0MzAuNzksIDQzMS41MDgsIDQzMi41NzYsXHJcbiAgICAgICAgICAgIDQzNS4yNzMsIDQzNi45NzcsIDQzNy41OTMsIDQzOC4zNTQsIDQ0MC40NzUsIDQ0MS41MTIsIDQ0Mi43MywgNDQ2LjE2NSwgNDQ2LjY1NSwgNDQ3LjYwMixcclxuICAgICAgICAgICAgNDQ4LjIxNywgNDQ4LjIyNSwgNDQ4Ljk3NCwgNDUyLjg2MSwgNDY0Ljc0MywgNDczLjY3NywgNDg1Ljk3NCwgNDg3LjEzMiwgNDg3LjIxNCwgNDg3LjgyMSxcclxuICAgICAgICAgICAgNDg5LjA3NSwgNDg5LjE0OSwgNDkwLjMzMSwgNDkxLjg5OSwgNDkyLjA1LCA0OTUuNzYsIDUwMC4xODYsIDUwMC4xOTEsIDUwMC41NzEsIDUwMC42MTIsXHJcbiAgICAgICAgICAgIDUwMS4yMDcsIDUwMS40OTQsIDUwMy4wNzcsIDUwNC4xNzYsIDUwNC45ODIsIDUwNS4xNjMsIDUwNy40NzUsIDUxMC4wNzMsIDUxMS4wMzYsIDUxMy4zNjksXHJcbiAgICAgICAgICAgIDUxMy45MjUsIDUxMy45NDYsIDUxNS4xOTEsIDUxNi4yMjcsIDUxNi42MjgsIDUxNi43NDksIDUxNi44ODksIDUxNy4xNiwgNTE5LjE0NSwgNTE5LjIzNCxcclxuICAgICAgICAgICAgNTE5LjQ5NCwgNTIwLjQ1OCwgNTIxLjUxOCwgNTIxLjYyNywgNTIxLjY4NSwgNTIyLjY4NiwgNTIyLjcxNSwgNTIzLjI5NCwgNTI2LjAyNiwgNTI2LjY1NixcclxuICAgICAgICAgICAgNTI2Ljk1NCwgNTI3LjAzNiwgNTI4LjE3OSwgNTI4LjM2MiwgNTMwLjIzLCA1MzIuNDE4LCA1MzIuODA0LCA1MzIuODUzLCA1MzMuMjksIDUzMy45OTMsXHJcbiAgICAgICAgICAgIDUzNC4xMDIsIDUzNi40ODcsIDUzNi43NDcsIDUzNi45OTYsIDUzNy4xNDksIDUzOC4zMzcsIDUzOS4zMTcsIDUzOS43MTMsIDU0MC40MTIsIDU0MC41NzcsXHJcbiAgICAgICAgICAgIDU0MS4wOTEsIDU0MS41MiwgNTQyLjQwNywgNTQyLjc4MywgNTQyLjk3LCA1NDMuNDUyLCA1NDQuNjg3LCA1NDUuNTQ1LCA1NDUuNTYxLCA1NDYuNTkzLFxyXG4gICAgICAgICAgICA1NDYuNjk0LCA1NDguMjMxLCA1NDkuNzUyLCA1NTAuMTQ2LCA1NTAuNjIsIDU1MC42NzgsIDU1Ni45NjIsIDU1Ny4yODQsIDU1OC42NzYsIDU2MS41NjQsXHJcbiAgICAgICAgICAgIDU2Mi40NTQsIDU2Ni4yNTIsIDU3Ni4yOTksIDU4Ni4yMzUsIDU5MS40MTEsIDU5OC42OTYsIDU5Ni4xNzEsIDU5Ni4yNCwgNjA2LjU0OCwgNjEwLjIxNixcclxuICAgICAgICAgICAgNjEzLjY2MSwgNjEzLjc2OSwgNjE0Ljc3MywgNjE0LjkyNCwgNjE5LjE1NiwgNjIxLjM0MywgNjIxLjkyOCwgNjIzLjA3MywgNjIzLjgzNywgNjI0LjYzMixcclxuICAgICAgICAgICAgNjI0Ljc1NiwgNjI1LjI1NSwgNjM5LjM2LCA2NDAuMCwgNjQxLjE2NSwgNjQxLjY5LCA2NDIuMTM1LCA2NDMuMDg0LCA2NDQuNjQzLCA2NDUuNjM4LFxyXG4gICAgICAgICAgICA2NDkuNDk4LCA2NTEuNjA1LCA2NTQuNjI0LCA2NTkuMjkxLCA2NjcuNzk5XHJcbiAgICAgICAgXSxcclxuICAgICAgICBcInN0cmVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDQwMCwgNjAsIDgwLCAxMDAsIDUwLCA0MDAwLCAxNTAwLCA1MCwgNTAsIDEyMDAsIDQwLCA0MCwgNDAsIDE1MCwgNDAsIDQwMCwgODAsIDQwLCAyMDAsXHJcbiAgICAgICAgICAgIDgwMCwgNDAsIDUwLCA2MCwgNTAsIDYwLCA1MCwgNTAsIDEyMCwgNTAsIDEyMCwgMTIwLCA4MCwgNDAsIDE1MCwgNDAsIDMwMCwgNDAsIDgwLCA4MCwgNDAwLFxyXG4gICAgICAgICAgICAxMDAsIDUwLCA1MCwgMjAwLCAxMDAsIDI1MCwgNTAsIDUwLCAyMDAsIDMwMCwgNDAsIDgwMCwgMjUwLCAxMjAwLCAxMjAwLCA4MCwgMjUwLCAxMjAwLFxyXG4gICAgICAgICAgICAxNTAsIDE1MDAsIDgwLCA4MCwgODAwLCAzMDAwLCAxMjAwLCAzMDAsIDYwMCwgNDAwLCAxMjAsIDgwLCA4MCwgMjAwLCA1MCwgNTAsIDMwLCAzMCwgNTAsXHJcbiAgICAgICAgICAgIDEyMCwgNjAsIDMwLCAxMDAsIDI1MCwgMzAsIDE1MCwgNTAwLCAxNTAwLCA4MCwgMTgsIDMwLCAxMDAsIDYwLCAzMCwgMjUsIDE1MCwgMzAsIDMwLCAyNSxcclxuICAgICAgICAgICAgMTgsIDE1MCwgNDAsIDQwLCAxMDAsIDI1LCAzMCwgODAsIDI1MDAsIDgwLCA1MDAsIDUwLCA4MCwgMjAwLCAzMCwgMjUsIDE1MCwgMTgsIDYwLCAxMDAwLFxyXG4gICAgICAgICAgICAyNTAsIDE4LCAxMDAsIDEyMDAsIDgwMCwgMzAsIDYwLCAyNSwgMTUwLCA4MDAsIDMwMCwgMTAwLCA4MCwgNTAwLCAyNSwgNDAsIDUwLCA0MDAsIDYwLCA0MCxcclxuICAgICAgICAgICAgMzAwLCA2MCwgMjUwLCAzMCwgNjAsIDYwLCAzMCwgMjUwLCAxMDAsIDIwMCwgMjUsIDEyMCwgMTYsIDIwLCAxNiwgMjUsIDIwLCAxOCwgMzAsIDMwLCA2MCxcclxuICAgICAgICAgICAgMTIwLCAyMDAsIDIwLCA1MCwgMjAsIDMwLCAzMCwgMzAsIDE4LCAzMCwgNDAsIDMwLCA0MCwgNDAsIDMwLCAyMCwgNDAsIDMwLCAzMCwgNDAsIDIwLCAyMCxcclxuICAgICAgICAgICAgODAsIDMwLCAyMCwgMzAsIDIwLCAyMCwgMjAsIDMwLCAyMCwgMjAwLCA2MCwgMjAsIDIwLCAyMCwgNDBcclxuICAgICAgICBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwibmFtZVwiOiBcIktyeXB0b25cIixcclxuICAgICAgICBcIndhdmVsZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzkwLjYxOCwgMzkyLjAwOCwgMzk5LjQ4NCwgMzk5Ljc3OSwgNDA1LjcwNCwgNDA2LjUxMywgNDA4LjgzNCwgNDA5Ljg3MywgNDEwLjkyNSwgNDE0LjUxMixcclxuICAgICAgICAgICAgNDI1LjA1OCwgNDI3LjM5NywgNDI4LjI5NywgNDI5LjI5MiwgNDMwLjA0OSwgNDMxLjc4MSwgNDMxLjg1NSwgNDMxLjk1OCwgNDMyLjI5OCwgNDM1LjEzNixcclxuICAgICAgICAgICAgNDM1LjU0OCwgNDM2LjI2NCwgNDM2Ljk2OSwgNDM3LjYxMiwgNDM4LjY1NCwgNDM5Ljk5NywgNDQyLjUxOSwgNDQzLjE2OSwgNDQzLjY4MSwgNDQ1LjM5MixcclxuICAgICAgICAgICAgNDQ2LjM2OSwgNDQ3LjUwMSwgNDQ4Ljk4OCwgNDUwLjIzNSwgNDUyLjMxNCwgNDU1LjY2MSwgNDU3LjcyMSwgNDU4LjI5OCwgNDU5LjI4LCA0NjEuNTI5LFxyXG4gICAgICAgICAgICA0NjEuOTE3LCA0NjMuMzg5LCA0NjUuODg4LCA0NjguMDQsIDQ2OS4xMywgNDY5LjQzNiwgNDczLjksIDQ3Ni4yNDQsIDQ3Ni41NzQsIDQ4MS4xNzYsXHJcbiAgICAgICAgICAgIDQ4Mi41MTgsIDQ4My4yMDgsIDQ4NC42NjEsIDQ4NS43MiwgNDk0LjU1OSwgNTAyLjI0LCA1MDguNjUyLCA1MTIuNTczLCA1MjAuODMyLCA1MzAuODY2LFxyXG4gICAgICAgICAgICA1MzMuMzQxLCA1NDYuODE3LCA1NTYuMjIyLCA1NTcuMDI5LCA1NTguMDM5LCA1NjQuOTU2LCA1NjguMTg5LCA1NjkuMDM1LCA1ODMuMjg2LCA1ODcuMDkxLFxyXG4gICAgICAgICAgICA1OTkuMjIyLCA1OTkuMzg1LCA2MDUuNjEzLCA2NDIuMDE4LCA2NDIuMTAzLCA2NDUuNjI5LCA2NTcuMDA3LCA2NjkuOTIzLCA2OTAuNDY4XHJcbiAgICAgICAgXSxcclxuICAgICAgICBcInN0cmVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDE1MCwgMjAwLCAxMDAsIDEwMCwgMzAwLCAzMDAsIDUwMCwgMjUwLCAxMDAsIDI1MCwgMTUwLCAxMDAwLCAxMDAsIDYwMCwgMjAwLCA1MDAsIDQwMCxcclxuICAgICAgICAgICAgMTAwMCwgMTUwLCAxMDAsIDMwMDAsIDUwMCwgMjAwLCA4MDAsIDMwMCwgMjAwLCAxMDAsIDUwMCwgNjAwLCA2MDAsIDgwMCwgODAwLCA0MDAsIDYwMCxcclxuICAgICAgICAgICAgNDAwLCAyMDAsIDgwMCwgMzAwLCAxNTAsIDUwMCwgMTAwMCwgODAwLCAyMDAwLCA1MDAsIDEwMCwgMjAwLCAzMDAwLCAzMDAsIDEwMDAsIDMwMCwgMzAwLFxyXG4gICAgICAgICAgICA4MDAsIDcwMCwgMTUwLCAzMDAsIDIwMCwgMjUwLCA0MDAsIDUwMCwgMjAwLCA1MDAsIDIwMCwgNTAwLCAyMDAwLCA4MCwgMTAwLCA0MDAsIDIwMCwgMTAwLFxyXG4gICAgICAgICAgICAzMDAwLCAyMDAsIDYwLCA2MCwgMzAwLCAxMDAsIDIwMCwgMTUwLCA2MCwgMTAwXHJcbiAgICAgICAgXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBcIm5hbWVcIjogXCJNYWduZXNpdW1cIixcclxuICAgICAgICBcIndhdmVsZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzkwLjM4NiwgMzkzLjg0LCAzOTguNDIxLCAzOTguNjc1LCA0MDUuNDY5LCA0MDUuNzUsIDQwNy41MDYsIDQwOC4xODMsIDQxNi41MSwgNDE2LjcyNyxcclxuICAgICAgICAgICAgNDM1LjE5MSwgNDM1LjQ1MywgNDM4LjAzOCwgNDM4LjQ2NCwgNDM5LjA1OSwgNDQyLjgsIDQ0My4zOTksIDQ0My42NDksIDQ0My42NiwgNDQ4LjExNixcclxuICAgICAgICAgICAgNDQ4LjEzMywgNDUzLjQyOSwgNDU3LjExLCA0NjIuMTMsIDQ3MC4yOTksIDQ3My4wMDMsIDQ3My45NTksIDQ3My45NzEsIDQ4NS4xMSwgNTE2LjczMyxcclxuICAgICAgICAgICAgNTE3LjI2OCwgNTE4LjM2MSwgNTI2LjQyMSwgNTI2LjQzNywgNTM0LjU5OCwgNTQwLjE1NCwgNTUwLjk2LCA1NTIuODQxLCA1NzEuMTA5LCA1NzguNTMxLFxyXG4gICAgICAgICAgICA1NzguNTU2LCA1OTEuNjQzLCA1OTEuODE2LCA2MzEuODcyLCA2MzEuOTI0LCA2MzEuOTQ5LCA2MzQuNjc0LCA2MzQuNjk2LCA2NTQuNTk3LCA2NjIuMDQ0LFxyXG4gICAgICAgICAgICA2NjIuMDU3LCA2NjMuMDgzLCA2NzguMTQ1LCA2NzguNzg1LCA2ODEuMjg2LCA2ODEuOTI3LCA2ODkuNDksIDY5Ni41NCwgNzA2LjA0MVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgXCJzdHJlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICA0LCA2LCAxLCA4LCAyLCAxMCwgMywgMiwgNCwgMTUsIDIwLCA2LCA2LCA5LCAxMCwgOCwgOSwgNSwgNCwgMTQsIDEyLCA2LCAyOCwgMywgNywgMTAsIDYsXHJcbiAgICAgICAgICAgIDUsIDcsIDc1LCAyMiwgNDAwLCA4LCA3LCAxLCA5LCAyLCA2LCAzMCwgNSwgNCwgNywgNiwgMTAsIDksIDcsIDEwLCA5LCAxMSwgNSwgNiwgMiwgNywgOCxcclxuICAgICAgICAgICAgNywgOCwgNCwgNiwgOFxyXG4gICAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiTWVyY3VyeVwiLFxyXG4gICAgICAgIFwid2F2ZWxlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICA0MDQuNjU2LCA0MDcuNzgzLCA0MTAuODA1LCA0MzMuOTIyLCA0MzQuNzQ5LCA0MzUuODMzLCA0MzkuODYyLCA0NjYuMDI4LCA0ODUuNTcyLCA0ODguMyxcclxuICAgICAgICAgICAgNDg4Ljk5MSwgNDkxLjYwNywgNDk3LjAzNywgNDk4LjA2NCwgNTEwLjI3LCA1MTIuMDY0LCA1MTIuODQ1LCA1MTMuNzk0LCA1MjkuMDc0LCA1MzEuNjc4LFxyXG4gICAgICAgICAgICA1MzUuNDA1LCA1MzguNDYzLCA1NDYuMDc0LCA1NTQuOTYzLCA1NjcuNTg2LCA1NzYuOTYsIDU3OC45NjYsIDU3OS4wNjYsIDU4MC4zNzgsIDU4NS45MjUsXHJcbiAgICAgICAgICAgIDU4Ny4xNzMsIDU4Ny4xOTgsIDYwNy4yNzIsIDYxNC45NSwgNjIzLjQ0LCA2NTIuMTEzLCA2NzEuNjQzLCA2OTAuNzUyLCA3MDguMTksIDcwOS4xODZcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMTgwMCwgMTUwLCA0MCwgMTI1LCAyNDAsIDIwMDAsIDEwMCwgOTAsIDgwLCA1LCA1LCA4MCwgNSwgNSwgMjAsIDQwLCAxMDAsIDIwLCAyMCwgNSwgNjAsXHJcbiAgICAgICAgICAgIDMwLCAxMTAwLCAzMCwgMTYwLCAxMjQwLCAxMTAwLCAyODAsIDE0MCwgNjAsIDYwLCAyMCwgMjAsIDEwMDAsIDMwLCA4MCwgMTYwLCAyNTAsIDI1MCwgMjAwXHJcbiAgICAgICAgXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBcIm5hbWVcIjogXCJOZW9uXCIsXHJcbiAgICAgICAgXCJ3YXZlbGVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDQyMS45NzQsIDQyMy4zODUsIDQyNS4wNjUsIDQzNi45ODYsIDQzNy45NCwgNDM3Ljk1NSwgNDM4LjUwNiwgNDM5LjE5OSwgNDM5Ljc5OSwgNDQwLjkzLFxyXG4gICAgICAgICAgICA0NDEuMzIyLCA0NDIuMTM5LCA0NDIuODUyLCA0NDIuODYzLCA0NDMuMDksIDQ0My4wOTQsIDQ0NS43MDUsIDQ1Mi4yNzIsIDQ1My43NzUsIDQ1NC4wMzgsXHJcbiAgICAgICAgICAgIDQ1Ni45MDYsIDQ3MC40NCwgNDcwLjg4NiwgNDcxLjAwNywgNDcxLjIwNywgNDcxLjUzNSwgNDc1LjI3MywgNDc4Ljg5MywgNDc5LjAyMiwgNDgyLjczNCxcclxuICAgICAgICAgICAgNDg4LjQ5MiwgNTAwLjUxNiwgNTAzLjc3NSwgNTE0LjQ5NCwgNTMzLjA3OCwgNTM0LjEwOSwgNTM0LjMyOCwgNTQwLjA1NiwgNTU2LjI3NywgNTY1LjY2NixcclxuICAgICAgICAgICAgNTcxLjkyMywgNTc0LjgzLCA1NzYuNDQyLCA1ODAuNDQ1LCA1ODIuMDE2LCA1ODUuMjQ5LCA1ODcuMjgzLCA1ODguMTksIDU5MC4yNDYsIDU5MC42NDMsXHJcbiAgICAgICAgICAgIDU5NC40ODMsIDU5Ni41NDcsIDU5Ny40NjMsIDU5Ny41NTMsIDU5OC43OTEsIDYwMy4wLCA2MDcuNDM0LCA2MDkuNjE2LCA2MTIuODQ1LCA2MTQuMzA2LFxyXG4gICAgICAgICAgICA2MTYuMzU5LCA2MTguMjE1LCA2MjEuNzI4LCA2MjYuNjUsIDYzMC40NzksIDYzMy40NDMsIDYzOC4yOTksIDY0MC4yMjUsIDY1MC42NTMsIDY1My4yODgsXHJcbiAgICAgICAgICAgIDY1OS44OTUsIDY2NS4yMDksIDY2Ny44MjgsIDY3MS43MDQsIDY5Mi45NDcsIDcwMi40MDUsIDcwMy4yNDEsIDcwNS4xMjksIDcwNS45MTFcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMTUwLCAxMDAsIDEyMCwgMTIwLCA3MCwgMTUwLCAxMDAsIDIwMCwgMTUwLCAxNTAsIDEwMCwgMTAwLCAxMDAsIDEwMCwgMTUwLCAxNTAsIDEyMCwgMTAwLFxyXG4gICAgICAgICAgICAxMCwgMTAsIDEwMCwgMTUsIDEyLCAxMCwgMTAsIDE1LCAxMCwgMTIsIDEwLCAxMCwgMTAsIDQsIDEwLCAxMCwgMjUsIDIwLCA4LCA2MCwgNSwgMTAsIDUsXHJcbiAgICAgICAgICAgIDEyLCA4MCwgMTIsIDQwLCA1MDAsIDEwMCwgMTAwLCA2MCwgNjAsIDEwMCwgMTAwLCAxMDAsIDEyMCwgODAsIDEwMCwgMTAwLCA4MCwgNjAsIDEwMCwgMTIwLFxyXG4gICAgICAgICAgICAyNTAsIDE1MCwgMTUwLCA2MCwgMTAwLCAxMjAsIDIwMCwgMTUwLCA2MCwgMTUwLCA3MCwgOTAsIDIwLCAxMDAsIDkwLCAxMDAsIDUwLCA4MFxyXG4gICAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiTml0cm9nZW5cIixcclxuICAgICAgICBcIndhdmVsZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzkxLjksIDM5NS41ODUsIDM5OS41LCA0MDMuNTA4LCA0MDQuMTMxLCA0MDQuMzUzLCA0MDkuOTk0LCA0MTAuOTk1LCA0MTcuNjE2LCA0MjIuNzc0LFxyXG4gICAgICAgICAgICA0MjMuNjkxLCA0MjMuNzA1LCA0MjQuMTc4LCA0NDMuMjc0LCA0NDQuNzAzLCA0NTMuMDQxLCA0NjAuMTQ4LCA0NjAuNzE2LCA0NjEuMzg3LCA0NjIuMTM5LFxyXG4gICAgICAgICAgICA0NjMuMDU0LCA0NjQuMzA4LCA0NzguODEzLCA0ODAuMzI5LCA0ODQuNzM4LCA0ODkuNTExLCA0OTEuNDk0LCA0OTMuNTEyLCA0OTUuMDIzLCA0OTYuMzk4LFxyXG4gICAgICAgICAgICA0OTguNzM3LCA0OTkuNDM2LCA1MDAuMTQ4LCA1MDAuMjcsIDUwMC41MTUsIDUwMC43MzIsIDUwMS4wNjIsIDUwMS42MzksIDUwMi41NjYsIDUwNC41MSxcclxuICAgICAgICAgICAgNTI4LjEyLCA1MjkuMjY4LCA1NDkuNTY3LCA1NTMuNTM2LCA1NjYuNjYzLCA1NjcuNjAyLCA1NjcuOTU2LCA1NjguNjIxLCA1NzEuMDc3LCA1NzQuNzMsXHJcbiAgICAgICAgICAgIDU3NS4yNSwgNTc2LjQ3NSwgNTgyLjk1NCwgNTg1LjQwNCwgNTkyLjc4MSwgNTkzLjE3OCwgNTk0LjAyNCwgNTk0LjE2NSwgNTk1LjIzOSwgNTk5Ljk0MyxcclxuICAgICAgICAgICAgNjAwLjg0NywgNjE2Ljc3NiwgNjM3Ljk2MiwgNjQxLjE2NSwgNjQyLjA2NCwgNjQyLjMwMiwgNjQyLjgzMiwgNjQzLjc2OCwgNjQ0LjA5NCwgNjQ1Ljc5LFxyXG4gICAgICAgICAgICA2NDYuODQ0LCA2NDguMjA1LCA2NDguMjcsIDY0OC4zNzUsIDY0OC4xNzEsIDY0OC40OCwgNjQ5LjEyMiwgNjQ5Ljk1NCwgNjUwLjYzMSwgNjYxLjA1NixcclxuICAgICAgICAgICAgNjYyLjI1NCwgNjYzLjY5NCwgNjY0LjQ5NiwgNjY0LjY1LCA2NjUuMzQ2LCA2NjUuNjUxLCA2NzIuMjYyXHJcbiAgICAgICAgXSxcclxuICAgICAgICBcInN0cmVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDM2MCwgNDUwLCAxMDAwLCAzNjAsIDU1MCwgMzYwLCAxNDAsIDE4NSwgMjg1LCAyODUsIDI4NSwgMjIwLCA0NTAsIDI4NSwgNjUwLCAzNjAsIDU1MCwgNDUwLFxyXG4gICAgICAgICAgICAzNjAsIDQ1MCwgODcwLCA1NTAsIDI4NSwgNDUwLCAxODAsIDI4NSwgMTYwLCAyMTAsIDE2MCwgMzUwLCAyODUsIDQ1MCwgNjUwLCAzNjAsIDg3MCwgNTUwLFxyXG4gICAgICAgICAgICA0NTAsIDM2MCwgMzYwLCA1NTAsIDE4NSwgMTQwLCA0NTAsIDI4NSwgNjUwLCA1NTAsIDg3MCwgNDUwLCA0NTAsIDI4NSwgNzAwLCAyNDAsIDI2NSwgMjM1LFxyXG4gICAgICAgICAgICAzNjAsIDU1MCwgMjg1LCA2NTAsIDI4NSwgMTYwLCAyMTAsIDI4NSwgMzYwLCAxODUsIDIxMCwgMjEwLCAyMTAsIDE4NSwgMjM1LCAxODUsIDMwMCwgNzUwLFxyXG4gICAgICAgICAgICAzNjAsIDMwMCwgMjY1LCAzMjUsIDE2MCwgMjEwLCAxODUsIDc1MCwgMTg1LCAxODUsIDIzNSwgMTg1LCAyMzUsIDIxMCwgMTg1XHJcbiAgICAgICAgXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBcIm5hbWVcIjogXCJPeHlnZW5cIixcclxuICAgICAgICBcIndhdmVsZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzkxLjE5NiwgMzkxLjkyOSwgMzk0LjcyOSwgMzk0Ljc0OCwgMzk0Ljc1OSwgMzk1LjQzNywgMzk1LjQ2MSwgMzk3LjMyNiwgMzk4LjIyLCA0MDYuOTksXHJcbiAgICAgICAgICAgIDQwNy4yMTYsIDQwNy41ODcsIDQwOC4zOTEsIDQwOC43MTQsIDQwOC45MjcsIDQwOS43MjQsIDQxMC41LCA0MTEuOTIyLCA0MTMuMjgxLCA0MTQuNjA2LFxyXG4gICAgICAgICAgICA0MTUuMzMsIDQxOC41NDYsIDQxOC45NzksIDQyMy4zMjcsIDQyNS4zNzQsIDQyNS4zOTgsIDQyNy41NDcsIDQzMC4zNzgsIDQzMS43MTQsIDQzMy42ODYsXHJcbiAgICAgICAgICAgIDQzNC41NTYsIDQzNC45NDMsIDQzNi42OSwgNDM2LjgyNSwgNDM5LjU5NSwgNDQxLjQ5MSwgNDQxLjY5OCwgNDQ0LjgyMSwgNDQ1LjIzOCwgNDQ2LjU0NSxcclxuICAgICAgICAgICAgNDQ2LjYyOCwgNDQ2Ljc4MywgNDQ2Ljk0MSwgNDU5LjA5NywgNDU5LjYxNywgNDYwLjkzOSwgNDYzLjg4NSwgNDY0LjE4MSwgNDY0LjkxNCwgNDY1LjA4NCxcclxuICAgICAgICAgICAgNDY2LjE2NCwgNDY3LjYyMywgNDY5LjkyMSwgNDcwLjUzNiwgNDkyLjQ2LCA0OTQuMzA2LCA1MzIuOTEsIDUzMi45NjgsIDUzMy4wNzQsIDU0My41MTgsXHJcbiAgICAgICAgICAgIDU0My41NzgsIDU0My42ODYsIDU1Ny43MzQsIDU5NS44MzksIDU5NS44NTgsIDU5OS41MjgsIDYwNC42MjMsIDYwNC42NDQsIDYwNC42NDksIDYxMC42MjcsXHJcbiAgICAgICAgICAgIDYxNS41OTgsIDYxNS42NzcsIDYxNS44MTgsIDYyNS42ODMsIDYyNi4xNTUsIDYzNi42MzQsIDYzNy40MzIsIDY0NS4zNiwgNjQ1LjQ0NCwgNjQ1LjU5OCxcclxuICAgICAgICAgICAgNjYwLjQ5MSwgNjY1LjM4MywgNzAwLjE5MiwgNzAwLjIyMywgNzE1LjY3XHJcbiAgICAgICAgXSxcclxuICAgICAgICBcInN0cmVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDQ1MCwgMTYwLCAxODUsIDE2MCwgMTQwLCAyMjAsIDEwMCwgNDUwLCAyMjAsIDE2MCwgMjg1LCA0NTAsIDgwLCA1MCwgMTUwLCAxMTAsIDIyMCwgMjg1LFxyXG4gICAgICAgICAgICAxNjAsIDUwLCAyMjAsIDI4NSwgNDUwLCA4MCwgNTAsIDUwLCA1MCwgNTAsIDI4NSwgMTYwLCAyMjAsIDI4NSwgMjIwLCAxMDAsIDIyMCwgNDUwLCAyODUsXHJcbiAgICAgICAgICAgIDE2MCwgMTYwLCA1MCwgNTAsIDUwLCA1MCwgMzYwLCAyODUsIDgwLCAxNjAsIDM2MCwgNDUwLCAxNjAsIDM2MCwgMjg1LCAyMjAsIDI4NSwgMTYwLCAyMjAsXHJcbiAgICAgICAgICAgIDEzNSwgMTYwLCAxOTAsIDkwLCAxMTAsIDEzNSwgMTIwLCAxNjAsIDE5MCwgODAsIDE2MCwgMTkwLCAxMTAsIDEwMCwgNDAwLCA0NTAsIDQ5MCwgODAsXHJcbiAgICAgICAgICAgIDEwMCwgMTAwLCAxMDAsIDMyMCwgMzYwLCA0MDAsIDgwLCAxMDAsIDM2MCwgNDUwLCAyMTBcclxuICAgICAgICBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwibmFtZVwiOiBcIlBvdGFzc2l1bVwiLFxyXG4gICAgICAgIFwid2F2ZWxlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICAzNjAuODg4LCAzNjEuODQ5LCAzNjIuNjQyLCAzNjguMTU0LCAzNzEuNjYsIDM3Mi4xMzQsIDM3My45MTMsIDM3NC40NDIsIDM3Ni43MzYsIDM3OC4zMTksXHJcbiAgICAgICAgICAgIDM4MC4wMTQsIDM4MS42NTYsIDM4MS43NSwgMzg3LjM3NCwgMzg3Ljg2MiwgMzg5Ljc5MiwgMzkyLjMsIDM5Mi42MzYsIDM5NC4yNTMsIDM5NS41MjEsXHJcbiAgICAgICAgICAgIDM5Ni42NzIsIDM5Ny4yNTgsIDM5OS41MSwgNDAwLjEyNCwgNDAxLjIxLCA0MDQuMjU5LCA0MDkuMzY5LCA0MTEuNDk5LCA0MTMuNDcyLCA0MTQuOTE5LFxyXG4gICAgICAgICAgICA0MTguNjI0LCA0MjIuMjk3LCA0MjIuNTY3LCA0MjYuMzQsIDQzMC41LCA0MzAuOTEsIDQzNC4wMDMsIDQzOC44MTYsIDQ0Ni42NjUsIDQ1MC41MzMsXHJcbiAgICAgICAgICAgIDQ1OS41NjUsIDQ2MC44NDUsIDQ2NS45MzgsIDQ4Mi45MjMsIDQ5NC4zMjksIDUwMC41NiwgNTA1LjYyNywgNTMxLjAyNCwgNTQ3LjAxMywgNTY0LjI3MyxcclxuICAgICAgICAgICAgNTc3LjIzMiwgNTk2Ljk2NCwgNjEyLjAyNywgNjI0LjY1OSwgNjMwLjcyOSwgNjQyLjc5NiwgNjU5LjVcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgNSwgNiwgNCwgNiwgNSwgNSwgNSwgNSwgNiwgNiwgNiwgNiwgNywgNSwgNCwgOCwgNSwgNSwgNiwgNiwgNiwgNiwgNiwgNywgNSwgNiwgNSwgNiwgNywgNyxcclxuICAgICAgICAgICAgOCwgNywgNywgNywgNywgNywgNSwgNywgNSwgNiwgNSwgOCwgNSwgOSwgNiwgOCwgNywgNSwgNiwgNSwgNCwgMiwgOCwgNiwgNywgNSwgMlxyXG4gICAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiU2lsaWNvblwiLFxyXG4gICAgICAgIFwid2F2ZWxlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICAzOTAuNTUyLCAzOTUuNTc0LCAzOTcuNzQ2LCAzOTkuMTc3LCAzOTkuODAxLCA0MDcuNTQ1LCA0MDcuNjc4LCA0MTAuMjk0LCA0MTIuODA3LCA0MTMuMDg5LFxyXG4gICAgICAgICAgICA0MTguMzM1LCA0MTkuMDcyLCA0MTkuODEzLCA0NjIuMTQyLCA0NjIuMTcyLCA0NzguMjk5LCA0NzkuMjIxLCA0NzkuMjMyLCA0ODguMzIsIDQ5MC42OTksXHJcbiAgICAgICAgICAgIDQ5My4yOCwgNDk0Ljc2MSwgNTAwLjYwNiwgNTA0LjEwMywgNTA1LjU5OCwgNTE4LjE5LCA1MTguNTI1LCA1MTkuMjg2LCA1MjAuMjQxLCA1MjkuNTE5LFxyXG4gICAgICAgICAgICA1NDAuNTM0LCA1NDEuNzI0LCA1NDIuODkyLCA1NDMuMjg5LCA1NDMuODYyLCA1NDQuNzI2LCA1NDUuNDQ5LCA1NDUuNjQ1LCA1NDYuNjQzLCA1NDYuNjg3LFxyXG4gICAgICAgICAgICA1NDYuOTIxLCA1NDkuMzIzLCA1NDkuNjQ1LCA1NTEuNzU0LCA1NTQuMDc0LCA1NTcuNjY2LCA1NjIuMjIyLCA1NjMuMjk3LCA1NjMuOTQ4LCA1NjQuNTYxLFxyXG4gICAgICAgICAgICA1NjYuMDY2LCA1NjYuNTU1LCA1NjYuOTU2LCA1NjguMTQ0LCA1NjguNDQ4LCA1NjguODgxLCA1NjkuMDQzLCA1NzAuMTExLCA1NzAuMTM3LCA1NzAuNjM3LFxyXG4gICAgICAgICAgICA1NzAuODQsIDU3NC43NjcsIDU3NS4zNjMsIDU3NS40MjIsIDU3Ni4yOTgsIDU3Ny4yMTUsIDU3OC4wMzgsIDU3OC41NzMsIDU3OS4zMDcsIDU3OS40OSxcclxuICAgICAgICAgICAgNTc5Ljc4NiwgNTgwLjA0NywgNTgwLjY3NCwgNTgyLjc4LCA1ODQuNjEzLCA1ODYuNzQ4LCA1ODYuODQsIDU4Ny4zNzYsIDU5MS41MjIsIDU5NC44NTUsXHJcbiAgICAgICAgICAgIDU5NS43NTYsIDU5Ny44OTMsIDYwNi43NDUsIDYwOC4wMDYsIDYwOC42NjcsIDYxMi41MDIsIDYxMy4xNTcsIDYxMy4xODUsIDYxNC4yNDksIDYxNC41MDIsXHJcbiAgICAgICAgICAgIDYxNS41MTMsIDYyMy43MzIsIDYyMy44MjksIDYyNC4zODEsIDYyNC40NDcsIDYyNS40MTksIDYzMy4xOTUsIDYzNC43MSwgNjM3LjEzNiwgNjUyLjY2MSxcclxuICAgICAgICAgICAgNjUyLjcyLCA2NTUuNTQ2LCA2NjYuMDUyLCA2NjYuNSwgNjY3LjE4OCwgNjY5LjkzOCwgNjcxLjcwNCwgNjcyLjE4NSwgNjc0LjE2NCwgNjc1LjAyOCxcclxuICAgICAgICAgICAgNjgxLjg0NSwgNjgyLjk4MiwgNjg0Ljg1NywgNjk3LjY1MiwgNzAwLjM1NywgNzAwLjU4OCwgNzAxLjcyOCwgNzAxLjc2NSwgNzAzLjQ5LCA3MTYuNDY5LFxyXG4gICAgICAgICAgICA3MTYuNTU1LCA3MTguNDg5LCA3MTkuMzU4LCA3MTkuMzlcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzAwLCAxMCwgMTAsIDE1LCAxMCwgMjAsIDE1LCA3MCwgMzAwLCA1MDAsIDEwLCAxMDAsIDUwLCAxMDAsIDE1MCwgNTAsIDM1LCA4MCwgMTUsIDIwLCAyMCxcclxuICAgICAgICAgICAgMzAsIDQwLCAxMDAwLCAxMDAwLCAxMDAsIDEwMCwgMjAwLCA1MDAsIDMwLCAxMDAsIDE1LCAxNSwgMTUsIDEwMCwgMjAsIDE1LCAxMDAsIDUwMCwgNTAwLFxyXG4gICAgICAgICAgICAxMDAsIDQwLCAyMDAsIDM1LCAxMDAsIDE1MCwgMzAsIDEwMCwgMjAwLCA5MCwgMTUwLCA4MCwgMTAwMCwgMzAsIDEyMCwgMzAwLCAxMDAsIDkwLCAyMDAsXHJcbiAgICAgICAgICAgIDEwMCwgMTYwLCA0NSwgNDUsIDQ1LCA0NSwgNzAsIDcwLCAzMCwgOTAsIDMwLCAxMDAsIDE1MCwgMjAwLCAzMCwgNTAsIDEwLCAzMDAsIDQwLCAxNTAsXHJcbiAgICAgICAgICAgIDIwMCwgNTAwLCA1MDAsIDEwLCAyMCwgMTAsIDkwLCA4NSwgOTAsIDEwMCwgMTAwLCAxNjAsIDE2MCwgNDAsIDEyNSwgMTI1LCAxODAsIDQ1LCAxMDAwLFxyXG4gICAgICAgICAgICAxMDAwLCA0NSwgNDUsIDQ1LCA1MCwgMTUsIDEwMCwgMjAsIDUwLCAxMDAsIDMwLCAyMCwgMzAsIDUwLCAzMCwgODAsIDE4MCwgMTgwLCAzMCwgOTAsIDI1MCxcclxuICAgICAgICAgICAgNzAsIDIwMCwgNzAsIDY1LCAzMFxyXG4gICAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiU29kaXVtXCIsXHJcbiAgICAgICAgXCJ3YXZlbGVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDM3MS4xMDcsIDQxMS4zNywgNDEyLjMwOCwgNDIzLjMyNiwgNDIzLjg5OSwgNDI0LjA5LCA0MjQuMjA4LCA0MjQuMjA4LCA0MjQuOTQxLCA0MjUuMjUyLFxyXG4gICAgICAgICAgICA0MjcuMzY0LCA0MjcuNjc5LCA0MjcuNjc5LCA0MjguNzg0LCA0MjkuMTAxLCA0MjkuMjQ4LCA0MjkuMjg2LCA0MzAuODgxLCA0MzAuOTA0LCA0MzIuMDkxLFxyXG4gICAgICAgICAgICA0MzIuMTQsIDQzMi40NjIsIDQzMi40NjIsIDQzMy43MjksIDQzNC4xNDksIDQzNC40MTEsIDQzNC40NzQsIDQzNi44NiwgNDM3LjUyMiwgNDM4Ljc0OSxcclxuICAgICAgICAgICAgNDM5LjAwMywgNDM5LjI4MSwgNDM5LjMzNCwgNDM5LjMzNCwgNDQwLjUxMiwgNDQxLjk4OCwgNDQyLjMyNSwgNDQ0LjY3LCA0NDQuNzQxLCA0NDUuNDc0LFxyXG4gICAgICAgICAgICA0NDUuNTIzLCA0NDUuNzIxLCA0NDcuNDYzLCA0NDcuODgsIDQ0OC4xNjcsIDQ0OS4wMTUsIDQ0OS4wODcsIDQ0OS40MTgsIDQ0OS43NjYsIDQ0OS43NjYsXHJcbiAgICAgICAgICAgIDQ0OS45NjIsIDQ1MC42OTcsIDQ1MS45MjEsIDQ1Mi40OTgsIDQ1My4zMzIsIDQ1NC4xNjMsIDQ1NC41MTksIDQ1NS4xNTMsIDQ1OS4wOTIsIDQ2Ni40ODEsXHJcbiAgICAgICAgICAgIDQ2Ni44NTYsIDQ2Ni44NTYsIDQ3Mi4yMjMsIDQ3My4xMSwgNDc0LjE2NywgNDc0Ljc5NCwgNDc1LjE4MiwgNDc2Ljg3OSwgNDc4Ljg3OSwgNDk3Ljg1NCxcclxuICAgICAgICAgICAgNDk4LjI4MSwgNTE0Ljg4NCwgNTE1LjM0LCA1MTkuMTY1LCA1MjAuODU1LCA1NDAuMDQ2LCA1NDEuNDU1LCA1NjguMjYzLCA1NjguODE5LCA1NjguODIxLFxyXG4gICAgICAgICAgICA1ODguOTk1LCA1ODkuNTkyLCA2MTUuNDIzLCA2MTYuMDc1LCA2MTcuNTI1LCA2MTkuOTI2LCA2MjMuNDY4LCA2MjYuMDAxLCA2MjcuNDc0LCA2MzYuMTE1LFxyXG4gICAgICAgICAgICA2MzYuNjQxLCA2NTEuNDIxLCA2NTIuNDY4LCA2NTMuMDcsIDY1NC40MDQsIDY1NC41NzUsIDY1NS4yNDMsIDczNy4zMjMsIDczNy4zNDlcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgODUwLCAzMDAsIDI1MCwgMjUwLCA2LCAyNTAsIDEwLCAxMCwgMSwgMiwgMTUsIDIwLCAyMCwgMiwgMywgMjUwLCAyNTAsIDI1MCwgMjUwLCAyNTAsIDMwLFxyXG4gICAgICAgICAgICA0MCwgNDAsIDI1MCwgMywgMjUwLCA1LCAyMDAsIDIwMCwgMjAwLCA0MCwgMjUwLCA2MCwgNjAsIDIwMCwgNSwgOCwgMjAwLCAyMDAsIDIwMCwgMjAwLFxyXG4gICAgICAgICAgICAyMDAsIDIwMCwgMjAwLCAyMDAsIDIwMCwgMjAwLCA2MCwgMTAwLCAxMDAsIDIwMCwgMjAwLCAyMDAsIDIwMCwgMjAwLCAxMCwgMTUsIDIwMCwgMTYwLFxyXG4gICAgICAgICAgICAxMjAsIDIwMCwgMjAwLCAxNjAsIDE2MCwgMTYwLCAyMCwgMzAsIDE2MCwgMTAwLCAyMDAsIDQwMCwgNDAsIDgwLCAxMDAsIDgwLCA3MCwgOTAsIDI4MCxcclxuICAgICAgICAgICAgNzAsIDU2MCwgODAwMDAsIDQwMDAwLCAxMjAsIDI0MCwgNjAsIDcwLCA3MCwgODAsIDgwLCA3MCwgNzAsIDkwLCA4MCwgMTMwLCAxMzAsIDEzMCwgODAsXHJcbiAgICAgICAgICAgIDIwLCAxMFxyXG4gICAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiU3Ryb250aXVtXCIsXHJcbiAgICAgICAgXCJ3YXZlbGVuZ3Roc1wiOiBbXHJcbiAgICAgICAgICAgIDQwMy4wMzgsIDQwMy4yMzgsIDQwNy43NzEsIDQwOS40MDMsIDQwOS43MDIsIDQxMC41NjMsIDQxNi4xOCwgNDIxLjU1MiwgNDI5Ljg1NywgNDMwLjU0NSxcclxuICAgICAgICAgICAgNDMzLjU4LCA0NDMuODA0LCA0NjAuNzMzLCA0NjguNTA4LCA0NzIuMjI4LCA0NzQuMTkyLCA0NzguNDMyLCA0ODEuMTg4LCA0ODMuMjA4LCA0ODUuNTA0LFxyXG4gICAgICAgICAgICA0ODYuODcsIDQ4Ny4yNDksIDQ4Ny42MDYsIDQ4Ny42MzIsIDQ4OS4xOTgsIDQ5Ni4yMjYsIDQ5Ni43OTQsIDUwNy4xMDksIDUxMy4wMzQsIDUxNS42MDcsXHJcbiAgICAgICAgICAgIDUxNS44MjYsIDUyMi4yMiwgNTIyLjUxMSwgNTIyLjkyNywgNTIzLjg1NSwgNTI1LjY5LCA1MjUuNzcxLCA1MjYuMjIxLCA1MjguODMyLCA1MzIuOTgyLFxyXG4gICAgICAgICAgICA1MzkuMTAzLCA1NDQuMzQ4LCA1NDUuMDg0LCA1NDYuMzksIDU0OC4wODQsIDU0OC42MTIsIDU1MC40MTcsIDU1Mi4xODMsIDU1My40ODEsIDU1NC4wMDUsXHJcbiAgICAgICAgICAgIDU1NC4zMzYsIDU2Ni40NjYsIDU2OC45NzIsIDU5Ny4wMSwgNjM0LjU3NSwgNjM2LjM5NCwgNjM2Ljk5NiwgNjM4LjA3NSwgNjM4LjY1LCA2MzguODI0LFxyXG4gICAgICAgICAgICA2NDAuODQ3LCA2NDQuNjY4LCA2NDYuNTc5LCA2NTAuNCwgNjU0LjY3OSwgNjU1LjAyNiwgNjYxLjcyNiwgNjY0LjM1NCwgNjc5LjEwNSwgNjg3LjgzOCxcclxuICAgICAgICAgICAgNjg5LjI1OVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgXCJzdHJlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICAxMzAwLCAzMDAsIDQ2MDAwLCAzMCwgMzAsIDMwLCAyMDAsIDMyMDAwLCA5LCAzNDAsIDM1LCAzNTAsIDY1MDAwLCA5LCAzMjAwLCAyMjAwLCAxNDAwLFxyXG4gICAgICAgICAgICA0ODAwLCAzNjAwLCA1MDAsIDYwMCwgMzAwMCwgNjAwLCAyMDAwLCAxMDAwLCA4MDAwLCAxMzAwLCAzMCwgMzAsIDgwMCwgMzUsIDE0MDAsIDIwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsIDI4MDAsIDQ4MDAsIDQwLCAzMCwgMzAsIDM1MCwgMzAsIDQwLCAxNTAwLCAzMCwgNzAwMCwgMTEwMCwgMzUwMCwgMjYwMCwgMjAwMCwgMjAwMCxcclxuICAgICAgICAgICAgMjUwLCAzMCwgMzAsIDIwMCwgMjUwLCAyNTAsIDM1MCwgMTAwMCwgOTAwLCA2MDAsIDkwMDAsIDI1MCwgMjUwLCA1NTAwLCAxMDAwLCAxNzAwLCAzMDAwLFxyXG4gICAgICAgICAgICA4MDAsIDE4MDAsIDQ4MDAsIDEyMDBcclxuICAgICAgICBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwibmFtZVwiOiBcIlN1bGZ1clwiLFxyXG4gICAgICAgIFwid2F2ZWxlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICAzOTAuMiwgMzkzLjMzLCA0MTIuMDgsIDQxNC4yMywgNDE0LjUxLCA0MTUuMzEsIDQxNi4yNywgNDY5LjQxLCA0NjkuNTQsIDQ2OS42MiwgNDcxLjYyLFxyXG4gICAgICAgICAgICA0ODEuNTUsIDQ5Mi40MSwgNDkyLjUzLCA0OTkuMzUsIDU0Mi44NiwgNTQzLjI4LCA1NDUuMzgsIDU0Ny4zNiwgNTUwLjk3LCA1NTYuNDksIDU2MC42MSxcclxuICAgICAgICAgICAgNTY0LjAsIDU2NC4wMywgNTY0LjcsIDU2NS45OSwgNTY2LjQ3LCA1NzAuNjEsIDU4MS45MiwgNjA1LjI3LCA2MjguNjQsIDYyOC43MSwgNjMwLjU1LFxyXG4gICAgICAgICAgICA2MzEuMjcsIDYzOC40OSwgNjM5LjczLCA2MzkuOCwgNjQxLjM3LCA2NzQuMzYsIDY3NC44OCwgNjc1LjcyLCA3NTcuOVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgXCJzdHJlbmd0aHNcIjogW1xyXG4gICAgICAgICAgICAyODUsIDM2MCwgNDUwLCAyODAsIDM2MCwgNDUwLCA0NTAsIDQ1MCwgMjg1LCAxNjAsIDI4MCwgNDUwLCAzNjAsIDQ1MCwgMjg1LCAzNjAsIDY1MCwgMTAwMCxcclxuICAgICAgICAgICAgMTAwMCwgMTAwMCwgMjgwLCAxMDAwLCA0NTAsIDQ1MCwgMjgwLCA2NTAsIDQ1MCwgMTYwLCA0NTAsIDQ1MCwgMjgwLCA0NTAsIDQ1MCwgNDUwLCAyODAsXHJcbiAgICAgICAgICAgIDI4MCwgMjgwLCAzNjAsIDE2MCwgMjg1LCA0NTAsIDQ1MFxyXG4gICAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJuYW1lXCI6IFwiWGVub25cIixcclxuICAgICAgICBcIndhdmVsZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMzkwLjc5MSwgNDAzLjc1OSwgNDA1Ljc0NiwgNDA5Ljg4OSwgNDE1LjgwNCwgNDE4LjAxLCA0MTkuMzE1LCA0MjAuODQ4LCA0MjAuOTQ3LCA0MjEuMzcyLFxyXG4gICAgICAgICAgICA0MjEuNTYsIDQyMi4zLCA0MjMuODI1LCA0MjQuNTM4LCA0MjUuMTU3LCA0MjkuNjQsIDQzMS4wNTEsIDQzMy4wNTIsIDQzNi45MiwgNDM3LjM3OCxcclxuICAgICAgICAgICAgNDM5LjMyLCA0MzkuNTc3LCA0NDAuNjg4LCA0NDEuNjA3LCA0NDQuODEzLCA0NDYuMjE5LCA0NDguMDg2LCA0NTIuMTg2LCA0NzMuNDE1LCA0NzkuMjYyLFxyXG4gICAgICAgICAgICA0ODAuNzAyLCA0ODIuOTcxLCA0ODQuMzI5LCA0OTEuNjUxLCA0OTIuMzE1LCA0OTcuMTcxLCA0OTcuMjcxLCA0OTguODc3LCA0OTkuMTE3LCA1MDIuODI4LFxyXG4gICAgICAgICAgICA1MDQuNDkyLCA1MDguMDYyLCA1MTIuMjQyLCA1MTIuNTcsIDUxNy44ODIsIDUxOC44MDQsIDUxOS4xMzcsIDUxOS4yMSwgNTI2LjA0NCwgNTI2LjE5NSxcclxuICAgICAgICAgICAgNTI5LjIyMiwgNTMwLjkyNywgNTMxLjM4NywgNTMzLjkzMywgNTM2LjMyLCA1MzYuODA3LCA1MzcuMjM5LCA1MzkuMjgsIDU0MS45MTUsIDU0My44OTYsXHJcbiAgICAgICAgICAgIDU0NC41NDUsIDU0NS4wNDUsIDU0Ni4wMzksIDU0Ny4yNjEsIDU0OS40ODYsIDU1Mi41NTMsIDU1My4xMDcsIDU1Ni42NjIsIDU2MS42NjcsIDU2NS45MzgsXHJcbiAgICAgICAgICAgIDU2Ni43NTYsIDU2Ny4wOTEsIDU2OS41NzUsIDU2OS45NjEsIDU3MS42MSwgNTcyLjY5MSwgNTc1LjEwMywgNTc1Ljg2NSwgNTc3LjYzOSwgNTgxLjU5NixcclxuICAgICAgICAgICAgNTgyLjM4OSwgNTgyLjQ4LCA1ODcuNTAyLCA1ODkuMzI5LCA1ODkuNDk5LCA1OTAuNTEzLCA1OTMuNDE3LCA1OTQuNTUzLCA1OTcuMTEzLCA1OTcuNjQ2LFxyXG4gICAgICAgICAgICA2MDAuODkyLCA2MDMuNjIsIDYwNS4xMTUsIDYwOS4zNSwgNjA5Ljc1OSwgNjEwLjE0MywgNjExLjUwOCwgNjE0LjY0NSwgNjE3LjgzLCA2MTcuOTY2LFxyXG4gICAgICAgICAgICA2MTguMjQyLCA2MTkuNDA3LCA2MTkuODI2LCA2MjIuMDAyLCA2MjcuMDgyLCA2MjcuNzU0LCA2MjguNDQxLCA2MjguNjAxLCA2MzAuMDg2LCA2MzEuODA2LFxyXG4gICAgICAgICAgICA2MzQuMzk2LCA2MzUuNjM1LCA2MzcuNTI4LCA2MzkuNzk5LCA2NDYuOTcsIDY0Ny4yODQsIDY0OC43NzYsIDY0OS44NzIsIDY1MC40MTgsIDY1MS4yODMsXHJcbiAgICAgICAgICAgIDY1Mi44NjUsIDY1My4zMTYsIDY1OS41MDEsIDY1OS41NTYsIDY1OS43MjUsIDY1OS44ODQsIDY2Ni44OTIsIDY2OS40MzIsIDY3Mi44MDEsIDY3OC44NzEsXHJcbiAgICAgICAgICAgIDY3OS4wMzcsIDY4MC41NzQsIDY4Mi43MzIsIDY4Ny4yMTEsIDY4OC4yMTYsIDY5MS4wMjIsIDY5Mi41NTMsIDY5NC4yMTEsIDY5Ny42MTgsIDY5OS4wODgsXHJcbiAgICAgICAgICAgIDcwOC4yMTVcclxuICAgICAgICBdLFxyXG4gICAgICAgIFwic3RyZW5ndGhzXCI6IFtcclxuICAgICAgICAgICAgMTAwLCAxMDAsIDIwMCwgMTAwLCAyMDAsIDEwMDAsIDUwMCwgMzAwLCAxMDAsIDMwMCwgMTAwLCAzMDAsIDQwMCwgNTAwLCAxMDAsIDUwMCwgNTAwLFxyXG4gICAgICAgICAgICAxMDAwLCAyMDAsIDEwMCwgNTAwLCA1MDAsIDIwMCwgMTUwLCA1MDAsIDEwMDAsIDUwMCwgMTAwLCA2MDAsIDE1MCwgNTAwLCA0MDAsIDMwMCwgNTAwLFxyXG4gICAgICAgICAgICA1MDAsIDIwMCwgNDAwLCAzMDAsIDEwMCwgMjAwLCAyMDAsIDEwMDAsIDMwMCwgMTAwLCAxMDAsIDMwMCwgNDAwLCAxMDAsIDUwMCwgNTAwLCAyMDAwLFxyXG4gICAgICAgICAgICAzMDAsIDEwMDAsIDIwMDAsIDIwMCwgMjAwLCA1MDAsIDEwMCwgMzAwMCwgODAwLCAzMDAsIDIwMCwgNDAwLCAxMDAwLCAxMDAsIDIwMCwgNjAwLCAxMDAsXHJcbiAgICAgICAgICAgIDMwMCwgMzAwLCA2MDAsIDE1MCwgMTAwLCAyMDAsIDIwMCwgNTAwLCA1MDAsIDMwMCwgMzAwLCAxMDAsIDMwMCwgMTUwLCAxMDAsIDMwMCwgMTAwLCAyMDAsXHJcbiAgICAgICAgICAgIDEwMCwgNTAwLCAzMDAsIDIwMDAsIDIwMCwgMTAwMCwgMjAwMCwgNjAwLCAxNTAwLCA0MDAsIDEwMCwgMTAwLCAxNTAsIDEyMCwgMzAwLCA1MDAsIDEwMCxcclxuICAgICAgICAgICAgMTAwLCA1MDAsIDQwMCwgMTAwLCAxMDAsIDI1MCwgNTAwLCA0MDAsIDYwMCwgMjAwLCAxMDAsIDMwMCwgMTUwLCAxMjAsIDEwMCwgMjAwLCAzMDAsIDIwMCxcclxuICAgICAgICAgICAgMTAwLCAxMDAwLCAxMDAsIDQwMCwgMTAwLCAxNTAsIDMwMCwgMjAwLCAxNTAsIDEwMCwgMTAwMCwgMjAwLCAxMDAsIDMwMCwgODAsIDEwMCwgODAwLCAxMDAsXHJcbiAgICAgICAgICAgIDIwMDAsIDE1MFxyXG4gICAgICAgIF1cclxuICAgIH1cclxuXSIsImV4cG9ydCBjb25zdCB3YXZlbGVuZ3RoVG9SZ2JUYWJsZSA9IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgKzAuMDAwNDUsIC0wLjAwMDQ4LCArMC4wMDM0NCwgMC4wLCArMC4wMDA1NCwgLTAuMDAwNTcsICswLjAwNDExLCAwLjAsICswLjAwMDY0LCAtMC4wMDA2OCwgKzAuMDA0OTEsIDAuMCwgKzAuMDAwNzYsIC0wLjAwMDgxLCArMC4wMDU4NywgMC4wLFxyXG4gICAgKzAuMDAwOTEsIC0wLjAwMDk3LCArMC4wMDcwMiwgMC4wLCArMC4wMDEwOSwgLTAuMDAxMTYsICswLjAwODQwLCAwLjAsICswLjAwMTI5LCAtMC4wMDEzOCwgKzAuMDEwMDEsIDAuMCwgKzAuMDAxNTMsIC0wLjAwMTY0LCArMC4wMTE5MCwgMC4wLFxyXG4gICAgKzAuMDAxODIsIC0wLjAwMTk0LCArMC4wMTQxNCwgMC4wLCArMC4wMDIxOCwgLTAuMDAyMzQsICswLjAxNzAzLCAwLjAsICswLjAwMjY0LCAtMC4wMDI4NCwgKzAuMDIwNzEsIDAuMCwgKzAuMDAzMjIsIC0wLjAwMzQ4LCArMC4wMjUzNCwgMC4wLFxyXG4gICAgKzAuMDAzODYsIC0wLjAwNDE3LCArMC4wMzAzOCwgMC4wLCArMC4wMDQ1MCwgLTAuMDA0ODYsICswLjAzNTQ2LCAwLjAsICswLjAwNTE2LCAtMC4wMDU1OCwgKzAuMDQwNzIsIDAuMCwgKzAuMDA1OTgsIC0wLjAwNjQ3LCArMC4wNDcyNCwgMC4wLFxyXG4gICAgKzAuMDA3MTAsIC0wLjAwNzY5LCArMC4wNTYxMywgMC4wLCArMC4wMDg2MywgLTAuMDA5MzYsICswLjA2ODM2LCAwLjAsICswLjAxMDUzLCAtMC4wMTE0NCwgKzAuMDgzNTcsIDAuMCwgKzAuMDEyNzQsIC0wLjAxMzg1LCArMC4xMDEyNSwgMC4wLFxyXG4gICAgKzAuMDE1MTksIC0wLjAxNjUzLCArMC4xMjA5MywgMC4wLCArMC4wMTgwMywgLTAuMDE5NjUsICswLjE0Mzg5LCAwLjAsICswLjAyMTY4LCAtMC4wMjM2NSwgKzAuMTczMzAsIDAuMCwgKzAuMDI2NDMsIC0wLjAyODg4LCArMC4yMTE2MiwgMC4wLFxyXG4gICAgKzAuMDMyNDUsIC0wLjAzNTUyLCArMC4yNjAyOCwgMC4wLCArMC4wMzkwOCwgLTAuMDQyODQsICswLjMxMzk0LCAwLjAsICswLjA0NTY5LCAtMC4wNTAxNiwgKzAuMzY3NzEsIDAuMCwgKzAuMDUyMjcsIC0wLjA1NzQ2LCArMC40MjE0OSwgMC4wLFxyXG4gICAgKzAuMDYwMjcsIC0wLjA2NjM4LCArMC40ODczNCwgMC4wLCArMC4wNzA4MSwgLTAuMDc4MTUsICswLjU3NDQzLCAwLjAsICswLjA4NTUyLCAtMC4wOTQ2MSwgKzAuNjk2MzksIDAuMCwgKzAuMTAzNjIsIC0wLjExNDkxLCArMC44NDcwMywgMC4wLFxyXG4gICAgKzAuMTI1MjgsIC0wLjEzOTI3LCArMS4wMjc4OCwgMC4wLCArMC4xNDk4MywgLTAuMTY2OTcsICsxLjIzMzc4LCAwLjAsICswLjE3ODI3LCAtMC4xOTkyMCwgKzEuNDc0MDYsIDAuMCwgKzAuMjExNTgsIC0wLjIzNzA4LCArMS43NTcyOSwgMC4wLFxyXG4gICAgKzAuMjUxMDEsIC0wLjI4MjAzLCArMi4wOTQ1MywgMC4wLCArMC4yOTYyNCwgLTAuMzMzODAsICsyLjQ4NDc1LCAwLjAsICswLjM0Nzc5LCAtMC4zOTMyMSwgKzIuOTM2NjcsIDAuMCwgKzAuNDA2NTgsIC0wLjQ2MTYyLCArMy40NjMxOSwgMC4wLFxyXG4gICAgKzAuNDcyMjAsIC0wLjUzODY3LCArNC4wNjMwNSwgMC4wLCArMC41NDA1MSwgLTAuNjE5NzMsICs0LjcwMzM4LCAwLjAsICswLjYwNjM1LCAtMC42OTg4NiwgKzUuMzM5ODMsIDAuMCwgKzAuNjY1MzcsIC0wLjc3MTIxLCArNS45Mzg2MiwgMC4wLFxyXG4gICAgKzAuNzE3NjgsIC0wLjgzNjg4LCArNi40OTk3OSwgMC4wLCArMC43NjExMywgLTAuODkzNzYsICs3LjAxMTA5LCAwLjAsICswLjc5NjE2LCAtMC45NDIyOCwgKzcuNDc0MzYsIDAuMCwgKzAuODIwMzUsIC0wLjk3OTg2LCArNy44NzMzOCwgMC4wLFxyXG4gICAgKzAuODM2MTQsIC0xLjAwODczLCArOC4yMjA0OSwgMC4wLCArMC44NDI0MiwgLTEuMDI3NDQsICs4LjUwNjQ1LCAwLjAsICswLjg0MDc4LCAtMS4wMzc2MiwgKzguNzQxMTgsIDAuMCwgKzAuODMwMzQsIC0xLjAzODU5LCArOC45MjA0MywgMC4wLFxyXG4gICAgKzAuODEyNTQsIC0xLjAzMjE0LCArOS4wNTQ3NiwgMC4wLCArMC43ODcwMywgLTEuMDE4MDksICs5LjE0MzE2LCAwLjAsICswLjc1NDg0LCAtMC45OTc1OSwgKzkuMTk1NDUsIDAuMCwgKzAuNzE2MTUsIC0wLjk3MTA1LCArOS4yMTgwOCwgMC4wLFxyXG4gICAgKzAuNjcxNjAsIC0wLjkzOTIxLCArOS4yMTgzMSwgMC4wLCArMC42MjE2MSwgLTAuOTAyNTksICs5LjIwMDAyLCAwLjAsICswLjU2Njg5LCAtMC44NjIwNSwgKzkuMTcwNDQsIDAuMCwgKzAuNTA4MzQsIC0wLjgxODYxLCArOS4xMzY2MSwgMC4wLFxyXG4gICAgKzAuNDQ1OTQsIC0wLjc3MjA4LCArOS4wOTc5NSwgMC4wLCArMC4zNzk0MywgLTAuNzIxNzAsICs5LjA0NzA5LCAwLjAsICswLjMwNzU1LCAtMC42NjU3MywgKzguOTcyODIsIDAuMCwgKzAuMjMwOTIsIC0wLjYwNDM4LCArOC44NzQxNiwgMC4wLFxyXG4gICAgKzAuMTQ5ODEsIC0wLjUzNzIzLCArOC43NDYyNSwgMC4wLCArMC4wNjU5NCwgLTAuNDY1NjUsICs4LjU5Mjk5LCAwLjAsIC0wLjAyMDMzLCAtMC4zODkxOSwgKzguNDA5NjQsIDAuMCwgLTAuMTA4NzYsIC0wLjMwNzcwLCArOC4xOTQ0OSwgMC4wLFxyXG4gICAgLTAuMjAwNTAsIC0wLjIxNzk2LCArNy45MjQ4NCwgMC4wLCAtMC4yOTU1NCwgLTAuMTE5NTQsICs3LjU5NjM3LCAwLjAsIC0wLjM5MzMxLCAtMC4wMTI0MSwgKzcuMjExNTIsIDAuMCwgLTAuNDkxNTAsICswLjA5OTQ1LCArNi44MDMyMywgMC4wLFxyXG4gICAgLTAuNTg4MjEsICswLjIxMzU5LCArNi4zOTUxNywgMC4wLCAtMC42ODI4NywgKzAuMzI5MDAsICs1Ljk5NTA5LCAwLjAsIC0wLjc3NTQ4LCArMC40NDYwNCwgKzUuNjAxMDQsIDAuMCwgLTAuODY2MTAsICswLjU2NDg5LCArNS4yMTE2MSwgMC4wLFxyXG4gICAgLTAuOTU0NjAsICswLjY4NTQ1LCArNC44MjkzNiwgMC4wLCAtMS4wNDA3NSwgKzAuODA2ODUsICs0LjQ1ODI5LCAwLjAsIC0xLjEyNDU1LCArMC45MjgxMCwgKzQuMDk5NzksIDAuMCwgLTEuMjA1OTEsICsxLjA0ODUzLCArMy43NTY2NCwgMC4wLFxyXG4gICAgLTEuMjg1MzQsICsxLjE2ODk4LCArMy40Mjk1MywgMC4wLCAtMS4zNjI4OSwgKzEuMjkwODAsICszLjEyMzgyLCAwLjAsIC0xLjQzODkzLCArMS40MTQ3NSwgKzIuODM5MzAsIDAuMCwgLTEuNTE0MTgsICsxLjU0MjE5LCArMi41Nzk1NywgMC4wLFxyXG4gICAgLTEuNTkwNTcsICsxLjY3MzkzLCArMi4zMzg0NCwgMC4wLCAtMS42NzA3MCwgKzEuODEyODUsICsyLjExNzUyLCAwLjAsIC0xLjc1NDgzLCArMS45NTg3NCwgKzEuOTEyMjAsIDAuMCwgLTEuODQzMzQsICsyLjExMjkzLCArMS43MjQ0MywgMC4wLFxyXG4gICAgLTEuOTM1MjEsICsyLjI3NDA1LCArMS41NTA0NCwgMC4wLCAtMi4wMzA0MiwgKzIuNDQyODYsICsxLjM5MDY5LCAwLjAsIC0yLjEzMDAyLCArMi42MjEwMCwgKzEuMjQyMzcsIDAuMCwgLTIuMjM2ODcsICsyLjgxMzE5LCArMS4xMDUyNSwgMC4wLFxyXG4gICAgLTIuMzUyMzYsICszLjAyMTYzLCArMC45Nzc2MCwgMC4wLCAtMi40NzQyOCwgKzMuMjQ0NzYsICswLjg1NzgwLCAwLjAsIC0yLjU5NzAzLCArMy40NzcwNCwgKzAuNzQyMTAsIDAuMCwgLTIuNzE1OTQsICszLjcxMzg0LCArMC42MjczNywgMC4wLFxyXG4gICAgLTIuODI4OTcsICszLjk1Mzc4LCArMC41MTI5NywgMC4wLCAtMi45MzYzMiwgKzQuMTk3NjIsICswLjM5OTkzLCAwLjAsIC0zLjAzNzI0LCArNC40NDY2NywgKzAuMjg5NTYsIDAuMCwgLTMuMTMxMDgsICs0LjY5OTMwLCArMC4xODE4OSwgMC4wLFxyXG4gICAgLTMuMjEzNzEsICs0Ljk1MTIzLCArMC4wNzg3OCwgMC4wLCAtMy4yODM5NywgKzUuMTk4NTIsIC0wLjAxODYzLCAwLjAsIC0zLjMzNzM2LCArNS40MzcwNiwgLTAuMTA3OTgsIDAuMCwgLTMuMzc1MTEsICs1LjY2NTExLCAtMC4xOTAzOSwgMC4wLFxyXG4gICAgLTMuMzkwNTcsICs1Ljg3Mzc3LCAtMC4yNjM2OCwgMC4wLCAtMy4zODUyOCwgKzYuMDYxNDYsIC0wLjMyODg2LCAwLjAsIC0zLjM1NTkxLCArNi4yMjQ2NSwgLTAuMzg1MDksIDAuMCwgLTMuMzA4MTIsICs2LjM3MDU4LCAtMC40MzU1MSwgMC4wLFxyXG4gICAgLTMuMjQxNzksICs2LjUwMDgyLCAtMC40ODEzMiwgMC4wLCAtMy4xNTk2MSwgKzYuNjE3NDksIC0wLjUyMzY0LCAwLjAsIC0zLjA2MTc2LCArNi43MTg3NSwgLTAuNTYyNDAsIDAuMCwgLTIuOTUxMDMsICs2LjgwNTA3LCAtMC41OTgxMywgMC4wLFxyXG4gICAgLTIuODI4MjAsICs2Ljg3NjA3LCAtMC42MzExMiwgMC4wLCAtMi42OTM1NywgKzYuOTMyODIsIC0wLjY2MTQ3LCAwLjAsIC0yLjU0NzI4LCArNi45NzYzMSwgLTAuNjg5MTAsIDAuMCwgLTIuMzg5MTQsICs3LjAwNjgzLCAtMC43MTM5MCwgMC4wLFxyXG4gICAgLTIuMjIwMDUsICs3LjAyNTI1LCAtMC43MzYxNCwgMC4wLCAtMi4wMzg4NiwgKzcuMDMwNDYsIC0wLjc1NTYwLCAwLjAsIC0xLjg0NjY4LCArNy4wMjM3NywgLTAuNzcyNTksIDAuMCwgLTEuNjQyMjMsICs3LjAwMzk2LCAtMC43ODY4NywgMC4wLFxyXG4gICAgLTEuNDI3NTYsICs2Ljk3MzE2LCAtMC43OTg4OSwgMC4wLCAtMS4yMDExMywgKzYuOTI5NjEsIC0wLjgwODMzLCAwLjAsIC0wLjk2NTUxLCArNi44NzYyNiwgLTAuODE1NzcsIDAuMCwgLTAuNzE3NzgsICs2LjgxMDEyLCAtMC44MjA4MCwgMC4wLFxyXG4gICAgLTAuNDYxMTAsICs2LjczNTYxLCAtMC44MjQxOSwgMC4wLCAtMC4xOTMzNiwgKzYuNjUwNjQsIC0wLjgyNTY5LCAwLjAsICswLjA4MzY1LCArNi41NTY3MSwgLTAuODI1NjEsIDAuMCwgKzAuMzcwODgsICs2LjQ1MjcwLCAtMC44MjM4MSwgMC4wLFxyXG4gICAgKzAuNjY3MjcsICs2LjMzOTM4LCAtMC44MjA1MSwgMC4wLCArMC45NzMxOCwgKzYuMjE1ODYsIC0wLjgxNTYxLCAwLjAsICsxLjI4NzM5LCArNi4wODI0OCwgLTAuODA5MjQsIDAuMCwgKzEuNjA5NTUsICs1LjkzODYzLCAtMC44MDEzNywgMC4wLFxyXG4gICAgKzEuOTM4ODAsICs1Ljc4NDgwLCAtMC43OTIwOSwgMC4wLCArMi4yNzQzNywgKzUuNjIxOTUsIC0wLjc4MTUzLCAwLjAsICsyLjYxNTkxLCArNS40NTAzNywgLTAuNzY5NzMsIDAuMCwgKzIuOTYyMzMsICs1LjI3MTA4LCAtMC43NTY4MiwgMC4wLFxyXG4gICAgKzMuMzEyODUsICs1LjA4MzczLCAtMC43NDI3NSwgMC4wLCArMy42NjYwMiwgKzQuODg5NDUsIC0wLjcyNzY2LCAwLjAsICs0LjAyMDkwLCArNC42ODc3MSwgLTAuNzExNDYsIDAuMCwgKzQuMzc2MjEsICs0LjQ4MDIzLCAtMC42OTQzOSwgMC4wLFxyXG4gICAgKzQuNzMwNjQsICs0LjI2Njg3LCAtMC42NzYzOSwgMC4wLCArNS4wODMzMSwgKzQuMDQ5MzcsIC0wLjY1NzczLCAwLjAsICs1LjQzMjA5LCArMy44Mjc2NiwgLTAuNjM4MzUsIDAuMCwgKzUuNzc1NzgsICszLjYwMzAwLCAtMC42MTg0NSwgMC4wLFxyXG4gICAgKzYuMTExMzYsICszLjM3NTU0LCAtMC41OTgwMiwgMC4wLCArNi40MzgzMywgKzMuMTQ2NDYsIC0wLjU3NzIyLCAwLjAsICs2Ljc1NDI1LCArMi45MTY3OCwgLTAuNTU2MTAsIDAuMCwgKzcuMDU4NjMsICsyLjY4Nzc4LCAtMC41MzQ4MSwgMC4wLFxyXG4gICAgKzcuMzQ4OTcsICsyLjQ2MDYzLCAtMC41MTM0MywgMC4wLCArNy42MjQ3NSwgKzIuMjM2MjEsIC0wLjQ5MjAxLCAwLjAsICs3Ljg4NTAyLCArMi4wMTU1MSwgLTAuNDcwNTYsIDAuMCwgKzguMTI5MTcsICsxLjc5OTM3LCAtMC40NDkxMiwgMC4wLFxyXG4gICAgKzguMzU0OTMsICsxLjU4ODkxLCAtMC40Mjc4MCwgMC4wLCArOC41NTYxMCwgKzEuMzg2MzksIC0wLjQwNjg2LCAwLjAsICs4LjcyOTk0LCArMS4xOTI5OSwgLTAuMzg2NDYsIDAuMCwgKzguODczMDgsICsxLjAxMDE1LCAtMC4zNjY3MCwgMC4wLFxyXG4gICAgKzguOTkxODAsICswLjgzNTk3LCAtMC4zNDc0NiwgMC4wLCArOS4wODYyMSwgKzAuNjcwNzYsIC0wLjMyODcyLCAwLjAsICs5LjE2MDYyLCArMC41MTMxNiwgLTAuMzEwNDEsIDAuMCwgKzkuMjA2ODYsICswLjM2NjMxLCAtMC4yOTI3NSwgMC4wLFxyXG4gICAgKzkuMjI2MTAsICswLjIyOTczLCAtMC4yNzU3NCwgMC4wLCArOS4yMTAyNCwgKzAuMTA2NTQsIC0wLjI1OTYyLCAwLjAsICs5LjE2NzE3LCAtMC4wMDU4OCwgLTAuMjQ0MTksIDAuMCwgKzkuMDk1OTYsIC0wLjEwNjU1LCAtMC4yMjk0OCwgMC4wLFxyXG4gICAgKzkuMDAyNTksIC0wLjE5NzQyLCAtMC4yMTUzNSwgMC4wLCArOC44ODQ2OSwgLTAuMjc3NDksIC0wLjIwMTg2LCAwLjAsICs4Ljc0NDMyLCAtMC4zNDc4NCwgLTAuMTg4OTgsIDAuMCwgKzguNTgwNDksIC0wLjQwODA4LCAtMC4xNzY3NywgMC4wLFxyXG4gICAgKzguMzk1MTAsIC0wLjQ1ODk5LCAtMC4xNjUxOSwgMC4wLCArOC4xODcwMywgLTAuNTAwNzgsIC0wLjE1NDE4LCAwLjAsICs3Ljk1NDg3LCAtMC41MzM3NywgLTAuMTQzNzEsIDAuMCwgKzcuNzAwMTAsIC0wLjU1ODY2LCAtMC4xMzM3MSwgMC4wLFxyXG4gICAgKzcuNDI2NDksIC0wLjU3NTg2LCAtMC4xMjQyNCwgMC4wLCArNy4xNDAyOSwgLTAuNTg2NzAsIC0wLjExNTI0LCAwLjAsICs2Ljg0NDIxLCAtMC41OTEyOCwgLTAuMTA2NzcsIDAuMCwgKzYuNTQzMDMsIC0wLjU5MTA4LCAtMC4wOTg3NSwgMC4wLFxyXG4gICAgKzYuMjQzMzQsIC0wLjU4Njc0LCAtMC4wOTEzMCwgMC4wLCArNS45NTA0NSwgLTAuNTc5OTAsIC0wLjA4NDM1LCAwLjAsICs1LjY2NjgyLCAtMC41NzA1MCwgLTAuMDc3OTcsIDAuMCwgKzUuMzg4MzEsIC0wLjU1ODk1LCAtMC4wNzE5OSwgMC4wLFxyXG4gICAgKzUuMTEzMjIsIC0wLjU0NDc3LCAtMC4wNjY0NSwgMC4wLCArNC44NDEyMCwgLTAuNTI4NjUsIC0wLjA2MTI0LCAwLjAsICs0LjU3MzUyLCAtMC41MTA1OCwgLTAuMDU2NDAsIDAuMCwgKzQuMzA5OTEsIC0wLjQ5MTAzLCAtMC4wNTE4NywgMC4wLFxyXG4gICAgKzQuMDUxMTAsIC0wLjQ3MDEwLCAtMC4wNDc2NCwgMC4wLCArMy43OTc2OSwgLTAuNDQ4MTcsIC0wLjA0MzY5LCAwLjAsICszLjU1MTIzLCAtMC40MjU0NSwgLTAuMDQwMDQsIDAuMCwgKzMuMzEyNDMsIC0wLjQwMjIwLCAtMC4wMzY2NiwgMC4wLFxyXG4gICAgKzMuMDgyMTQsIC0wLjM3ODcxLCAtMC4wMzM1NCwgMC4wLCArMi44NjE5NywgLTAuMzU1NDIsIC0wLjAzMDY3LCAwLjAsICsyLjY1Mjg1LCAtMC4zMzI3MCwgLTAuMDI4MDAsIDAuMCwgKzIuNDU1NjgsIC0wLjMxMDc1LCAtMC4wMjU1NiwgMC4wLFxyXG4gICAgKzIuMjY4NjUsIC0wLjI4OTQ3LCAtMC4wMjMzMCwgMC4wLCArMi4wOTE4MywgLTAuMjY4ODksIC0wLjAyMTIyLCAwLjAsICsxLjkyMzc0LCAtMC4yNDg5OCwgLTAuMDE5MzAsIDAuMCwgKzEuNzY1NzIsIC0wLjIyOTkxLCAtMC4wMTc1MywgMC4wLFxyXG4gICAgKzEuNjE1OTUsIC0wLjIxMTU1LCAtMC4wMTU4OSwgMC4wLCArMS40NzYwMCwgLTAuMTk0MTEsIC0wLjAxNDQwLCAwLjAsICsxLjM0NDA1LCAtMC4xNzc0NywgLTAuMDEzMDIsIDAuMCwgKzEuMjIxODEsIC0wLjE2MTg5LCAtMC4wMTE3NiwgMC4wLFxyXG4gICAgKzEuMTA3NzMsIC0wLjE0NzI3LCAtMC4wMTA2MCwgMC4wLCArMS4wMDMwNSwgLTAuMTMzNzgsIC0wLjAwOTU0LCAwLjAsICswLjkwNzE2LCAtMC4xMjEzNywgLTAuMDA4NTgsIDAuMCwgKzAuODIxMzksIC0wLjExMDIwLCAtMC4wMDc3MywgMC4wLFxyXG4gICAgKzAuNzQ0NjYsIC0wLjEwMDE3LCAtMC4wMDY5NywgMC4wLCArMC42NzYzNywgLTAuMDkxMjAsIC0wLjAwNjMxLCAwLjAsICswLjYxNTE4LCAtMC4wODMxNSwgLTAuMDA1NzEsIDAuMCwgKzAuNTYwNDksIC0wLjA3NTk0LCAtMC4wMDUxOCwgMC4wLFxyXG4gICAgKzAuNTEwOTcsIC0wLjA2OTM5LCAtMC4wMDQ3MCwgMC4wLCArMC40NjQ2MiwgLTAuMDYzMjUsIC0wLjAwNDI1LCAwLjAsICswLjQyMDA4LCAtMC4wNTczMSwgLTAuMDAzODMsIDAuMCwgKzAuMzc3NDIsIC0wLjA1MTYxLCAtMC4wMDM0MywgMC4wLFxyXG4gICAgKzAuMzM3OTYsIC0wLjA0NjMwLCAtMC4wMDMwNSwgMC4wLCArMC4zMDE5NiwgLTAuMDQxNDQsIC0wLjAwMjcyLCAwLjAsICswLjI2OTgwLCAtMC4wMzcwOCwgLTAuMDAyNDIsIDAuMCwgKzAuMjQwNjUsIC0wLjAzMzEwLCAtMC4wMDIxNiwgMC4wLFxyXG4gICAgKzAuMjE1MDUsIC0wLjAyOTYwLCAtMC4wMDE5MywgMC4wLCArMC4xOTIyMSwgLTAuMDI2NDgsIC0wLjAwMTcyLCAwLjAsICswLjE3MjM4LCAtMC4wMjM3NiwgLTAuMDAxNTQsIDAuMCwgKzAuMTU0ODMsIC0wLjAyMTM2LCAtMC4wMDEzOCwgMC4wLFxyXG4gICAgKzAuMTM5NjMsIC0wLjAxOTI3LCAtMC4wMDEyNCwgMC4wLCArMC4xMjYxOSwgLTAuMDE3NDIsIC0wLjAwMTEyLCAwLjAsICswLjExNDIxLCAtMC4wMTU3NywgLTAuMDAxMDIsIDAuMCwgKzAuMTAzMjAsIC0wLjAxNDI1LCAtMC4wMDA5MiwgMC4wLFxyXG4gICAgKzAuMDkzMTEsIC0wLjAxMjg2LCAtMC4wMDA4MywgMC4wLCArMC4wODM5NSwgLTAuMDExNTksIC0wLjAwMDc1LCAwLjAsICswLjA3NTcyLCAtMC4wMTA0NiwgLTAuMDAwNjcsIDAuMCwgKzAuMDY4MzQsIC0wLjAwOTQ0LCAtMC4wMDA2MSwgMC4wLFxyXG4gICAgKzAuMDYxNjUsIC0wLjAwODUxLCAtMC4wMDA1NSwgMC4wLCArMC4wNTU2MSwgLTAuMDA3NjgsIC0wLjAwMDQ5LCAwLjAsICswLjA1MDA5LCAtMC4wMDY5MiwgLTAuMDAwNDUsIDAuMCwgKzAuMDQ1MTMsIC0wLjAwNjIzLCAtMC4wMDA0MCwgMC4wLFxyXG4gICAgKzAuMDQwNTksIC0wLjAwNTYwLCAtMC4wMDAzNiwgMC4wLCArMC4wMzY1MywgLTAuMDA1MDQsIC0wLjAwMDMzLCAwLjAsICswLjAzMjgxLCAtMC4wMDQ1MywgLTAuMDAwMjksIDAuMCwgKzAuMDI5NTEsIC0wLjAwNDA3LCAtMC4wMDAyNiwgMC4wLFxyXG4gICAgKzAuMDI2NTIsIC0wLjAwMzY2LCAtMC4wMDAyNCwgMC4wLCArMC4wMjM4NiwgLTAuMDAzMzAsIC0wLjAwMDIxLCAwLjAsICswLjAyMTQ2LCAtMC4wMDI5NiwgLTAuMDAwMTksIDAuMCwgKzAuMDE5MzAsIC0wLjAwMjY3LCAtMC4wMDAxNywgMC4wLFxyXG4gICAgKzAuMDE3MzQsIC0wLjAwMjM5LCAtMC4wMDAxNSwgMC4wLCArMC4wMTU1NywgLTAuMDAyMTUsIC0wLjAwMDE0LCAwLjAsICswLjAxMzk2LCAtMC4wMDE5MywgLTAuMDAwMTIsIDAuMCwgKzAuMDEyNTAsIC0wLjAwMTczLCAtMC4wMDAxMSwgMC4wLFxyXG4gICAgKzAuMDExMTgsIC0wLjAwMTU0LCAtMC4wMDAxMCwgMC4wLCArMC4wMTAwMCwgLTAuMDAxMzgsIC0wLjAwMDA5LCAwLjAsICswLjAwODkzLCAtMC4wMDEyMywgLTAuMDAwMDgsIDAuMCwgKzAuMDA3OTcsIC0wLjAwMTEwLCAtMC4wMDAwNywgMC4wLFxyXG4gICAgKzAuMDA3MTIsIC0wLjAwMDk4LCAtMC4wMDAwNiwgMC4wLCArMC4wMDYzNSwgLTAuMDAwODgsIC0wLjAwMDA2LCAwLjAsICswLjAwNTY3LCAtMC4wMDA3OCwgLTAuMDAwMDUsIDAuMCwgKzAuMDA1MDYsIC0wLjAwMDcwLCAtMC4wMDAwNSwgMC4wLFxyXG4gICAgKzAuMDA0NTMsIC0wLjAwMDYyLCAtMC4wMDAwNCwgMC4wLCArMC4wMDQwNSwgLTAuMDAwNTYsIC0wLjAwMDA0LCAwLjAsICswLjAwMzYzLCAtMC4wMDA1MCwgLTAuMDAwMDMsIDAuMCwgKzAuMDAzMjYsIC0wLjAwMDQ1LCAtMC4wMDAwMywgMC4wXHJcbl0pOyIsIi8qIEBsaWNlbnNlIHR3Z2wuanMgNC4yMS4yIENvcHlyaWdodCAoYykgMjAxNSwgR3JlZ2cgVGF2YXJlcyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuQXZhaWxhYmxlIHZpYSB0aGUgTUlUIGxpY2Vuc2UuXG5zZWU6IGh0dHA6Ly9naXRodWIuY29tL2dyZWdnbWFuL3R3Z2wuanMgZm9yIGRldGFpbHMgKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuLyoqXG4gKlxuICogVmVjMyBtYXRoIG1hdGggZnVuY3Rpb25zLlxuICpcbiAqIEFsbW9zdCBhbGwgZnVuY3Rpb25zIHRha2UgYW4gb3B0aW9uYWwgYGRzdGAgYXJndW1lbnQuIElmIGl0IGlzIG5vdCBwYXNzZWQgaW4gdGhlXG4gKiBmdW5jdGlvbnMgd2lsbCBjcmVhdGUgYSBuZXcgVmVjMy4gSW4gb3RoZXIgd29yZHMgeW91IGNhbiBkbyB0aGlzXG4gKlxuICogICAgIHZhciB2ID0gdjMuY3Jvc3ModjEsIHYyKTsgIC8vIENyZWF0ZXMgYSBuZXcgVmVjMyB3aXRoIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHYxIHggdjIuXG4gKlxuICogb3JcbiAqXG4gKiAgICAgdmFyIHYgPSB2My5jcmVhdGUoKTtcbiAqICAgICB2My5jcm9zcyh2MSwgdjIsIHYpOyAgLy8gUHV0cyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB2MSB4IHYyIGluIHZcbiAqXG4gKiBUaGUgZmlyc3Qgc3R5bGUgaXMgb2Z0ZW4gZWFzaWVyIGJ1dCBkZXBlbmRpbmcgb24gd2hlcmUgaXQncyB1c2VkIGl0IGdlbmVyYXRlcyBnYXJiYWdlIHdoZXJlXG4gKiBhcyB0aGVyZSBpcyBhbG1vc3QgbmV2ZXIgYWxsb2NhdGlvbiB3aXRoIHRoZSBzZWNvbmQgc3R5bGUuXG4gKlxuICogSXQgaXMgYWx3YXlzIHNhdmUgdG8gcGFzcyBhbnkgdmVjdG9yIGFzIHRoZSBkZXN0aW5hdGlvbi4gU28gZm9yIGV4YW1wbGVcbiAqXG4gKiAgICAgdjMuY3Jvc3ModjEsIHYyLCB2MSk7ICAvLyBQdXRzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHYxIHggdjIgaW4gdjFcbiAqXG4gKiBAbW9kdWxlIHR3Z2wvdjNcbiAqL1xuXG5sZXQgVmVjVHlwZSA9IEZsb2F0MzJBcnJheTtcblxuLyoqXG4gKiBBIEphdmFTY3JpcHQgYXJyYXkgd2l0aCAzIHZhbHVlcyBvciBhIEZsb2F0MzJBcnJheSB3aXRoIDMgdmFsdWVzLlxuICogV2hlbiBjcmVhdGVkIGJ5IHRoZSBsaWJyYXJ5IHdpbGwgY3JlYXRlIHRoZSBkZWZhdWx0IHR5cGUgd2hpY2ggaXMgYEZsb2F0MzJBcnJheWBcbiAqIGJ1dCBjYW4gYmUgc2V0IGJ5IGNhbGxpbmcge0BsaW5rIG1vZHVsZTp0d2dsL3YzLnNldERlZmF1bHRUeXBlfS5cbiAqIEB0eXBlZGVmIHsobnVtYmVyW118RmxvYXQzMkFycmF5KX0gVmVjM1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cblxuLyoqXG4gKiBTZXRzIHRoZSB0eXBlIHRoaXMgbGlicmFyeSBjcmVhdGVzIGZvciBhIFZlYzNcbiAqIEBwYXJhbSB7Y29uc3RydWN0b3J9IGN0b3IgdGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgdHlwZS4gRWl0aGVyIGBGbG9hdDMyQXJyYXlgIG9yIGBBcnJheWBcbiAqIEByZXR1cm4ge2NvbnN0cnVjdG9yfSBwcmV2aW91cyBjb25zdHJ1Y3RvciBmb3IgVmVjM1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cbmZ1bmN0aW9uIHNldERlZmF1bHRUeXBlKGN0b3IpIHtcbiAgY29uc3Qgb2xkVHlwZSA9IFZlY1R5cGU7XG4gIFZlY1R5cGUgPSBjdG9yO1xuICByZXR1cm4gb2xkVHlwZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdmVjMzsgbWF5IGJlIGNhbGxlZCB3aXRoIHgsIHksIHogdG8gc2V0IGluaXRpYWwgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ9IFt4XSBJbml0aWFsIHggdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gW3ldIEluaXRpYWwgeSB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbel0gSW5pdGlhbCB6IHZhbHVlLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gdGhlIGNyZWF0ZWQgdmVjdG9yXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdjNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlKHgsIHksIHopIHtcbiAgY29uc3QgZHN0ID0gbmV3IFZlY1R5cGUoMyk7XG4gIGlmICh4KSB7XG4gICAgZHN0WzBdID0geDtcbiAgfVxuICBpZiAoeSkge1xuICAgIGRzdFsxXSA9IHk7XG4gIH1cbiAgaWYgKHopIHtcbiAgICBkc3RbMl0gPSB6O1xuICB9XG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQWRkcyB0d28gdmVjdG9yczsgYXNzdW1lcyBhIGFuZCBiIGhhdmUgdGhlIHNhbWUgZGltZW5zaW9uLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBhIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBiIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBbZHN0XSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC92My5WZWMzfSBBIHZlY3RvciB0aGEgdGlzIHRoZSBzdW0gb2YgYSBhbmQgYi5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC92M1xuICovXG5mdW5jdGlvbiBhZGQoYSwgYiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSgzKTtcblxuICBkc3RbMF0gPSBhWzBdICsgYlswXTtcbiAgZHN0WzFdID0gYVsxXSArIGJbMV07XG4gIGRzdFsyXSA9IGFbMl0gKyBiWzJdO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogU3VidHJhY3RzIHR3byB2ZWN0b3JzLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBhIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBiIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBbZHN0XSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC92My5WZWMzfSBBIHZlY3RvciB0aGF0IGlzIHRoZSBkaWZmZXJlbmNlIG9mIGEgYW5kIGIuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdjNcbiAqL1xuZnVuY3Rpb24gc3VidHJhY3QoYSwgYiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSgzKTtcblxuICBkc3RbMF0gPSBhWzBdIC0gYlswXTtcbiAgZHN0WzFdID0gYVsxXSAtIGJbMV07XG4gIGRzdFsyXSA9IGFbMl0gLSBiWzJdO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgbGluZWFyIGludGVycG9sYXRpb24gb24gdHdvIHZlY3RvcnMuXG4gKiBHaXZlbiB2ZWN0b3JzIGEgYW5kIGIgYW5kIGludGVycG9sYXRpb24gY29lZmZpY2llbnQgdCwgcmV0dXJuc1xuICogYSArIHQgKiAoYiAtIGEpLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBhIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBiIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW50ZXJwb2xhdGlvbiBjb2VmZmljaWVudC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gW2RzdF0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gVGhlIGxpbmVhciBpbnRlcnBvbGF0ZWQgcmVzdWx0LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cbmZ1bmN0aW9uIGxlcnAoYSwgYiwgdCwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSgzKTtcblxuICBkc3RbMF0gPSBhWzBdICsgdCAqIChiWzBdIC0gYVswXSk7XG4gIGRzdFsxXSA9IGFbMV0gKyB0ICogKGJbMV0gLSBhWzFdKTtcbiAgZHN0WzJdID0gYVsyXSArIHQgKiAoYlsyXSAtIGFbMl0pO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgbGluZWFyIGludGVycG9sYXRpb24gb24gdHdvIHZlY3RvcnMuXG4gKiBHaXZlbiB2ZWN0b3JzIGEgYW5kIGIgYW5kIGludGVycG9sYXRpb24gY29lZmZpY2llbnQgdmVjdG9yIHQsIHJldHVybnNcbiAqIGEgKyB0ICogKGIgLSBhKS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYiBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gdCBJbnRlcnBvbGF0aW9uIGNvZWZmaWNpZW50cyB2ZWN0b3IuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFtkc3RdIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL3YzLlZlYzN9IHRoZSBsaW5lYXIgaW50ZXJwb2xhdGVkIHJlc3VsdC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC92M1xuICovXG5mdW5jdGlvbiBsZXJwVihhLCBiLCB0LCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDMpO1xuXG4gIGRzdFswXSA9IGFbMF0gKyB0WzBdICogKGJbMF0gLSBhWzBdKTtcbiAgZHN0WzFdID0gYVsxXSArIHRbMV0gKiAoYlsxXSAtIGFbMV0pO1xuICBkc3RbMl0gPSBhWzJdICsgdFsyXSAqIChiWzJdIC0gYVsyXSk7XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gbWF4IHZhbHVlcyBvZiB0d28gdmVjdG9ycy5cbiAqIEdpdmVuIHZlY3RvcnMgYSBhbmQgYiByZXR1cm5zXG4gKiBbbWF4KGFbMF0sIGJbMF0pLCBtYXgoYVsxXSwgYlsxXSksIG1heChhWzJdLCBiWzJdKV0uXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IGEgT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IGIgT3BlcmFuZCB2ZWN0b3IuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFtkc3RdIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFRoZSBtYXggY29tcG9uZW50cyB2ZWN0b3IuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdjNcbiAqL1xuZnVuY3Rpb24gbWF4KGEsIGIsIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUoMyk7XG5cbiAgZHN0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIGRzdFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBkc3RbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIFJldHVybiBtaW4gdmFsdWVzIG9mIHR3byB2ZWN0b3JzLlxuICogR2l2ZW4gdmVjdG9ycyBhIGFuZCBiIHJldHVybnNcbiAqIFttaW4oYVswXSwgYlswXSksIG1pbihhWzFdLCBiWzFdKSwgbWluKGFbMl0sIGJbMl0pXS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYiBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gW2RzdF0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gVGhlIG1pbiBjb21wb25lbnRzIHZlY3Rvci5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC92M1xuICovXG5mdW5jdGlvbiBtaW4oYSwgYiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSgzKTtcblxuICBkc3RbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgZHN0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIGRzdFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogTXVsdGlwbGllcyBhIHZlY3RvciBieSBhIHNjYWxhci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gdiBUaGUgdmVjdG9yLlxuICogQHBhcmFtIHtudW1iZXJ9IGsgVGhlIHNjYWxhci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gW2RzdF0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gVGhlIHNjYWxlZCB2ZWN0b3IuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdjNcbiAqL1xuZnVuY3Rpb24gbXVsU2NhbGFyKHYsIGssIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUoMyk7XG5cbiAgZHN0WzBdID0gdlswXSAqIGs7XG4gIGRzdFsxXSA9IHZbMV0gKiBrO1xuICBkc3RbMl0gPSB2WzJdICogaztcblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgYSBzY2FsYXIuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IHYgVGhlIHZlY3Rvci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBrIFRoZSBzY2FsYXIuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFtkc3RdIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFRoZSBzY2FsZWQgdmVjdG9yLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cbmZ1bmN0aW9uIGRpdlNjYWxhcih2LCBrLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBWZWNUeXBlKDMpO1xuXG4gIGRzdFswXSA9IHZbMF0gLyBrO1xuICBkc3RbMV0gPSB2WzFdIC8gaztcbiAgZHN0WzJdID0gdlsyXSAvIGs7XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjdG9yczsgYXNzdW1lcyBib3RoIHZlY3RvcnMgaGF2ZVxuICogdGhyZWUgZW50cmllcy5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYiBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gW2RzdF0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gVGhlIHZlY3RvciBvZiBhIGNyb3NzIGIuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdjNcbiAqL1xuZnVuY3Rpb24gY3Jvc3MoYSwgYiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSgzKTtcblxuICBjb25zdCB0MSA9IGFbMl0gKiBiWzBdIC0gYVswXSAqIGJbMl07XG4gIGNvbnN0IHQyID0gYVswXSAqIGJbMV0gLSBhWzFdICogYlswXTtcbiAgZHN0WzBdID0gYVsxXSAqIGJbMl0gLSBhWzJdICogYlsxXTtcbiAgZHN0WzFdID0gdDE7XG4gIGRzdFsyXSA9IHQyO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWN0b3JzOyBhc3N1bWVzIGJvdGggdmVjdG9ycyBoYXZlXG4gKiB0aHJlZSBlbnRyaWVzLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBhIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBiIE9wZXJhbmQgdmVjdG9yLlxuICogQHJldHVybiB7bnVtYmVyfSBkb3QgcHJvZHVjdFxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cbmZ1bmN0aW9uIGRvdChhLCBiKSB7XG4gIHJldHVybiAoYVswXSAqIGJbMF0pICsgKGFbMV0gKiBiWzFdKSArIChhWzJdICogYlsyXSk7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGxlbmd0aCBvZiB2ZWN0b3JcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gdiB2ZWN0b3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGxlbmd0aCBvZiB2ZWN0b3IuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdjNcbiAqL1xuZnVuY3Rpb24gbGVuZ3RoJDEodikge1xuICByZXR1cm4gTWF0aC5zcXJ0KHZbMF0gKiB2WzBdICsgdlsxXSAqIHZbMV0gKyB2WzJdICogdlsyXSk7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIHNxdWFyZSBvZiB0aGUgbGVuZ3RoIG9mIHZlY3RvclxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSB2IHZlY3Rvci5cbiAqIEByZXR1cm4ge251bWJlcn0gc3F1YXJlIG9mIHRoZSBsZW5ndGggb2YgdmVjdG9yLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cbmZ1bmN0aW9uIGxlbmd0aFNxKHYpIHtcbiAgcmV0dXJuIHZbMF0gKiB2WzBdICsgdlsxXSAqIHZbMV0gKyB2WzJdICogdlsyXTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiAyIHBvaW50c1xuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBhIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYiB2ZWN0b3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cbmZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgY29uc3QgZHggPSBhWzBdIC0gYlswXTtcbiAgY29uc3QgZHkgPSBhWzFdIC0gYlsxXTtcbiAgY29uc3QgZHogPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHopO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBzcXVhcmUgb2YgdGhlIGRpc3RhbmNlIGJldHdlZW4gMiBwb2ludHNcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYSB2ZWN0b3IuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IGIgdmVjdG9yLlxuICogQHJldHVybiB7bnVtYmVyfSBzcXVhcmUgb2YgdGhlIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cbmZ1bmN0aW9uIGRpc3RhbmNlU3EoYSwgYikge1xuICBjb25zdCBkeCA9IGFbMF0gLSBiWzBdO1xuICBjb25zdCBkeSA9IGFbMV0gLSBiWzFdO1xuICBjb25zdCBkeiA9IGFbMl0gLSBiWzJdO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6O1xufVxuXG4vKipcbiAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgaXRzIEV1Y2xpZGVhbiBsZW5ndGggYW5kIHJldHVybnMgdGhlIHF1b3RpZW50LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBhIFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFtkc3RdIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFRoZSBub3JtYWxpemVkIHZlY3Rvci5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC92M1xuICovXG5mdW5jdGlvbiBub3JtYWxpemUoYSwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSgzKTtcblxuICBjb25zdCBsZW5TcSA9IGFbMF0gKiBhWzBdICsgYVsxXSAqIGFbMV0gKyBhWzJdICogYVsyXTtcbiAgY29uc3QgbGVuID0gTWF0aC5zcXJ0KGxlblNxKTtcbiAgaWYgKGxlbiA+IDAuMDAwMDEpIHtcbiAgICBkc3RbMF0gPSBhWzBdIC8gbGVuO1xuICAgIGRzdFsxXSA9IGFbMV0gLyBsZW47XG4gICAgZHN0WzJdID0gYVsyXSAvIGxlbjtcbiAgfSBlbHNlIHtcbiAgICBkc3RbMF0gPSAwO1xuICAgIGRzdFsxXSA9IDA7XG4gICAgZHN0WzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogTmVnYXRlcyBhIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gdiBUaGUgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBbZHN0XSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC92My5WZWMzfSAtdi5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC92M1xuICovXG5mdW5jdGlvbiBuZWdhdGUodiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSgzKTtcblxuICBkc3RbMF0gPSAtdlswXTtcbiAgZHN0WzFdID0gLXZbMV07XG4gIGRzdFsyXSA9IC12WzJdO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQ29waWVzIGEgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSB2IFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFtkc3RdIHZlY3RvciB0byBob2xkIHJlc3VsdC4gSWYgbm90IG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL3YzLlZlYzN9IEEgY29weSBvZiB2LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cbmZ1bmN0aW9uIGNvcHkodiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgVmVjVHlwZSgzKTtcblxuICBkc3RbMF0gPSB2WzBdO1xuICBkc3RbMV0gPSB2WzFdO1xuICBkc3RbMl0gPSB2WzJdO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogTXVsdGlwbGllcyBhIHZlY3RvciBieSBhbm90aGVyIHZlY3RvciAoY29tcG9uZW50LXdpc2UpOyBhc3N1bWVzIGEgYW5kXG4gKiBiIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBhIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBiIE9wZXJhbmQgdmVjdG9yLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBbZHN0XSB2ZWN0b3IgdG8gaG9sZCByZXN1bHQuIElmIG5vdCBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC92My5WZWMzfSBUaGUgdmVjdG9yIG9mIHByb2R1Y3RzIG9mIGVudHJpZXMgb2YgYSBhbmRcbiAqICAgICBiLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3YzXG4gKi9cbmZ1bmN0aW9uIG11bHRpcGx5KGEsIGIsIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUoMyk7XG5cbiAgZHN0WzBdID0gYVswXSAqIGJbMF07XG4gIGRzdFsxXSA9IGFbMV0gKiBiWzFdO1xuICBkc3RbMl0gPSBhWzJdICogYlsyXTtcblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgYW5vdGhlciB2ZWN0b3IgKGNvbXBvbmVudC13aXNlKTsgYXNzdW1lcyBhIGFuZFxuICogYiBoYXZlIHRoZSBzYW1lIGxlbmd0aC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYSBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYiBPcGVyYW5kIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gW2RzdF0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gVGhlIHZlY3RvciBvZiBxdW90aWVudHMgb2YgZW50cmllcyBvZiBhIGFuZFxuICogICAgIGIuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdjNcbiAqL1xuZnVuY3Rpb24gZGl2aWRlKGEsIGIsIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IFZlY1R5cGUoMyk7XG5cbiAgZHN0WzBdID0gYVswXSAvIGJbMF07XG4gIGRzdFsxXSA9IGFbMV0gLyBiWzFdO1xuICBkc3RbMl0gPSBhWzJdIC8gYlsyXTtcblxuICByZXR1cm4gZHN0O1xufVxuXG52YXIgdjMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYWRkOiBhZGQsXG4gIGNvcHk6IGNvcHksXG4gIGNyZWF0ZTogY3JlYXRlLFxuICBjcm9zczogY3Jvc3MsXG4gIGRpc3RhbmNlOiBkaXN0YW5jZSxcbiAgZGlzdGFuY2VTcTogZGlzdGFuY2VTcSxcbiAgZGl2aWRlOiBkaXZpZGUsXG4gIGRpdlNjYWxhcjogZGl2U2NhbGFyLFxuICBkb3Q6IGRvdCxcbiAgbGVycDogbGVycCxcbiAgbGVycFY6IGxlcnBWLFxuICBsZW5ndGg6IGxlbmd0aCQxLFxuICBsZW5ndGhTcTogbGVuZ3RoU3EsXG4gIG1heDogbWF4LFxuICBtaW46IG1pbixcbiAgbXVsU2NhbGFyOiBtdWxTY2FsYXIsXG4gIG11bHRpcGx5OiBtdWx0aXBseSxcbiAgbmVnYXRlOiBuZWdhdGUsXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplLFxuICBzZXREZWZhdWx0VHlwZTogc2V0RGVmYXVsdFR5cGUsXG4gIHN1YnRyYWN0OiBzdWJ0cmFjdFxufSk7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuLyoqXG4gKiA0eDQgTWF0cml4IG1hdGggbWF0aCBmdW5jdGlvbnMuXG4gKlxuICogQWxtb3N0IGFsbCBmdW5jdGlvbnMgdGFrZSBhbiBvcHRpb25hbCBgZHN0YCBhcmd1bWVudC4gSWYgaXQgaXMgbm90IHBhc3NlZCBpbiB0aGVcbiAqIGZ1bmN0aW9ucyB3aWxsIGNyZWF0ZSBhIG5ldyBtYXRyaXguIEluIG90aGVyIHdvcmRzIHlvdSBjYW4gZG8gdGhpc1xuICpcbiAqICAgICBjb25zdCBtYXQgPSBtNC50cmFuc2xhdGlvbihbMSwgMiwgM10pOyAgLy8gQ3JlYXRlcyBhIG5ldyB0cmFuc2xhdGlvbiBtYXRyaXhcbiAqXG4gKiBvclxuICpcbiAqICAgICBjb25zdCBtYXQgPSBtNC5jcmVhdGUoKTtcbiAqICAgICBtNC50cmFuc2xhdGlvbihbMSwgMiwgM10sIG1hdCk7ICAvLyBQdXRzIHRyYW5zbGF0aW9uIG1hdHJpeCBpbiBtYXQuXG4gKlxuICogVGhlIGZpcnN0IHN0eWxlIGlzIG9mdGVuIGVhc2llciBidXQgZGVwZW5kaW5nIG9uIHdoZXJlIGl0J3MgdXNlZCBpdCBnZW5lcmF0ZXMgZ2FyYmFnZSB3aGVyZVxuICogYXMgdGhlcmUgaXMgYWxtb3N0IG5ldmVyIGFsbG9jYXRpb24gd2l0aCB0aGUgc2Vjb25kIHN0eWxlLlxuICpcbiAqIEl0IGlzIGFsd2F5cyBzYXZlIHRvIHBhc3MgYW55IG1hdHJpeCBhcyB0aGUgZGVzdGluYXRpb24uIFNvIGZvciBleGFtcGxlXG4gKlxuICogICAgIGNvbnN0IG1hdCA9IG00LmlkZW50aXR5KCk7XG4gKiAgICAgY29uc3QgdHJhbnMgPSBtNC50cmFuc2xhdGlvbihbMSwgMiwgM10pO1xuICogICAgIG00Lm11bHRpcGx5KG1hdCwgdHJhbnMsIG1hdCk7ICAvLyBNdWx0aXBsaWVzIG1hdCAqIHRyYW5zIGFuZCBwdXRzIHJlc3VsdCBpbiBtYXQuXG4gKlxuICogQG1vZHVsZSB0d2dsL200XG4gKi9cbmxldCBNYXRUeXBlID0gRmxvYXQzMkFycmF5O1xuXG4vKipcbiAqIEEgSmF2YVNjcmlwdCBhcnJheSB3aXRoIDE2IHZhbHVlcyBvciBhIEZsb2F0MzJBcnJheSB3aXRoIDE2IHZhbHVlcy5cbiAqIFdoZW4gY3JlYXRlZCBieSB0aGUgbGlicmFyeSB3aWxsIGNyZWF0ZSB0aGUgZGVmYXVsdCB0eXBlIHdoaWNoIGlzIGBGbG9hdDMyQXJyYXlgXG4gKiBidXQgY2FuIGJlIHNldCBieSBjYWxsaW5nIHtAbGluayBtb2R1bGU6dHdnbC9tNC5zZXREZWZhdWx0VHlwZX0uXG4gKiBAdHlwZWRlZiB7KG51bWJlcltdfEZsb2F0MzJBcnJheSl9IE1hdDRcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5cbi8qKlxuICogU2V0cyB0aGUgdHlwZSB0aGlzIGxpYnJhcnkgY3JlYXRlcyBmb3IgYSBNYXQ0XG4gKiBAcGFyYW0ge2NvbnN0cnVjdG9yfSBjdG9yIHRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIHR5cGUuIEVpdGhlciBgRmxvYXQzMkFycmF5YCBvciBgQXJyYXlgXG4gKiBAcmV0dXJuIHtjb25zdHJ1Y3Rvcn0gcHJldmlvdXMgY29uc3RydWN0b3IgZm9yIE1hdDRcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiBzZXREZWZhdWx0VHlwZSQxKGN0b3IpIHtcbiAgY29uc3Qgb2xkVHlwZSA9IE1hdFR5cGU7XG4gIE1hdFR5cGUgPSBjdG9yO1xuICByZXR1cm4gb2xkVHlwZTtcbn1cblxuLyoqXG4gKiBOZWdhdGVzIGEgbWF0cml4LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IC1tLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL200XG4gKi9cbmZ1bmN0aW9uIG5lZ2F0ZSQxKG0sIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuXG4gIGRzdFsgMF0gPSAtbVsgMF07XG4gIGRzdFsgMV0gPSAtbVsgMV07XG4gIGRzdFsgMl0gPSAtbVsgMl07XG4gIGRzdFsgM10gPSAtbVsgM107XG4gIGRzdFsgNF0gPSAtbVsgNF07XG4gIGRzdFsgNV0gPSAtbVsgNV07XG4gIGRzdFsgNl0gPSAtbVsgNl07XG4gIGRzdFsgN10gPSAtbVsgN107XG4gIGRzdFsgOF0gPSAtbVsgOF07XG4gIGRzdFsgOV0gPSAtbVsgOV07XG4gIGRzdFsxMF0gPSAtbVsxMF07XG4gIGRzdFsxMV0gPSAtbVsxMV07XG4gIGRzdFsxMl0gPSAtbVsxMl07XG4gIGRzdFsxM10gPSAtbVsxM107XG4gIGRzdFsxNF0gPSAtbVsxNF07XG4gIGRzdFsxNV0gPSAtbVsxNV07XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBDb3BpZXMgYSBtYXRyaXguXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IG0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gW2RzdF0gVGhlIG1hdHJpeC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IEEgY29weSBvZiBtLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL200XG4gKi9cbmZ1bmN0aW9uIGNvcHkkMShtLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcblxuICBkc3RbIDBdID0gbVsgMF07XG4gIGRzdFsgMV0gPSBtWyAxXTtcbiAgZHN0WyAyXSA9IG1bIDJdO1xuICBkc3RbIDNdID0gbVsgM107XG4gIGRzdFsgNF0gPSBtWyA0XTtcbiAgZHN0WyA1XSA9IG1bIDVdO1xuICBkc3RbIDZdID0gbVsgNl07XG4gIGRzdFsgN10gPSBtWyA3XTtcbiAgZHN0WyA4XSA9IG1bIDhdO1xuICBkc3RbIDldID0gbVsgOV07XG4gIGRzdFsxMF0gPSBtWzEwXTtcbiAgZHN0WzExXSA9IG1bMTFdO1xuICBkc3RbMTJdID0gbVsxMl07XG4gIGRzdFsxM10gPSBtWzEzXTtcbiAgZHN0WzE0XSA9IG1bMTRdO1xuICBkc3RbMTVdID0gbVsxNV07XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIG4tYnktbiBpZGVudGl0eSBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBbZHN0XSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBBbiBuLWJ5LW4gaWRlbnRpdHkgbWF0cml4LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL200XG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuXG4gIGRzdFsgMF0gPSAxO1xuICBkc3RbIDFdID0gMDtcbiAgZHN0WyAyXSA9IDA7XG4gIGRzdFsgM10gPSAwO1xuICBkc3RbIDRdID0gMDtcbiAgZHN0WyA1XSA9IDE7XG4gIGRzdFsgNl0gPSAwO1xuICBkc3RbIDddID0gMDtcbiAgZHN0WyA4XSA9IDA7XG4gIGRzdFsgOV0gPSAwO1xuICBkc3RbMTBdID0gMTtcbiAgZHN0WzExXSA9IDA7XG4gIGRzdFsxMl0gPSAwO1xuICBkc3RbMTNdID0gMDtcbiAgZHN0WzE0XSA9IDA7XG4gIGRzdFsxNV0gPSAxO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogVGFrZXMgdGhlIHRyYW5zcG9zZSBvZiBhIG1hdHJpeC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gbSBUaGUgbWF0cml4LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBbZHN0XSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBUaGUgdHJhbnNwb3NlIG9mIG0uXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuIGZ1bmN0aW9uIHRyYW5zcG9zZShtLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcbiAgaWYgKGRzdCA9PT0gbSkge1xuICAgIGxldCB0O1xuXG4gICAgdCA9IG1bMV07XG4gICAgbVsxXSA9IG1bNF07XG4gICAgbVs0XSA9IHQ7XG5cbiAgICB0ID0gbVsyXTtcbiAgICBtWzJdID0gbVs4XTtcbiAgICBtWzhdID0gdDtcblxuICAgIHQgPSBtWzNdO1xuICAgIG1bM10gPSBtWzEyXTtcbiAgICBtWzEyXSA9IHQ7XG5cbiAgICB0ID0gbVs2XTtcbiAgICBtWzZdID0gbVs5XTtcbiAgICBtWzldID0gdDtcblxuICAgIHQgPSBtWzddO1xuICAgIG1bN10gPSBtWzEzXTtcbiAgICBtWzEzXSA9IHQ7XG5cbiAgICB0ID0gbVsxMV07XG4gICAgbVsxMV0gPSBtWzE0XTtcbiAgICBtWzE0XSA9IHQ7XG4gICAgcmV0dXJuIGRzdDtcbiAgfVxuXG4gIGNvbnN0IG0wMCA9IG1bMCAqIDQgKyAwXTtcbiAgY29uc3QgbTAxID0gbVswICogNCArIDFdO1xuICBjb25zdCBtMDIgPSBtWzAgKiA0ICsgMl07XG4gIGNvbnN0IG0wMyA9IG1bMCAqIDQgKyAzXTtcbiAgY29uc3QgbTEwID0gbVsxICogNCArIDBdO1xuICBjb25zdCBtMTEgPSBtWzEgKiA0ICsgMV07XG4gIGNvbnN0IG0xMiA9IG1bMSAqIDQgKyAyXTtcbiAgY29uc3QgbTEzID0gbVsxICogNCArIDNdO1xuICBjb25zdCBtMjAgPSBtWzIgKiA0ICsgMF07XG4gIGNvbnN0IG0yMSA9IG1bMiAqIDQgKyAxXTtcbiAgY29uc3QgbTIyID0gbVsyICogNCArIDJdO1xuICBjb25zdCBtMjMgPSBtWzIgKiA0ICsgM107XG4gIGNvbnN0IG0zMCA9IG1bMyAqIDQgKyAwXTtcbiAgY29uc3QgbTMxID0gbVszICogNCArIDFdO1xuICBjb25zdCBtMzIgPSBtWzMgKiA0ICsgMl07XG4gIGNvbnN0IG0zMyA9IG1bMyAqIDQgKyAzXTtcblxuICBkc3RbIDBdID0gbTAwO1xuICBkc3RbIDFdID0gbTEwO1xuICBkc3RbIDJdID0gbTIwO1xuICBkc3RbIDNdID0gbTMwO1xuICBkc3RbIDRdID0gbTAxO1xuICBkc3RbIDVdID0gbTExO1xuICBkc3RbIDZdID0gbTIxO1xuICBkc3RbIDddID0gbTMxO1xuICBkc3RbIDhdID0gbTAyO1xuICBkc3RbIDldID0gbTEyO1xuICBkc3RbMTBdID0gbTIyO1xuICBkc3RbMTFdID0gbTMyO1xuICBkc3RbMTJdID0gbTAzO1xuICBkc3RbMTNdID0gbTEzO1xuICBkc3RbMTRdID0gbTIzO1xuICBkc3RbMTVdID0gbTMzO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGludmVyc2Ugb2YgYSA0LWJ5LTQgbWF0cml4LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSBpbnZlcnNlIG9mIG0uXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuZnVuY3Rpb24gaW52ZXJzZShtLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcblxuICBjb25zdCBtMDAgPSBtWzAgKiA0ICsgMF07XG4gIGNvbnN0IG0wMSA9IG1bMCAqIDQgKyAxXTtcbiAgY29uc3QgbTAyID0gbVswICogNCArIDJdO1xuICBjb25zdCBtMDMgPSBtWzAgKiA0ICsgM107XG4gIGNvbnN0IG0xMCA9IG1bMSAqIDQgKyAwXTtcbiAgY29uc3QgbTExID0gbVsxICogNCArIDFdO1xuICBjb25zdCBtMTIgPSBtWzEgKiA0ICsgMl07XG4gIGNvbnN0IG0xMyA9IG1bMSAqIDQgKyAzXTtcbiAgY29uc3QgbTIwID0gbVsyICogNCArIDBdO1xuICBjb25zdCBtMjEgPSBtWzIgKiA0ICsgMV07XG4gIGNvbnN0IG0yMiA9IG1bMiAqIDQgKyAyXTtcbiAgY29uc3QgbTIzID0gbVsyICogNCArIDNdO1xuICBjb25zdCBtMzAgPSBtWzMgKiA0ICsgMF07XG4gIGNvbnN0IG0zMSA9IG1bMyAqIDQgKyAxXTtcbiAgY29uc3QgbTMyID0gbVszICogNCArIDJdO1xuICBjb25zdCBtMzMgPSBtWzMgKiA0ICsgM107XG4gIGNvbnN0IHRtcF8wICA9IG0yMiAqIG0zMztcbiAgY29uc3QgdG1wXzEgID0gbTMyICogbTIzO1xuICBjb25zdCB0bXBfMiAgPSBtMTIgKiBtMzM7XG4gIGNvbnN0IHRtcF8zICA9IG0zMiAqIG0xMztcbiAgY29uc3QgdG1wXzQgID0gbTEyICogbTIzO1xuICBjb25zdCB0bXBfNSAgPSBtMjIgKiBtMTM7XG4gIGNvbnN0IHRtcF82ICA9IG0wMiAqIG0zMztcbiAgY29uc3QgdG1wXzcgID0gbTMyICogbTAzO1xuICBjb25zdCB0bXBfOCAgPSBtMDIgKiBtMjM7XG4gIGNvbnN0IHRtcF85ICA9IG0yMiAqIG0wMztcbiAgY29uc3QgdG1wXzEwID0gbTAyICogbTEzO1xuICBjb25zdCB0bXBfMTEgPSBtMTIgKiBtMDM7XG4gIGNvbnN0IHRtcF8xMiA9IG0yMCAqIG0zMTtcbiAgY29uc3QgdG1wXzEzID0gbTMwICogbTIxO1xuICBjb25zdCB0bXBfMTQgPSBtMTAgKiBtMzE7XG4gIGNvbnN0IHRtcF8xNSA9IG0zMCAqIG0xMTtcbiAgY29uc3QgdG1wXzE2ID0gbTEwICogbTIxO1xuICBjb25zdCB0bXBfMTcgPSBtMjAgKiBtMTE7XG4gIGNvbnN0IHRtcF8xOCA9IG0wMCAqIG0zMTtcbiAgY29uc3QgdG1wXzE5ID0gbTMwICogbTAxO1xuICBjb25zdCB0bXBfMjAgPSBtMDAgKiBtMjE7XG4gIGNvbnN0IHRtcF8yMSA9IG0yMCAqIG0wMTtcbiAgY29uc3QgdG1wXzIyID0gbTAwICogbTExO1xuICBjb25zdCB0bXBfMjMgPSBtMTAgKiBtMDE7XG5cbiAgY29uc3QgdDAgPSAodG1wXzAgKiBtMTEgKyB0bXBfMyAqIG0yMSArIHRtcF80ICogbTMxKSAtXG4gICAgICAodG1wXzEgKiBtMTEgKyB0bXBfMiAqIG0yMSArIHRtcF81ICogbTMxKTtcbiAgY29uc3QgdDEgPSAodG1wXzEgKiBtMDEgKyB0bXBfNiAqIG0yMSArIHRtcF85ICogbTMxKSAtXG4gICAgICAodG1wXzAgKiBtMDEgKyB0bXBfNyAqIG0yMSArIHRtcF84ICogbTMxKTtcbiAgY29uc3QgdDIgPSAodG1wXzIgKiBtMDEgKyB0bXBfNyAqIG0xMSArIHRtcF8xMCAqIG0zMSkgLVxuICAgICAgKHRtcF8zICogbTAxICsgdG1wXzYgKiBtMTEgKyB0bXBfMTEgKiBtMzEpO1xuICBjb25zdCB0MyA9ICh0bXBfNSAqIG0wMSArIHRtcF84ICogbTExICsgdG1wXzExICogbTIxKSAtXG4gICAgICAodG1wXzQgKiBtMDEgKyB0bXBfOSAqIG0xMSArIHRtcF8xMCAqIG0yMSk7XG5cbiAgY29uc3QgZCA9IDEuMCAvIChtMDAgKiB0MCArIG0xMCAqIHQxICsgbTIwICogdDIgKyBtMzAgKiB0Myk7XG5cbiAgZHN0WyAwXSA9IGQgKiB0MDtcbiAgZHN0WyAxXSA9IGQgKiB0MTtcbiAgZHN0WyAyXSA9IGQgKiB0MjtcbiAgZHN0WyAzXSA9IGQgKiB0MztcbiAgZHN0WyA0XSA9IGQgKiAoKHRtcF8xICogbTEwICsgdG1wXzIgKiBtMjAgKyB0bXBfNSAqIG0zMCkgLVxuICAgICAgICAgICh0bXBfMCAqIG0xMCArIHRtcF8zICogbTIwICsgdG1wXzQgKiBtMzApKTtcbiAgZHN0WyA1XSA9IGQgKiAoKHRtcF8wICogbTAwICsgdG1wXzcgKiBtMjAgKyB0bXBfOCAqIG0zMCkgLVxuICAgICAgICAgICh0bXBfMSAqIG0wMCArIHRtcF82ICogbTIwICsgdG1wXzkgKiBtMzApKTtcbiAgZHN0WyA2XSA9IGQgKiAoKHRtcF8zICogbTAwICsgdG1wXzYgKiBtMTAgKyB0bXBfMTEgKiBtMzApIC1cbiAgICAgICAgICAodG1wXzIgKiBtMDAgKyB0bXBfNyAqIG0xMCArIHRtcF8xMCAqIG0zMCkpO1xuICBkc3RbIDddID0gZCAqICgodG1wXzQgKiBtMDAgKyB0bXBfOSAqIG0xMCArIHRtcF8xMCAqIG0yMCkgLVxuICAgICAgICAgICh0bXBfNSAqIG0wMCArIHRtcF84ICogbTEwICsgdG1wXzExICogbTIwKSk7XG4gIGRzdFsgOF0gPSBkICogKCh0bXBfMTIgKiBtMTMgKyB0bXBfMTUgKiBtMjMgKyB0bXBfMTYgKiBtMzMpIC1cbiAgICAgICAgICAodG1wXzEzICogbTEzICsgdG1wXzE0ICogbTIzICsgdG1wXzE3ICogbTMzKSk7XG4gIGRzdFsgOV0gPSBkICogKCh0bXBfMTMgKiBtMDMgKyB0bXBfMTggKiBtMjMgKyB0bXBfMjEgKiBtMzMpIC1cbiAgICAgICAgICAodG1wXzEyICogbTAzICsgdG1wXzE5ICogbTIzICsgdG1wXzIwICogbTMzKSk7XG4gIGRzdFsxMF0gPSBkICogKCh0bXBfMTQgKiBtMDMgKyB0bXBfMTkgKiBtMTMgKyB0bXBfMjIgKiBtMzMpIC1cbiAgICAgICAgICAodG1wXzE1ICogbTAzICsgdG1wXzE4ICogbTEzICsgdG1wXzIzICogbTMzKSk7XG4gIGRzdFsxMV0gPSBkICogKCh0bXBfMTcgKiBtMDMgKyB0bXBfMjAgKiBtMTMgKyB0bXBfMjMgKiBtMjMpIC1cbiAgICAgICAgICAodG1wXzE2ICogbTAzICsgdG1wXzIxICogbTEzICsgdG1wXzIyICogbTIzKSk7XG4gIGRzdFsxMl0gPSBkICogKCh0bXBfMTQgKiBtMjIgKyB0bXBfMTcgKiBtMzIgKyB0bXBfMTMgKiBtMTIpIC1cbiAgICAgICAgICAodG1wXzE2ICogbTMyICsgdG1wXzEyICogbTEyICsgdG1wXzE1ICogbTIyKSk7XG4gIGRzdFsxM10gPSBkICogKCh0bXBfMjAgKiBtMzIgKyB0bXBfMTIgKiBtMDIgKyB0bXBfMTkgKiBtMjIpIC1cbiAgICAgICAgICAodG1wXzE4ICogbTIyICsgdG1wXzIxICogbTMyICsgdG1wXzEzICogbTAyKSk7XG4gIGRzdFsxNF0gPSBkICogKCh0bXBfMTggKiBtMTIgKyB0bXBfMjMgKiBtMzIgKyB0bXBfMTUgKiBtMDIpIC1cbiAgICAgICAgICAodG1wXzIyICogbTMyICsgdG1wXzE0ICogbTAyICsgdG1wXzE5ICogbTEyKSk7XG4gIGRzdFsxNV0gPSBkICogKCh0bXBfMjIgKiBtMjIgKyB0bXBfMTYgKiBtMDIgKyB0bXBfMjEgKiBtMTIpIC1cbiAgICAgICAgICAodG1wXzIwICogbTEyICsgdG1wXzIzICogbTIyICsgdG1wXzE3ICogbTAyKSk7XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byA0LWJ5LTQgbWF0cmljZXMgd2l0aCBhIG9uIHRoZSBsZWZ0IGFuZCBiIG9uIHRoZSByaWdodFxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBhIFRoZSBtYXRyaXggb24gdGhlIGxlZnQuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IGIgVGhlIG1hdHJpeCBvbiB0aGUgcmlnaHQuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSBtYXRyaXggcHJvZHVjdCBvZiBhIGFuZCBiLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL200XG4gKi9cbmZ1bmN0aW9uIG11bHRpcGx5JDEoYSwgYiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG5cbiAgY29uc3QgYTAwID0gYVswXTtcbiAgY29uc3QgYTAxID0gYVsxXTtcbiAgY29uc3QgYTAyID0gYVsyXTtcbiAgY29uc3QgYTAzID0gYVszXTtcbiAgY29uc3QgYTEwID0gYVsgNCArIDBdO1xuICBjb25zdCBhMTEgPSBhWyA0ICsgMV07XG4gIGNvbnN0IGExMiA9IGFbIDQgKyAyXTtcbiAgY29uc3QgYTEzID0gYVsgNCArIDNdO1xuICBjb25zdCBhMjAgPSBhWyA4ICsgMF07XG4gIGNvbnN0IGEyMSA9IGFbIDggKyAxXTtcbiAgY29uc3QgYTIyID0gYVsgOCArIDJdO1xuICBjb25zdCBhMjMgPSBhWyA4ICsgM107XG4gIGNvbnN0IGEzMCA9IGFbMTIgKyAwXTtcbiAgY29uc3QgYTMxID0gYVsxMiArIDFdO1xuICBjb25zdCBhMzIgPSBhWzEyICsgMl07XG4gIGNvbnN0IGEzMyA9IGFbMTIgKyAzXTtcbiAgY29uc3QgYjAwID0gYlswXTtcbiAgY29uc3QgYjAxID0gYlsxXTtcbiAgY29uc3QgYjAyID0gYlsyXTtcbiAgY29uc3QgYjAzID0gYlszXTtcbiAgY29uc3QgYjEwID0gYlsgNCArIDBdO1xuICBjb25zdCBiMTEgPSBiWyA0ICsgMV07XG4gIGNvbnN0IGIxMiA9IGJbIDQgKyAyXTtcbiAgY29uc3QgYjEzID0gYlsgNCArIDNdO1xuICBjb25zdCBiMjAgPSBiWyA4ICsgMF07XG4gIGNvbnN0IGIyMSA9IGJbIDggKyAxXTtcbiAgY29uc3QgYjIyID0gYlsgOCArIDJdO1xuICBjb25zdCBiMjMgPSBiWyA4ICsgM107XG4gIGNvbnN0IGIzMCA9IGJbMTIgKyAwXTtcbiAgY29uc3QgYjMxID0gYlsxMiArIDFdO1xuICBjb25zdCBiMzIgPSBiWzEyICsgMl07XG4gIGNvbnN0IGIzMyA9IGJbMTIgKyAzXTtcblxuICBkc3RbIDBdID0gYTAwICogYjAwICsgYTEwICogYjAxICsgYTIwICogYjAyICsgYTMwICogYjAzO1xuICBkc3RbIDFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyICsgYTMxICogYjAzO1xuICBkc3RbIDJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyICsgYTMyICogYjAzO1xuICBkc3RbIDNdID0gYTAzICogYjAwICsgYTEzICogYjAxICsgYTIzICogYjAyICsgYTMzICogYjAzO1xuICBkc3RbIDRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyICsgYTMwICogYjEzO1xuICBkc3RbIDVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyICsgYTMxICogYjEzO1xuICBkc3RbIDZdID0gYTAyICogYjEwICsgYTEyICogYjExICsgYTIyICogYjEyICsgYTMyICogYjEzO1xuICBkc3RbIDddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyICsgYTMzICogYjEzO1xuICBkc3RbIDhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyICsgYTMwICogYjIzO1xuICBkc3RbIDldID0gYTAxICogYjIwICsgYTExICogYjIxICsgYTIxICogYjIyICsgYTMxICogYjIzO1xuICBkc3RbMTBdID0gYTAyICogYjIwICsgYTEyICogYjIxICsgYTIyICogYjIyICsgYTMyICogYjIzO1xuICBkc3RbMTFdID0gYTAzICogYjIwICsgYTEzICogYjIxICsgYTIzICogYjIyICsgYTMzICogYjIzO1xuICBkc3RbMTJdID0gYTAwICogYjMwICsgYTEwICogYjMxICsgYTIwICogYjMyICsgYTMwICogYjMzO1xuICBkc3RbMTNdID0gYTAxICogYjMwICsgYTExICogYjMxICsgYTIxICogYjMyICsgYTMxICogYjMzO1xuICBkc3RbMTRdID0gYTAyICogYjMwICsgYTEyICogYjMxICsgYTIyICogYjMyICsgYTMyICogYjMzO1xuICBkc3RbMTVdID0gYTAzICogYjMwICsgYTEzICogYjMxICsgYTIzICogYjMyICsgYTMzICogYjMzO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgdHJhbnNsYXRpb24gY29tcG9uZW50IG9mIGEgNC1ieS00IG1hdHJpeCB0byB0aGUgZ2l2ZW5cbiAqIHZlY3Rvci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gYSBUaGUgbWF0cml4LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSB2IFRoZSB2ZWN0b3IuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSBtYXRyaXggd2l0aCB0cmFuc2xhdGlvbiBzZXQuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuZnVuY3Rpb24gc2V0VHJhbnNsYXRpb24oYSwgdiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBpZGVudGl0eSgpO1xuICBpZiAoYSAhPT0gZHN0KSB7XG4gICAgZHN0WyAwXSA9IGFbIDBdO1xuICAgIGRzdFsgMV0gPSBhWyAxXTtcbiAgICBkc3RbIDJdID0gYVsgMl07XG4gICAgZHN0WyAzXSA9IGFbIDNdO1xuICAgIGRzdFsgNF0gPSBhWyA0XTtcbiAgICBkc3RbIDVdID0gYVsgNV07XG4gICAgZHN0WyA2XSA9IGFbIDZdO1xuICAgIGRzdFsgN10gPSBhWyA3XTtcbiAgICBkc3RbIDhdID0gYVsgOF07XG4gICAgZHN0WyA5XSA9IGFbIDldO1xuICAgIGRzdFsxMF0gPSBhWzEwXTtcbiAgICBkc3RbMTFdID0gYVsxMV07XG4gIH1cbiAgZHN0WzEyXSA9IHZbMF07XG4gIGRzdFsxM10gPSB2WzFdO1xuICBkc3RbMTRdID0gdlsyXTtcbiAgZHN0WzE1XSA9IDE7XG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb24gY29tcG9uZW50IG9mIGEgNC1ieS00IG1hdHJpeCBhcyBhIHZlY3RvciB3aXRoIDNcbiAqIGVudHJpZXMuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IG0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gW2RzdF0gdmVjdG9yIHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gVGhlIHRyYW5zbGF0aW9uIGNvbXBvbmVudCBvZiBtLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL200XG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG0sIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgY3JlYXRlKCk7XG4gIGRzdFswXSA9IG1bMTJdO1xuICBkc3RbMV0gPSBtWzEzXTtcbiAgZHN0WzJdID0gbVsxNF07XG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBheGlzIG9mIGEgNHg0IG1hdHJpeCBhcyBhIHZlY3RvciB3aXRoIDMgZW50cmllc1xuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0ge251bWJlcn0gYXhpcyBUaGUgYXhpcyAwID0geCwgMSA9IHksIDIgPSB6O1xuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gW2RzdF0gdmVjdG9yLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gVGhlIGF4aXMgY29tcG9uZW50IG9mIG0uXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuZnVuY3Rpb24gZ2V0QXhpcyhtLCBheGlzLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IGNyZWF0ZSgpO1xuICBjb25zdCBvZmYgPSBheGlzICogNDtcbiAgZHN0WzBdID0gbVtvZmYgKyAwXTtcbiAgZHN0WzFdID0gbVtvZmYgKyAxXTtcbiAgZHN0WzJdID0gbVtvZmYgKyAyXTtcbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBTZXRzIGFuIGF4aXMgb2YgYSA0eDQgbWF0cml4IGFzIGEgdmVjdG9yIHdpdGggMyBlbnRyaWVzXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IG0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gdiB0aGUgYXhpcyB2ZWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBheGlzIFRoZSBheGlzICAwID0geCwgMSA9IHksIDIgPSB6O1xuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBbZHN0XSBUaGUgbWF0cml4IHRvIHNldC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSBtYXRyaXggd2l0aCBheGlzIHNldC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiBzZXRBeGlzKGEsIHYsIGF4aXMsIGRzdCkge1xuICBpZiAoZHN0ICE9PSBhKSB7XG4gICAgZHN0ID0gY29weSQxKGEsIGRzdCk7XG4gIH1cbiAgY29uc3Qgb2ZmID0gYXhpcyAqIDQ7XG4gIGRzdFtvZmYgKyAwXSA9IHZbMF07XG4gIGRzdFtvZmYgKyAxXSA9IHZbMV07XG4gIGRzdFtvZmYgKyAyXSA9IHZbMl07XG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgYSA0LWJ5LTQgcGVyc3BlY3RpdmUgdHJhbnNmb3JtYXRpb24gbWF0cml4IGdpdmVuIHRoZSBhbmd1bGFyIGhlaWdodFxuICogb2YgdGhlIGZydXN0dW0sIHRoZSBhc3BlY3QgcmF0aW8sIGFuZCB0aGUgbmVhciBhbmQgZmFyIGNsaXBwaW5nIHBsYW5lcy4gIFRoZVxuICogYXJndW1lbnRzIGRlZmluZSBhIGZydXN0dW0gZXh0ZW5kaW5nIGluIHRoZSBuZWdhdGl2ZSB6IGRpcmVjdGlvbi4gIFRoZSBnaXZlblxuICogYW5nbGUgaXMgdGhlIHZlcnRpY2FsIGFuZ2xlIG9mIHRoZSBmcnVzdHVtLCBhbmQgdGhlIGhvcml6b250YWwgYW5nbGUgaXNcbiAqIGRldGVybWluZWQgdG8gcHJvZHVjZSB0aGUgZ2l2ZW4gYXNwZWN0IHJhdGlvLiAgVGhlIGFyZ3VtZW50cyBuZWFyIGFuZCBmYXIgYXJlXG4gKiB0aGUgZGlzdGFuY2VzIHRvIHRoZSBuZWFyIGFuZCBmYXIgY2xpcHBpbmcgcGxhbmVzLiAgTm90ZSB0aGF0IG5lYXIgYW5kIGZhclxuICogYXJlIG5vdCB6IGNvb3JkaW5hdGVzLCBidXQgcmF0aGVyIHRoZXkgYXJlIGRpc3RhbmNlcyBhbG9uZyB0aGUgbmVnYXRpdmVcbiAqIHotYXhpcy4gIFRoZSBtYXRyaXggZ2VuZXJhdGVkIHNlbmRzIHRoZSB2aWV3aW5nIGZydXN0dW0gdG8gdGhlIHVuaXQgYm94LlxuICogV2UgYXNzdW1lIGEgdW5pdCBib3ggZXh0ZW5kaW5nIGZyb20gLTEgdG8gMSBpbiB0aGUgeCBhbmQgeSBkaW1lbnNpb25zIGFuZFxuICogZnJvbSAwIHRvIDEgaW4gdGhlIHogZGltZW5zaW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGZpZWxkT2ZWaWV3WUluUmFkaWFucyBUaGUgY2FtZXJhIGFuZ2xlIGZyb20gdG9wIHRvIGJvdHRvbSAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IFRoZSBhc3BlY3QgcmF0aW8gd2lkdGggLyBoZWlnaHQuXG4gKiBAcGFyYW0ge251bWJlcn0gek5lYXIgVGhlIGRlcHRoIChuZWdhdGl2ZSB6IGNvb3JkaW5hdGUpXG4gKiAgICAgb2YgdGhlIG5lYXIgY2xpcHBpbmcgcGxhbmUuXG4gKiBAcGFyYW0ge251bWJlcn0gekZhciBUaGUgZGVwdGggKG5lZ2F0aXZlIHogY29vcmRpbmF0ZSlcbiAqICAgICBvZiB0aGUgZmFyIGNsaXBwaW5nIHBsYW5lLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBbZHN0XSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBUaGUgcGVyc3BlY3RpdmUgbWF0cml4LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL200XG4gKi9cbmZ1bmN0aW9uIHBlcnNwZWN0aXZlKGZpZWxkT2ZWaWV3WUluUmFkaWFucywgYXNwZWN0LCB6TmVhciwgekZhciwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG5cbiAgY29uc3QgZiA9IE1hdGgudGFuKE1hdGguUEkgKiAwLjUgLSAwLjUgKiBmaWVsZE9mVmlld1lJblJhZGlhbnMpO1xuICBjb25zdCByYW5nZUludiA9IDEuMCAvICh6TmVhciAtIHpGYXIpO1xuXG4gIGRzdFswXSAgPSBmIC8gYXNwZWN0O1xuICBkc3RbMV0gID0gMDtcbiAgZHN0WzJdICA9IDA7XG4gIGRzdFszXSAgPSAwO1xuXG4gIGRzdFs0XSAgPSAwO1xuICBkc3RbNV0gID0gZjtcbiAgZHN0WzZdICA9IDA7XG4gIGRzdFs3XSAgPSAwO1xuXG4gIGRzdFs4XSAgPSAwO1xuICBkc3RbOV0gID0gMDtcbiAgZHN0WzEwXSA9ICh6TmVhciArIHpGYXIpICogcmFuZ2VJbnY7XG4gIGRzdFsxMV0gPSAtMTtcblxuICBkc3RbMTJdID0gMDtcbiAgZHN0WzEzXSA9IDA7XG4gIGRzdFsxNF0gPSB6TmVhciAqIHpGYXIgKiByYW5nZUludiAqIDI7XG4gIGRzdFsxNV0gPSAwO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgYSA0LWJ5LTQgb3J0aG9nb25hbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggZ2l2ZW4gdGhlIGxlZnQsIHJpZ2h0LFxuICogYm90dG9tLCBhbmQgdG9wIGRpbWVuc2lvbnMgb2YgdGhlIG5lYXIgY2xpcHBpbmcgcGxhbmUgYXMgd2VsbCBhcyB0aGVcbiAqIG5lYXIgYW5kIGZhciBjbGlwcGluZyBwbGFuZSBkaXN0YW5jZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IHNpZGUgb2YgdGhlIG5lYXIgY2xpcHBpbmcgcGxhbmUgdmlld3BvcnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgc2lkZSBvZiB0aGUgbmVhciBjbGlwcGluZyBwbGFuZSB2aWV3cG9ydC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIG9mIHRoZSBuZWFyIGNsaXBwaW5nIHBsYW5lIHZpZXdwb3J0LlxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3Agb2YgdGhlIG5lYXIgY2xpcHBpbmcgcGxhbmUgdmlld3BvcnQuXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBUaGUgZGVwdGggKG5lZ2F0aXZlIHogY29vcmRpbmF0ZSlcbiAqICAgICBvZiB0aGUgbmVhciBjbGlwcGluZyBwbGFuZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgVGhlIGRlcHRoIChuZWdhdGl2ZSB6IGNvb3JkaW5hdGUpXG4gKiAgICAgb2YgdGhlIGZhciBjbGlwcGluZyBwbGFuZS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gW2RzdF0gT3V0cHV0IG1hdHJpeC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSBwZXJzcGVjdGl2ZSBtYXRyaXguXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuZnVuY3Rpb24gb3J0aG8obGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIsIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuXG4gIGRzdFswXSAgPSAyIC8gKHJpZ2h0IC0gbGVmdCk7XG4gIGRzdFsxXSAgPSAwO1xuICBkc3RbMl0gID0gMDtcbiAgZHN0WzNdICA9IDA7XG5cbiAgZHN0WzRdICA9IDA7XG4gIGRzdFs1XSAgPSAyIC8gKHRvcCAtIGJvdHRvbSk7XG4gIGRzdFs2XSAgPSAwO1xuICBkc3RbN10gID0gMDtcblxuICBkc3RbOF0gID0gMDtcbiAgZHN0WzldICA9IDA7XG4gIGRzdFsxMF0gPSAyIC8gKG5lYXIgLSBmYXIpO1xuICBkc3RbMTFdID0gMDtcblxuICBkc3RbMTJdID0gKHJpZ2h0ICsgbGVmdCkgLyAobGVmdCAtIHJpZ2h0KTtcbiAgZHN0WzEzXSA9ICh0b3AgKyBib3R0b20pIC8gKGJvdHRvbSAtIHRvcCk7XG4gIGRzdFsxNF0gPSAoZmFyICsgbmVhcikgLyAobmVhciAtIGZhcik7XG4gIGRzdFsxNV0gPSAxO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgYSA0LWJ5LTQgcGVyc3BlY3RpdmUgdHJhbnNmb3JtYXRpb24gbWF0cml4IGdpdmVuIHRoZSBsZWZ0LCByaWdodCxcbiAqIHRvcCwgYm90dG9tLCBuZWFyIGFuZCBmYXIgY2xpcHBpbmcgcGxhbmVzLiBUaGUgYXJndW1lbnRzIGRlZmluZSBhIGZydXN0dW1cbiAqIGV4dGVuZGluZyBpbiB0aGUgbmVnYXRpdmUgeiBkaXJlY3Rpb24uIFRoZSBhcmd1bWVudHMgbmVhciBhbmQgZmFyIGFyZSB0aGVcbiAqIGRpc3RhbmNlcyB0byB0aGUgbmVhciBhbmQgZmFyIGNsaXBwaW5nIHBsYW5lcy4gTm90ZSB0aGF0IG5lYXIgYW5kIGZhciBhcmUgbm90XG4gKiB6IGNvb3JkaW5hdGVzLCBidXQgcmF0aGVyIHRoZXkgYXJlIGRpc3RhbmNlcyBhbG9uZyB0aGUgbmVnYXRpdmUgei1heGlzLiBUaGVcbiAqIG1hdHJpeCBnZW5lcmF0ZWQgc2VuZHMgdGhlIHZpZXdpbmcgZnJ1c3R1bSB0byB0aGUgdW5pdCBib3guIFdlIGFzc3VtZSBhIHVuaXRcbiAqIGJveCBleHRlbmRpbmcgZnJvbSAtMSB0byAxIGluIHRoZSB4IGFuZCB5IGRpbWVuc2lvbnMgYW5kIGZyb20gMCB0byAxIGluIHRoZSB6XG4gKiBkaW1lbnNpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IHBsYW5lIG9mIHRoZSBib3guXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgVGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgcGxhbmUgb2YgdGhlIGJveC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIHBsYW5lIG9mIHRoZSBib3guXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IHBsYW5lIG9mIHRoZSBib3guXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBUaGUgbmVnYXRpdmUgeiBjb29yZGluYXRlIG9mIHRoZSBuZWFyIHBsYW5lIG9mIHRoZSBib3guXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIFRoZSBuZWdhdGl2ZSB6IGNvb3JkaW5hdGUgb2YgdGhlIGZhciBwbGFuZSBvZiB0aGUgYm94LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBbZHN0XSBPdXRwdXQgbWF0cml4LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gVGhlIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL200XG4gKi9cbmZ1bmN0aW9uIGZydXN0dW0obGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIsIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuXG4gIGNvbnN0IGR4ID0gKHJpZ2h0IC0gbGVmdCk7XG4gIGNvbnN0IGR5ID0gKHRvcCAtIGJvdHRvbSk7XG4gIGNvbnN0IGR6ID0gKG5lYXIgLSBmYXIpO1xuXG4gIGRzdFsgMF0gPSAyICogbmVhciAvIGR4O1xuICBkc3RbIDFdID0gMDtcbiAgZHN0WyAyXSA9IDA7XG4gIGRzdFsgM10gPSAwO1xuICBkc3RbIDRdID0gMDtcbiAgZHN0WyA1XSA9IDIgKiBuZWFyIC8gZHk7XG4gIGRzdFsgNl0gPSAwO1xuICBkc3RbIDddID0gMDtcbiAgZHN0WyA4XSA9IChsZWZ0ICsgcmlnaHQpIC8gZHg7XG4gIGRzdFsgOV0gPSAodG9wICsgYm90dG9tKSAvIGR5O1xuICBkc3RbMTBdID0gZmFyIC8gZHo7XG4gIGRzdFsxMV0gPSAtMTtcbiAgZHN0WzEyXSA9IDA7XG4gIGRzdFsxM10gPSAwO1xuICBkc3RbMTRdID0gbmVhciAqIGZhciAvIGR6O1xuICBkc3RbMTVdID0gMDtcblxuICByZXR1cm4gZHN0O1xufVxuXG5sZXQgeEF4aXM7XG5sZXQgeUF4aXM7XG5sZXQgekF4aXM7XG5cbi8qKlxuICogQ29tcHV0ZXMgYSA0LWJ5LTQgbG9vay1hdCB0cmFuc2Zvcm1hdGlvbi5cbiAqXG4gKiBUaGlzIGlzIGEgbWF0cml4IHdoaWNoIHBvc2l0aW9ucyB0aGUgY2FtZXJhIGl0c2VsZi4gSWYgeW91IHdhbnRcbiAqIGEgdmlldyBtYXRyaXggKGEgbWF0cml4IHdoaWNoIG1vdmVzIHRoaW5ncyBpbiBmcm9udCBvZiB0aGUgY2FtZXJhKVxuICogdGFrZSB0aGUgaW52ZXJzZSBvZiB0aGlzLlxuICpcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gZXllIFRoZSBwb3NpdGlvbiBvZiB0aGUgZXllLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSB0YXJnZXQgVGhlIHBvc2l0aW9uIG1lYW50IHRvIGJlIHZpZXdlZC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gdXAgQSB2ZWN0b3IgcG9pbnRpbmcgdXAuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSBsb29rLWF0IG1hdHJpeC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiBsb29rQXQoZXllLCB0YXJnZXQsIHVwLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcblxuICB4QXhpcyA9IHhBeGlzIHx8IGNyZWF0ZSgpO1xuICB5QXhpcyA9IHlBeGlzIHx8IGNyZWF0ZSgpO1xuICB6QXhpcyA9IHpBeGlzIHx8IGNyZWF0ZSgpO1xuXG4gIG5vcm1hbGl6ZShcbiAgICAgIHN1YnRyYWN0KGV5ZSwgdGFyZ2V0LCB6QXhpcyksIHpBeGlzKTtcbiAgbm9ybWFsaXplKGNyb3NzKHVwLCB6QXhpcywgeEF4aXMpLCB4QXhpcyk7XG4gIG5vcm1hbGl6ZShjcm9zcyh6QXhpcywgeEF4aXMsIHlBeGlzKSwgeUF4aXMpO1xuXG4gIGRzdFsgMF0gPSB4QXhpc1swXTtcbiAgZHN0WyAxXSA9IHhBeGlzWzFdO1xuICBkc3RbIDJdID0geEF4aXNbMl07XG4gIGRzdFsgM10gPSAwO1xuICBkc3RbIDRdID0geUF4aXNbMF07XG4gIGRzdFsgNV0gPSB5QXhpc1sxXTtcbiAgZHN0WyA2XSA9IHlBeGlzWzJdO1xuICBkc3RbIDddID0gMDtcbiAgZHN0WyA4XSA9IHpBeGlzWzBdO1xuICBkc3RbIDldID0gekF4aXNbMV07XG4gIGRzdFsxMF0gPSB6QXhpc1syXTtcbiAgZHN0WzExXSA9IDA7XG4gIGRzdFsxMl0gPSBleWVbMF07XG4gIGRzdFsxM10gPSBleWVbMV07XG4gIGRzdFsxNF0gPSBleWVbMl07XG4gIGRzdFsxNV0gPSAxO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIDQtYnktNCBtYXRyaXggd2hpY2ggdHJhbnNsYXRlcyBieSB0aGUgZ2l2ZW4gdmVjdG9yIHYuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IHYgVGhlIHZlY3RvciBieVxuICogICAgIHdoaWNoIHRvIHRyYW5zbGF0ZS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gW2RzdF0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gVGhlIHRyYW5zbGF0aW9uIG1hdHJpeC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiB0cmFuc2xhdGlvbih2LCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcblxuICBkc3RbIDBdID0gMTtcbiAgZHN0WyAxXSA9IDA7XG4gIGRzdFsgMl0gPSAwO1xuICBkc3RbIDNdID0gMDtcbiAgZHN0WyA0XSA9IDA7XG4gIGRzdFsgNV0gPSAxO1xuICBkc3RbIDZdID0gMDtcbiAgZHN0WyA3XSA9IDA7XG4gIGRzdFsgOF0gPSAwO1xuICBkc3RbIDldID0gMDtcbiAgZHN0WzEwXSA9IDE7XG4gIGRzdFsxMV0gPSAwO1xuICBkc3RbMTJdID0gdlswXTtcbiAgZHN0WzEzXSA9IHZbMV07XG4gIGRzdFsxNF0gPSB2WzJdO1xuICBkc3RbMTVdID0gMTtcbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBUcmFuc2xhdGVzIHRoZSBnaXZlbiA0LWJ5LTQgbWF0cml4IGJ5IHRoZSBnaXZlbiB2ZWN0b3Igdi5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gbSBUaGUgbWF0cml4LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSB2IFRoZSB2ZWN0b3IgYnlcbiAqICAgICB3aGljaCB0byB0cmFuc2xhdGUuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSB0cmFuc2xhdGVkIG1hdHJpeC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiB0cmFuc2xhdGUobSwgdiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG5cbiAgY29uc3QgdjAgPSB2WzBdO1xuICBjb25zdCB2MSA9IHZbMV07XG4gIGNvbnN0IHYyID0gdlsyXTtcbiAgY29uc3QgbTAwID0gbVswXTtcbiAgY29uc3QgbTAxID0gbVsxXTtcbiAgY29uc3QgbTAyID0gbVsyXTtcbiAgY29uc3QgbTAzID0gbVszXTtcbiAgY29uc3QgbTEwID0gbVsxICogNCArIDBdO1xuICBjb25zdCBtMTEgPSBtWzEgKiA0ICsgMV07XG4gIGNvbnN0IG0xMiA9IG1bMSAqIDQgKyAyXTtcbiAgY29uc3QgbTEzID0gbVsxICogNCArIDNdO1xuICBjb25zdCBtMjAgPSBtWzIgKiA0ICsgMF07XG4gIGNvbnN0IG0yMSA9IG1bMiAqIDQgKyAxXTtcbiAgY29uc3QgbTIyID0gbVsyICogNCArIDJdO1xuICBjb25zdCBtMjMgPSBtWzIgKiA0ICsgM107XG4gIGNvbnN0IG0zMCA9IG1bMyAqIDQgKyAwXTtcbiAgY29uc3QgbTMxID0gbVszICogNCArIDFdO1xuICBjb25zdCBtMzIgPSBtWzMgKiA0ICsgMl07XG4gIGNvbnN0IG0zMyA9IG1bMyAqIDQgKyAzXTtcblxuICBpZiAobSAhPT0gZHN0KSB7XG4gICAgZHN0WyAwXSA9IG0wMDtcbiAgICBkc3RbIDFdID0gbTAxO1xuICAgIGRzdFsgMl0gPSBtMDI7XG4gICAgZHN0WyAzXSA9IG0wMztcbiAgICBkc3RbIDRdID0gbTEwO1xuICAgIGRzdFsgNV0gPSBtMTE7XG4gICAgZHN0WyA2XSA9IG0xMjtcbiAgICBkc3RbIDddID0gbTEzO1xuICAgIGRzdFsgOF0gPSBtMjA7XG4gICAgZHN0WyA5XSA9IG0yMTtcbiAgICBkc3RbMTBdID0gbTIyO1xuICAgIGRzdFsxMV0gPSBtMjM7XG4gIH1cblxuICBkc3RbMTJdID0gbTAwICogdjAgKyBtMTAgKiB2MSArIG0yMCAqIHYyICsgbTMwO1xuICBkc3RbMTNdID0gbTAxICogdjAgKyBtMTEgKiB2MSArIG0yMSAqIHYyICsgbTMxO1xuICBkc3RbMTRdID0gbTAyICogdjAgKyBtMTIgKiB2MSArIG0yMiAqIHYyICsgbTMyO1xuICBkc3RbMTVdID0gbTAzICogdjAgKyBtMTMgKiB2MSArIG0yMyAqIHYyICsgbTMzO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIDQtYnktNCBtYXRyaXggd2hpY2ggcm90YXRlcyBhcm91bmQgdGhlIHgtYXhpcyBieSB0aGUgZ2l2ZW4gYW5nbGUuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJblJhZGlhbnMgVGhlIGFuZ2xlIGJ5IHdoaWNoIHRvIHJvdGF0ZSAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSByb3RhdGlvbiBtYXRyaXguXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuZnVuY3Rpb24gcm90YXRpb25YKGFuZ2xlSW5SYWRpYW5zLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcblxuICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpO1xuICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuXG4gIGRzdFsgMF0gPSAxO1xuICBkc3RbIDFdID0gMDtcbiAgZHN0WyAyXSA9IDA7XG4gIGRzdFsgM10gPSAwO1xuICBkc3RbIDRdID0gMDtcbiAgZHN0WyA1XSA9IGM7XG4gIGRzdFsgNl0gPSBzO1xuICBkc3RbIDddID0gMDtcbiAgZHN0WyA4XSA9IDA7XG4gIGRzdFsgOV0gPSAtcztcbiAgZHN0WzEwXSA9IGM7XG4gIGRzdFsxMV0gPSAwO1xuICBkc3RbMTJdID0gMDtcbiAgZHN0WzEzXSA9IDA7XG4gIGRzdFsxNF0gPSAwO1xuICBkc3RbMTVdID0gMTtcblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIFJvdGF0ZXMgdGhlIGdpdmVuIDQtYnktNCBtYXRyaXggYXJvdW5kIHRoZSB4LWF4aXMgYnkgdGhlIGdpdmVuXG4gKiBhbmdsZS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gbSBUaGUgbWF0cml4LlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5SYWRpYW5zIFRoZSBhbmdsZSBieSB3aGljaCB0byByb3RhdGUgKGluIHJhZGlhbnMpLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBbZHN0XSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBUaGUgcm90YXRlZCBtYXRyaXguXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuZnVuY3Rpb24gcm90YXRlWChtLCBhbmdsZUluUmFkaWFucywgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG5cbiAgY29uc3QgbTEwID0gbVs0XTtcbiAgY29uc3QgbTExID0gbVs1XTtcbiAgY29uc3QgbTEyID0gbVs2XTtcbiAgY29uc3QgbTEzID0gbVs3XTtcbiAgY29uc3QgbTIwID0gbVs4XTtcbiAgY29uc3QgbTIxID0gbVs5XTtcbiAgY29uc3QgbTIyID0gbVsxMF07XG4gIGNvbnN0IG0yMyA9IG1bMTFdO1xuICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpO1xuICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuXG4gIGRzdFs0XSAgPSBjICogbTEwICsgcyAqIG0yMDtcbiAgZHN0WzVdICA9IGMgKiBtMTEgKyBzICogbTIxO1xuICBkc3RbNl0gID0gYyAqIG0xMiArIHMgKiBtMjI7XG4gIGRzdFs3XSAgPSBjICogbTEzICsgcyAqIG0yMztcbiAgZHN0WzhdICA9IGMgKiBtMjAgLSBzICogbTEwO1xuICBkc3RbOV0gID0gYyAqIG0yMSAtIHMgKiBtMTE7XG4gIGRzdFsxMF0gPSBjICogbTIyIC0gcyAqIG0xMjtcbiAgZHN0WzExXSA9IGMgKiBtMjMgLSBzICogbTEzO1xuXG4gIGlmIChtICE9PSBkc3QpIHtcbiAgICBkc3RbIDBdID0gbVsgMF07XG4gICAgZHN0WyAxXSA9IG1bIDFdO1xuICAgIGRzdFsgMl0gPSBtWyAyXTtcbiAgICBkc3RbIDNdID0gbVsgM107XG4gICAgZHN0WzEyXSA9IG1bMTJdO1xuICAgIGRzdFsxM10gPSBtWzEzXTtcbiAgICBkc3RbMTRdID0gbVsxNF07XG4gICAgZHN0WzE1XSA9IG1bMTVdO1xuICB9XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgNC1ieS00IG1hdHJpeCB3aGljaCByb3RhdGVzIGFyb3VuZCB0aGUgeS1heGlzIGJ5IHRoZSBnaXZlbiBhbmdsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZUluUmFkaWFucyBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlIChpbiByYWRpYW5zKS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gW2RzdF0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gVGhlIHJvdGF0aW9uIG1hdHJpeC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiByb3RhdGlvblkoYW5nbGVJblJhZGlhbnMsIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuXG4gIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XG4gIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XG5cbiAgZHN0WyAwXSA9IGM7XG4gIGRzdFsgMV0gPSAwO1xuICBkc3RbIDJdID0gLXM7XG4gIGRzdFsgM10gPSAwO1xuICBkc3RbIDRdID0gMDtcbiAgZHN0WyA1XSA9IDE7XG4gIGRzdFsgNl0gPSAwO1xuICBkc3RbIDddID0gMDtcbiAgZHN0WyA4XSA9IHM7XG4gIGRzdFsgOV0gPSAwO1xuICBkc3RbMTBdID0gYztcbiAgZHN0WzExXSA9IDA7XG4gIGRzdFsxMl0gPSAwO1xuICBkc3RbMTNdID0gMDtcbiAgZHN0WzE0XSA9IDA7XG4gIGRzdFsxNV0gPSAxO1xuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogUm90YXRlcyB0aGUgZ2l2ZW4gNC1ieS00IG1hdHJpeCBhcm91bmQgdGhlIHktYXhpcyBieSB0aGUgZ2l2ZW5cbiAqIGFuZ2xlLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJblJhZGlhbnMgVGhlIGFuZ2xlIGJ5IHdoaWNoIHRvIHJvdGF0ZSAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSByb3RhdGVkIG1hdHJpeC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiByb3RhdGVZKG0sIGFuZ2xlSW5SYWRpYW5zLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcblxuICBjb25zdCBtMDAgPSBtWzAgKiA0ICsgMF07XG4gIGNvbnN0IG0wMSA9IG1bMCAqIDQgKyAxXTtcbiAgY29uc3QgbTAyID0gbVswICogNCArIDJdO1xuICBjb25zdCBtMDMgPSBtWzAgKiA0ICsgM107XG4gIGNvbnN0IG0yMCA9IG1bMiAqIDQgKyAwXTtcbiAgY29uc3QgbTIxID0gbVsyICogNCArIDFdO1xuICBjb25zdCBtMjIgPSBtWzIgKiA0ICsgMl07XG4gIGNvbnN0IG0yMyA9IG1bMiAqIDQgKyAzXTtcbiAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcbiAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKTtcblxuICBkc3RbIDBdID0gYyAqIG0wMCAtIHMgKiBtMjA7XG4gIGRzdFsgMV0gPSBjICogbTAxIC0gcyAqIG0yMTtcbiAgZHN0WyAyXSA9IGMgKiBtMDIgLSBzICogbTIyO1xuICBkc3RbIDNdID0gYyAqIG0wMyAtIHMgKiBtMjM7XG4gIGRzdFsgOF0gPSBjICogbTIwICsgcyAqIG0wMDtcbiAgZHN0WyA5XSA9IGMgKiBtMjEgKyBzICogbTAxO1xuICBkc3RbMTBdID0gYyAqIG0yMiArIHMgKiBtMDI7XG4gIGRzdFsxMV0gPSBjICogbTIzICsgcyAqIG0wMztcblxuICBpZiAobSAhPT0gZHN0KSB7XG4gICAgZHN0WyA0XSA9IG1bIDRdO1xuICAgIGRzdFsgNV0gPSBtWyA1XTtcbiAgICBkc3RbIDZdID0gbVsgNl07XG4gICAgZHN0WyA3XSA9IG1bIDddO1xuICAgIGRzdFsxMl0gPSBtWzEyXTtcbiAgICBkc3RbMTNdID0gbVsxM107XG4gICAgZHN0WzE0XSA9IG1bMTRdO1xuICAgIGRzdFsxNV0gPSBtWzE1XTtcbiAgfVxuXG4gIHJldHVybiBkc3Q7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIDQtYnktNCBtYXRyaXggd2hpY2ggcm90YXRlcyBhcm91bmQgdGhlIHotYXhpcyBieSB0aGUgZ2l2ZW4gYW5nbGUuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJblJhZGlhbnMgVGhlIGFuZ2xlIGJ5IHdoaWNoIHRvIHJvdGF0ZSAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IFRoZSByb3RhdGlvbiBtYXRyaXguXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuZnVuY3Rpb24gcm90YXRpb25aKGFuZ2xlSW5SYWRpYW5zLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDE2KTtcblxuICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpO1xuICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuXG4gIGRzdFsgMF0gPSBjO1xuICBkc3RbIDFdID0gcztcbiAgZHN0WyAyXSA9IDA7XG4gIGRzdFsgM10gPSAwO1xuICBkc3RbIDRdID0gLXM7XG4gIGRzdFsgNV0gPSBjO1xuICBkc3RbIDZdID0gMDtcbiAgZHN0WyA3XSA9IDA7XG4gIGRzdFsgOF0gPSAwO1xuICBkc3RbIDldID0gMDtcbiAgZHN0WzEwXSA9IDE7XG4gIGRzdFsxMV0gPSAwO1xuICBkc3RbMTJdID0gMDtcbiAgZHN0WzEzXSA9IDA7XG4gIGRzdFsxNF0gPSAwO1xuICBkc3RbMTVdID0gMTtcblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIFJvdGF0ZXMgdGhlIGdpdmVuIDQtYnktNCBtYXRyaXggYXJvdW5kIHRoZSB6LWF4aXMgYnkgdGhlIGdpdmVuXG4gKiBhbmdsZS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gbSBUaGUgbWF0cml4LlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5SYWRpYW5zIFRoZSBhbmdsZSBieSB3aGljaCB0byByb3RhdGUgKGluIHJhZGlhbnMpLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBbZHN0XSBtYXRyaXggdG8gaG9sZCByZXN1bHQuIElmIG5vdCBwYXNzZWQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBUaGUgcm90YXRlZCBtYXRyaXguXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuZnVuY3Rpb24gcm90YXRlWihtLCBhbmdsZUluUmFkaWFucywgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG5cbiAgY29uc3QgbTAwID0gbVswICogNCArIDBdO1xuICBjb25zdCBtMDEgPSBtWzAgKiA0ICsgMV07XG4gIGNvbnN0IG0wMiA9IG1bMCAqIDQgKyAyXTtcbiAgY29uc3QgbTAzID0gbVswICogNCArIDNdO1xuICBjb25zdCBtMTAgPSBtWzEgKiA0ICsgMF07XG4gIGNvbnN0IG0xMSA9IG1bMSAqIDQgKyAxXTtcbiAgY29uc3QgbTEyID0gbVsxICogNCArIDJdO1xuICBjb25zdCBtMTMgPSBtWzEgKiA0ICsgM107XG4gIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XG4gIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XG5cbiAgZHN0WyAwXSA9IGMgKiBtMDAgKyBzICogbTEwO1xuICBkc3RbIDFdID0gYyAqIG0wMSArIHMgKiBtMTE7XG4gIGRzdFsgMl0gPSBjICogbTAyICsgcyAqIG0xMjtcbiAgZHN0WyAzXSA9IGMgKiBtMDMgKyBzICogbTEzO1xuICBkc3RbIDRdID0gYyAqIG0xMCAtIHMgKiBtMDA7XG4gIGRzdFsgNV0gPSBjICogbTExIC0gcyAqIG0wMTtcbiAgZHN0WyA2XSA9IGMgKiBtMTIgLSBzICogbTAyO1xuICBkc3RbIDddID0gYyAqIG0xMyAtIHMgKiBtMDM7XG5cbiAgaWYgKG0gIT09IGRzdCkge1xuICAgIGRzdFsgOF0gPSBtWyA4XTtcbiAgICBkc3RbIDldID0gbVsgOV07XG4gICAgZHN0WzEwXSA9IG1bMTBdO1xuICAgIGRzdFsxMV0gPSBtWzExXTtcbiAgICBkc3RbMTJdID0gbVsxMl07XG4gICAgZHN0WzEzXSA9IG1bMTNdO1xuICAgIGRzdFsxNF0gPSBtWzE0XTtcbiAgICBkc3RbMTVdID0gbVsxNV07XG4gIH1cblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSA0LWJ5LTQgbWF0cml4IHdoaWNoIHJvdGF0ZXMgYXJvdW5kIHRoZSBnaXZlbiBheGlzIGJ5IHRoZSBnaXZlblxuICogYW5nbGUuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IGF4aXMgVGhlIGF4aXNcbiAqICAgICBhYm91dCB3aGljaCB0byByb3RhdGUuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJblJhZGlhbnMgVGhlIGFuZ2xlIGJ5IHdoaWNoIHRvIHJvdGF0ZSAoaW4gcmFkaWFucykuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IFtkc3RdIG1hdHJpeCB0byBob2xkIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL200Lk1hdDR9IEEgbWF0cml4IHdoaWNoIHJvdGF0ZXMgYW5nbGUgcmFkaWFuc1xuICogICAgIGFyb3VuZCB0aGUgYXhpcy5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiBheGlzUm90YXRpb24oYXhpcywgYW5nbGVJblJhZGlhbnMsIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuXG4gIGxldCB4ID0gYXhpc1swXTtcbiAgbGV0IHkgPSBheGlzWzFdO1xuICBsZXQgeiA9IGF4aXNbMl07XG4gIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgeCAvPSBuO1xuICB5IC89IG47XG4gIHogLz0gbjtcbiAgY29uc3QgeHggPSB4ICogeDtcbiAgY29uc3QgeXkgPSB5ICogeTtcbiAgY29uc3QgenogPSB6ICogejtcbiAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcbiAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKTtcbiAgY29uc3Qgb25lTWludXNDb3NpbmUgPSAxIC0gYztcblxuICBkc3RbIDBdID0geHggKyAoMSAtIHh4KSAqIGM7XG4gIGRzdFsgMV0gPSB4ICogeSAqIG9uZU1pbnVzQ29zaW5lICsgeiAqIHM7XG4gIGRzdFsgMl0gPSB4ICogeiAqIG9uZU1pbnVzQ29zaW5lIC0geSAqIHM7XG4gIGRzdFsgM10gPSAwO1xuICBkc3RbIDRdID0geCAqIHkgKiBvbmVNaW51c0Nvc2luZSAtIHogKiBzO1xuICBkc3RbIDVdID0geXkgKyAoMSAtIHl5KSAqIGM7XG4gIGRzdFsgNl0gPSB5ICogeiAqIG9uZU1pbnVzQ29zaW5lICsgeCAqIHM7XG4gIGRzdFsgN10gPSAwO1xuICBkc3RbIDhdID0geCAqIHogKiBvbmVNaW51c0Nvc2luZSArIHkgKiBzO1xuICBkc3RbIDldID0geSAqIHogKiBvbmVNaW51c0Nvc2luZSAtIHggKiBzO1xuICBkc3RbMTBdID0genogKyAoMSAtIHp6KSAqIGM7XG4gIGRzdFsxMV0gPSAwO1xuICBkc3RbMTJdID0gMDtcbiAgZHN0WzEzXSA9IDA7XG4gIGRzdFsxNF0gPSAwO1xuICBkc3RbMTVdID0gMTtcblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIFJvdGF0ZXMgdGhlIGdpdmVuIDQtYnktNCBtYXRyaXggYXJvdW5kIHRoZSBnaXZlbiBheGlzIGJ5IHRoZVxuICogZ2l2ZW4gYW5nbGUuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IG0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gYXhpcyBUaGUgYXhpc1xuICogICAgIGFib3V0IHdoaWNoIHRvIHJvdGF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZUluUmFkaWFucyBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlIChpbiByYWRpYW5zKS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gW2RzdF0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gVGhlIHJvdGF0ZWQgbWF0cml4LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL200XG4gKi9cbmZ1bmN0aW9uIGF4aXNSb3RhdGUobSwgYXhpcywgYW5nbGVJblJhZGlhbnMsIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMTYpO1xuXG4gIGxldCB4ID0gYXhpc1swXTtcbiAgbGV0IHkgPSBheGlzWzFdO1xuICBsZXQgeiA9IGF4aXNbMl07XG4gIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgeCAvPSBuO1xuICB5IC89IG47XG4gIHogLz0gbjtcbiAgY29uc3QgeHggPSB4ICogeDtcbiAgY29uc3QgeXkgPSB5ICogeTtcbiAgY29uc3QgenogPSB6ICogejtcbiAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcbiAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKTtcbiAgY29uc3Qgb25lTWludXNDb3NpbmUgPSAxIC0gYztcblxuICBjb25zdCByMDAgPSB4eCArICgxIC0geHgpICogYztcbiAgY29uc3QgcjAxID0geCAqIHkgKiBvbmVNaW51c0Nvc2luZSArIHogKiBzO1xuICBjb25zdCByMDIgPSB4ICogeiAqIG9uZU1pbnVzQ29zaW5lIC0geSAqIHM7XG4gIGNvbnN0IHIxMCA9IHggKiB5ICogb25lTWludXNDb3NpbmUgLSB6ICogcztcbiAgY29uc3QgcjExID0geXkgKyAoMSAtIHl5KSAqIGM7XG4gIGNvbnN0IHIxMiA9IHkgKiB6ICogb25lTWludXNDb3NpbmUgKyB4ICogcztcbiAgY29uc3QgcjIwID0geCAqIHogKiBvbmVNaW51c0Nvc2luZSArIHkgKiBzO1xuICBjb25zdCByMjEgPSB5ICogeiAqIG9uZU1pbnVzQ29zaW5lIC0geCAqIHM7XG4gIGNvbnN0IHIyMiA9IHp6ICsgKDEgLSB6eikgKiBjO1xuXG4gIGNvbnN0IG0wMCA9IG1bMF07XG4gIGNvbnN0IG0wMSA9IG1bMV07XG4gIGNvbnN0IG0wMiA9IG1bMl07XG4gIGNvbnN0IG0wMyA9IG1bM107XG4gIGNvbnN0IG0xMCA9IG1bNF07XG4gIGNvbnN0IG0xMSA9IG1bNV07XG4gIGNvbnN0IG0xMiA9IG1bNl07XG4gIGNvbnN0IG0xMyA9IG1bN107XG4gIGNvbnN0IG0yMCA9IG1bOF07XG4gIGNvbnN0IG0yMSA9IG1bOV07XG4gIGNvbnN0IG0yMiA9IG1bMTBdO1xuICBjb25zdCBtMjMgPSBtWzExXTtcblxuICBkc3RbIDBdID0gcjAwICogbTAwICsgcjAxICogbTEwICsgcjAyICogbTIwO1xuICBkc3RbIDFdID0gcjAwICogbTAxICsgcjAxICogbTExICsgcjAyICogbTIxO1xuICBkc3RbIDJdID0gcjAwICogbTAyICsgcjAxICogbTEyICsgcjAyICogbTIyO1xuICBkc3RbIDNdID0gcjAwICogbTAzICsgcjAxICogbTEzICsgcjAyICogbTIzO1xuICBkc3RbIDRdID0gcjEwICogbTAwICsgcjExICogbTEwICsgcjEyICogbTIwO1xuICBkc3RbIDVdID0gcjEwICogbTAxICsgcjExICogbTExICsgcjEyICogbTIxO1xuICBkc3RbIDZdID0gcjEwICogbTAyICsgcjExICogbTEyICsgcjEyICogbTIyO1xuICBkc3RbIDddID0gcjEwICogbTAzICsgcjExICogbTEzICsgcjEyICogbTIzO1xuICBkc3RbIDhdID0gcjIwICogbTAwICsgcjIxICogbTEwICsgcjIyICogbTIwO1xuICBkc3RbIDldID0gcjIwICogbTAxICsgcjIxICogbTExICsgcjIyICogbTIxO1xuICBkc3RbMTBdID0gcjIwICogbTAyICsgcjIxICogbTEyICsgcjIyICogbTIyO1xuICBkc3RbMTFdID0gcjIwICogbTAzICsgcjIxICogbTEzICsgcjIyICogbTIzO1xuXG4gIGlmIChtICE9PSBkc3QpIHtcbiAgICBkc3RbMTJdID0gbVsxMl07XG4gICAgZHN0WzEzXSA9IG1bMTNdO1xuICAgIGRzdFsxNF0gPSBtWzE0XTtcbiAgICBkc3RbMTVdID0gbVsxNV07XG4gIH1cblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSA0LWJ5LTQgbWF0cml4IHdoaWNoIHNjYWxlcyBpbiBlYWNoIGRpbWVuc2lvbiBieSBhbiBhbW91bnQgZ2l2ZW4gYnlcbiAqIHRoZSBjb3JyZXNwb25kaW5nIGVudHJ5IGluIHRoZSBnaXZlbiB2ZWN0b3I7IGFzc3VtZXMgdGhlIHZlY3RvciBoYXMgdGhyZWVcbiAqIGVudHJpZXMuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IHYgQSB2ZWN0b3Igb2ZcbiAqICAgICB0aHJlZSBlbnRyaWVzIHNwZWNpZnlpbmcgdGhlIGZhY3RvciBieSB3aGljaCB0byBzY2FsZSBpbiBlYWNoIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gW2RzdF0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gVGhlIHNjYWxpbmcgbWF0cml4LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL200XG4gKi9cbmZ1bmN0aW9uIHNjYWxpbmcodiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG5cbiAgZHN0WyAwXSA9IHZbMF07XG4gIGRzdFsgMV0gPSAwO1xuICBkc3RbIDJdID0gMDtcbiAgZHN0WyAzXSA9IDA7XG4gIGRzdFsgNF0gPSAwO1xuICBkc3RbIDVdID0gdlsxXTtcbiAgZHN0WyA2XSA9IDA7XG4gIGRzdFsgN10gPSAwO1xuICBkc3RbIDhdID0gMDtcbiAgZHN0WyA5XSA9IDA7XG4gIGRzdFsxMF0gPSB2WzJdO1xuICBkc3RbMTFdID0gMDtcbiAgZHN0WzEyXSA9IDA7XG4gIGRzdFsxM10gPSAwO1xuICBkc3RbMTRdID0gMDtcbiAgZHN0WzE1XSA9IDE7XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBTY2FsZXMgdGhlIGdpdmVuIDQtYnktNCBtYXRyaXggaW4gZWFjaCBkaW1lbnNpb24gYnkgYW4gYW1vdW50XG4gKiBnaXZlbiBieSB0aGUgY29ycmVzcG9uZGluZyBlbnRyeSBpbiB0aGUgZ2l2ZW4gdmVjdG9yOyBhc3N1bWVzIHRoZSB2ZWN0b3IgaGFzXG4gKiB0aHJlZSBlbnRyaWVzLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBtIFRoZSBtYXRyaXggdG8gYmUgbW9kaWZpZWQuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IHYgQSB2ZWN0b3Igb2YgdGhyZWUgZW50cmllcyBzcGVjaWZ5aW5nIHRoZVxuICogICAgIGZhY3RvciBieSB3aGljaCB0byBzY2FsZSBpbiBlYWNoIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gW2RzdF0gbWF0cml4IHRvIGhvbGQgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gVGhlIHNjYWxlZCBtYXRyaXguXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvbTRcbiAqL1xuZnVuY3Rpb24gc2NhbGUobSwgdiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBuZXcgTWF0VHlwZSgxNik7XG5cbiAgY29uc3QgdjAgPSB2WzBdO1xuICBjb25zdCB2MSA9IHZbMV07XG4gIGNvbnN0IHYyID0gdlsyXTtcblxuICBkc3RbIDBdID0gdjAgKiBtWzAgKiA0ICsgMF07XG4gIGRzdFsgMV0gPSB2MCAqIG1bMCAqIDQgKyAxXTtcbiAgZHN0WyAyXSA9IHYwICogbVswICogNCArIDJdO1xuICBkc3RbIDNdID0gdjAgKiBtWzAgKiA0ICsgM107XG4gIGRzdFsgNF0gPSB2MSAqIG1bMSAqIDQgKyAwXTtcbiAgZHN0WyA1XSA9IHYxICogbVsxICogNCArIDFdO1xuICBkc3RbIDZdID0gdjEgKiBtWzEgKiA0ICsgMl07XG4gIGRzdFsgN10gPSB2MSAqIG1bMSAqIDQgKyAzXTtcbiAgZHN0WyA4XSA9IHYyICogbVsyICogNCArIDBdO1xuICBkc3RbIDldID0gdjIgKiBtWzIgKiA0ICsgMV07XG4gIGRzdFsxMF0gPSB2MiAqIG1bMiAqIDQgKyAyXTtcbiAgZHN0WzExXSA9IHYyICogbVsyICogNCArIDNdO1xuXG4gIGlmIChtICE9PSBkc3QpIHtcbiAgICBkc3RbMTJdID0gbVsxMl07XG4gICAgZHN0WzEzXSA9IG1bMTNdO1xuICAgIGRzdFsxNF0gPSBtWzE0XTtcbiAgICBkc3RbMTVdID0gbVsxNV07XG4gIH1cblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIFRha2VzIGEgNC1ieS00IG1hdHJpeCBhbmQgYSB2ZWN0b3Igd2l0aCAzIGVudHJpZXMsXG4gKiBpbnRlcnByZXRzIHRoZSB2ZWN0b3IgYXMgYSBwb2ludCwgdHJhbnNmb3JtcyB0aGF0IHBvaW50IGJ5IHRoZSBtYXRyaXgsIGFuZFxuICogcmV0dXJucyB0aGUgcmVzdWx0IGFzIGEgdmVjdG9yIHdpdGggMyBlbnRyaWVzLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBtIFRoZSBtYXRyaXguXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IHYgVGhlIHBvaW50LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBbZHN0XSBvcHRpb25hbCB2ZWMzIHRvIHN0b3JlIHJlc3VsdC4gSWYgbm90IHBhc3NlZCBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFRoZSB0cmFuc2Zvcm1lZCBwb2ludC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1Qb2ludChtLCB2LCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IGNyZWF0ZSgpO1xuICBjb25zdCB2MCA9IHZbMF07XG4gIGNvbnN0IHYxID0gdlsxXTtcbiAgY29uc3QgdjIgPSB2WzJdO1xuICBjb25zdCBkID0gdjAgKiBtWzAgKiA0ICsgM10gKyB2MSAqIG1bMSAqIDQgKyAzXSArIHYyICogbVsyICogNCArIDNdICsgbVszICogNCArIDNdO1xuXG4gIGRzdFswXSA9ICh2MCAqIG1bMCAqIDQgKyAwXSArIHYxICogbVsxICogNCArIDBdICsgdjIgKiBtWzIgKiA0ICsgMF0gKyBtWzMgKiA0ICsgMF0pIC8gZDtcbiAgZHN0WzFdID0gKHYwICogbVswICogNCArIDFdICsgdjEgKiBtWzEgKiA0ICsgMV0gKyB2MiAqIG1bMiAqIDQgKyAxXSArIG1bMyAqIDQgKyAxXSkgLyBkO1xuICBkc3RbMl0gPSAodjAgKiBtWzAgKiA0ICsgMl0gKyB2MSAqIG1bMSAqIDQgKyAyXSArIHYyICogbVsyICogNCArIDJdICsgbVszICogNCArIDJdKSAvIGQ7XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIDQtYnktNCBtYXRyaXggYW5kIGEgdmVjdG9yIHdpdGggMyBlbnRyaWVzLCBpbnRlcnByZXRzIHRoZSB2ZWN0b3IgYXMgYVxuICogZGlyZWN0aW9uLCB0cmFuc2Zvcm1zIHRoYXQgZGlyZWN0aW9uIGJ5IHRoZSBtYXRyaXgsIGFuZCByZXR1cm5zIHRoZSByZXN1bHQ7XG4gKiBhc3N1bWVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBvZiAzLWRpbWVuc2lvbmFsIHNwYWNlIHJlcHJlc2VudGVkIGJ5IHRoZSBtYXRyaXhcbiAqIGlzIHBhcmFsbGVsLXByZXNlcnZpbmcsIGkuZS4gYW55IGNvbWJpbmF0aW9uIG9mIHJvdGF0aW9uLCBzY2FsaW5nIGFuZFxuICogdHJhbnNsYXRpb24sIGJ1dCBub3QgYSBwZXJzcGVjdGl2ZSBkaXN0b3J0aW9uLiBSZXR1cm5zIGEgdmVjdG9yIHdpdGggM1xuICogZW50cmllcy5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gbSBUaGUgbWF0cml4LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSB2IFRoZSBkaXJlY3Rpb24uXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL3YzLlZlYzN9IFtkc3RdIG9wdGlvbmFsIFZlYzMgdG8gc3RvcmUgcmVzdWx0LiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gVGhlIHRyYW5zZm9ybWVkIGRpcmVjdGlvbi5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1EaXJlY3Rpb24obSwgdiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBjcmVhdGUoKTtcblxuICBjb25zdCB2MCA9IHZbMF07XG4gIGNvbnN0IHYxID0gdlsxXTtcbiAgY29uc3QgdjIgPSB2WzJdO1xuXG4gIGRzdFswXSA9IHYwICogbVswICogNCArIDBdICsgdjEgKiBtWzEgKiA0ICsgMF0gKyB2MiAqIG1bMiAqIDQgKyAwXTtcbiAgZHN0WzFdID0gdjAgKiBtWzAgKiA0ICsgMV0gKyB2MSAqIG1bMSAqIDQgKyAxXSArIHYyICogbVsyICogNCArIDFdO1xuICBkc3RbMl0gPSB2MCAqIG1bMCAqIDQgKyAyXSArIHYxICogbVsxICogNCArIDJdICsgdjIgKiBtWzIgKiA0ICsgMl07XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIDQtYnktNCBtYXRyaXggbSBhbmQgYSB2ZWN0b3IgdiB3aXRoIDMgZW50cmllcywgaW50ZXJwcmV0cyB0aGUgdmVjdG9yXG4gKiBhcyBhIG5vcm1hbCB0byBhIHN1cmZhY2UsIGFuZCBjb21wdXRlcyBhIHZlY3RvciB3aGljaCBpcyBub3JtYWwgdXBvblxuICogdHJhbnNmb3JtaW5nIHRoYXQgc3VyZmFjZSBieSB0aGUgbWF0cml4LiBUaGUgZWZmZWN0IG9mIHRoaXMgZnVuY3Rpb24gaXMgdGhlXG4gKiBzYW1lIGFzIHRyYW5zZm9ybWluZyB2IChhcyBhIGRpcmVjdGlvbikgYnkgdGhlIGludmVyc2UtdHJhbnNwb3NlIG9mIG0uICBUaGlzXG4gKiBmdW5jdGlvbiBhc3N1bWVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBvZiAzLWRpbWVuc2lvbmFsIHNwYWNlIHJlcHJlc2VudGVkIGJ5IHRoZVxuICogbWF0cml4IGlzIHBhcmFsbGVsLXByZXNlcnZpbmcsIGkuZS4gYW55IGNvbWJpbmF0aW9uIG9mIHJvdGF0aW9uLCBzY2FsaW5nIGFuZFxuICogdHJhbnNsYXRpb24sIGJ1dCBub3QgYSBwZXJzcGVjdGl2ZSBkaXN0b3J0aW9uLiAgUmV0dXJucyBhIHZlY3RvciB3aXRoIDNcbiAqIGVudHJpZXMuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IG0gVGhlIG1hdHJpeC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gdiBUaGUgbm9ybWFsLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC92My5WZWMzfSBbZHN0XSBUaGUgZGlyZWN0aW9uLiBJZiBub3QgcGFzc2VkIGEgbmV3IG9uZSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wvdjMuVmVjM30gVGhlIHRyYW5zZm9ybWVkIG5vcm1hbC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9tNFxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1Ob3JtYWwobSwgdiwgZHN0KSB7XG4gIGRzdCA9IGRzdCB8fCBjcmVhdGUoKTtcbiAgY29uc3QgbWkgPSBpbnZlcnNlKG0pO1xuICBjb25zdCB2MCA9IHZbMF07XG4gIGNvbnN0IHYxID0gdlsxXTtcbiAgY29uc3QgdjIgPSB2WzJdO1xuXG4gIGRzdFswXSA9IHYwICogbWlbMCAqIDQgKyAwXSArIHYxICogbWlbMCAqIDQgKyAxXSArIHYyICogbWlbMCAqIDQgKyAyXTtcbiAgZHN0WzFdID0gdjAgKiBtaVsxICogNCArIDBdICsgdjEgKiBtaVsxICogNCArIDFdICsgdjIgKiBtaVsxICogNCArIDJdO1xuICBkc3RbMl0gPSB2MCAqIG1pWzIgKiA0ICsgMF0gKyB2MSAqIG1pWzIgKiA0ICsgMV0gKyB2MiAqIG1pWzIgKiA0ICsgMl07XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxudmFyIG00ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGF4aXNSb3RhdGU6IGF4aXNSb3RhdGUsXG4gIGF4aXNSb3RhdGlvbjogYXhpc1JvdGF0aW9uLFxuICBjb3B5OiBjb3B5JDEsXG4gIGZydXN0dW06IGZydXN0dW0sXG4gIGdldEF4aXM6IGdldEF4aXMsXG4gIGdldFRyYW5zbGF0aW9uOiBnZXRUcmFuc2xhdGlvbixcbiAgaWRlbnRpdHk6IGlkZW50aXR5LFxuICBpbnZlcnNlOiBpbnZlcnNlLFxuICBsb29rQXQ6IGxvb2tBdCxcbiAgbXVsdGlwbHk6IG11bHRpcGx5JDEsXG4gIG5lZ2F0ZTogbmVnYXRlJDEsXG4gIG9ydGhvOiBvcnRobyxcbiAgcGVyc3BlY3RpdmU6IHBlcnNwZWN0aXZlLFxuICByb3RhdGVYOiByb3RhdGVYLFxuICByb3RhdGVZOiByb3RhdGVZLFxuICByb3RhdGVaOiByb3RhdGVaLFxuICByb3RhdGlvblg6IHJvdGF0aW9uWCxcbiAgcm90YXRpb25ZOiByb3RhdGlvblksXG4gIHJvdGF0aW9uWjogcm90YXRpb25aLFxuICBzY2FsZTogc2NhbGUsXG4gIHNjYWxpbmc6IHNjYWxpbmcsXG4gIHNldEF4aXM6IHNldEF4aXMsXG4gIHNldERlZmF1bHRUeXBlOiBzZXREZWZhdWx0VHlwZSQxLFxuICBzZXRUcmFuc2xhdGlvbjogc2V0VHJhbnNsYXRpb24sXG4gIHRyYW5zZm9ybURpcmVjdGlvbjogdHJhbnNmb3JtRGlyZWN0aW9uLFxuICB0cmFuc2Zvcm1Ob3JtYWw6IHRyYW5zZm9ybU5vcm1hbCxcbiAgdHJhbnNmb3JtUG9pbnQ6IHRyYW5zZm9ybVBvaW50LFxuICB0cmFuc2xhdGU6IHRyYW5zbGF0ZSxcbiAgdHJhbnNsYXRpb246IHRyYW5zbGF0aW9uLFxuICB0cmFuc3Bvc2U6IHRyYW5zcG9zZVxufSk7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuLyogRGF0YVR5cGUgKi9cbmNvbnN0IEJZVEUgICAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MTQwMDtcbmNvbnN0IFVOU0lHTkVEX0JZVEUgICAgICAgICAgICAgICAgICA9IDB4MTQwMTtcbmNvbnN0IFNIT1JUICAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MTQwMjtcbmNvbnN0IFVOU0lHTkVEX1NIT1JUICAgICAgICAgICAgICAgICA9IDB4MTQwMztcbmNvbnN0IElOVCAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MTQwNDtcbmNvbnN0IFVOU0lHTkVEX0lOVCAgICAgICAgICAgICAgICAgICA9IDB4MTQwNTtcbmNvbnN0IEZMT0FUICAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MTQwNjtcbmNvbnN0IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQgICAgICAgPSAweDgwMzM7XG5jb25zdCBVTlNJR05FRF9TSE9SVF81XzVfNV8xICAgICAgID0gMHg4MDM0O1xuY29uc3QgVU5TSUdORURfU0hPUlRfNV82XzUgICAgICAgICA9IDB4ODM2MztcbmNvbnN0IEhBTEZfRkxPQVQgICAgICAgICAgICAgICAgICAgPSAweDE0MEI7XG5jb25zdCBVTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVYgID0gMHg4MzY4O1xuY29uc3QgVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFViA9IDB4OEMzQjtcbmNvbnN0IFVOU0lHTkVEX0lOVF81XzlfOV85X1JFViAgICAgPSAweDhDM0U7XG5jb25zdCBGTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVYgPSAweDhEQUQ7XG5jb25zdCBVTlNJR05FRF9JTlRfMjRfOCAgICAgICAgICAgID0gMHg4NEZBO1xuXG5jb25zdCBnbFR5cGVUb1R5cGVkQXJyYXkgPSB7fTtcbntcbiAgY29uc3QgdHQgPSBnbFR5cGVUb1R5cGVkQXJyYXk7XG4gIHR0W0JZVEVdICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBJbnQ4QXJyYXk7XG4gIHR0W1VOU0lHTkVEX0JZVEVdICAgICAgICAgICAgICAgICAgPSBVaW50OEFycmF5O1xuICB0dFtTSE9SVF0gICAgICAgICAgICAgICAgICAgICAgICAgID0gSW50MTZBcnJheTtcbiAgdHRbVU5TSUdORURfU0hPUlRdICAgICAgICAgICAgICAgICA9IFVpbnQxNkFycmF5O1xuICB0dFtJTlRdICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gSW50MzJBcnJheTtcbiAgdHRbVU5TSUdORURfSU5UXSAgICAgICAgICAgICAgICAgICA9IFVpbnQzMkFycmF5O1xuICB0dFtGTE9BVF0gICAgICAgICAgICAgICAgICAgICAgICAgID0gRmxvYXQzMkFycmF5O1xuICB0dFtVTlNJR05FRF9TSE9SVF80XzRfNF80XSAgICAgICAgID0gVWludDE2QXJyYXk7XG4gIHR0W1VOU0lHTkVEX1NIT1JUXzVfNV81XzFdICAgICAgICAgPSBVaW50MTZBcnJheTtcbiAgdHRbVU5TSUdORURfU0hPUlRfNV82XzVdICAgICAgICAgICA9IFVpbnQxNkFycmF5O1xuICB0dFtIQUxGX0ZMT0FUXSAgICAgICAgICAgICAgICAgICAgID0gVWludDE2QXJyYXk7XG4gIHR0W1VOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVl0gICAgPSBVaW50MzJBcnJheTtcbiAgdHRbVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVl0gICA9IFVpbnQzMkFycmF5O1xuICB0dFtVTlNJR05FRF9JTlRfNV85XzlfOV9SRVZdICAgICAgID0gVWludDMyQXJyYXk7XG4gIHR0W0ZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVl0gPSBVaW50MzJBcnJheTtcbiAgdHRbVU5TSUdORURfSU5UXzI0XzhdICAgICAgICAgICAgICA9IFVpbnQzMkFycmF5O1xufVxuXG4vKipcbiAqIEdldCB0aGUgR0wgdHlwZSBmb3IgYSB0eXBlZEFycmF5XG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyVmlld30gdHlwZWRBcnJheSBhIHR5cGVkQXJyYXlcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIEdMIHR5cGUgZm9yIGFycmF5LiBGb3IgZXhhbXBsZSBwYXNzIGluIGFuIGBJbnQ4QXJyYXlgIGFuZCBgZ2wuQllURWAgd2lsbFxuICogICBiZSByZXR1cm5lZC4gUGFzcyBpbiBhIGBVaW50MzJBcnJheWAgYW5kIGBnbC5VTlNJR05FRF9JTlRgIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC90eXBlZEFycmF5XG4gKi9cbmZ1bmN0aW9uIGdldEdMVHlwZUZvclR5cGVkQXJyYXkodHlwZWRBcnJheSkge1xuICBpZiAodHlwZWRBcnJheSBpbnN0YW5jZW9mIEludDhBcnJheSkgICAgICAgICB7IHJldHVybiBCWVRFOyB9ICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmICh0eXBlZEFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSkgICAgICAgIHsgcmV0dXJuIFVOU0lHTkVEX0JZVEU7IH0gIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgaWYgKHR5cGVkQXJyYXkgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSkgeyByZXR1cm4gVU5TSUdORURfQllURTsgfSAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBpZiAodHlwZWRBcnJheSBpbnN0YW5jZW9mIEludDE2QXJyYXkpICAgICAgICB7IHJldHVybiBTSE9SVDsgfSAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmICh0eXBlZEFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpICAgICAgIHsgcmV0dXJuIFVOU0lHTkVEX1NIT1JUOyB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgaWYgKHR5cGVkQXJyYXkgaW5zdGFuY2VvZiBJbnQzMkFycmF5KSAgICAgICAgeyByZXR1cm4gSU5UOyB9ICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBpZiAodHlwZWRBcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KSAgICAgICB7IHJldHVybiBVTlNJR05FRF9JTlQ7IH0gICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmICh0eXBlZEFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSAgICAgIHsgcmV0dXJuIEZMT0FUOyB9ICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCB0eXBlZCBhcnJheSB0eXBlJyk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBHTCB0eXBlIGZvciBhIHR5cGVkQXJyYXkgdHlwZVxuICogQHBhcmFtIHtBcnJheUJ1ZmZlclZpZXd9IHR5cGVkQXJyYXlUeXBlIGEgdHlwZWRBcnJheSBjb25zdHJ1Y3RvclxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgR0wgdHlwZSBmb3IgdHlwZS4gRm9yIGV4YW1wbGUgcGFzcyBpbiBgSW50OEFycmF5YCBhbmQgYGdsLkJZVEVgIHdpbGxcbiAqICAgYmUgcmV0dXJuZWQuIFBhc3MgaW4gYFVpbnQzMkFycmF5YCBhbmQgYGdsLlVOU0lHTkVEX0lOVGAgd2lsbCBiZSByZXR1cm5lZFxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3R5cGVkQXJyYXlcbiAqL1xuZnVuY3Rpb24gZ2V0R0xUeXBlRm9yVHlwZWRBcnJheVR5cGUodHlwZWRBcnJheVR5cGUpIHtcbiAgaWYgKHR5cGVkQXJyYXlUeXBlID09PSBJbnQ4QXJyYXkpICAgICAgICAgeyByZXR1cm4gQllURTsgfSAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBpZiAodHlwZWRBcnJheVR5cGUgPT09IFVpbnQ4QXJyYXkpICAgICAgICB7IHJldHVybiBVTlNJR05FRF9CWVRFOyB9ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmICh0eXBlZEFycmF5VHlwZSA9PT0gVWludDhDbGFtcGVkQXJyYXkpIHsgcmV0dXJuIFVOU0lHTkVEX0JZVEU7IH0gIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgaWYgKHR5cGVkQXJyYXlUeXBlID09PSBJbnQxNkFycmF5KSAgICAgICAgeyByZXR1cm4gU0hPUlQ7IH0gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBpZiAodHlwZWRBcnJheVR5cGUgPT09IFVpbnQxNkFycmF5KSAgICAgICB7IHJldHVybiBVTlNJR05FRF9TSE9SVDsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmICh0eXBlZEFycmF5VHlwZSA9PT0gSW50MzJBcnJheSkgICAgICAgIHsgcmV0dXJuIElOVDsgfSAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgaWYgKHR5cGVkQXJyYXlUeXBlID09PSBVaW50MzJBcnJheSkgICAgICAgeyByZXR1cm4gVU5TSUdORURfSU5UOyB9ICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBpZiAodHlwZWRBcnJheVR5cGUgPT09IEZsb2F0MzJBcnJheSkgICAgICB7IHJldHVybiBGTE9BVDsgfSAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgdHlwZWQgYXJyYXkgdHlwZScpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgdHlwZWQgYXJyYXkgY29uc3RydWN0b3IgZm9yIGEgZ2l2ZW4gR0wgdHlwZVxuICogQHBhcmFtIHtudW1iZXJ9IHR5cGUgdGhlIEdMIHR5cGUuIChlZzogYGdsLlVOU0lHTkVEX0lOVGApXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gdGhlIGNvbnN0cnVjdG9yIGZvciBhIHRoZSBjb3JyZXNwb25kaW5nIHR5cGVkIGFycmF5LiAoZWcuIGBVaW50MzJBcnJheWApLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3R5cGVkQXJyYXlcbiAqL1xuZnVuY3Rpb24gZ2V0VHlwZWRBcnJheVR5cGVGb3JHTFR5cGUodHlwZSkge1xuICBjb25zdCBDVE9SID0gZ2xUeXBlVG9UeXBlZEFycmF5W3R5cGVdO1xuICBpZiAoIUNUT1IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gZ2wgdHlwZScpO1xuICB9XG4gIHJldHVybiBDVE9SO1xufVxuXG5jb25zdCBpc0FycmF5QnVmZmVyID0gdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJ1xuICA/IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJPclNoYXJlZEFycmF5QnVmZmVyKGEpIHtcbiAgICByZXR1cm4gYSAmJiBhLmJ1ZmZlciAmJiAoYS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBhLmJ1ZmZlciBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKTtcbiAgfVxuICA6IGZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIoYSkge1xuICAgIHJldHVybiBhICYmIGEuYnVmZmVyICYmIGEuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG4gIH07XG5cbnZhciB0eXBlZGFycmF5cyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBnZXRHTFR5cGVGb3JUeXBlZEFycmF5OiBnZXRHTFR5cGVGb3JUeXBlZEFycmF5LFxuICBnZXRHTFR5cGVGb3JUeXBlZEFycmF5VHlwZTogZ2V0R0xUeXBlRm9yVHlwZWRBcnJheVR5cGUsXG4gIGdldFR5cGVkQXJyYXlUeXBlRm9yR0xUeXBlOiBnZXRUeXBlZEFycmF5VHlwZUZvckdMVHlwZSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlclxufSk7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuLyogZXNsaW50IG5vLWNvbnNvbGU6IFwib2ZmXCIgKi9cblxuLyoqXG4gKiBDb3B5IG5hbWVkIHByb3BlcnRpZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBuYW1lcyBuYW1lcyBvZiBwcm9wZXJ0aWVzIHRvIGNvcHlcbiAqIEBwYXJhbSB7b2JqZWN0fSBzcmMgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge29iamVjdH0gZHN0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG9cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvcHlOYW1lZFByb3BlcnRpZXMobmFtZXMsIHNyYywgZHN0KSB7XG4gIG5hbWVzLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgIGNvbnN0IHZhbHVlID0gc3JjW25hbWVdO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkc3RbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gc291cmNlIHRvIGRlc3Qgb25seSBpZiBhIG1hdGNoaW5nIGtleSBpcyBpbiBkZXN0XG4gKlxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgPz59IHNyYyB0aGUgc291cmNlXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCA/Pn0gZHN0IHRoZSBkZXN0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjb3B5RXhpc3RpbmdQcm9wZXJ0aWVzKHNyYywgZHN0KSB7XG4gIE9iamVjdC5rZXlzKGRzdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoZHN0Lmhhc093blByb3BlcnR5KGtleSkgJiYgc3JjLmhhc093blByb3BlcnR5KGtleSkpIHsgIC8qIGVzbGludCBuby1wcm90b3R5cGUtYnVpbHRpbnM6IDAgKi9cbiAgICAgIGRzdFtrZXldID0gc3JjW2tleV07XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZXJyb3IoLi4uYXJncykge1xuICBjb25zb2xlLmVycm9yKC4uLmFyZ3MpO1xufVxuXG5mdW5jdGlvbiB3YXJuKC4uLmFyZ3MpIHtcbiAgY29uc29sZS53YXJuKC4uLmFyZ3MpO1xufVxuXG5mdW5jdGlvbiBpc0J1ZmZlcihnbCwgdCkge1xuICByZXR1cm4gdHlwZW9mIFdlYkdMQnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0IGluc3RhbmNlb2YgV2ViR0xCdWZmZXI7XG59XG5cbmZ1bmN0aW9uIGlzUmVuZGVyYnVmZmVyKGdsLCB0KSB7XG4gIHJldHVybiB0eXBlb2YgV2ViR0xSZW5kZXJidWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHQgaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmJ1ZmZlcjtcbn1cblxuZnVuY3Rpb24gaXNTaGFkZXIoZ2wsIHQpIHtcbiAgcmV0dXJuIHR5cGVvZiBXZWJHTFNoYWRlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdCBpbnN0YW5jZW9mIFdlYkdMU2hhZGVyO1xufVxuXG5mdW5jdGlvbiBpc1RleHR1cmUoZ2wsIHQpIHtcbiAgcmV0dXJuIHR5cGVvZiBXZWJHTFRleHR1cmUgIT09ICd1bmRlZmluZWQnICYmIHQgaW5zdGFuY2VvZiBXZWJHTFRleHR1cmU7XG59XG5cbmZ1bmN0aW9uIGlzU2FtcGxlcihnbCwgdCkge1xuICByZXR1cm4gdHlwZW9mIFdlYkdMU2FtcGxlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdCBpbnN0YW5jZW9mIFdlYkdMU2FtcGxlcjtcbn1cblxuLypcbiAqIENvcHlyaWdodCAyMDE5IEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuXG5jb25zdCBTVEFUSUNfRFJBVyAgICAgICAgICAgICAgICAgID0gMHg4OGU0O1xuY29uc3QgQVJSQVlfQlVGRkVSICAgICAgICAgICAgICAgICA9IDB4ODg5MjtcbmNvbnN0IEVMRU1FTlRfQVJSQVlfQlVGRkVSICAgICAgICAgPSAweDg4OTM7XG5jb25zdCBCVUZGRVJfU0laRSAgICAgICAgICAgICAgICAgID0gMHg4NzY0O1xuXG5jb25zdCBCWVRFJDEgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDE0MDA7XG5jb25zdCBVTlNJR05FRF9CWVRFJDEgICAgICAgICAgICAgICAgPSAweDE0MDE7XG5jb25zdCBTSE9SVCQxICAgICAgICAgICAgICAgICAgICAgICAgPSAweDE0MDI7XG5jb25zdCBVTlNJR05FRF9TSE9SVCQxICAgICAgICAgICAgICAgPSAweDE0MDM7XG5jb25zdCBJTlQkMSAgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDE0MDQ7XG5jb25zdCBVTlNJR05FRF9JTlQkMSAgICAgICAgICAgICAgICAgPSAweDE0MDU7XG5jb25zdCBGTE9BVCQxICAgICAgICAgICAgICAgICAgICAgICAgPSAweDE0MDY7XG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgYXR0cmliUHJlZml4OiBcIlwiLFxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBkZWZhdWx0IGF0dHJpYiBwcmVmaXhcbiAqXG4gKiBXaGVuIHdyaXRpbmcgc2hhZGVycyBJIHByZWZlciB0byBuYW1lIGF0dHJpYnV0ZXMgd2l0aCBgYV9gLCB1bmlmb3JtcyB3aXRoIGB1X2AgYW5kIHZhcnlpbmdzIHdpdGggYHZfYFxuICogYXMgaXQgbWFrZXMgaXQgY2xlYXIgd2hlcmUgdGhleSBjYW1lIGZyb20uIEJ1dCwgd2hlbiBidWlsZGluZyBnZW9tZXRyeSBJIHByZWZlciB1c2luZyB1bi1wcmVmaXhlZCBuYW1lcy5cbiAqXG4gKiBJbiBvdGhlciB3b3JkcyBJJ2xsIGNyZWF0ZSBhcnJheXMgb2YgZ2VvbWV0cnkgbGlrZSB0aGlzXG4gKlxuICogICAgIHZhciBhcnJheXMgPSB7XG4gKiAgICAgICBwb3NpdGlvbjogLi4uXG4gKiAgICAgICBub3JtYWw6IC4uLlxuICogICAgICAgdGV4Y29vcmQ6IC4uLlxuICogICAgIH07XG4gKlxuICogQnV0IG5lZWQgdGhvc2UgbWFwcGVkIHRvIGF0dHJpYnV0ZXMgYW5kIG15IGF0dHJpYnV0ZXMgc3RhcnQgd2l0aCBgYV9gLlxuICpcbiAqIEBkZXByZWNhdGVkIHNlZSB7QGxpbmsgbW9kdWxlOnR3Z2wuc2V0RGVmYXVsdHN9XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4IHByZWZpeCBmb3IgYXR0cmlic1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL2F0dHJpYnV0ZXNcbiAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlUHJlZml4KHByZWZpeCkge1xuICBkZWZhdWx0cy5hdHRyaWJQcmVmaXggPSBwcmVmaXg7XG59XG5cbmZ1bmN0aW9uIHNldERlZmF1bHRzKG5ld0RlZmF1bHRzKSB7XG4gIGNvcHlFeGlzdGluZ1Byb3BlcnRpZXMobmV3RGVmYXVsdHMsIGRlZmF1bHRzKTtcbn1cblxuZnVuY3Rpb24gc2V0QnVmZmVyRnJvbVR5cGVkQXJyYXkoZ2wsIHR5cGUsIGJ1ZmZlciwgYXJyYXksIGRyYXdUeXBlKSB7XG4gIGdsLmJpbmRCdWZmZXIodHlwZSwgYnVmZmVyKTtcbiAgZ2wuYnVmZmVyRGF0YSh0eXBlLCBhcnJheSwgZHJhd1R5cGUgfHwgU1RBVElDX0RSQVcpO1xufVxuXG4vKipcbiAqIEdpdmVuIHR5cGVkIGFycmF5IGNyZWF0ZXMgYSBXZWJHTEJ1ZmZlciBhbmQgY29waWVzIHRoZSB0eXBlZCBhcnJheVxuICogaW50byBpdC5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgQSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8U2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fFdlYkdMQnVmZmVyfSB0eXBlZEFycmF5IHRoZSB0eXBlZCBhcnJheS4gTm90ZTogSWYgYSBXZWJHTEJ1ZmZlciBpcyBwYXNzZWQgaW4gaXQgd2lsbCBqdXN0IGJlIHJldHVybmVkLiBObyBhY3Rpb24gd2lsbCBiZSB0YWtlblxuICogQHBhcmFtIHtudW1iZXJ9IFt0eXBlXSB0aGUgR0wgYmluZCB0eXBlIGZvciB0aGUgYnVmZmVyLiBEZWZhdWx0ID0gYGdsLkFSUkFZX0JVRkZFUmAuXG4gKiBAcGFyYW0ge251bWJlcn0gW2RyYXdUeXBlXSB0aGUgR0wgZHJhdyB0eXBlIGZvciB0aGUgYnVmZmVyLiBEZWZhdWx0ID0gJ2dsLlNUQVRJQ19EUkFXYC5cbiAqIEByZXR1cm4ge1dlYkdMQnVmZmVyfSB0aGUgY3JlYXRlZCBXZWJHTEJ1ZmZlclxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL2F0dHJpYnV0ZXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnVmZmVyRnJvbVR5cGVkQXJyYXkoZ2wsIHR5cGVkQXJyYXksIHR5cGUsIGRyYXdUeXBlKSB7XG4gIGlmIChpc0J1ZmZlcihnbCwgdHlwZWRBcnJheSkpIHtcbiAgICByZXR1cm4gdHlwZWRBcnJheTtcbiAgfVxuICB0eXBlID0gdHlwZSB8fCBBUlJBWV9CVUZGRVI7XG4gIGNvbnN0IGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICBzZXRCdWZmZXJGcm9tVHlwZWRBcnJheShnbCwgdHlwZSwgYnVmZmVyLCB0eXBlZEFycmF5LCBkcmF3VHlwZSk7XG4gIHJldHVybiBidWZmZXI7XG59XG5cbmZ1bmN0aW9uIGlzSW5kaWNlcyhuYW1lKSB7XG4gIHJldHVybiBuYW1lID09PSBcImluZGljZXNcIjtcbn1cblxuLy8gVGhpcyBpcyByZWFsbHkganVzdCBhIGd1ZXNzLiBUaG91Z2ggSSBjYW4ndCByZWFsbHkgaW1hZ2luZSB1c2luZ1xuLy8gYW55dGhpbmcgZWxzZT8gTWF5YmUgZm9yIHNvbWUgY29tcHJlc3Npb24/XG5mdW5jdGlvbiBnZXROb3JtYWxpemF0aW9uRm9yVHlwZWRBcnJheSh0eXBlZEFycmF5KSB7XG4gIGlmICh0eXBlZEFycmF5IGluc3RhbmNlb2YgSW50OEFycmF5KSAgICB7IHJldHVybiB0cnVlOyB9ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmICh0eXBlZEFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSkgICB7IHJldHVybiB0cnVlOyB9ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gVGhpcyBpcyByZWFsbHkganVzdCBhIGd1ZXNzLiBUaG91Z2ggSSBjYW4ndCByZWFsbHkgaW1hZ2luZSB1c2luZ1xuLy8gYW55dGhpbmcgZWxzZT8gTWF5YmUgZm9yIHNvbWUgY29tcHJlc3Npb24/XG5mdW5jdGlvbiBnZXROb3JtYWxpemF0aW9uRm9yVHlwZWRBcnJheVR5cGUodHlwZWRBcnJheVR5cGUpIHtcbiAgaWYgKHR5cGVkQXJyYXlUeXBlID09PSBJbnQ4QXJyYXkpICAgIHsgcmV0dXJuIHRydWU7IH0gIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgaWYgKHR5cGVkQXJyYXlUeXBlID09PSBVaW50OEFycmF5KSAgIHsgcmV0dXJuIHRydWU7IH0gIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRBcnJheShhcnJheSkge1xuICByZXR1cm4gYXJyYXkubGVuZ3RoID8gYXJyYXkgOiBhcnJheS5kYXRhO1xufVxuXG5jb25zdCB0ZXhjb29yZFJFID0gL2Nvb3JkfHRleHR1cmUvaTtcbmNvbnN0IGNvbG9yUkUgPSAvY29sb3J8Y29sb3VyL2k7XG5cbmZ1bmN0aW9uIGd1ZXNzTnVtQ29tcG9uZW50c0Zyb21OYW1lKG5hbWUsIGxlbmd0aCkge1xuICBsZXQgbnVtQ29tcG9uZW50cztcbiAgaWYgKHRleGNvb3JkUkUudGVzdChuYW1lKSkge1xuICAgIG51bUNvbXBvbmVudHMgPSAyO1xuICB9IGVsc2UgaWYgKGNvbG9yUkUudGVzdChuYW1lKSkge1xuICAgIG51bUNvbXBvbmVudHMgPSA0O1xuICB9IGVsc2Uge1xuICAgIG51bUNvbXBvbmVudHMgPSAzOyAgLy8gcG9zaXRpb24sIG5vcm1hbHMsIGluZGljZXMgLi4uXG4gIH1cblxuICBpZiAobGVuZ3RoICUgbnVtQ29tcG9uZW50cyA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbiBub3QgZ3Vlc3MgbnVtQ29tcG9uZW50cyBmb3IgYXR0cmlidXRlICcke25hbWV9Jy4gVHJpZWQgJHtudW1Db21wb25lbnRzfSBidXQgJHtsZW5ndGh9IHZhbHVlcyBpcyBub3QgZXZlbmx5IGRpdmlzaWJsZSBieSAke251bUNvbXBvbmVudHN9LiBZb3Ugc2hvdWxkIHNwZWNpZnkgaXQuYCk7XG4gIH1cblxuICByZXR1cm4gbnVtQ29tcG9uZW50cztcbn1cblxuZnVuY3Rpb24gZ2V0TnVtQ29tcG9uZW50cyhhcnJheSwgYXJyYXlOYW1lKSB7XG4gIHJldHVybiBhcnJheS5udW1Db21wb25lbnRzIHx8IGFycmF5LnNpemUgfHwgZ3Vlc3NOdW1Db21wb25lbnRzRnJvbU5hbWUoYXJyYXlOYW1lLCBnZXRBcnJheShhcnJheSkubGVuZ3RoKTtcbn1cblxuZnVuY3Rpb24gbWFrZVR5cGVkQXJyYXkoYXJyYXksIG5hbWUpIHtcbiAgaWYgKGlzQXJyYXlCdWZmZXIoYXJyYXkpKSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgaWYgKGlzQXJyYXlCdWZmZXIoYXJyYXkuZGF0YSkpIHtcbiAgICByZXR1cm4gYXJyYXkuZGF0YTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIGFycmF5ID0ge1xuICAgICAgZGF0YTogYXJyYXksXG4gICAgfTtcbiAgfVxuXG4gIGxldCBUeXBlID0gYXJyYXkudHlwZTtcbiAgaWYgKCFUeXBlKSB7XG4gICAgaWYgKGlzSW5kaWNlcyhuYW1lKSkge1xuICAgICAgVHlwZSA9IFVpbnQxNkFycmF5O1xuICAgIH0gZWxzZSB7XG4gICAgICBUeXBlID0gRmxvYXQzMkFycmF5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IFR5cGUoYXJyYXkuZGF0YSk7XG59XG5cbi8qKlxuICogVGhlIGluZm8gZm9yIGFuIGF0dHJpYnV0ZS4gVGhpcyBpcyBlZmZlY3RpdmVseSBqdXN0IHRoZSBhcmd1bWVudHMgdG8gYGdsLnZlcnRleEF0dHJpYlBvaW50ZXJgIHBsdXMgdGhlIFdlYkdMQnVmZmVyXG4gKiBmb3IgdGhlIGF0dHJpYnV0ZS5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBdHRyaWJJbmZvXG4gKiBAcHJvcGVydHkge251bWJlcltdfEFycmF5QnVmZmVyVmlld30gW3ZhbHVlXSBhIGNvbnN0YW50IHZhbHVlIGZvciB0aGUgYXR0cmlidXRlLiBOb3RlOiBpZiB0aGlzIGlzIHNldCB0aGUgYXR0cmlidXRlIHdpbGwgYmVcbiAqICAgIGRpc2FibGVkIGFuZCBzZXQgdG8gdGhpcyBjb25zdGFudCB2YWx1ZSBhbmQgYWxsIG90aGVyIHZhbHVlcyB3aWxsIGJlIGlnbm9yZWQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW251bUNvbXBvbmVudHNdIHRoZSBudW1iZXIgb2YgY29tcG9uZW50cyBmb3IgdGhpcyBhdHRyaWJ1dGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NpemVdIHN5bm9ueW0gZm9yIGBudW1Db21wb25lbnRzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHlwZV0gdGhlIHR5cGUgb2YgdGhlIGF0dHJpYnV0ZSAoZWcuIGBnbC5GTE9BVGAsIGBnbC5VTlNJR05FRF9CWVRFYCwgZXRjLi4uKSBEZWZhdWx0ID0gYGdsLkZMT0FUYFxuICogQHByb3BlcnR5IHtib29sZWFufSBbbm9ybWFsaXplXSB3aGV0aGVyIG9yIG5vdCB0byBub3JtYWxpemUgdGhlIGRhdGEuIERlZmF1bHQgPSBmYWxzZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvZmZzZXRdIG9mZnNldCBpbnRvIGJ1ZmZlciBpbiBieXRlcy4gRGVmYXVsdCA9IDBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc3RyaWRlXSB0aGUgc3RyaWRlIGluIGJ5dGVzIHBlciBlbGVtZW50LiBEZWZhdWx0ID0gMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkaXZpc29yXSB0aGUgZGl2aXNvciBpbiBpbnN0YW5jZXMuIERlZmF1bHQgPSB1bmRlZmluZWQuIE5vdGU6IHVuZGVmaW5lZCA9IGRvbid0IGNhbGwgZ2wudmVydGV4QXR0cmliRGl2aXNvclxuICogICAgd2hlcmUgYXMgYW55dGhpbmcgZWxzZSA9IGRvIGNhbGwgaXQgd2l0aCB0aGlzIHZhbHVlXG4gKiBAcHJvcGVydHkge1dlYkdMQnVmZmVyfSBidWZmZXIgdGhlIGJ1ZmZlciB0aGF0IGNvbnRhaW5zIHRoZSBkYXRhIGZvciB0aGlzIGF0dHJpYnV0ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtkcmF3VHlwZV0gdGhlIGRyYXcgdHlwZSBwYXNzZWQgdG8gZ2wuYnVmZmVyRGF0YS4gRGVmYXVsdCA9IGdsLlNUQVRJQ19EUkFXXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqL1xuXG4vKipcbiAqIFVzZSB0aGlzIHR5cGUgb2YgYXJyYXkgc3BlYyB3aGVuIFRXR0wgY2FuJ3QgZ3Vlc3MgdGhlIHR5cGUgb3IgbnVtYmVyIG9mIGNvbXBvbmVudHMgb2YgYW4gYXJyYXlcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZ1bGxBcnJheVNwZWNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyW118QXJyYXlCdWZmZXJWaWV3fSBbdmFsdWVdIGEgY29uc3RhbnQgdmFsdWUgZm9yIHRoZSBhdHRyaWJ1dGUuIE5vdGU6IGlmIHRoaXMgaXMgc2V0IHRoZSBhdHRyaWJ1dGUgd2lsbCBiZVxuICogICAgZGlzYWJsZWQgYW5kIHNldCB0byB0aGlzIGNvbnN0YW50IHZhbHVlIGFuZCBhbGwgb3RoZXIgdmFsdWVzIHdpbGwgYmUgaWdub3JlZC5cbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxudW1iZXJbXXxBcnJheUJ1ZmZlclZpZXcpfSBkYXRhIFRoZSBkYXRhIG9mIHRoZSBhcnJheS4gQSBudW1iZXIgYWxvbmUgYmVjb21lcyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIG9mIHR5cGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW251bUNvbXBvbmVudHNdIG51bWJlciBvZiBjb21wb25lbnRzIGZvciBgdmVydGV4QXR0cmliUG9pbnRlcmAuIERlZmF1bHQgaXMgYmFzZWQgb24gdGhlIG5hbWUgb2YgdGhlIGFycmF5LlxuICogICAgSWYgYGNvb3JkYCBpcyBpbiB0aGUgbmFtZSBhc3N1bWVzIGBudW1Db21wb25lbnRzID0gMmAuXG4gKiAgICBJZiBgY29sb3JgIGlzIGluIHRoZSBuYW1lIGFzc3VtZXMgYG51bUNvbXBvbmVudHMgPSA0YC5cbiAqICAgIG90aGVyd2lzZSBhc3N1bWVzIGBudW1Db21wb25lbnRzID0gM2BcbiAqIEBwcm9wZXJ0eSB7Y29uc3RydWN0b3J9IFt0eXBlXSB0eXBlLiBUaGlzIGlzIG9ubHkgdXNlZCBpZiBgZGF0YWAgaXMgYSBKYXZhU2NyaXB0IGFycmF5LiBJdCBpcyB0aGUgY29uc3RydWN0b3IgZm9yIHRoZSB0eXBlZGFycmF5LiAoZWcuIGBVaW50OEFycmF5YCkuXG4gKiBGb3IgZXhhbXBsZSBpZiB5b3Ugd2FudCBjb2xvcnMgaW4gYSBgVWludDhBcnJheWAgeW91IG1pZ2h0IGhhdmUgYSBgRnVsbEFycmF5U3BlY2AgbGlrZSBgeyB0eXBlOiBVaW50OEFycmF5LCBkYXRhOiBbMjU1LDAsMjU1LDI1NSwgLi4uXSwgfWAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NpemVdIHN5bm9ueW0gZm9yIGBudW1Db21wb25lbnRzYC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25vcm1hbGl6ZV0gbm9ybWFsaXplIGZvciBgdmVydGV4QXR0cmliUG9pbnRlcmAuIERlZmF1bHQgaXMgdHJ1ZSBpZiB0eXBlIGlzIGBJbnQ4QXJyYXlgIG9yIGBVaW50OEFycmF5YCBvdGhlcndpc2UgZmFsc2UuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3N0cmlkZV0gc3RyaWRlIGZvciBgdmVydGV4QXR0cmliUG9pbnRlcmAuIERlZmF1bHQgPSAwXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29mZnNldF0gb2Zmc2V0IGZvciBgdmVydGV4QXR0cmliUG9pbnRlcmAuIERlZmF1bHQgPSAwXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2Rpdmlzb3JdIGRpdmlzb3IgZm9yIGB2ZXJ0ZXhBdHRyaWJEaXZpc29yYC4gRGVmYXVsdCA9IHVuZGVmaW5lZC4gTm90ZTogdW5kZWZpbmVkID0gZG9uJ3QgY2FsbCBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yXG4gKiAgICB3aGVyZSBhcyBhbnl0aGluZyBlbHNlID0gZG8gY2FsbCBpdCB3aXRoIHRoaXMgdmFsdWVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmliXSBuYW1lIG9mIGF0dHJpYnV0ZSB0aGlzIGFycmF5IG1hcHMgdG8uIERlZmF1bHRzIHRvIHNhbWUgbmFtZSBhcyBhcnJheSBwcmVmaXhlZCBieSB0aGUgZGVmYXVsdCBhdHRyaWJQcmVmaXguXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIHN5bm9ueW0gZm9yIGBhdHRyaWJgLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthdHRyaWJOYW1lXSBzeW5vbnltIGZvciBgYXR0cmliYC5cbiAqIEBwcm9wZXJ0eSB7V2ViR0xCdWZmZXJ9IFtidWZmZXJdIEJ1ZmZlciB0byB1c2UgZm9yIHRoaXMgYXR0cmlidXRlLiBUaGlzIGxldHMgeW91IHVzZSB5b3VyIG93biBidWZmZXJcbiAqICAgIGJ1dCB5b3Ugd2lsbCBuZWVkIHRvIHN1cHBseSBgbnVtQ29tcG9uZW50c2AgYW5kIGB0eXBlYC4gWW91IGNhbiBlZmZlY3RpdmVseSBwYXNzIGFuIGBBdHRyaWJJbmZvYFxuICogICAgdG8gcHJvdmlkZSB0aGlzLiBFeGFtcGxlOlxuICpcbiAqICAgICAgICAgY29uc3QgYnVmZmVySW5mbzEgPSB0d2dsLmNyZWF0ZUJ1ZmZlckluZm9Gcm9tQXJyYXlzKGdsLCB7XG4gKiAgICAgICAgICAgcG9zaXRpb246IFsxLCAyLCAzLCAuLi4gXSxcbiAqICAgICAgICAgfSk7XG4gKiAgICAgICAgIGNvbnN0IGJ1ZmZlckluZm8yID0gdHdnbC5jcmVhdGVCdWZmZXJJbmZvRnJvbUFycmF5cyhnbCwge1xuICogICAgICAgICAgIHBvc2l0aW9uOiBidWZmZXJJbmZvMS5hdHRyaWJzLnBvc2l0aW9uLCAgLy8gdXNlIHRoZSBzYW1lIGJ1ZmZlciBmcm9tIGJ1ZmZlckluZm8xXG4gKiAgICAgICAgIH0pO1xuICpcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5cbi8qKlxuICogQW4gaW5kaXZpZHVhbCBhcnJheSBpbiB7QGxpbmsgbW9kdWxlOnR3Z2wuQXJyYXlzfVxuICpcbiAqIFdoZW4gcGFzc2VkIHRvIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVCdWZmZXJJbmZvRnJvbUFycmF5c30gaWYgYW4gQXJyYXlTcGVjIGlzIGBudW1iZXJbXWAgb3IgYEFycmF5QnVmZmVyVmlld2BcbiAqIHRoZSB0eXBlcyB3aWxsIGJlIGd1ZXNzZWQgYmFzZWQgb24gdGhlIG5hbWUuIGBpbmRpY2VzYCB3aWxsIGJlIGBVaW50MTZBcnJheWAsIGV2ZXJ5dGhpbmcgZWxzZSB3aWxsXG4gKiBiZSBgRmxvYXQzMkFycmF5YC4gSWYgYW4gQXJyYXlTcGVjIGlzIGEgbnVtYmVyIGl0J3MgdGhlIG51bWJlciBvZiBmbG9hdHMgZm9yIGFuIGVtcHR5ICh6ZXJvZWQpIGJ1ZmZlci5cbiAqXG4gKiBAdHlwZWRlZiB7KG51bWJlcnxudW1iZXJbXXxBcnJheUJ1ZmZlclZpZXd8bW9kdWxlOnR3Z2wuRnVsbEFycmF5U3BlYyl9IEFycmF5U3BlY1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuLyoqXG4gKiBUaGlzIGlzIGEgSmF2YVNjcmlwdCBvYmplY3Qgb2YgYXJyYXlzIGJ5IG5hbWUuIFRoZSBuYW1lcyBzaG91bGQgbWF0Y2ggeW91ciBzaGFkZXIncyBhdHRyaWJ1dGVzLiBJZiB5b3VyXG4gKiBhdHRyaWJ1dGVzIGhhdmUgYSBjb21tb24gcHJlZml4IHlvdSBjYW4gc3BlY2lmeSBpdCBieSBjYWxsaW5nIHtAbGluayBtb2R1bGU6dHdnbC5zZXRBdHRyaWJ1dGVQcmVmaXh9LlxuICpcbiAqICAgICBCYXJlIEphdmFTY3JpcHQgQXJyYXlzXG4gKlxuICogICAgICAgICB2YXIgYXJyYXlzID0ge1xuICogICAgICAgICAgICBwb3NpdGlvbjogWy0xLCAxLCAwXSxcbiAqICAgICAgICAgICAgbm9ybWFsOiBbMCwgMSwgMF0sXG4gKiAgICAgICAgICAgIC4uLlxuICogICAgICAgICB9XG4gKlxuICogICAgIEJhcmUgVHlwZWRBcnJheXNcbiAqXG4gKiAgICAgICAgIHZhciBhcnJheXMgPSB7XG4gKiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFstMSwgMSwgMF0pLFxuICogICAgICAgICAgICBjb2xvcjogbmV3IFVpbnQ4QXJyYXkoWzI1NSwgMTI4LCA2NCwgMjU1XSksXG4gKiAgICAgICAgICAgIC4uLlxuICogICAgICAgICB9XG4gKlxuICogKiAgIFdpbGwgZ3Vlc3MgYXQgYG51bUNvbXBvbmVudHNgIGlmIG5vdCBzcGVjaWZpZWQgYmFzZWQgb24gbmFtZS5cbiAqXG4gKiAgICAgSWYgYGNvb3JkYCBpcyBpbiB0aGUgbmFtZSBhc3N1bWVzIGBudW1Db21wb25lbnRzID0gMmBcbiAqXG4gKiAgICAgSWYgYGNvbG9yYCBpcyBpbiB0aGUgbmFtZSBhc3N1bWVzIGBudW1Db21wb25lbnRzID0gNGBcbiAqXG4gKiAgICAgb3RoZXJ3aXNlIGFzc3VtZXMgYG51bUNvbXBvbmVudHMgPSAzYFxuICpcbiAqIE9iamVjdHMgd2l0aCB2YXJpb3VzIGZpZWxkcy4gU2VlIHtAbGluayBtb2R1bGU6dHdnbC5GdWxsQXJyYXlTcGVjfS5cbiAqXG4gKiAgICAgdmFyIGFycmF5cyA9IHtcbiAqICAgICAgIHBvc2l0aW9uOiB7IG51bUNvbXBvbmVudHM6IDMsIGRhdGE6IFswLCAwLCAwLCAxMCwgMCwgMCwgMCwgMTAsIDAsIDEwLCAxMCwgMF0sIH0sXG4gKiAgICAgICB0ZXhjb29yZDogeyBudW1Db21wb25lbnRzOiAyLCBkYXRhOiBbMCwgMCwgMCwgMSwgMSwgMCwgMSwgMV0sICAgICAgICAgICAgICAgICB9LFxuICogICAgICAgbm9ybWFsOiAgIHsgbnVtQ29tcG9uZW50czogMywgZGF0YTogWzAsIDAsIDEsIDAsIDAsIDEsIDAsIDAsIDEsIDAsIDAsIDFdLCAgICAgfSxcbiAqICAgICAgIGluZGljZXM6ICB7IG51bUNvbXBvbmVudHM6IDMsIGRhdGE6IFswLCAxLCAyLCAxLCAyLCAzXSwgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgfTtcbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0LjxzdHJpbmcsIG1vZHVsZTp0d2dsLkFycmF5U3BlYz59IEFycmF5c1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBzZXQgb2YgYXR0cmlidXRlIGRhdGEgYW5kIFdlYkdMQnVmZmVycyBmcm9tIHNldCBvZiBhcnJheXNcbiAqXG4gKiBHaXZlblxuICpcbiAqICAgICAgdmFyIGFycmF5cyA9IHtcbiAqICAgICAgICBwb3NpdGlvbjogeyBudW1Db21wb25lbnRzOiAzLCBkYXRhOiBbMCwgMCwgMCwgMTAsIDAsIDAsIDAsIDEwLCAwLCAxMCwgMTAsIDBdLCB9LFxuICogICAgICAgIHRleGNvb3JkOiB7IG51bUNvbXBvbmVudHM6IDIsIGRhdGE6IFswLCAwLCAwLCAxLCAxLCAwLCAxLCAxXSwgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgbm9ybWFsOiAgIHsgbnVtQ29tcG9uZW50czogMywgZGF0YTogWzAsIDAsIDEsIDAsIDAsIDEsIDAsIDAsIDEsIDAsIDAsIDFdLCAgICAgfSxcbiAqICAgICAgICBjb2xvcjogICAgeyBudW1Db21wb25lbnRzOiA0LCBkYXRhOiBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDAsIDAsIDI1NSwgMCwgMCwgMjU1LCAyNTVdLCB0eXBlOiBVaW50OEFycmF5LCB9LFxuICogICAgICAgIGluZGljZXM6ICB7IG51bUNvbXBvbmVudHM6IDMsIGRhdGE6IFswLCAxLCAyLCAxLCAyLCAzXSwgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgIH07XG4gKlxuICogcmV0dXJucyBzb21ldGhpbmcgbGlrZVxuICpcbiAqICAgICAgdmFyIGF0dHJpYnMgPSB7XG4gKiAgICAgICAgcG9zaXRpb246IHsgbnVtQ29tcG9uZW50czogMywgdHlwZTogZ2wuRkxPQVQsICAgICAgICAgbm9ybWFsaXplOiBmYWxzZSwgYnVmZmVyOiBXZWJHTEJ1ZmZlciwgfSxcbiAqICAgICAgICB0ZXhjb29yZDogeyBudW1Db21wb25lbnRzOiAyLCB0eXBlOiBnbC5GTE9BVCwgICAgICAgICBub3JtYWxpemU6IGZhbHNlLCBidWZmZXI6IFdlYkdMQnVmZmVyLCB9LFxuICogICAgICAgIG5vcm1hbDogICB7IG51bUNvbXBvbmVudHM6IDMsIHR5cGU6IGdsLkZMT0FULCAgICAgICAgIG5vcm1hbGl6ZTogZmFsc2UsIGJ1ZmZlcjogV2ViR0xCdWZmZXIsIH0sXG4gKiAgICAgICAgY29sb3I6ICAgIHsgbnVtQ29tcG9uZW50czogNCwgdHlwZTogZ2wuVU5TSUdORURfQllURSwgbm9ybWFsaXplOiB0cnVlLCAgYnVmZmVyOiBXZWJHTEJ1ZmZlciwgfSxcbiAqICAgICAgfTtcbiAqXG4gKiBub3RlczpcbiAqXG4gKiAqICAgQXJyYXlzIGNhbiB0YWtlIHZhcmlvdXMgZm9ybXNcbiAqXG4gKiAgICAgQmFyZSBKYXZhU2NyaXB0IEFycmF5c1xuICpcbiAqICAgICAgICAgdmFyIGFycmF5cyA9IHtcbiAqICAgICAgICAgICAgcG9zaXRpb246IFstMSwgMSwgMF0sXG4gKiAgICAgICAgICAgIG5vcm1hbDogWzAsIDEsIDBdLFxuICogICAgICAgICAgICAuLi5cbiAqICAgICAgICAgfVxuICpcbiAqICAgICBCYXJlIFR5cGVkQXJyYXlzXG4gKlxuICogICAgICAgICB2YXIgYXJyYXlzID0ge1xuICogICAgICAgICAgICBwb3NpdGlvbjogbmV3IEZsb2F0MzJBcnJheShbLTEsIDEsIDBdKSxcbiAqICAgICAgICAgICAgY29sb3I6IG5ldyBVaW50OEFycmF5KFsyNTUsIDEyOCwgNjQsIDI1NV0pLFxuICogICAgICAgICAgICAuLi5cbiAqICAgICAgICAgfVxuICpcbiAqICogICBXaWxsIGd1ZXNzIGF0IGBudW1Db21wb25lbnRzYCBpZiBub3Qgc3BlY2lmaWVkIGJhc2VkIG9uIG5hbWUuXG4gKlxuICogICAgIElmIGBjb29yZGAgaXMgaW4gdGhlIG5hbWUgYXNzdW1lcyBgbnVtQ29tcG9uZW50cyA9IDJgXG4gKlxuICogICAgIElmIGBjb2xvcmAgaXMgaW4gdGhlIG5hbWUgYXNzdW1lcyBgbnVtQ29tcG9uZW50cyA9IDRgXG4gKlxuICogICAgIG90aGVyd2lzZSBhc3N1bWVzIGBudW1Db21wb25lbnRzID0gM2BcbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIHdlYmdsIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5BcnJheXN9IGFycmF5cyBUaGUgYXJyYXlzXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkJ1ZmZlckluZm99IFtzcmNCdWZmZXJJbmZvXSBhIEJ1ZmZlckluZm8gdG8gY29weSBmcm9tXG4gKiAgIFRoaXMgbGV0cyB5b3Ugc2hhcmUgYnVmZmVycy4gQW55IGFycmF5cyB5b3Ugc3VwcGx5IHdpbGwgb3ZlcnJpZGVcbiAqICAgdGhlIGJ1ZmZlcnMgZnJvbSBzcmNCdWZmZXJJbmZvLlxuICogQHJldHVybiB7T2JqZWN0LjxzdHJpbmcsIG1vZHVsZTp0d2dsLkF0dHJpYkluZm8+fSB0aGUgYXR0cmlic1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL2F0dHJpYnV0ZXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXR0cmlic0Zyb21BcnJheXMoZ2wsIGFycmF5cykge1xuICBjb25zdCBhdHRyaWJzID0ge307XG4gIE9iamVjdC5rZXlzKGFycmF5cykuZm9yRWFjaChmdW5jdGlvbihhcnJheU5hbWUpIHtcbiAgICBpZiAoIWlzSW5kaWNlcyhhcnJheU5hbWUpKSB7XG4gICAgICBjb25zdCBhcnJheSA9IGFycmF5c1thcnJheU5hbWVdO1xuICAgICAgY29uc3QgYXR0cmliTmFtZSA9IGFycmF5LmF0dHJpYiB8fCBhcnJheS5uYW1lIHx8IGFycmF5LmF0dHJpYk5hbWUgfHwgKGRlZmF1bHRzLmF0dHJpYlByZWZpeCArIGFycmF5TmFtZSk7XG4gICAgICBpZiAoYXJyYXkudmFsdWUpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5LnZhbHVlKSAmJiAhaXNBcnJheUJ1ZmZlcihhcnJheS52YWx1ZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FycmF5LnZhbHVlIGlzIG5vdCBhcnJheSBvciB0eXBlZGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlic1thdHRyaWJOYW1lXSA9IHtcbiAgICAgICAgICB2YWx1ZTogYXJyYXkudmFsdWUsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgYnVmZmVyO1xuICAgICAgICBsZXQgdHlwZTtcbiAgICAgICAgbGV0IG5vcm1hbGl6YXRpb247XG4gICAgICAgIGxldCBudW1Db21wb25lbnRzO1xuICAgICAgICBpZiAoYXJyYXkuYnVmZmVyICYmIGFycmF5LmJ1ZmZlciBpbnN0YW5jZW9mIFdlYkdMQnVmZmVyKSB7XG4gICAgICAgICAgYnVmZmVyID0gYXJyYXkuYnVmZmVyO1xuICAgICAgICAgIG51bUNvbXBvbmVudHMgPSBhcnJheS5udW1Db21wb25lbnRzIHx8IGFycmF5LnNpemU7XG4gICAgICAgICAgdHlwZSA9IGFycmF5LnR5cGU7XG4gICAgICAgICAgbm9ybWFsaXphdGlvbiA9IGFycmF5Lm5vcm1hbGl6ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJyYXkgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGFycmF5LmRhdGEgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBjb25zdCBudW1WYWx1ZXMgPSBhcnJheS5kYXRhIHx8IGFycmF5O1xuICAgICAgICAgIGNvbnN0IGFycmF5VHlwZSA9IGFycmF5LnR5cGUgfHwgRmxvYXQzMkFycmF5O1xuICAgICAgICAgIGNvbnN0IG51bUJ5dGVzID0gbnVtVmFsdWVzICogYXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgICAgIHR5cGUgPSBnZXRHTFR5cGVGb3JUeXBlZEFycmF5VHlwZShhcnJheVR5cGUpO1xuICAgICAgICAgIG5vcm1hbGl6YXRpb24gPSBhcnJheS5ub3JtYWxpemUgIT09IHVuZGVmaW5lZCA/IGFycmF5Lm5vcm1hbGl6ZSA6IGdldE5vcm1hbGl6YXRpb25Gb3JUeXBlZEFycmF5VHlwZShhcnJheVR5cGUpO1xuICAgICAgICAgIG51bUNvbXBvbmVudHMgPSBhcnJheS5udW1Db21wb25lbnRzIHx8IGFycmF5LnNpemUgfHwgZ3Vlc3NOdW1Db21wb25lbnRzRnJvbU5hbWUoYXJyYXlOYW1lLCBudW1WYWx1ZXMpO1xuICAgICAgICAgIGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICAgIGdsLmJpbmRCdWZmZXIoQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xuICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoQVJSQVlfQlVGRkVSLCBudW1CeXRlcywgYXJyYXkuZHJhd1R5cGUgfHwgU1RBVElDX0RSQVcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHR5cGVkQXJyYXkgPSBtYWtlVHlwZWRBcnJheShhcnJheSwgYXJyYXlOYW1lKTtcbiAgICAgICAgICBidWZmZXIgPSBjcmVhdGVCdWZmZXJGcm9tVHlwZWRBcnJheShnbCwgdHlwZWRBcnJheSwgdW5kZWZpbmVkLCBhcnJheS5kcmF3VHlwZSk7XG4gICAgICAgICAgdHlwZSA9IGdldEdMVHlwZUZvclR5cGVkQXJyYXkodHlwZWRBcnJheSk7XG4gICAgICAgICAgbm9ybWFsaXphdGlvbiA9IGFycmF5Lm5vcm1hbGl6ZSAhPT0gdW5kZWZpbmVkID8gYXJyYXkubm9ybWFsaXplIDogZ2V0Tm9ybWFsaXphdGlvbkZvclR5cGVkQXJyYXkodHlwZWRBcnJheSk7XG4gICAgICAgICAgbnVtQ29tcG9uZW50cyA9IGdldE51bUNvbXBvbmVudHMoYXJyYXksIGFycmF5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlic1thdHRyaWJOYW1lXSA9IHtcbiAgICAgICAgICBidWZmZXI6ICAgICAgICBidWZmZXIsXG4gICAgICAgICAgbnVtQ29tcG9uZW50czogbnVtQ29tcG9uZW50cyxcbiAgICAgICAgICB0eXBlOiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIG5vcm1hbGl6ZTogICAgIG5vcm1hbGl6YXRpb24sXG4gICAgICAgICAgc3RyaWRlOiAgICAgICAgYXJyYXkuc3RyaWRlIHx8IDAsXG4gICAgICAgICAgb2Zmc2V0OiAgICAgICAgYXJyYXkub2Zmc2V0IHx8IDAsXG4gICAgICAgICAgZGl2aXNvcjogICAgICAgYXJyYXkuZGl2aXNvciA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogYXJyYXkuZGl2aXNvcixcbiAgICAgICAgICBkcmF3VHlwZTogICAgICBhcnJheS5kcmF3VHlwZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBnbC5iaW5kQnVmZmVyKEFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gIHJldHVybiBhdHRyaWJzO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGNvbnRlbnRzIG9mIGEgYnVmZmVyIGF0dGFjaGVkIHRvIGFuIGF0dHJpYkluZm9cbiAqXG4gKiBUaGlzIGlzIGhlbHBlciBmdW5jdGlvbiB0byBkeW5hbWljYWxseSB1cGRhdGUgYSBidWZmZXIuXG4gKlxuICogTGV0J3Mgc2F5IHlvdSBtYWtlIGEgYnVmZmVySW5mb1xuICpcbiAqICAgICB2YXIgYXJyYXlzID0ge1xuICogICAgICAgIHBvc2l0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAxMCwgMCwgMCwgMCwgMTAsIDAsIDEwLCAxMCwgMF0pLFxuICogICAgICAgIHRleGNvb3JkOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAxLCAxLCAwLCAxLCAxXSksXG4gKiAgICAgICAgbm9ybWFsOiAgIG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDAsIDEsIDAsIDAsIDEsIDAsIDAsIDFdKSxcbiAqICAgICAgICBpbmRpY2VzOiAgbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAxLCAyLCAzXSksXG4gKiAgICAgfTtcbiAqICAgICB2YXIgYnVmZmVySW5mbyA9IHR3Z2wuY3JlYXRlQnVmZmVySW5mb0Zyb21BcnJheXMoZ2wsIGFycmF5cyk7XG4gKlxuICogIEFuZCB5b3Ugd2FudCB0byBkeW5hbWljYWxseSB1cGRhdGUgdGhlIHBvc2l0aW9ucy4gWW91IGNvdWxkIGRvIHRoaXNcbiAqXG4gKiAgICAgLy8gYXNzdW1pbmcgYXJyYXlzLnBvc2l0aW9uIGhhcyBhbHJlYWR5IGJlZW4gdXBkYXRlZCB3aXRoIG5ldyBkYXRhLlxuICogICAgIHR3Z2wuc2V0QXR0cmliSW5mb0J1ZmZlckZyb21BcnJheShnbCwgYnVmZmVySW5mby5hdHRyaWJzLnBvc2l0aW9uLCBhcnJheXMucG9zaXRpb24pO1xuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuICogQHBhcmFtIHtBdHRyaWJJbmZvfSBhdHRyaWJJbmZvIFRoZSBhdHRyaWJJbmZvIHdobydzIGJ1ZmZlciBjb250ZW50cyB0byBzZXQuIE5PVEU6IElmIHlvdSBoYXZlIGFuIGF0dHJpYnV0ZSBwcmVmaXhcbiAqICAgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB3aWxsIGluY2x1ZGUgdGhlIHByZWZpeC5cbiAqIEBwYXJhbSB7QXJyYXlTcGVjfSBhcnJheSBOb3RlOiBpdCBpcyBhcmd1YWJseSBpbmVmZmljaWVudCB0byBwYXNzIGluIGFueXRoaW5nIGJ1dCBhIHR5cGVkIGFycmF5IGJlY2F1c2UgYW55dGhpbmdcbiAqICAgIGVsc2Ugd2lsbCBoYXZlIHRvIGJlIGNvbnZlcnRlZCB0byBhIHR5cGVkIGFycmF5IGJlZm9yZSBpdCBjYW4gYmUgdXNlZCBieSBXZWJHTC4gRHVyaW5nIGluaXQgdGltZSB0aGF0XG4gKiAgICBpbmVmZmljaWVuY3kgaXMgdXN1YWxseSBub3QgaW1wb3J0YW50IGJ1dCBpZiB5b3UncmUgdXBkYXRpbmcgZGF0YSBkeW5hbWljYWxseSBiZXN0IHRvIGJlIGVmZmljaWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0XSBhbiBvcHRpb25hbCBvZmZzZXQgaW50byB0aGUgYnVmZmVyLiBUaGlzIGlzIG9ubHkgYW4gb2Zmc2V0IGludG8gdGhlIFdlYkdMIGJ1ZmZlclxuICogICAgbm90IHRoZSBhcnJheS4gVG8gcGFzcyBpbiBhbiBvZmZzZXQgaW50byB0aGUgYXJyYXkgaXRzZWxmIHVzZSBhIHR5cGVkIGFycmF5IGFuZCBjcmVhdGUgYW4gYEFycmF5QnVmZmVyVmlld2BcbiAqICAgIGZvciB0aGUgcG9ydGlvbiBvZiB0aGUgYXJyYXkgeW91IHdhbnQgdG8gdXNlLlxuICpcbiAqICAgICAgICB2YXIgc29tZUFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSgxMDAwKTsgLy8gYW4gYXJyYXkgd2l0aCAxMDAwIGZsb2F0c1xuICogICAgICAgIHZhciBzb21lU3ViQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KHNvbWVBcnJheS5idWZmZXIsIG9mZnNldEluQnl0ZXMsIHNpemVJblVuaXRzKTsgLy8gYSB2aWV3IGludG8gc29tZUFycmF5XG4gKlxuICogICAgTm93IHlvdSBjYW4gcGFzcyBgc29tZVN1YkFycmF5YCBpbnRvIHNldEF0dHJpYkluZm9CdWZmZXJGcm9tQXJyYXlgXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvYXR0cmlidXRlc1xuICovXG5mdW5jdGlvbiBzZXRBdHRyaWJJbmZvQnVmZmVyRnJvbUFycmF5KGdsLCBhdHRyaWJJbmZvLCBhcnJheSwgb2Zmc2V0KSB7XG4gIGFycmF5ID0gbWFrZVR5cGVkQXJyYXkoYXJyYXkpO1xuICBpZiAob2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBnbC5iaW5kQnVmZmVyKEFSUkFZX0JVRkZFUiwgYXR0cmliSW5mby5idWZmZXIpO1xuICAgIGdsLmJ1ZmZlclN1YkRhdGEoQVJSQVlfQlVGRkVSLCBvZmZzZXQsIGFycmF5KTtcbiAgfSBlbHNlIHtcbiAgICBzZXRCdWZmZXJGcm9tVHlwZWRBcnJheShnbCwgQVJSQVlfQlVGRkVSLCBhdHRyaWJJbmZvLmJ1ZmZlciwgYXJyYXksIGF0dHJpYkluZm8uZHJhd1R5cGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEJ5dGVzUGVyVmFsdWVGb3JHTFR5cGUoZ2wsIHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09IEJZVEUkMSkgICAgICAgICAgIHJldHVybiAxOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBpZiAodHlwZSA9PT0gVU5TSUdORURfQllURSQxKSAgcmV0dXJuIDE7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmICh0eXBlID09PSBTSE9SVCQxKSAgICAgICAgICByZXR1cm4gMjsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgaWYgKHR5cGUgPT09IFVOU0lHTkVEX1NIT1JUJDEpIHJldHVybiAyOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICBpZiAodHlwZSA9PT0gSU5UJDEpICAgICAgICAgICAgcmV0dXJuIDQ7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmICh0eXBlID09PSBVTlNJR05FRF9JTlQkMSkgICByZXR1cm4gNDsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgaWYgKHR5cGUgPT09IEZMT0FUJDEpICAgICAgICAgIHJldHVybiA0OyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICByZXR1cm4gMDtcbn1cblxuLy8gVHJpZXMgdG8gZ2V0IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgZnJvbSBhIHNldCBvZiBhcnJheXMuXG5jb25zdCBwb3NpdGlvbktleXMgPSBbJ3Bvc2l0aW9uJywgJ3Bvc2l0aW9ucycsICdhX3Bvc2l0aW9uJ107XG5mdW5jdGlvbiBnZXROdW1FbGVtZW50c0Zyb21Ob25JbmRleGVkQXJyYXlzKGFycmF5cykge1xuICBsZXQga2V5O1xuICBsZXQgaWk7XG4gIGZvciAoaWkgPSAwOyBpaSA8IHBvc2l0aW9uS2V5cy5sZW5ndGg7ICsraWkpIHtcbiAgICBrZXkgPSBwb3NpdGlvbktleXNbaWldO1xuICAgIGlmIChrZXkgaW4gYXJyYXlzKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKGlpID09PSBwb3NpdGlvbktleXMubGVuZ3RoKSB7XG4gICAga2V5ID0gT2JqZWN0LmtleXMoYXJyYXlzKVswXTtcbiAgfVxuICBjb25zdCBhcnJheSA9IGFycmF5c1trZXldO1xuICBjb25zdCBsZW5ndGggPSBnZXRBcnJheShhcnJheSkubGVuZ3RoO1xuICBjb25zdCBudW1Db21wb25lbnRzID0gZ2V0TnVtQ29tcG9uZW50cyhhcnJheSwga2V5KTtcbiAgY29uc3QgbnVtRWxlbWVudHMgPSBsZW5ndGggLyBudW1Db21wb25lbnRzO1xuICBpZiAobGVuZ3RoICUgbnVtQ29tcG9uZW50cyA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYG51bUNvbXBvbmVudHMgJHtudW1Db21wb25lbnRzfSBub3QgY29ycmVjdCBmb3IgbGVuZ3RoICR7bGVuZ3RofWApO1xuICB9XG4gIHJldHVybiBudW1FbGVtZW50cztcbn1cblxuZnVuY3Rpb24gZ2V0TnVtRWxlbWVudHNGcm9tQXR0cmlidXRlcyhnbCwgYXR0cmlicykge1xuICBsZXQga2V5O1xuICBsZXQgaWk7XG4gIGZvciAoaWkgPSAwOyBpaSA8IHBvc2l0aW9uS2V5cy5sZW5ndGg7ICsraWkpIHtcbiAgICBrZXkgPSBwb3NpdGlvbktleXNbaWldO1xuICAgIGlmIChrZXkgaW4gYXR0cmlicykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGtleSA9IGRlZmF1bHRzLmF0dHJpYlByZWZpeCArIGtleTtcbiAgICBpZiAoa2V5IGluIGF0dHJpYnMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoaWkgPT09IHBvc2l0aW9uS2V5cy5sZW5ndGgpIHtcbiAgICBrZXkgPSBPYmplY3Qua2V5cyhhdHRyaWJzKVswXTtcbiAgfVxuICBjb25zdCBhdHRyaWIgPSBhdHRyaWJzW2tleV07XG4gIGdsLmJpbmRCdWZmZXIoQVJSQVlfQlVGRkVSLCBhdHRyaWIuYnVmZmVyKTtcbiAgY29uc3QgbnVtQnl0ZXMgPSBnbC5nZXRCdWZmZXJQYXJhbWV0ZXIoQVJSQVlfQlVGRkVSLCBCVUZGRVJfU0laRSk7XG4gIGdsLmJpbmRCdWZmZXIoQVJSQVlfQlVGRkVSLCBudWxsKTtcblxuICBjb25zdCBieXRlc1BlclZhbHVlID0gZ2V0Qnl0ZXNQZXJWYWx1ZUZvckdMVHlwZShnbCwgYXR0cmliLnR5cGUpO1xuICBjb25zdCB0b3RhbEVsZW1lbnRzID0gbnVtQnl0ZXMgLyBieXRlc1BlclZhbHVlO1xuICBjb25zdCBudW1Db21wb25lbnRzID0gYXR0cmliLm51bUNvbXBvbmVudHMgfHwgYXR0cmliLnNpemU7XG4gIC8vIFRPRE86IGNoZWNrIHN0cmlkZVxuICBjb25zdCBudW1FbGVtZW50cyA9IHRvdGFsRWxlbWVudHMgLyBudW1Db21wb25lbnRzO1xuICBpZiAobnVtRWxlbWVudHMgJSAxICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBudW1Db21wb25lbnRzICR7bnVtQ29tcG9uZW50c30gbm90IGNvcnJlY3QgZm9yIGxlbmd0aCAke2xlbmd0aH1gKTtcbiAgfVxuICByZXR1cm4gbnVtRWxlbWVudHM7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQnVmZmVySW5mb1xuICogQHByb3BlcnR5IHtudW1iZXJ9IG51bUVsZW1lbnRzIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gcGFzcyB0byBgZ2wuZHJhd0FycmF5c2Agb3IgYGdsLmRyYXdFbGVtZW50c2AuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2VsZW1lbnRUeXBlXSBUaGUgdHlwZSBvZiBpbmRpY2VzIGBVTlNJR05FRF9CWVRFYCwgYFVOU0lHTkVEX1NIT1JUYCBldGMuLlxuICogQHByb3BlcnR5IHtXZWJHTEJ1ZmZlcn0gW2luZGljZXNdIFRoZSBpbmRpY2VzIGBFTEVNRU5UX0FSUkFZX0JVRkZFUmAgaWYgYW55IGluZGljZXMgZXhpc3QuXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBtb2R1bGU6dHdnbC5BdHRyaWJJbmZvPn0gW2F0dHJpYnNdIFRoZSBhdHRyaWJzIGFwcHJvcHJpYXRlIHRvIGNhbGwgYHNldEF0dHJpYnV0ZXNgXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBCdWZmZXJJbmZvIGZyb20gYW4gb2JqZWN0IG9mIGFycmF5cy5cbiAqXG4gKiBUaGlzIGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG1vZHVsZTp0d2dsLnNldEJ1ZmZlcnNBbmRBdHRyaWJ1dGVzfSBhbmQgdG9cbiAqIHtAbGluayBtb2R1bGU6dHdnbDpkcmF3QnVmZmVySW5mb30uXG4gKlxuICogR2l2ZW4gYW4gb2JqZWN0IGxpa2VcbiAqXG4gKiAgICAgdmFyIGFycmF5cyA9IHtcbiAqICAgICAgIHBvc2l0aW9uOiB7IG51bUNvbXBvbmVudHM6IDMsIGRhdGE6IFswLCAwLCAwLCAxMCwgMCwgMCwgMCwgMTAsIDAsIDEwLCAxMCwgMF0sIH0sXG4gKiAgICAgICB0ZXhjb29yZDogeyBudW1Db21wb25lbnRzOiAyLCBkYXRhOiBbMCwgMCwgMCwgMSwgMSwgMCwgMSwgMV0sICAgICAgICAgICAgICAgICB9LFxuICogICAgICAgbm9ybWFsOiAgIHsgbnVtQ29tcG9uZW50czogMywgZGF0YTogWzAsIDAsIDEsIDAsIDAsIDEsIDAsIDAsIDEsIDAsIDAsIDFdLCAgICAgfSxcbiAqICAgICAgIGluZGljZXM6ICB7IG51bUNvbXBvbmVudHM6IDMsIGRhdGE6IFswLCAxLCAyLCAxLCAyLCAzXSwgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgfTtcbiAqXG4gKiAgQ3JlYXRlcyBhbiBCdWZmZXJJbmZvIGxpa2UgdGhpc1xuICpcbiAqICAgICBidWZmZXJJbmZvID0ge1xuICogICAgICAgbnVtRWxlbWVudHM6IDQsICAgICAgICAvLyBvciB3aGF0ZXZlciB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGlzXG4gKiAgICAgICBpbmRpY2VzOiBXZWJHTEJ1ZmZlciwgIC8vIHRoaXMgcHJvcGVydHkgd2lsbCBub3QgZXhpc3QgaWYgdGhlcmUgYXJlIG5vIGluZGljZXNcbiAqICAgICAgIGF0dHJpYnM6IHtcbiAqICAgICAgICAgcG9zaXRpb246IHsgYnVmZmVyOiBXZWJHTEJ1ZmZlciwgbnVtQ29tcG9uZW50czogMywgfSxcbiAqICAgICAgICAgbm9ybWFsOiAgIHsgYnVmZmVyOiBXZWJHTEJ1ZmZlciwgbnVtQ29tcG9uZW50czogMywgfSxcbiAqICAgICAgICAgdGV4Y29vcmQ6IHsgYnVmZmVyOiBXZWJHTEJ1ZmZlciwgbnVtQ29tcG9uZW50czogMiwgfSxcbiAqICAgICAgIH0sXG4gKiAgICAgfTtcbiAqXG4gKiAgVGhlIHByb3BlcnRpZXMgb2YgYXJyYXlzIGNhbiBiZSBKYXZhU2NyaXB0IGFycmF5cyBpbiB3aGljaCBjYXNlIHRoZSBudW1iZXIgb2YgY29tcG9uZW50c1xuICogIHdpbGwgYmUgZ3Vlc3NlZC5cbiAqXG4gKiAgICAgdmFyIGFycmF5cyA9IHtcbiAqICAgICAgICBwb3NpdGlvbjogWzAsIDAsIDAsIDEwLCAwLCAwLCAwLCAxMCwgMCwgMTAsIDEwLCAwXSxcbiAqICAgICAgICB0ZXhjb29yZDogWzAsIDAsIDAsIDEsIDEsIDAsIDEsIDFdLFxuICogICAgICAgIG5vcm1hbDogICBbMCwgMCwgMSwgMCwgMCwgMSwgMCwgMCwgMSwgMCwgMCwgMV0sXG4gKiAgICAgICAgaW5kaWNlczogIFswLCAxLCAyLCAxLCAyLCAzXSxcbiAqICAgICB9O1xuICpcbiAqICBUaGV5IGNhbiBhbHNvIGJlIFR5cGVkQXJyYXlzXG4gKlxuICogICAgIHZhciBhcnJheXMgPSB7XG4gKiAgICAgICAgcG9zaXRpb246IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDAsIDEwLCAwLCAwLCAwLCAxMCwgMCwgMTAsIDEwLCAwXSksXG4gKiAgICAgICAgdGV4Y29vcmQ6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDAsIDEsIDEsIDAsIDEsIDFdKSxcbiAqICAgICAgICBub3JtYWw6ICAgbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMCwgMSwgMCwgMCwgMSwgMCwgMCwgMV0pLFxuICogICAgICAgIGluZGljZXM6ICBuZXcgVWludDE2QXJyYXkoWzAsIDEsIDIsIDEsIDIsIDNdKSxcbiAqICAgICB9O1xuICpcbiAqICBPciBBdWdtZW50ZWRUeXBlZEFycmF5c1xuICpcbiAqICAgICB2YXIgcG9zaXRpb25zID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCA0KTtcbiAqICAgICB2YXIgdGV4Y29vcmRzID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgyLCA0KTtcbiAqICAgICB2YXIgbm9ybWFscyAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCA0KTtcbiAqICAgICB2YXIgaW5kaWNlcyAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCAyLCBVaW50MTZBcnJheSk7XG4gKlxuICogICAgIHBvc2l0aW9ucy5wdXNoKFswLCAwLCAwLCAxMCwgMCwgMCwgMCwgMTAsIDAsIDEwLCAxMCwgMF0pO1xuICogICAgIHRleGNvb3Jkcy5wdXNoKFswLCAwLCAwLCAxLCAxLCAwLCAxLCAxXSk7XG4gKiAgICAgbm9ybWFscy5wdXNoKFswLCAwLCAxLCAwLCAwLCAxLCAwLCAwLCAxLCAwLCAwLCAxXSk7XG4gKiAgICAgaW5kaWNlcy5wdXNoKFswLCAxLCAyLCAxLCAyLCAzXSk7XG4gKlxuICogICAgIHZhciBhcnJheXMgPSB7XG4gKiAgICAgICAgcG9zaXRpb246IHBvc2l0aW9ucyxcbiAqICAgICAgICB0ZXhjb29yZDogdGV4Y29vcmRzLFxuICogICAgICAgIG5vcm1hbDogICBub3JtYWxzLFxuICogICAgICAgIGluZGljZXM6ICBpbmRpY2VzLFxuICogICAgIH07XG4gKlxuICogRm9yIHRoZSBsYXN0IGV4YW1wbGUgaXQgaXMgZXF1aXZhbGVudCB0b1xuICpcbiAqICAgICB2YXIgYnVmZmVySW5mbyA9IHtcbiAqICAgICAgIGF0dHJpYnM6IHtcbiAqICAgICAgICAgcG9zaXRpb246IHsgbnVtQ29tcG9uZW50czogMywgYnVmZmVyOiBnbC5jcmVhdGVCdWZmZXIoKSwgfSxcbiAqICAgICAgICAgdGV4Y29vcmQ6IHsgbnVtQ29tcG9uZW50czogMiwgYnVmZmVyOiBnbC5jcmVhdGVCdWZmZXIoKSwgfSxcbiAqICAgICAgICAgbm9ybWFsOiB7IG51bUNvbXBvbmVudHM6IDMsIGJ1ZmZlcjogZ2wuY3JlYXRlQnVmZmVyKCksIH0sXG4gKiAgICAgICB9LFxuICogICAgICAgaW5kaWNlczogZ2wuY3JlYXRlQnVmZmVyKCksXG4gKiAgICAgICBudW1FbGVtZW50czogNixcbiAqICAgICB9O1xuICpcbiAqICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVySW5mby5hdHRyaWJzLnBvc2l0aW9uLmJ1ZmZlcik7XG4gKiAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFycmF5cy5wb3NpdGlvbiwgZ2wuU1RBVElDX0RSQVcpO1xuICogICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXJJbmZvLmF0dHJpYnMudGV4Y29vcmQuYnVmZmVyKTtcbiAqICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgYXJyYXlzLnRleGNvb3JkLCBnbC5TVEFUSUNfRFJBVyk7XG4gKiAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlckluZm8uYXR0cmlicy5ub3JtYWwuYnVmZmVyKTtcbiAqICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgYXJyYXlzLm5vcm1hbCwgZ2wuU1RBVElDX0RSQVcpO1xuICogICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGJ1ZmZlckluZm8uaW5kaWNlcyk7XG4gKiAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgYXJyYXlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgQSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuQXJyYXlzfSBhcnJheXMgWW91ciBkYXRhXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkJ1ZmZlckluZm99IFtzcmNCdWZmZXJJbmZvXSBBbiBleGlzdGluZ1xuICogICAgICAgIGJ1ZmZlciBpbmZvIHRvIHN0YXJ0IGZyb20uIFdlYkdMQnVmZmVycyBldGMgc3BlY2lmaWVkXG4gKiAgICAgICAgaW4gdGhlIHNyY0J1ZmZlckluZm8gd2lsbCBiZSB1c2VkIGluIGEgbmV3IEJ1ZmZlckluZm9cbiAqICAgICAgICB3aXRoIGFueSBhcnJheXMgc3BlY2lmaWVkIG92ZXJyaWRpbmcgdGhlIG9uZXMgaW5cbiAqICAgICAgICBzcmNCdWZmZXJJbmZvLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuQnVmZmVySW5mb30gQSBCdWZmZXJJbmZvXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvYXR0cmlidXRlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXJJbmZvRnJvbUFycmF5cyhnbCwgYXJyYXlzLCBzcmNCdWZmZXJJbmZvKSB7XG4gIGNvbnN0IG5ld0F0dHJpYnMgPSBjcmVhdGVBdHRyaWJzRnJvbUFycmF5cyhnbCwgYXJyYXlzKTtcbiAgY29uc3QgYnVmZmVySW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIHNyY0J1ZmZlckluZm8gPyBzcmNCdWZmZXJJbmZvIDoge30pO1xuICBidWZmZXJJbmZvLmF0dHJpYnMgPSBPYmplY3QuYXNzaWduKHt9LCBzcmNCdWZmZXJJbmZvID8gc3JjQnVmZmVySW5mby5hdHRyaWJzIDoge30sIG5ld0F0dHJpYnMpO1xuICBjb25zdCBpbmRpY2VzID0gYXJyYXlzLmluZGljZXM7XG4gIGlmIChpbmRpY2VzKSB7XG4gICAgY29uc3QgbmV3SW5kaWNlcyA9IG1ha2VUeXBlZEFycmF5KGluZGljZXMsIFwiaW5kaWNlc1wiKTtcbiAgICBidWZmZXJJbmZvLmluZGljZXMgPSBjcmVhdGVCdWZmZXJGcm9tVHlwZWRBcnJheShnbCwgbmV3SW5kaWNlcywgRUxFTUVOVF9BUlJBWV9CVUZGRVIpO1xuICAgIGJ1ZmZlckluZm8ubnVtRWxlbWVudHMgPSBuZXdJbmRpY2VzLmxlbmd0aDtcbiAgICBidWZmZXJJbmZvLmVsZW1lbnRUeXBlID0gZ2V0R0xUeXBlRm9yVHlwZWRBcnJheShuZXdJbmRpY2VzKTtcbiAgfSBlbHNlIGlmICghYnVmZmVySW5mby5udW1FbGVtZW50cykge1xuICAgIGJ1ZmZlckluZm8ubnVtRWxlbWVudHMgPSBnZXROdW1FbGVtZW50c0Zyb21BdHRyaWJ1dGVzKGdsLCBidWZmZXJJbmZvLmF0dHJpYnMpO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlckluZm87XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGJ1ZmZlciBmcm9tIGFuIGFycmF5LCB0eXBlZCBhcnJheSwgb3IgYXJyYXkgc3BlY1xuICpcbiAqIEdpdmVuIHNvbWV0aGluZyBsaWtlIHRoaXNcbiAqXG4gKiAgICAgWzEsIDIsIDNdLFxuICpcbiAqIG9yXG4gKlxuICogICAgIG5ldyBVaW50MTZBcnJheShbMSwyLDNdKTtcbiAqXG4gKiBvclxuICpcbiAqICAgICB7XG4gKiAgICAgICAgZGF0YTogWzEsIDIsIDNdLFxuICogICAgICAgIHR5cGU6IFVpbnQ4QXJyYXksXG4gKiAgICAgfVxuICpcbiAqIHJldHVybnMgYSBXZWJHTEJ1ZmZlciB0aGF0IGNvbnRhaW5zIHRoZSBnaXZlbiBkYXRhLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBBIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuQXJyYXlTcGVjfSBhcnJheSBhbiBhcnJheSwgdHlwZWQgYXJyYXksIG9yIGFycmF5IHNwZWMuXG4gKiBAcGFyYW0ge3N0cmluZ30gYXJyYXlOYW1lIG5hbWUgb2YgYXJyYXkuIFVzZWQgdG8gZ3Vlc3MgdGhlIHR5cGUgaWYgdHlwZSBjYW4gbm90IGJlIGRlcml2ZWQgb3RoZXJ3aXNlLlxuICogQHJldHVybiB7V2ViR0xCdWZmZXJ9IGEgV2ViR0xCdWZmZXIgY29udGFpbmluZyB0aGUgZGF0YSBpbiBhcnJheS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9hdHRyaWJ1dGVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlckZyb21BcnJheShnbCwgYXJyYXksIGFycmF5TmFtZSkge1xuICBjb25zdCB0eXBlID0gYXJyYXlOYW1lID09PSBcImluZGljZXNcIiA/IEVMRU1FTlRfQVJSQVlfQlVGRkVSIDogQVJSQVlfQlVGRkVSO1xuICBjb25zdCB0eXBlZEFycmF5ID0gbWFrZVR5cGVkQXJyYXkoYXJyYXksIGFycmF5TmFtZSk7XG4gIHJldHVybiBjcmVhdGVCdWZmZXJGcm9tVHlwZWRBcnJheShnbCwgdHlwZWRBcnJheSwgdHlwZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBidWZmZXJzIGZyb20gYXJyYXlzIG9yIHR5cGVkIGFycmF5c1xuICpcbiAqIEdpdmVuIHNvbWV0aGluZyBsaWtlIHRoaXNcbiAqXG4gKiAgICAgdmFyIGFycmF5cyA9IHtcbiAqICAgICAgICBwb3NpdGlvbnM6IFsxLCAyLCAzXSxcbiAqICAgICAgICBub3JtYWxzOiBbMCwgMCwgMV0sXG4gKiAgICAgfVxuICpcbiAqIHJldHVybnMgc29tZXRoaW5nIGxpa2VcbiAqXG4gKiAgICAgYnVmZmVycyA9IHtcbiAqICAgICAgIHBvc2l0aW9uczogV2ViR0xCdWZmZXIsXG4gKiAgICAgICBub3JtYWxzOiBXZWJHTEJ1ZmZlcixcbiAqICAgICB9XG4gKlxuICogSWYgdGhlIGJ1ZmZlciBpcyBuYW1lZCAnaW5kaWNlcycgaXQgd2lsbCBiZSBtYWRlIGFuIEVMRU1FTlRfQVJSQVlfQlVGRkVSLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBBIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuQXJyYXlzfSBhcnJheXNcbiAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsIFdlYkdMQnVmZmVyPn0gcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBvbmUgV2ViR0xCdWZmZXIgcGVyIGFycmF5XG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvYXR0cmlidXRlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXJzRnJvbUFycmF5cyhnbCwgYXJyYXlzKSB7XG4gIGNvbnN0IGJ1ZmZlcnMgPSB7IH07XG4gIE9iamVjdC5rZXlzKGFycmF5cykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBidWZmZXJzW2tleV0gPSBjcmVhdGVCdWZmZXJGcm9tQXJyYXkoZ2wsIGFycmF5c1trZXldLCBrZXkpO1xuICB9KTtcblxuICAvLyBVZ2ghXG4gIGlmIChhcnJheXMuaW5kaWNlcykge1xuICAgIGJ1ZmZlcnMubnVtRWxlbWVudHMgPSBhcnJheXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgYnVmZmVycy5lbGVtZW50VHlwZSA9IGdldEdMVHlwZUZvclR5cGVkQXJyYXkobWFrZVR5cGVkQXJyYXkoYXJyYXlzLmluZGljZXMpKTtcbiAgfSBlbHNlIHtcbiAgICBidWZmZXJzLm51bUVsZW1lbnRzID0gZ2V0TnVtRWxlbWVudHNGcm9tTm9uSW5kZXhlZEFycmF5cyhhcnJheXMpO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlcnM7XG59XG5cbnZhciBhdHRyaWJ1dGVzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGNyZWF0ZUF0dHJpYnNGcm9tQXJyYXlzOiBjcmVhdGVBdHRyaWJzRnJvbUFycmF5cyxcbiAgY3JlYXRlQnVmZmVyc0Zyb21BcnJheXM6IGNyZWF0ZUJ1ZmZlcnNGcm9tQXJyYXlzLFxuICBjcmVhdGVCdWZmZXJGcm9tQXJyYXk6IGNyZWF0ZUJ1ZmZlckZyb21BcnJheSxcbiAgY3JlYXRlQnVmZmVyRnJvbVR5cGVkQXJyYXk6IGNyZWF0ZUJ1ZmZlckZyb21UeXBlZEFycmF5LFxuICBjcmVhdGVCdWZmZXJJbmZvRnJvbUFycmF5czogY3JlYXRlQnVmZmVySW5mb0Zyb21BcnJheXMsXG4gIHNldEF0dHJpYkluZm9CdWZmZXJGcm9tQXJyYXk6IHNldEF0dHJpYkluZm9CdWZmZXJGcm9tQXJyYXksXG4gIHNldEF0dHJpYnV0ZVByZWZpeDogc2V0QXR0cmlidXRlUHJlZml4LFxuICBzZXRBdHRyaWJ1dGVEZWZhdWx0c186IHNldERlZmF1bHRzLFxuICBnZXROdW1Db21wb25lbnRzXzogZ2V0TnVtQ29tcG9uZW50cyxcbiAgZ2V0QXJyYXlfOiBnZXRBcnJheVxufSk7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuY29uc3QgZ2V0QXJyYXkkMSA9IGdldEFycmF5OyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuY29uc3QgZ2V0TnVtQ29tcG9uZW50cyQxID0gZ2V0TnVtQ29tcG9uZW50czsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuLyoqXG4gKiBAdHlwZWRlZiB7KEludDhBcnJheXxVaW50OEFycmF5fEludDE2QXJyYXl8VWludDE2QXJyYXl8SW50MzJBcnJheXxVaW50MzJBcnJheXxGbG9hdDMyQXJyYXkpfSBUeXBlZEFycmF5XG4gKi9cblxuLyoqXG4gKiBBZGQgYHB1c2hgIHRvIGEgdHlwZWQgYXJyYXkuIEl0IGp1c3Qga2VlcHMgYSAnY3Vyc29yJ1xuICogYW5kIGFsbG93cyB1c2UgdG8gYHB1c2hgIHZhbHVlcyBpbnRvIHRoZSBhcnJheSBzbyB3ZVxuICogZG9uJ3QgaGF2ZSB0byBtYW51YWxseSBjb21wdXRlIG9mZnNldHNcbiAqIEBwYXJhbSB7VHlwZWRBcnJheX0gdHlwZWRBcnJheSBUeXBlZEFycmF5IHRvIGF1Z21lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1Db21wb25lbnRzIG51bWJlciBvZiBjb21wb25lbnRzLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYXVnbWVudFR5cGVkQXJyYXkodHlwZWRBcnJheSwgbnVtQ29tcG9uZW50cykge1xuICBsZXQgY3Vyc29yID0gMDtcbiAgdHlwZWRBcnJheS5wdXNoID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gYXJndW1lbnRzW2lpXTtcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5IHx8IGlzQXJyYXlCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCB2YWx1ZS5sZW5ndGg7ICsramopIHtcbiAgICAgICAgICB0eXBlZEFycmF5W2N1cnNvcisrXSA9IHZhbHVlW2pqXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZWRBcnJheVtjdXJzb3IrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHR5cGVkQXJyYXkucmVzZXQgPSBmdW5jdGlvbihvcHRfaW5kZXgpIHtcbiAgICBjdXJzb3IgPSBvcHRfaW5kZXggfHwgMDtcbiAgfTtcbiAgdHlwZWRBcnJheS5udW1Db21wb25lbnRzID0gbnVtQ29tcG9uZW50cztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGVkQXJyYXksICdudW1FbGVtZW50cycsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoIC8gdGhpcy5udW1Db21wb25lbnRzIHwgMDtcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIHR5cGVkQXJyYXk7XG59XG5cbi8qKlxuICogY3JlYXRlcyBhIHR5cGVkIGFycmF5IHdpdGggYSBgcHVzaGAgZnVuY3Rpb24gYXR0YWNoZWRcbiAqIHNvIHRoYXQgeW91IGNhbiBlYXNpbHkgKnB1c2gqIHZhbHVlcy5cbiAqXG4gKiBgcHVzaGAgY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzLiBJZiBhbiBhcmd1bWVudCBpcyBhbiBhcnJheSBlYWNoIGVsZW1lbnRcbiAqIG9mIHRoZSBhcnJheSB3aWxsIGJlIGFkZGVkIHRvIHRoZSB0eXBlZCBhcnJheS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBjb25zdCBhcnJheSA9IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoMywgMik7ICAvLyBjcmVhdGVzIGEgRmxvYXQzMkFycmF5IHdpdGggNiB2YWx1ZXNcbiAqICAgICBhcnJheS5wdXNoKDEsIDIsIDMpO1xuICogICAgIGFycmF5LnB1c2goWzQsIDUsIDZdKTtcbiAqICAgICAvLyBhcnJheSBub3cgY29udGFpbnMgWzEsIDIsIDMsIDQsIDUsIDZdXG4gKlxuICogQWxzbyBoYXMgYG51bUNvbXBvbmVudHNgIGFuZCBgbnVtRWxlbWVudHNgIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG51bUNvbXBvbmVudHMgbnVtYmVyIG9mIGNvbXBvbmVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1FbGVtZW50cyBudW1iZXIgb2YgZWxlbWVudHMuIFRoZSB0b3RhbCBzaXplIG9mIHRoZSBhcnJheSB3aWxsIGJlIGBudW1Db21wb25lbnRzICogbnVtRWxlbWVudHNgLlxuICogQHBhcmFtIHtjb25zdHJ1Y3Rvcn0gb3B0X3R5cGUgQSBjb25zdHJ1Y3RvciBmb3IgdGhlIHR5cGUuIERlZmF1bHQgPSBgRmxvYXQzMkFycmF5YC5cbiAqIEByZXR1cm4ge0FycmF5QnVmZmVyVmlld30gQSB0eXBlZCBhcnJheS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkobnVtQ29tcG9uZW50cywgbnVtRWxlbWVudHMsIG9wdF90eXBlKSB7XG4gIGNvbnN0IFR5cGUgPSBvcHRfdHlwZSB8fCBGbG9hdDMyQXJyYXk7XG4gIHJldHVybiBhdWdtZW50VHlwZWRBcnJheShuZXcgVHlwZShudW1Db21wb25lbnRzICogbnVtRWxlbWVudHMpLCBudW1Db21wb25lbnRzKTtcbn1cblxuZnVuY3Rpb24gYWxsQnV0SW5kaWNlcyhuYW1lKSB7XG4gIHJldHVybiBuYW1lICE9PSBcImluZGljZXNcIjtcbn1cblxuLyoqXG4gKiBHaXZlbiBpbmRleGVkIHZlcnRpY2VzIGNyZWF0ZXMgYSBuZXcgc2V0IG9mIHZlcnRpY2VzIHVuLWluZGV4ZWQgYnkgZXhwYW5kaW5nIHRoZSBpbmRleGVkIHZlcnRpY2VzLlxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgVHlwZWRBcnJheT59IHZlcnRpY2VzIFRoZSBpbmRleGVkIHZlcnRpY2VzIHRvIGRlaW5kZXhcbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBUeXBlZEFycmF5Pn0gVGhlIGRlaW5kZXhlZCB2ZXJ0aWNlc1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqL1xuZnVuY3Rpb24gZGVpbmRleFZlcnRpY2VzKHZlcnRpY2VzKSB7XG4gIGNvbnN0IGluZGljZXMgPSB2ZXJ0aWNlcy5pbmRpY2VzO1xuICBjb25zdCBuZXdWZXJ0aWNlcyA9IHt9O1xuICBjb25zdCBudW1FbGVtZW50cyA9IGluZGljZXMubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGV4cGFuZFRvVW5pbmRleGVkKGNoYW5uZWwpIHtcbiAgICBjb25zdCBzcmNCdWZmZXIgPSB2ZXJ0aWNlc1tjaGFubmVsXTtcbiAgICBjb25zdCBudW1Db21wb25lbnRzID0gc3JjQnVmZmVyLm51bUNvbXBvbmVudHM7XG4gICAgY29uc3QgZHN0QnVmZmVyID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheShudW1Db21wb25lbnRzLCBudW1FbGVtZW50cywgc3JjQnVmZmVyLmNvbnN0cnVjdG9yKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbnVtRWxlbWVudHM7ICsraWkpIHtcbiAgICAgIGNvbnN0IG5keCA9IGluZGljZXNbaWldO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gbmR4ICogbnVtQ29tcG9uZW50cztcbiAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCBudW1Db21wb25lbnRzOyArK2pqKSB7XG4gICAgICAgIGRzdEJ1ZmZlci5wdXNoKHNyY0J1ZmZlcltvZmZzZXQgKyBqal0pO1xuICAgICAgfVxuICAgIH1cbiAgICBuZXdWZXJ0aWNlc1tjaGFubmVsXSA9IGRzdEJ1ZmZlcjtcbiAgfVxuXG4gIE9iamVjdC5rZXlzKHZlcnRpY2VzKS5maWx0ZXIoYWxsQnV0SW5kaWNlcykuZm9yRWFjaChleHBhbmRUb1VuaW5kZXhlZCk7XG5cbiAgcmV0dXJuIG5ld1ZlcnRpY2VzO1xufVxuXG4vKipcbiAqIGZsYXR0ZW5zIHRoZSBub3JtYWxzIG9mIGRlaW5kZXhlZCB2ZXJ0aWNlcyBpbiBwbGFjZS5cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFR5cGVkQXJyYXk+fSB2ZXJ0aWNlcyBUaGUgZGVpbmRleGVkIHZlcnRpY2VzIHdobydzIG5vcm1hbHMgdG8gZmxhdHRlblxuICogQHJldHVybiB7T2JqZWN0LjxzdHJpbmcsIFR5cGVkQXJyYXk+fSBUaGUgZmxhdHRlbmVkIHZlcnRpY2VzIChzYW1lIGFzIHdhcyBwYXNzZWQgaW4pXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICovXG5mdW5jdGlvbiBmbGF0dGVuTm9ybWFscyh2ZXJ0aWNlcykge1xuICBpZiAodmVydGljZXMuaW5kaWNlcykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FuIG5vdCBmbGF0dGVuIG5vcm1hbHMgb2YgaW5kZXhlZCB2ZXJ0aWNlcy4gZGVpbmRleCB0aGVtIGZpcnN0Jyk7XG4gIH1cblxuICBjb25zdCBub3JtYWxzID0gdmVydGljZXMubm9ybWFsO1xuICBjb25zdCBudW1Ob3JtYWxzID0gbm9ybWFscy5sZW5ndGg7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBudW1Ob3JtYWxzOyBpaSArPSA5KSB7XG4gICAgLy8gcHVsbCBvdXQgdGhlIDMgbm9ybWFscyBmb3IgdGhpcyB0cmlhbmdsZVxuICAgIGNvbnN0IG5heCA9IG5vcm1hbHNbaWkgKyAwXTtcbiAgICBjb25zdCBuYXkgPSBub3JtYWxzW2lpICsgMV07XG4gICAgY29uc3QgbmF6ID0gbm9ybWFsc1tpaSArIDJdO1xuXG4gICAgY29uc3QgbmJ4ID0gbm9ybWFsc1tpaSArIDNdO1xuICAgIGNvbnN0IG5ieSA9IG5vcm1hbHNbaWkgKyA0XTtcbiAgICBjb25zdCBuYnogPSBub3JtYWxzW2lpICsgNV07XG5cbiAgICBjb25zdCBuY3ggPSBub3JtYWxzW2lpICsgNl07XG4gICAgY29uc3QgbmN5ID0gbm9ybWFsc1tpaSArIDddO1xuICAgIGNvbnN0IG5jeiA9IG5vcm1hbHNbaWkgKyA4XTtcblxuICAgIC8vIGFkZCB0aGVtXG4gICAgbGV0IG54ID0gbmF4ICsgbmJ4ICsgbmN4O1xuICAgIGxldCBueSA9IG5heSArIG5ieSArIG5jeTtcbiAgICBsZXQgbnogPSBuYXogKyBuYnogKyBuY3o7XG5cbiAgICAvLyBub3JtYWxpemUgdGhlbVxuICAgIGNvbnN0IGxlbmd0aCA9IE1hdGguc3FydChueCAqIG54ICsgbnkgKiBueSArIG56ICogbnopO1xuXG4gICAgbnggLz0gbGVuZ3RoO1xuICAgIG55IC89IGxlbmd0aDtcbiAgICBueiAvPSBsZW5ndGg7XG5cbiAgICAvLyBjb3B5IHRoZW0gYmFjayBpblxuICAgIG5vcm1hbHNbaWkgKyAwXSA9IG54O1xuICAgIG5vcm1hbHNbaWkgKyAxXSA9IG55O1xuICAgIG5vcm1hbHNbaWkgKyAyXSA9IG56O1xuXG4gICAgbm9ybWFsc1tpaSArIDNdID0gbng7XG4gICAgbm9ybWFsc1tpaSArIDRdID0gbnk7XG4gICAgbm9ybWFsc1tpaSArIDVdID0gbno7XG5cbiAgICBub3JtYWxzW2lpICsgNl0gPSBueDtcbiAgICBub3JtYWxzW2lpICsgN10gPSBueTtcbiAgICBub3JtYWxzW2lpICsgOF0gPSBuejtcbiAgfVxuXG4gIHJldHVybiB2ZXJ0aWNlcztcbn1cblxuZnVuY3Rpb24gYXBwbHlGdW5jVG9WM0FycmF5KGFycmF5LCBtYXRyaXgsIGZuKSB7XG4gIGNvbnN0IGxlbiA9IGFycmF5Lmxlbmd0aDtcbiAgY29uc3QgdG1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGxlbjsgaWkgKz0gMykge1xuICAgIGZuKG1hdHJpeCwgW2FycmF5W2lpXSwgYXJyYXlbaWkgKyAxXSwgYXJyYXlbaWkgKyAyXV0sIHRtcCk7XG4gICAgYXJyYXlbaWkgICAgXSA9IHRtcFswXTtcbiAgICBhcnJheVtpaSArIDFdID0gdG1wWzFdO1xuICAgIGFycmF5W2lpICsgMl0gPSB0bXBbMl07XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtTm9ybWFsJDEobWksIHYsIGRzdCkge1xuICBkc3QgPSBkc3QgfHwgY3JlYXRlKCk7XG4gIGNvbnN0IHYwID0gdlswXTtcbiAgY29uc3QgdjEgPSB2WzFdO1xuICBjb25zdCB2MiA9IHZbMl07XG5cbiAgZHN0WzBdID0gdjAgKiBtaVswICogNCArIDBdICsgdjEgKiBtaVswICogNCArIDFdICsgdjIgKiBtaVswICogNCArIDJdO1xuICBkc3RbMV0gPSB2MCAqIG1pWzEgKiA0ICsgMF0gKyB2MSAqIG1pWzEgKiA0ICsgMV0gKyB2MiAqIG1pWzEgKiA0ICsgMl07XG4gIGRzdFsyXSA9IHYwICogbWlbMiAqIDQgKyAwXSArIHYxICogbWlbMiAqIDQgKyAxXSArIHYyICogbWlbMiAqIDQgKyAyXTtcblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIFJlb3JpZW50cyBkaXJlY3Rpb25zIGJ5IHRoZSBnaXZlbiBtYXRyaXguLlxuICogQHBhcmFtIHsobnVtYmVyW118VHlwZWRBcnJheSl9IGFycmF5IFRoZSBhcnJheS4gQXNzdW1lcyB2YWx1ZSBmbG9hdHMgcGVyIGVsZW1lbnQuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IG1hdHJpeCBBIG1hdHJpeCB0byBtdWx0aXBseSBieS5cbiAqIEByZXR1cm4geyhudW1iZXJbXXxUeXBlZEFycmF5KX0gdGhlIHNhbWUgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGluXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICovXG5mdW5jdGlvbiByZW9yaWVudERpcmVjdGlvbnMoYXJyYXksIG1hdHJpeCkge1xuICBhcHBseUZ1bmNUb1YzQXJyYXkoYXJyYXksIG1hdHJpeCwgdHJhbnNmb3JtRGlyZWN0aW9uKTtcbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIFJlb3JpZW50cyBub3JtYWxzIGJ5IHRoZSBpbnZlcnNlLXRyYW5zcG9zZSBvZiB0aGUgZ2l2ZW5cbiAqIG1hdHJpeC4uXG4gKiBAcGFyYW0geyhudW1iZXJbXXxUeXBlZEFycmF5KX0gYXJyYXkgVGhlIGFycmF5LiBBc3N1bWVzIHZhbHVlIGZsb2F0cyBwZXIgZWxlbWVudC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gbWF0cml4IEEgbWF0cml4IHRvIG11bHRpcGx5IGJ5LlxuICogQHJldHVybiB7KG51bWJlcltdfFR5cGVkQXJyYXkpfSB0aGUgc2FtZSBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKi9cbmZ1bmN0aW9uIHJlb3JpZW50Tm9ybWFscyhhcnJheSwgbWF0cml4KSB7XG4gIGFwcGx5RnVuY1RvVjNBcnJheShhcnJheSwgaW52ZXJzZShtYXRyaXgpLCB0cmFuc2Zvcm1Ob3JtYWwkMSk7XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBSZW9yaWVudHMgcG9zaXRpb25zIGJ5IHRoZSBnaXZlbiBtYXRyaXguIEluIG90aGVyIHdvcmRzLCBpdFxuICogbXVsdGlwbGllcyBlYWNoIHZlcnRleCBieSB0aGUgZ2l2ZW4gbWF0cml4LlxuICogQHBhcmFtIHsobnVtYmVyW118VHlwZWRBcnJheSl9IGFycmF5IFRoZSBhcnJheS4gQXNzdW1lcyB2YWx1ZSBmbG9hdHMgcGVyIGVsZW1lbnQuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsL200Lk1hdDR9IG1hdHJpeCBBIG1hdHJpeCB0byBtdWx0aXBseSBieS5cbiAqIEByZXR1cm4geyhudW1iZXJbXXxUeXBlZEFycmF5KX0gdGhlIHNhbWUgYXJyYXkgdGhhdCB3YXMgcGFzc2VkIGluXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICovXG5mdW5jdGlvbiByZW9yaWVudFBvc2l0aW9ucyhhcnJheSwgbWF0cml4KSB7XG4gIGFwcGx5RnVuY1RvVjNBcnJheShhcnJheSwgbWF0cml4LCB0cmFuc2Zvcm1Qb2ludCk7XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7KG51bWJlcltdfFR5cGVkQXJyYXkpfSBOYXRpdmVBcnJheU9yVHlwZWRBcnJheVxuICovXG5cbi8qKlxuICogUmVvcmllbnRzIGFycmF5cyBieSB0aGUgZ2l2ZW4gbWF0cml4LiBBc3N1bWVzIGFycmF5cyBoYXZlXG4gKiBuYW1lcyB0aGF0IGNvbnRhaW5zICdwb3MnIGNvdWxkIGJlIHJlb3JpZW50ZWQgYXMgcG9zaXRpb25zLFxuICogJ2Jpbm9ybScgb3IgJ3RhbicgYXMgZGlyZWN0aW9ucywgYW5kICdub3JtJyBhcyBub3JtYWxzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIE5hdGl2ZUFycmF5T3JUeXBlZEFycmF5Pn0gYXJyYXlzIFRoZSB2ZXJ0aWNlcyB0byByZW9yaWVudFxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBtYXRyaXggbWF0cml4IHRvIHJlb3JpZW50IGJ5LlxuICogQHJldHVybiB7T2JqZWN0LjxzdHJpbmcsIE5hdGl2ZUFycmF5T3JUeXBlZEFycmF5Pn0gc2FtZSBhcnJheXMgdGhhdCB3ZXJlIHBhc3NlZCBpbi5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKi9cbmZ1bmN0aW9uIHJlb3JpZW50VmVydGljZXMoYXJyYXlzLCBtYXRyaXgpIHtcbiAgT2JqZWN0LmtleXMoYXJyYXlzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBjb25zdCBhcnJheSA9IGFycmF5c1tuYW1lXTtcbiAgICBpZiAobmFtZS5pbmRleE9mKFwicG9zXCIpID49IDApIHtcbiAgICAgIHJlb3JpZW50UG9zaXRpb25zKGFycmF5LCBtYXRyaXgpO1xuICAgIH0gZWxzZSBpZiAobmFtZS5pbmRleE9mKFwidGFuXCIpID49IDAgfHwgbmFtZS5pbmRleE9mKFwiYmlub3JtXCIpID49IDApIHtcbiAgICAgIHJlb3JpZW50RGlyZWN0aW9ucyhhcnJheSwgbWF0cml4KTtcbiAgICB9IGVsc2UgaWYgKG5hbWUuaW5kZXhPZihcIm5vcm1cIikgPj0gMCkge1xuICAgICAgcmVvcmllbnROb3JtYWxzKGFycmF5LCBtYXRyaXgpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhcnJheXM7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBYWSBxdWFkIEJ1ZmZlckluZm9cbiAqXG4gKiBUaGUgZGVmYXVsdCB3aXRoIG5vIHBhcmFtZXRlcnMgd2lsbCByZXR1cm4gYSAyeDIgcXVhZCB3aXRoIHZhbHVlcyBmcm9tIC0xIHRvICsxLlxuICogSWYgeW91IHdhbnQgYSB1bml0IHF1YWQgd2l0aCB0aGF0IGdvZXMgZnJvbSAwIHRvIDEgeW91J2QgY2FsbCBpdCB3aXRoXG4gKlxuICogICAgIHR3Z2wucHJpbWl0aXZlcy5jcmVhdGVYWVF1YWRCdWZmZXJJbmZvKGdsLCAxLCAwLjUsIDAuNSk7XG4gKlxuICogSWYgeW91IHdhbnQgYSB1bml0IHF1YWQgY2VudGVyZWQgYWJvdmUgMCwwIHlvdSdkIGNhbGwgaXQgd2l0aFxuICpcbiAqICAgICB0d2dsLnByaW1pdGl2ZXMuY3JlYXRlWFlRdWFkQnVmZmVySW5mbyhnbCwgMSwgMCwgMC41KTtcbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZV0gdGhlIHNpemUgYWNyb3NzIHRoZSBxdWFkLiBEZWZhdWx0cyB0byAyIHdoaWNoIG1lYW5zIHZlcnRpY2VzIHdpbGwgZ28gZnJvbSAtMSB0byArMVxuICogQHBhcmFtIHtudW1iZXJ9IFt4T2Zmc2V0XSB0aGUgYW1vdW50IHRvIG9mZnNldCB0aGUgcXVhZCBpbiBYXG4gKiBAcGFyYW0ge251bWJlcn0gW3lPZmZzZXRdIHRoZSBhbW91bnQgdG8gb2Zmc2V0IHRoZSBxdWFkIGluIFlcbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBXZWJHTEJ1ZmZlcj59IHRoZSBjcmVhdGVkIFhZIFF1YWQgQnVmZmVySW5mb1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqIEBmdW5jdGlvbiBjcmVhdGVYWVF1YWRCdWZmZXJzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIFhZIHF1YWQgQnVmZmVyc1xuICpcbiAqIFRoZSBkZWZhdWx0IHdpdGggbm8gcGFyYW1ldGVycyB3aWxsIHJldHVybiBhIDJ4MiBxdWFkIHdpdGggdmFsdWVzIGZyb20gLTEgdG8gKzEuXG4gKiBJZiB5b3Ugd2FudCBhIHVuaXQgcXVhZCB3aXRoIHRoYXQgZ29lcyBmcm9tIDAgdG8gMSB5b3UnZCBjYWxsIGl0IHdpdGhcbiAqXG4gKiAgICAgdHdnbC5wcmltaXRpdmVzLmNyZWF0ZVhZUXVhZEJ1ZmZlckluZm8oZ2wsIDEsIDAuNSwgMC41KTtcbiAqXG4gKiBJZiB5b3Ugd2FudCBhIHVuaXQgcXVhZCBjZW50ZXJlZCBhYm92ZSAwLDAgeW91J2QgY2FsbCBpdCB3aXRoXG4gKlxuICogICAgIHR3Z2wucHJpbWl0aXZlcy5jcmVhdGVYWVF1YWRCdWZmZXJJbmZvKGdsLCAxLCAwLCAwLjUpO1xuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtzaXplXSB0aGUgc2l6ZSBhY3Jvc3MgdGhlIHF1YWQuIERlZmF1bHRzIHRvIDIgd2hpY2ggbWVhbnMgdmVydGljZXMgd2lsbCBnbyBmcm9tIC0xIHRvICsxXG4gKiBAcGFyYW0ge251bWJlcn0gW3hPZmZzZXRdIHRoZSBhbW91bnQgdG8gb2Zmc2V0IHRoZSBxdWFkIGluIFhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeU9mZnNldF0gdGhlIGFtb3VudCB0byBvZmZzZXQgdGhlIHF1YWQgaW4gWVxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuQnVmZmVySW5mb30gdGhlIGNyZWF0ZWQgWFkgUXVhZCBidWZmZXJzXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZVhZUXVhZEJ1ZmZlckluZm9cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgWFkgcXVhZCB2ZXJ0aWNlc1xuICpcbiAqIFRoZSBkZWZhdWx0IHdpdGggbm8gcGFyYW1ldGVycyB3aWxsIHJldHVybiBhIDJ4MiBxdWFkIHdpdGggdmFsdWVzIGZyb20gLTEgdG8gKzEuXG4gKiBJZiB5b3Ugd2FudCBhIHVuaXQgcXVhZCB3aXRoIHRoYXQgZ29lcyBmcm9tIDAgdG8gMSB5b3UnZCBjYWxsIGl0IHdpdGhcbiAqXG4gKiAgICAgdHdnbC5wcmltaXRpdmVzLmNyZWF0ZVhZUXVhZFZlcnRpY2VzKDEsIDAuNSwgMC41KTtcbiAqXG4gKiBJZiB5b3Ugd2FudCBhIHVuaXQgcXVhZCBjZW50ZXJlZCBhYm92ZSAwLDAgeW91J2QgY2FsbCBpdCB3aXRoXG4gKlxuICogICAgIHR3Z2wucHJpbWl0aXZlcy5jcmVhdGVYWVF1YWRWZXJ0aWNlcygxLCAwLCAwLjUpO1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZV0gdGhlIHNpemUgYWNyb3NzIHRoZSBxdWFkLiBEZWZhdWx0cyB0byAyIHdoaWNoIG1lYW5zIHZlcnRpY2VzIHdpbGwgZ28gZnJvbSAtMSB0byArMVxuICogQHBhcmFtIHtudW1iZXJ9IFt4T2Zmc2V0XSB0aGUgYW1vdW50IHRvIG9mZnNldCB0aGUgcXVhZCBpbiBYXG4gKiBAcGFyYW0ge251bWJlcn0gW3lPZmZzZXRdIHRoZSBhbW91bnQgdG8gb2Zmc2V0IHRoZSBxdWFkIGluIFlcbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBUeXBlZEFycmF5Pn0gdGhlIGNyZWF0ZWQgWFkgUXVhZCB2ZXJ0aWNlc1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlWFlRdWFkVmVydGljZXMoc2l6ZSwgeE9mZnNldCwgeU9mZnNldCkge1xuICBzaXplID0gc2l6ZSB8fCAyO1xuICB4T2Zmc2V0ID0geE9mZnNldCB8fCAwO1xuICB5T2Zmc2V0ID0geU9mZnNldCB8fCAwO1xuICBzaXplICo9IDAuNTtcbiAgcmV0dXJuIHtcbiAgICBwb3NpdGlvbjoge1xuICAgICAgbnVtQ29tcG9uZW50czogMixcbiAgICAgIGRhdGE6IFtcbiAgICAgICAgeE9mZnNldCArIC0xICogc2l6ZSwgeU9mZnNldCArIC0xICogc2l6ZSxcbiAgICAgICAgeE9mZnNldCArICAxICogc2l6ZSwgeU9mZnNldCArIC0xICogc2l6ZSxcbiAgICAgICAgeE9mZnNldCArIC0xICogc2l6ZSwgeU9mZnNldCArICAxICogc2l6ZSxcbiAgICAgICAgeE9mZnNldCArICAxICogc2l6ZSwgeU9mZnNldCArICAxICogc2l6ZSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICBub3JtYWw6IFtcbiAgICAgIDAsIDAsIDEsXG4gICAgICAwLCAwLCAxLFxuICAgICAgMCwgMCwgMSxcbiAgICAgIDAsIDAsIDEsXG4gICAgXSxcbiAgICB0ZXhjb29yZDogW1xuICAgICAgMCwgMCxcbiAgICAgIDEsIDAsXG4gICAgICAwLCAxLFxuICAgICAgMSwgMSxcbiAgICBdLFxuICAgIGluZGljZXM6IFsgMCwgMSwgMiwgMiwgMSwgMyBdLFxuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgWFogcGxhbmUgQnVmZmVySW5mby5cbiAqXG4gKiBUaGUgY3JlYXRlZCBwbGFuZSBoYXMgcG9zaXRpb24sIG5vcm1hbCwgYW5kIHRleGNvb3JkIGRhdGFcbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGhdIFdpZHRoIG9mIHRoZSBwbGFuZS4gRGVmYXVsdCA9IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGhdIERlcHRoIG9mIHRoZSBwbGFuZS4gRGVmYXVsdCA9IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3ViZGl2aXNpb25zV2lkdGhdIE51bWJlciBvZiBzdGVwcyBhY3Jvc3MgdGhlIHBsYW5lLiBEZWZhdWx0ID0gMVxuICogQHBhcmFtIHtudW1iZXJ9IFtzdWJkaXZpc2lvbnNEZXB0aF0gTnVtYmVyIG9mIHN0ZXBzIGRvd24gdGhlIHBsYW5lLiBEZWZhdWx0ID0gMVxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9tNC5NYXQ0fSBbbWF0cml4XSBBIG1hdHJpeCBieSB3aGljaCB0byBtdWx0aXBseSBhbGwgdGhlIHZlcnRpY2VzLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuQnVmZmVySW5mb30gVGhlIGNyZWF0ZWQgcGxhbmUgQnVmZmVySW5mby5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKiBAZnVuY3Rpb24gY3JlYXRlUGxhbmVCdWZmZXJJbmZvXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIFhaIHBsYW5lIGJ1ZmZlcnMuXG4gKlxuICogVGhlIGNyZWF0ZWQgcGxhbmUgaGFzIHBvc2l0aW9uLCBub3JtYWwsIGFuZCB0ZXhjb29yZCBkYXRhXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSBXaWR0aCBvZiB0aGUgcGxhbmUuIERlZmF1bHQgPSAxXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoXSBEZXB0aCBvZiB0aGUgcGxhbmUuIERlZmF1bHQgPSAxXG4gKiBAcGFyYW0ge251bWJlcn0gW3N1YmRpdmlzaW9uc1dpZHRoXSBOdW1iZXIgb2Ygc3RlcHMgYWNyb3NzIHRoZSBwbGFuZS4gRGVmYXVsdCA9IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3ViZGl2aXNpb25zRGVwdGhdIE51bWJlciBvZiBzdGVwcyBkb3duIHRoZSBwbGFuZS4gRGVmYXVsdCA9IDFcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gW21hdHJpeF0gQSBtYXRyaXggYnkgd2hpY2ggdG8gbXVsdGlwbHkgYWxsIHRoZSB2ZXJ0aWNlcy5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBXZWJHTEJ1ZmZlcj59IFRoZSBjcmVhdGVkIHBsYW5lIGJ1ZmZlcnMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZVBsYW5lQnVmZmVyc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBYWiBwbGFuZSB2ZXJ0aWNlcy5cbiAqXG4gKiBUaGUgY3JlYXRlZCBwbGFuZSBoYXMgcG9zaXRpb24sIG5vcm1hbCwgYW5kIHRleGNvb3JkIGRhdGFcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSBXaWR0aCBvZiB0aGUgcGxhbmUuIERlZmF1bHQgPSAxXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoXSBEZXB0aCBvZiB0aGUgcGxhbmUuIERlZmF1bHQgPSAxXG4gKiBAcGFyYW0ge251bWJlcn0gW3N1YmRpdmlzaW9uc1dpZHRoXSBOdW1iZXIgb2Ygc3RlcHMgYWNyb3NzIHRoZSBwbGFuZS4gRGVmYXVsdCA9IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3ViZGl2aXNpb25zRGVwdGhdIE51bWJlciBvZiBzdGVwcyBkb3duIHRoZSBwbGFuZS4gRGVmYXVsdCA9IDFcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wvbTQuTWF0NH0gW21hdHJpeF0gQSBtYXRyaXggYnkgd2hpY2ggdG8gbXVsdGlwbHkgYWxsIHRoZSB2ZXJ0aWNlcy5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBUeXBlZEFycmF5Pn0gVGhlIGNyZWF0ZWQgcGxhbmUgdmVydGljZXMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVQbGFuZVZlcnRpY2VzKFxuICAgIHdpZHRoLFxuICAgIGRlcHRoLFxuICAgIHN1YmRpdmlzaW9uc1dpZHRoLFxuICAgIHN1YmRpdmlzaW9uc0RlcHRoLFxuICAgIG1hdHJpeCkge1xuICB3aWR0aCA9IHdpZHRoIHx8IDE7XG4gIGRlcHRoID0gZGVwdGggfHwgMTtcbiAgc3ViZGl2aXNpb25zV2lkdGggPSBzdWJkaXZpc2lvbnNXaWR0aCB8fCAxO1xuICBzdWJkaXZpc2lvbnNEZXB0aCA9IHN1YmRpdmlzaW9uc0RlcHRoIHx8IDE7XG4gIG1hdHJpeCA9IG1hdHJpeCB8fCBpZGVudGl0eSgpO1xuXG4gIGNvbnN0IG51bVZlcnRpY2VzID0gKHN1YmRpdmlzaW9uc1dpZHRoICsgMSkgKiAoc3ViZGl2aXNpb25zRGVwdGggKyAxKTtcbiAgY29uc3QgcG9zaXRpb25zID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCBudW1WZXJ0aWNlcyk7XG4gIGNvbnN0IG5vcm1hbHMgPSBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDMsIG51bVZlcnRpY2VzKTtcbiAgY29uc3QgdGV4Y29vcmRzID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgyLCBudW1WZXJ0aWNlcyk7XG5cbiAgZm9yIChsZXQgeiA9IDA7IHogPD0gc3ViZGl2aXNpb25zRGVwdGg7IHorKykge1xuICAgIGZvciAobGV0IHggPSAwOyB4IDw9IHN1YmRpdmlzaW9uc1dpZHRoOyB4KyspIHtcbiAgICAgIGNvbnN0IHUgPSB4IC8gc3ViZGl2aXNpb25zV2lkdGg7XG4gICAgICBjb25zdCB2ID0geiAvIHN1YmRpdmlzaW9uc0RlcHRoO1xuICAgICAgcG9zaXRpb25zLnB1c2goXG4gICAgICAgICAgd2lkdGggKiB1IC0gd2lkdGggKiAwLjUsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBkZXB0aCAqIHYgLSBkZXB0aCAqIDAuNSk7XG4gICAgICBub3JtYWxzLnB1c2goMCwgMSwgMCk7XG4gICAgICB0ZXhjb29yZHMucHVzaCh1LCB2KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBudW1WZXJ0c0Fjcm9zcyA9IHN1YmRpdmlzaW9uc1dpZHRoICsgMTtcbiAgY29uc3QgaW5kaWNlcyA9IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoXG4gICAgICAzLCBzdWJkaXZpc2lvbnNXaWR0aCAqIHN1YmRpdmlzaW9uc0RlcHRoICogMiwgVWludDE2QXJyYXkpO1xuXG4gIGZvciAobGV0IHogPSAwOyB6IDwgc3ViZGl2aXNpb25zRGVwdGg7IHorKykgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgc3ViZGl2aXNpb25zV2lkdGg7IHgrKykgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgLy8gTWFrZSB0cmlhbmdsZSAxIG9mIHF1YWQuXG4gICAgICBpbmRpY2VzLnB1c2goXG4gICAgICAgICAgKHogKyAwKSAqIG51bVZlcnRzQWNyb3NzICsgeCxcbiAgICAgICAgICAoeiArIDEpICogbnVtVmVydHNBY3Jvc3MgKyB4LFxuICAgICAgICAgICh6ICsgMCkgKiBudW1WZXJ0c0Fjcm9zcyArIHggKyAxKTtcblxuICAgICAgLy8gTWFrZSB0cmlhbmdsZSAyIG9mIHF1YWQuXG4gICAgICBpbmRpY2VzLnB1c2goXG4gICAgICAgICAgKHogKyAxKSAqIG51bVZlcnRzQWNyb3NzICsgeCxcbiAgICAgICAgICAoeiArIDEpICogbnVtVmVydHNBY3Jvc3MgKyB4ICsgMSxcbiAgICAgICAgICAoeiArIDApICogbnVtVmVydHNBY3Jvc3MgKyB4ICsgMSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYXJyYXlzID0gcmVvcmllbnRWZXJ0aWNlcyh7XG4gICAgcG9zaXRpb246IHBvc2l0aW9ucyxcbiAgICBub3JtYWw6IG5vcm1hbHMsXG4gICAgdGV4Y29vcmQ6IHRleGNvb3JkcyxcbiAgICBpbmRpY2VzOiBpbmRpY2VzLFxuICB9LCBtYXRyaXgpO1xuICByZXR1cm4gYXJyYXlzO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgc3BoZXJlIEJ1ZmZlckluZm8uXG4gKlxuICogVGhlIGNyZWF0ZWQgc3BoZXJlIGhhcyBwb3NpdGlvbiwgbm9ybWFsLCBhbmQgdGV4Y29vcmQgZGF0YVxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyByYWRpdXMgb2YgdGhlIHNwaGVyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdWJkaXZpc2lvbnNBeGlzIG51bWJlciBvZiBzdGVwcyBhcm91bmQgdGhlIHNwaGVyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdWJkaXZpc2lvbnNIZWlnaHQgbnVtYmVyIG9mIHZlcnRpY2FsbHkgb24gdGhlIHNwaGVyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3N0YXJ0TGF0aXR1ZGVJblJhZGlhbnNdIHdoZXJlIHRvIHN0YXJ0IHRoZVxuICogICAgIHRvcCBvZiB0aGUgc3BoZXJlLiBEZWZhdWx0ID0gMC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X2VuZExhdGl0dWRlSW5SYWRpYW5zXSBXaGVyZSB0byBlbmQgdGhlXG4gKiAgICAgYm90dG9tIG9mIHRoZSBzcGhlcmUuIERlZmF1bHQgPSBNYXRoLlBJLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfc3RhcnRMb25naXR1ZGVJblJhZGlhbnNdIHdoZXJlIHRvIHN0YXJ0XG4gKiAgICAgd3JhcHBpbmcgdGhlIHNwaGVyZS4gRGVmYXVsdCA9IDAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9lbmRMb25naXR1ZGVJblJhZGlhbnNdIHdoZXJlIHRvIGVuZFxuICogICAgIHdyYXBwaW5nIHRoZSBzcGhlcmUuIERlZmF1bHQgPSAyICogTWF0aC5QSS5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsLkJ1ZmZlckluZm99IFRoZSBjcmVhdGVkIHNwaGVyZSBCdWZmZXJJbmZvLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqIEBmdW5jdGlvbiBjcmVhdGVTcGhlcmVCdWZmZXJJbmZvXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIHNwaGVyZSBidWZmZXJzLlxuICpcbiAqIFRoZSBjcmVhdGVkIHNwaGVyZSBoYXMgcG9zaXRpb24sIG5vcm1hbCwgYW5kIHRleGNvb3JkIGRhdGFcbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgcmFkaXVzIG9mIHRoZSBzcGhlcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ViZGl2aXNpb25zQXhpcyBudW1iZXIgb2Ygc3RlcHMgYXJvdW5kIHRoZSBzcGhlcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ViZGl2aXNpb25zSGVpZ2h0IG51bWJlciBvZiB2ZXJ0aWNhbGx5IG9uIHRoZSBzcGhlcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9zdGFydExhdGl0dWRlSW5SYWRpYW5zXSB3aGVyZSB0byBzdGFydCB0aGVcbiAqICAgICB0b3Agb2YgdGhlIHNwaGVyZS4gRGVmYXVsdCA9IDAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9lbmRMYXRpdHVkZUluUmFkaWFuc10gV2hlcmUgdG8gZW5kIHRoZVxuICogICAgIGJvdHRvbSBvZiB0aGUgc3BoZXJlLiBEZWZhdWx0ID0gTWF0aC5QSS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3N0YXJ0TG9uZ2l0dWRlSW5SYWRpYW5zXSB3aGVyZSB0byBzdGFydFxuICogICAgIHdyYXBwaW5nIHRoZSBzcGhlcmUuIERlZmF1bHQgPSAwLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZW5kTG9uZ2l0dWRlSW5SYWRpYW5zXSB3aGVyZSB0byBlbmRcbiAqICAgICB3cmFwcGluZyB0aGUgc3BoZXJlLiBEZWZhdWx0ID0gMiAqIE1hdGguUEkuXG4gKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgV2ViR0xCdWZmZXI+fSBUaGUgY3JlYXRlZCBzcGhlcmUgYnVmZmVycy5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKiBAZnVuY3Rpb24gY3JlYXRlU3BoZXJlQnVmZmVyc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBzcGhlcmUgdmVydGljZXMuXG4gKlxuICogVGhlIGNyZWF0ZWQgc3BoZXJlIGhhcyBwb3NpdGlvbiwgbm9ybWFsLCBhbmQgdGV4Y29vcmQgZGF0YVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgcmFkaXVzIG9mIHRoZSBzcGhlcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ViZGl2aXNpb25zQXhpcyBudW1iZXIgb2Ygc3RlcHMgYXJvdW5kIHRoZSBzcGhlcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ViZGl2aXNpb25zSGVpZ2h0IG51bWJlciBvZiB2ZXJ0aWNhbGx5IG9uIHRoZSBzcGhlcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9zdGFydExhdGl0dWRlSW5SYWRpYW5zXSB3aGVyZSB0byBzdGFydCB0aGVcbiAqICAgICB0b3Agb2YgdGhlIHNwaGVyZS4gRGVmYXVsdCA9IDAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9lbmRMYXRpdHVkZUluUmFkaWFuc10gV2hlcmUgdG8gZW5kIHRoZVxuICogICAgIGJvdHRvbSBvZiB0aGUgc3BoZXJlLiBEZWZhdWx0ID0gTWF0aC5QSS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0X3N0YXJ0TG9uZ2l0dWRlSW5SYWRpYW5zXSB3aGVyZSB0byBzdGFydFxuICogICAgIHdyYXBwaW5nIHRoZSBzcGhlcmUuIERlZmF1bHQgPSAwLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRfZW5kTG9uZ2l0dWRlSW5SYWRpYW5zXSB3aGVyZSB0byBlbmRcbiAqICAgICB3cmFwcGluZyB0aGUgc3BoZXJlLiBEZWZhdWx0ID0gMiAqIE1hdGguUEkuXG4gKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgVHlwZWRBcnJheT59IFRoZSBjcmVhdGVkIHNwaGVyZSB2ZXJ0aWNlcy5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNwaGVyZVZlcnRpY2VzKFxuICAgIHJhZGl1cyxcbiAgICBzdWJkaXZpc2lvbnNBeGlzLFxuICAgIHN1YmRpdmlzaW9uc0hlaWdodCxcbiAgICBvcHRfc3RhcnRMYXRpdHVkZUluUmFkaWFucyxcbiAgICBvcHRfZW5kTGF0aXR1ZGVJblJhZGlhbnMsXG4gICAgb3B0X3N0YXJ0TG9uZ2l0dWRlSW5SYWRpYW5zLFxuICAgIG9wdF9lbmRMb25naXR1ZGVJblJhZGlhbnMpIHtcbiAgaWYgKHN1YmRpdmlzaW9uc0F4aXMgPD0gMCB8fCBzdWJkaXZpc2lvbnNIZWlnaHQgPD0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc3ViZGl2aXNpb25BeGlzIGFuZCBzdWJkaXZpc2lvbkhlaWdodCBtdXN0IGJlID4gMCcpO1xuICB9XG5cbiAgb3B0X3N0YXJ0TGF0aXR1ZGVJblJhZGlhbnMgPSBvcHRfc3RhcnRMYXRpdHVkZUluUmFkaWFucyB8fCAwO1xuICBvcHRfZW5kTGF0aXR1ZGVJblJhZGlhbnMgPSBvcHRfZW5kTGF0aXR1ZGVJblJhZGlhbnMgfHwgTWF0aC5QSTtcbiAgb3B0X3N0YXJ0TG9uZ2l0dWRlSW5SYWRpYW5zID0gb3B0X3N0YXJ0TG9uZ2l0dWRlSW5SYWRpYW5zIHx8IDA7XG4gIG9wdF9lbmRMb25naXR1ZGVJblJhZGlhbnMgPSBvcHRfZW5kTG9uZ2l0dWRlSW5SYWRpYW5zIHx8IChNYXRoLlBJICogMik7XG5cbiAgY29uc3QgbGF0UmFuZ2UgPSBvcHRfZW5kTGF0aXR1ZGVJblJhZGlhbnMgLSBvcHRfc3RhcnRMYXRpdHVkZUluUmFkaWFucztcbiAgY29uc3QgbG9uZ1JhbmdlID0gb3B0X2VuZExvbmdpdHVkZUluUmFkaWFucyAtIG9wdF9zdGFydExvbmdpdHVkZUluUmFkaWFucztcblxuICAvLyBXZSBhcmUgZ29pbmcgdG8gZ2VuZXJhdGUgb3VyIHNwaGVyZSBieSBpdGVyYXRpbmcgdGhyb3VnaCBpdHNcbiAgLy8gc3BoZXJpY2FsIGNvb3JkaW5hdGVzIGFuZCBnZW5lcmF0aW5nIDIgdHJpYW5nbGVzIGZvciBlYWNoIHF1YWQgb24gYVxuICAvLyByaW5nIG9mIHRoZSBzcGhlcmUuXG4gIGNvbnN0IG51bVZlcnRpY2VzID0gKHN1YmRpdmlzaW9uc0F4aXMgKyAxKSAqIChzdWJkaXZpc2lvbnNIZWlnaHQgKyAxKTtcbiAgY29uc3QgcG9zaXRpb25zID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCBudW1WZXJ0aWNlcyk7XG4gIGNvbnN0IG5vcm1hbHMgICA9IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoMywgbnVtVmVydGljZXMpO1xuICBjb25zdCB0ZXhjb29yZHMgPSBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDIsIG51bVZlcnRpY2VzKTtcblxuICAvLyBHZW5lcmF0ZSB0aGUgaW5kaXZpZHVhbCB2ZXJ0aWNlcyBpbiBvdXIgdmVydGV4IGJ1ZmZlci5cbiAgZm9yIChsZXQgeSA9IDA7IHkgPD0gc3ViZGl2aXNpb25zSGVpZ2h0OyB5KyspIHtcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8PSBzdWJkaXZpc2lvbnNBeGlzOyB4KyspIHtcbiAgICAgIC8vIEdlbmVyYXRlIGEgdmVydGV4IGJhc2VkIG9uIGl0cyBzcGhlcmljYWwgY29vcmRpbmF0ZXNcbiAgICAgIGNvbnN0IHUgPSB4IC8gc3ViZGl2aXNpb25zQXhpcztcbiAgICAgIGNvbnN0IHYgPSB5IC8gc3ViZGl2aXNpb25zSGVpZ2h0O1xuICAgICAgY29uc3QgdGhldGEgPSBsb25nUmFuZ2UgKiB1ICsgb3B0X3N0YXJ0TG9uZ2l0dWRlSW5SYWRpYW5zO1xuICAgICAgY29uc3QgcGhpID0gbGF0UmFuZ2UgKiB2ICsgb3B0X3N0YXJ0TGF0aXR1ZGVJblJhZGlhbnM7XG4gICAgICBjb25zdCBzaW5UaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcbiAgICAgIGNvbnN0IGNvc1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgICAgY29uc3Qgc2luUGhpID0gTWF0aC5zaW4ocGhpKTtcbiAgICAgIGNvbnN0IGNvc1BoaSA9IE1hdGguY29zKHBoaSk7XG4gICAgICBjb25zdCB1eCA9IGNvc1RoZXRhICogc2luUGhpO1xuICAgICAgY29uc3QgdXkgPSBjb3NQaGk7XG4gICAgICBjb25zdCB1eiA9IHNpblRoZXRhICogc2luUGhpO1xuICAgICAgcG9zaXRpb25zLnB1c2gocmFkaXVzICogdXgsIHJhZGl1cyAqIHV5LCByYWRpdXMgKiB1eik7XG4gICAgICBub3JtYWxzLnB1c2godXgsIHV5LCB1eik7XG4gICAgICB0ZXhjb29yZHMucHVzaCgxIC0gdSwgdik7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbnVtVmVydHNBcm91bmQgPSBzdWJkaXZpc2lvbnNBeGlzICsgMTtcbiAgY29uc3QgaW5kaWNlcyA9IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoMywgc3ViZGl2aXNpb25zQXhpcyAqIHN1YmRpdmlzaW9uc0hlaWdodCAqIDIsIFVpbnQxNkFycmF5KTtcbiAgZm9yIChsZXQgeCA9IDA7IHggPCBzdWJkaXZpc2lvbnNBeGlzOyB4KyspIHsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHN1YmRpdmlzaW9uc0hlaWdodDsgeSsrKSB7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAvLyBNYWtlIHRyaWFuZ2xlIDEgb2YgcXVhZC5cbiAgICAgIGluZGljZXMucHVzaChcbiAgICAgICAgICAoeSArIDApICogbnVtVmVydHNBcm91bmQgKyB4LFxuICAgICAgICAgICh5ICsgMCkgKiBudW1WZXJ0c0Fyb3VuZCArIHggKyAxLFxuICAgICAgICAgICh5ICsgMSkgKiBudW1WZXJ0c0Fyb3VuZCArIHgpO1xuXG4gICAgICAvLyBNYWtlIHRyaWFuZ2xlIDIgb2YgcXVhZC5cbiAgICAgIGluZGljZXMucHVzaChcbiAgICAgICAgICAoeSArIDEpICogbnVtVmVydHNBcm91bmQgKyB4LFxuICAgICAgICAgICh5ICsgMCkgKiBudW1WZXJ0c0Fyb3VuZCArIHggKyAxLFxuICAgICAgICAgICh5ICsgMSkgKiBudW1WZXJ0c0Fyb3VuZCArIHggKyAxKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvc2l0aW9uOiBwb3NpdGlvbnMsXG4gICAgbm9ybWFsOiBub3JtYWxzLFxuICAgIHRleGNvb3JkOiB0ZXhjb29yZHMsXG4gICAgaW5kaWNlczogaW5kaWNlcyxcbiAgfTtcbn1cblxuLyoqXG4gKiBBcnJheSBvZiB0aGUgaW5kaWNlcyBvZiBjb3JuZXJzIG9mIGVhY2ggZmFjZSBvZiBhIGN1YmUuXG4gKiBAdHlwZSB7QXJyYXkuPG51bWJlcltdPn1cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IENVQkVfRkFDRV9JTkRJQ0VTID0gW1xuICBbMywgNywgNSwgMV0sICAvLyByaWdodFxuICBbNiwgMiwgMCwgNF0sICAvLyBsZWZ0XG4gIFs2LCA3LCAzLCAyXSwgIC8vID8/XG4gIFswLCAxLCA1LCA0XSwgIC8vID8/XG4gIFs3LCA2LCA0LCA1XSwgIC8vIGZyb250XG4gIFsyLCAzLCAxLCAwXSwgIC8vIGJhY2tcbl07XG5cbi8qKlxuICogQ3JlYXRlcyBhIEJ1ZmZlckluZm8gZm9yIGEgY3ViZS5cbiAqXG4gKiBUaGUgY3ViZSBpcyBjcmVhdGVkIGFyb3VuZCB0aGUgb3JpZ2luLiAoLXNpemUgLyAyLCBzaXplIC8gMikuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3NpemVdIHdpZHRoLCBoZWlnaHQgYW5kIGRlcHRoIG9mIHRoZSBjdWJlLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuQnVmZmVySW5mb30gVGhlIGNyZWF0ZWQgQnVmZmVySW5mby5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKiBAZnVuY3Rpb24gY3JlYXRlQ3ViZUJ1ZmZlckluZm9cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGJ1ZmZlcnMgYW5kIGluZGljZXMgZm9yIGEgY3ViZS5cbiAqXG4gKiBUaGUgY3ViZSBpcyBjcmVhdGVkIGFyb3VuZCB0aGUgb3JpZ2luLiAoLXNpemUgLyAyLCBzaXplIC8gMikuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3NpemVdIHdpZHRoLCBoZWlnaHQgYW5kIGRlcHRoIG9mIHRoZSBjdWJlLlxuICogQHJldHVybiB7T2JqZWN0LjxzdHJpbmcsIFdlYkdMQnVmZmVyPn0gVGhlIGNyZWF0ZWQgYnVmZmVycy5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKiBAZnVuY3Rpb24gY3JlYXRlQ3ViZUJ1ZmZlcnNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIHZlcnRpY2VzIGFuZCBpbmRpY2VzIGZvciBhIGN1YmUuXG4gKlxuICogVGhlIGN1YmUgaXMgY3JlYXRlZCBhcm91bmQgdGhlIG9yaWdpbi4gKC1zaXplIC8gMiwgc2l6ZSAvIDIpLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZV0gd2lkdGgsIGhlaWdodCBhbmQgZGVwdGggb2YgdGhlIGN1YmUuXG4gKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgVHlwZWRBcnJheT59IFRoZSBjcmVhdGVkIHZlcnRpY2VzLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ3ViZVZlcnRpY2VzKHNpemUpIHtcbiAgc2l6ZSA9IHNpemUgfHwgMTtcbiAgY29uc3QgayA9IHNpemUgLyAyO1xuXG4gIGNvbnN0IGNvcm5lclZlcnRpY2VzID0gW1xuICAgIFstaywgLWssIC1rXSxcbiAgICBbK2ssIC1rLCAta10sXG4gICAgWy1rLCAraywgLWtdLFxuICAgIFsraywgK2ssIC1rXSxcbiAgICBbLWssIC1rLCAra10sXG4gICAgWytrLCAtaywgK2tdLFxuICAgIFstaywgK2ssICtrXSxcbiAgICBbK2ssICtrLCAra10sXG4gIF07XG5cbiAgY29uc3QgZmFjZU5vcm1hbHMgPSBbXG4gICAgWysxLCArMCwgKzBdLFxuICAgIFstMSwgKzAsICswXSxcbiAgICBbKzAsICsxLCArMF0sXG4gICAgWyswLCAtMSwgKzBdLFxuICAgIFsrMCwgKzAsICsxXSxcbiAgICBbKzAsICswLCAtMV0sXG4gIF07XG5cbiAgY29uc3QgdXZDb29yZHMgPSBbXG4gICAgWzEsIDBdLFxuICAgIFswLCAwXSxcbiAgICBbMCwgMV0sXG4gICAgWzEsIDFdLFxuICBdO1xuXG4gIGNvbnN0IG51bVZlcnRpY2VzID0gNiAqIDQ7XG4gIGNvbnN0IHBvc2l0aW9ucyA9IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoMywgbnVtVmVydGljZXMpO1xuICBjb25zdCBub3JtYWxzICAgPSBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDMsIG51bVZlcnRpY2VzKTtcbiAgY29uc3QgdGV4Y29vcmRzID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgyICwgbnVtVmVydGljZXMpO1xuICBjb25zdCBpbmRpY2VzICAgPSBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDMsIDYgKiAyLCBVaW50MTZBcnJheSk7XG5cbiAgZm9yIChsZXQgZiA9IDA7IGYgPCA2OyArK2YpIHtcbiAgICBjb25zdCBmYWNlSW5kaWNlcyA9IENVQkVfRkFDRV9JTkRJQ0VTW2ZdO1xuICAgIGZvciAobGV0IHYgPSAwOyB2IDwgNDsgKyt2KSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGNvcm5lclZlcnRpY2VzW2ZhY2VJbmRpY2VzW3ZdXTtcbiAgICAgIGNvbnN0IG5vcm1hbCA9IGZhY2VOb3JtYWxzW2ZdO1xuICAgICAgY29uc3QgdXYgPSB1dkNvb3Jkc1t2XTtcblxuICAgICAgLy8gRWFjaCBmYWNlIG5lZWRzIGFsbCBmb3VyIHZlcnRpY2VzIGJlY2F1c2UgdGhlIG5vcm1hbHMgYW5kIHRleHR1cmVcbiAgICAgIC8vIGNvb3JkaW5hdGVzIGFyZSBub3QgYWxsIHRoZSBzYW1lLlxuICAgICAgcG9zaXRpb25zLnB1c2gocG9zaXRpb24pO1xuICAgICAgbm9ybWFscy5wdXNoKG5vcm1hbCk7XG4gICAgICB0ZXhjb29yZHMucHVzaCh1dik7XG5cbiAgICB9XG4gICAgLy8gVHdvIHRyaWFuZ2xlcyBtYWtlIGEgc3F1YXJlIGZhY2UuXG4gICAgY29uc3Qgb2Zmc2V0ID0gNCAqIGY7XG4gICAgaW5kaWNlcy5wdXNoKG9mZnNldCArIDAsIG9mZnNldCArIDEsIG9mZnNldCArIDIpO1xuICAgIGluZGljZXMucHVzaChvZmZzZXQgKyAwLCBvZmZzZXQgKyAyLCBvZmZzZXQgKyAzKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246IHBvc2l0aW9ucyxcbiAgICBub3JtYWw6IG5vcm1hbHMsXG4gICAgdGV4Y29vcmQ6IHRleGNvb3JkcyxcbiAgICBpbmRpY2VzOiBpbmRpY2VzLFxuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBCdWZmZXJJbmZvIGZvciBhIHRydW5jYXRlZCBjb25lLCB3aGljaCBpcyBsaWtlIGEgY3lsaW5kZXJcbiAqIGV4Y2VwdCB0aGF0IGl0IGhhcyBkaWZmZXJlbnQgdG9wIGFuZCBib3R0b20gcmFkaWkuIEEgdHJ1bmNhdGVkIGNvbmVcbiAqIGNhbiBhbHNvIGJlIHVzZWQgdG8gY3JlYXRlIGN5bGluZGVycyBhbmQgcmVndWxhciBjb25lcy4gVGhlXG4gKiB0cnVuY2F0ZWQgY29uZSB3aWxsIGJlIGNyZWF0ZWQgY2VudGVyZWQgYWJvdXQgdGhlIG9yaWdpbiwgd2l0aCB0aGVcbiAqIHkgYXhpcyBhcyBpdHMgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b21SYWRpdXMgQm90dG9tIHJhZGl1cyBvZiB0cnVuY2F0ZWQgY29uZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3BSYWRpdXMgVG9wIHJhZGl1cyBvZiB0cnVuY2F0ZWQgY29uZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIHRydW5jYXRlZCBjb25lLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbFN1YmRpdmlzaW9ucyBUaGUgbnVtYmVyIG9mIHN1YmRpdmlzaW9ucyBhcm91bmQgdGhlXG4gKiAgICAgdHJ1bmNhdGVkIGNvbmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmVydGljYWxTdWJkaXZpc2lvbnMgVGhlIG51bWJlciBvZiBzdWJkaXZpc2lvbnMgZG93biB0aGVcbiAqICAgICB0cnVuY2F0ZWQgY29uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF90b3BDYXBdIENyZWF0ZSB0b3AgY2FwLiBEZWZhdWx0ID0gdHJ1ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9ib3R0b21DYXBdIENyZWF0ZSBib3R0b20gY2FwLiBEZWZhdWx0ID0gdHJ1ZS5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsLkJ1ZmZlckluZm99IFRoZSBjcmVhdGVkIGNvbmUgQnVmZmVySW5mby5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKiBAZnVuY3Rpb24gY3JlYXRlVHJ1bmNhdGVkQ29uZUJ1ZmZlckluZm9cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYnVmZmVycyBmb3IgYSB0cnVuY2F0ZWQgY29uZSwgd2hpY2ggaXMgbGlrZSBhIGN5bGluZGVyXG4gKiBleGNlcHQgdGhhdCBpdCBoYXMgZGlmZmVyZW50IHRvcCBhbmQgYm90dG9tIHJhZGlpLiBBIHRydW5jYXRlZCBjb25lXG4gKiBjYW4gYWxzbyBiZSB1c2VkIHRvIGNyZWF0ZSBjeWxpbmRlcnMgYW5kIHJlZ3VsYXIgY29uZXMuIFRoZVxuICogdHJ1bmNhdGVkIGNvbmUgd2lsbCBiZSBjcmVhdGVkIGNlbnRlcmVkIGFib3V0IHRoZSBvcmlnaW4sIHdpdGggdGhlXG4gKiB5IGF4aXMgYXMgaXRzIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tUmFkaXVzIEJvdHRvbSByYWRpdXMgb2YgdHJ1bmNhdGVkIGNvbmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wUmFkaXVzIFRvcCByYWRpdXMgb2YgdHJ1bmNhdGVkIGNvbmUuXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0cnVuY2F0ZWQgY29uZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpYWxTdWJkaXZpc2lvbnMgVGhlIG51bWJlciBvZiBzdWJkaXZpc2lvbnMgYXJvdW5kIHRoZVxuICogICAgIHRydW5jYXRlZCBjb25lLlxuICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2FsU3ViZGl2aXNpb25zIFRoZSBudW1iZXIgb2Ygc3ViZGl2aXNpb25zIGRvd24gdGhlXG4gKiAgICAgdHJ1bmNhdGVkIGNvbmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfdG9wQ2FwXSBDcmVhdGUgdG9wIGNhcC4gRGVmYXVsdCA9IHRydWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRfYm90dG9tQ2FwXSBDcmVhdGUgYm90dG9tIGNhcC4gRGVmYXVsdCA9IHRydWUuXG4gKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgV2ViR0xCdWZmZXI+fSBUaGUgY3JlYXRlZCBjb25lIGJ1ZmZlcnMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZVRydW5jYXRlZENvbmVCdWZmZXJzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIHZlcnRpY2VzIGZvciBhIHRydW5jYXRlZCBjb25lLCB3aGljaCBpcyBsaWtlIGEgY3lsaW5kZXJcbiAqIGV4Y2VwdCB0aGF0IGl0IGhhcyBkaWZmZXJlbnQgdG9wIGFuZCBib3R0b20gcmFkaWkuIEEgdHJ1bmNhdGVkIGNvbmVcbiAqIGNhbiBhbHNvIGJlIHVzZWQgdG8gY3JlYXRlIGN5bGluZGVycyBhbmQgcmVndWxhciBjb25lcy4gVGhlXG4gKiB0cnVuY2F0ZWQgY29uZSB3aWxsIGJlIGNyZWF0ZWQgY2VudGVyZWQgYWJvdXQgdGhlIG9yaWdpbiwgd2l0aCB0aGVcbiAqIHkgYXhpcyBhcyBpdHMgdmVydGljYWwgYXhpcy4gLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b21SYWRpdXMgQm90dG9tIHJhZGl1cyBvZiB0cnVuY2F0ZWQgY29uZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3BSYWRpdXMgVG9wIHJhZGl1cyBvZiB0cnVuY2F0ZWQgY29uZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIHRydW5jYXRlZCBjb25lLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbFN1YmRpdmlzaW9ucyBUaGUgbnVtYmVyIG9mIHN1YmRpdmlzaW9ucyBhcm91bmQgdGhlXG4gKiAgICAgdHJ1bmNhdGVkIGNvbmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmVydGljYWxTdWJkaXZpc2lvbnMgVGhlIG51bWJlciBvZiBzdWJkaXZpc2lvbnMgZG93biB0aGVcbiAqICAgICB0cnVuY2F0ZWQgY29uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF90b3BDYXBdIENyZWF0ZSB0b3AgY2FwLiBEZWZhdWx0ID0gdHJ1ZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdF9ib3R0b21DYXBdIENyZWF0ZSBib3R0b20gY2FwLiBEZWZhdWx0ID0gdHJ1ZS5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBUeXBlZEFycmF5Pn0gVGhlIGNyZWF0ZWQgY29uZSB2ZXJ0aWNlcy5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRydW5jYXRlZENvbmVWZXJ0aWNlcyhcbiAgICBib3R0b21SYWRpdXMsXG4gICAgdG9wUmFkaXVzLFxuICAgIGhlaWdodCxcbiAgICByYWRpYWxTdWJkaXZpc2lvbnMsXG4gICAgdmVydGljYWxTdWJkaXZpc2lvbnMsXG4gICAgb3B0X3RvcENhcCxcbiAgICBvcHRfYm90dG9tQ2FwKSB7XG4gIGlmIChyYWRpYWxTdWJkaXZpc2lvbnMgPCAzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyYWRpYWxTdWJkaXZpc2lvbnMgbXVzdCBiZSAzIG9yIGdyZWF0ZXInKTtcbiAgfVxuXG4gIGlmICh2ZXJ0aWNhbFN1YmRpdmlzaW9ucyA8IDEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZlcnRpY2FsU3ViZGl2aXNpb25zIG11c3QgYmUgMSBvciBncmVhdGVyJyk7XG4gIH1cblxuICBjb25zdCB0b3BDYXAgPSAob3B0X3RvcENhcCA9PT0gdW5kZWZpbmVkKSA/IHRydWUgOiBvcHRfdG9wQ2FwO1xuICBjb25zdCBib3R0b21DYXAgPSAob3B0X2JvdHRvbUNhcCA9PT0gdW5kZWZpbmVkKSA/IHRydWUgOiBvcHRfYm90dG9tQ2FwO1xuXG4gIGNvbnN0IGV4dHJhID0gKHRvcENhcCA/IDIgOiAwKSArIChib3R0b21DYXAgPyAyIDogMCk7XG5cbiAgY29uc3QgbnVtVmVydGljZXMgPSAocmFkaWFsU3ViZGl2aXNpb25zICsgMSkgKiAodmVydGljYWxTdWJkaXZpc2lvbnMgKyAxICsgZXh0cmEpO1xuICBjb25zdCBwb3NpdGlvbnMgPSBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDMsIG51bVZlcnRpY2VzKTtcbiAgY29uc3Qgbm9ybWFscyAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCBudW1WZXJ0aWNlcyk7XG4gIGNvbnN0IHRleGNvb3JkcyA9IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoMiwgbnVtVmVydGljZXMpO1xuICBjb25zdCBpbmRpY2VzICAgPSBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDMsIHJhZGlhbFN1YmRpdmlzaW9ucyAqICh2ZXJ0aWNhbFN1YmRpdmlzaW9ucyArIGV4dHJhIC8gMikgKiAyLCBVaW50MTZBcnJheSk7XG5cbiAgY29uc3QgdmVydHNBcm91bmRFZGdlID0gcmFkaWFsU3ViZGl2aXNpb25zICsgMTtcblxuICAvLyBUaGUgc2xhbnQgb2YgdGhlIGNvbmUgaXMgY29uc3RhbnQgYWNyb3NzIGl0cyBzdXJmYWNlXG4gIGNvbnN0IHNsYW50ID0gTWF0aC5hdGFuMihib3R0b21SYWRpdXMgLSB0b3BSYWRpdXMsIGhlaWdodCk7XG4gIGNvbnN0IGNvc1NsYW50ID0gTWF0aC5jb3Moc2xhbnQpO1xuICBjb25zdCBzaW5TbGFudCA9IE1hdGguc2luKHNsYW50KTtcblxuICBjb25zdCBzdGFydCA9IHRvcENhcCA/IC0yIDogMDtcbiAgY29uc3QgZW5kID0gdmVydGljYWxTdWJkaXZpc2lvbnMgKyAoYm90dG9tQ2FwID8gMiA6IDApO1xuXG4gIGZvciAobGV0IHl5ID0gc3RhcnQ7IHl5IDw9IGVuZDsgKyt5eSkge1xuICAgIGxldCB2ID0geXkgLyB2ZXJ0aWNhbFN1YmRpdmlzaW9ucztcbiAgICBsZXQgeSA9IGhlaWdodCAqIHY7XG4gICAgbGV0IHJpbmdSYWRpdXM7XG4gICAgaWYgKHl5IDwgMCkge1xuICAgICAgeSA9IDA7XG4gICAgICB2ID0gMTtcbiAgICAgIHJpbmdSYWRpdXMgPSBib3R0b21SYWRpdXM7XG4gICAgfSBlbHNlIGlmICh5eSA+IHZlcnRpY2FsU3ViZGl2aXNpb25zKSB7XG4gICAgICB5ID0gaGVpZ2h0O1xuICAgICAgdiA9IDE7XG4gICAgICByaW5nUmFkaXVzID0gdG9wUmFkaXVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByaW5nUmFkaXVzID0gYm90dG9tUmFkaXVzICtcbiAgICAgICAgKHRvcFJhZGl1cyAtIGJvdHRvbVJhZGl1cykgKiAoeXkgLyB2ZXJ0aWNhbFN1YmRpdmlzaW9ucyk7XG4gICAgfVxuICAgIGlmICh5eSA9PT0gLTIgfHwgeXkgPT09IHZlcnRpY2FsU3ViZGl2aXNpb25zICsgMikge1xuICAgICAgcmluZ1JhZGl1cyA9IDA7XG4gICAgICB2ID0gMDtcbiAgICB9XG4gICAgeSAtPSBoZWlnaHQgLyAyO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB2ZXJ0c0Fyb3VuZEVkZ2U7ICsraWkpIHtcbiAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGlpICogTWF0aC5QSSAqIDIgLyByYWRpYWxTdWJkaXZpc2lvbnMpO1xuICAgICAgY29uc3QgY29zID0gTWF0aC5jb3MoaWkgKiBNYXRoLlBJICogMiAvIHJhZGlhbFN1YmRpdmlzaW9ucyk7XG4gICAgICBwb3NpdGlvbnMucHVzaChzaW4gKiByaW5nUmFkaXVzLCB5LCBjb3MgKiByaW5nUmFkaXVzKTtcbiAgICAgIGlmICh5eSA8IDApIHtcbiAgICAgICAgbm9ybWFscy5wdXNoKDAsIC0xLCAwKTtcbiAgICAgIH0gZWxzZSBpZiAoeXkgPiB2ZXJ0aWNhbFN1YmRpdmlzaW9ucykge1xuICAgICAgICBub3JtYWxzLnB1c2goMCwgMSwgMCk7XG4gICAgICB9IGVsc2UgaWYgKHJpbmdSYWRpdXMgPT09IDAuMCkge1xuICAgICAgICBub3JtYWxzLnB1c2goMCwgMCwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub3JtYWxzLnB1c2goc2luICogY29zU2xhbnQsIHNpblNsYW50LCBjb3MgKiBjb3NTbGFudCk7XG4gICAgICB9XG4gICAgICB0ZXhjb29yZHMucHVzaCgoaWkgLyByYWRpYWxTdWJkaXZpc2lvbnMpLCAxIC0gdik7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgeXkgPSAwOyB5eSA8IHZlcnRpY2FsU3ViZGl2aXNpb25zICsgZXh0cmE7ICsreXkpIHsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAoeXkgPT09IDEgJiYgdG9wQ2FwIHx8IHl5ID09PSB2ZXJ0aWNhbFN1YmRpdmlzaW9ucyArIGV4dHJhIC0gMiAmJiBib3R0b21DYXApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgcmFkaWFsU3ViZGl2aXNpb25zOyArK2lpKSB7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICBpbmRpY2VzLnB1c2godmVydHNBcm91bmRFZGdlICogKHl5ICsgMCkgKyAwICsgaWksXG4gICAgICAgICAgICAgICAgICAgdmVydHNBcm91bmRFZGdlICogKHl5ICsgMCkgKyAxICsgaWksXG4gICAgICAgICAgICAgICAgICAgdmVydHNBcm91bmRFZGdlICogKHl5ICsgMSkgKyAxICsgaWkpO1xuICAgICAgaW5kaWNlcy5wdXNoKHZlcnRzQXJvdW5kRWRnZSAqICh5eSArIDApICsgMCArIGlpLFxuICAgICAgICAgICAgICAgICAgIHZlcnRzQXJvdW5kRWRnZSAqICh5eSArIDEpICsgMSArIGlpLFxuICAgICAgICAgICAgICAgICAgIHZlcnRzQXJvdW5kRWRnZSAqICh5eSArIDEpICsgMCArIGlpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvc2l0aW9uOiBwb3NpdGlvbnMsXG4gICAgbm9ybWFsOiBub3JtYWxzLFxuICAgIHRleGNvb3JkOiB0ZXhjb29yZHMsXG4gICAgaW5kaWNlczogaW5kaWNlcyxcbiAgfTtcbn1cblxuLyoqXG4gKiBFeHBhbmRzIFJMRSBkYXRhXG4gKiBAcGFyYW0ge251bWJlcltdfSBybGVEYXRhIGRhdGEgaW4gZm9ybWF0IG9mIHJ1bi1sZW5ndGgsIHgsIHksIHosIHJ1bi1sZW5ndGgsIHgsIHksIHpcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtwYWRkaW5nXSB2YWx1ZSB0byBhZGQgZWFjaCBlbnRyeSB3aXRoLlxuICogQHJldHVybiB7bnVtYmVyW119IHRoZSBleHBhbmRlZCBybGVEYXRhXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBleHBhbmRSTEVEYXRhKHJsZURhdGEsIHBhZGRpbmcpIHtcbiAgcGFkZGluZyA9IHBhZGRpbmcgfHwgW107XG4gIGNvbnN0IGRhdGEgPSBbXTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHJsZURhdGEubGVuZ3RoOyBpaSArPSA0KSB7XG4gICAgY29uc3QgcnVuTGVuZ3RoID0gcmxlRGF0YVtpaV07XG4gICAgY29uc3QgZWxlbWVudCA9IHJsZURhdGEuc2xpY2UoaWkgKyAxLCBpaSArIDQpO1xuICAgIGVsZW1lbnQucHVzaC5hcHBseShlbGVtZW50LCBwYWRkaW5nKTtcbiAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgcnVuTGVuZ3RoOyArK2pqKSB7XG4gICAgICBkYXRhLnB1c2guYXBwbHkoZGF0YSwgZWxlbWVudCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgM0QgJ0YnIEJ1ZmZlckluZm8uXG4gKiBBbiAnRicgaXMgdXNlZnVsIGJlY2F1c2UgeW91IGNhbiBlYXNpbHkgdGVsbCB3aGljaCB3YXkgaXQgaXMgb3JpZW50ZWQuXG4gKiBUaGUgY3JlYXRlZCAnRicgaGFzIHBvc2l0aW9uLCBub3JtYWwsIHRleGNvb3JkLCBhbmQgY29sb3IgYnVmZmVycy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsLkJ1ZmZlckluZm99IFRoZSBjcmVhdGVkIEJ1ZmZlckluZm8uXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZTNERkJ1ZmZlckluZm9cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgM0QgJ0YnIGJ1ZmZlcnMuXG4gKiBBbiAnRicgaXMgdXNlZnVsIGJlY2F1c2UgeW91IGNhbiBlYXNpbHkgdGVsbCB3aGljaCB3YXkgaXQgaXMgb3JpZW50ZWQuXG4gKiBUaGUgY3JlYXRlZCAnRicgaGFzIHBvc2l0aW9uLCBub3JtYWwsIHRleGNvb3JkLCBhbmQgY29sb3IgYnVmZmVycy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBXZWJHTEJ1ZmZlcj59IFRoZSBjcmVhdGVkIGJ1ZmZlcnMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZTNERkJ1ZmZlcnNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgM0QgJ0YnIHZlcnRpY2VzLlxuICogQW4gJ0YnIGlzIHVzZWZ1bCBiZWNhdXNlIHlvdSBjYW4gZWFzaWx5IHRlbGwgd2hpY2ggd2F5IGl0IGlzIG9yaWVudGVkLlxuICogVGhlIGNyZWF0ZWQgJ0YnIGhhcyBwb3NpdGlvbiwgbm9ybWFsLCB0ZXhjb29yZCwgYW5kIGNvbG9yIGFycmF5cy5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgVHlwZWRBcnJheT59IFRoZSBjcmVhdGVkIHZlcnRpY2VzLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlM0RGVmVydGljZXMoKSB7XG5cbiAgY29uc3QgcG9zaXRpb25zID0gW1xuICAgIC8vIGxlZnQgY29sdW1uIGZyb250XG4gICAgMCwgICAwLCAgMCxcbiAgICAwLCAxNTAsICAwLFxuICAgIDMwLCAgIDAsICAwLFxuICAgIDAsIDE1MCwgIDAsXG4gICAgMzAsIDE1MCwgIDAsXG4gICAgMzAsICAgMCwgIDAsXG5cbiAgICAvLyB0b3AgcnVuZyBmcm9udFxuICAgIDMwLCAgIDAsICAwLFxuICAgIDMwLCAgMzAsICAwLFxuICAgIDEwMCwgICAwLCAgMCxcbiAgICAzMCwgIDMwLCAgMCxcbiAgICAxMDAsICAzMCwgIDAsXG4gICAgMTAwLCAgIDAsICAwLFxuXG4gICAgLy8gbWlkZGxlIHJ1bmcgZnJvbnRcbiAgICAzMCwgIDYwLCAgMCxcbiAgICAzMCwgIDkwLCAgMCxcbiAgICA2NywgIDYwLCAgMCxcbiAgICAzMCwgIDkwLCAgMCxcbiAgICA2NywgIDkwLCAgMCxcbiAgICA2NywgIDYwLCAgMCxcblxuICAgIC8vIGxlZnQgY29sdW1uIGJhY2tcbiAgICAgIDAsICAgMCwgIDMwLFxuICAgICAzMCwgICAwLCAgMzAsXG4gICAgICAwLCAxNTAsICAzMCxcbiAgICAgIDAsIDE1MCwgIDMwLFxuICAgICAzMCwgICAwLCAgMzAsXG4gICAgIDMwLCAxNTAsICAzMCxcblxuICAgIC8vIHRvcCBydW5nIGJhY2tcbiAgICAgMzAsICAgMCwgIDMwLFxuICAgIDEwMCwgICAwLCAgMzAsXG4gICAgIDMwLCAgMzAsICAzMCxcbiAgICAgMzAsICAzMCwgIDMwLFxuICAgIDEwMCwgICAwLCAgMzAsXG4gICAgMTAwLCAgMzAsICAzMCxcblxuICAgIC8vIG1pZGRsZSBydW5nIGJhY2tcbiAgICAgMzAsICA2MCwgIDMwLFxuICAgICA2NywgIDYwLCAgMzAsXG4gICAgIDMwLCAgOTAsICAzMCxcbiAgICAgMzAsICA5MCwgIDMwLFxuICAgICA2NywgIDYwLCAgMzAsXG4gICAgIDY3LCAgOTAsICAzMCxcblxuICAgIC8vIHRvcFxuICAgICAgMCwgICAwLCAgIDAsXG4gICAgMTAwLCAgIDAsICAgMCxcbiAgICAxMDAsICAgMCwgIDMwLFxuICAgICAgMCwgICAwLCAgIDAsXG4gICAgMTAwLCAgIDAsICAzMCxcbiAgICAgIDAsICAgMCwgIDMwLFxuXG4gICAgLy8gdG9wIHJ1bmcgZnJvbnRcbiAgICAxMDAsICAgMCwgICAwLFxuICAgIDEwMCwgIDMwLCAgIDAsXG4gICAgMTAwLCAgMzAsICAzMCxcbiAgICAxMDAsICAgMCwgICAwLFxuICAgIDEwMCwgIDMwLCAgMzAsXG4gICAgMTAwLCAgIDAsICAzMCxcblxuICAgIC8vIHVuZGVyIHRvcCBydW5nXG4gICAgMzAsICAgMzAsICAgMCxcbiAgICAzMCwgICAzMCwgIDMwLFxuICAgIDEwMCwgIDMwLCAgMzAsXG4gICAgMzAsICAgMzAsICAgMCxcbiAgICAxMDAsICAzMCwgIDMwLFxuICAgIDEwMCwgIDMwLCAgIDAsXG5cbiAgICAvLyBiZXR3ZWVuIHRvcCBydW5nIGFuZCBtaWRkbGVcbiAgICAzMCwgICAzMCwgICAwLFxuICAgIDMwLCAgIDYwLCAgMzAsXG4gICAgMzAsICAgMzAsICAzMCxcbiAgICAzMCwgICAzMCwgICAwLFxuICAgIDMwLCAgIDYwLCAgIDAsXG4gICAgMzAsICAgNjAsICAzMCxcblxuICAgIC8vIHRvcCBvZiBtaWRkbGUgcnVuZ1xuICAgIDMwLCAgIDYwLCAgIDAsXG4gICAgNjcsICAgNjAsICAzMCxcbiAgICAzMCwgICA2MCwgIDMwLFxuICAgIDMwLCAgIDYwLCAgIDAsXG4gICAgNjcsICAgNjAsICAgMCxcbiAgICA2NywgICA2MCwgIDMwLFxuXG4gICAgLy8gZnJvbnQgb2YgbWlkZGxlIHJ1bmdcbiAgICA2NywgICA2MCwgICAwLFxuICAgIDY3LCAgIDkwLCAgMzAsXG4gICAgNjcsICAgNjAsICAzMCxcbiAgICA2NywgICA2MCwgICAwLFxuICAgIDY3LCAgIDkwLCAgIDAsXG4gICAgNjcsICAgOTAsICAzMCxcblxuICAgIC8vIGJvdHRvbSBvZiBtaWRkbGUgcnVuZy5cbiAgICAzMCwgICA5MCwgICAwLFxuICAgIDMwLCAgIDkwLCAgMzAsXG4gICAgNjcsICAgOTAsICAzMCxcbiAgICAzMCwgICA5MCwgICAwLFxuICAgIDY3LCAgIDkwLCAgMzAsXG4gICAgNjcsICAgOTAsICAgMCxcblxuICAgIC8vIGZyb250IG9mIGJvdHRvbVxuICAgIDMwLCAgIDkwLCAgIDAsXG4gICAgMzAsICAxNTAsICAzMCxcbiAgICAzMCwgICA5MCwgIDMwLFxuICAgIDMwLCAgIDkwLCAgIDAsXG4gICAgMzAsICAxNTAsICAgMCxcbiAgICAzMCwgIDE1MCwgIDMwLFxuXG4gICAgLy8gYm90dG9tXG4gICAgMCwgICAxNTAsICAgMCxcbiAgICAwLCAgIDE1MCwgIDMwLFxuICAgIDMwLCAgMTUwLCAgMzAsXG4gICAgMCwgICAxNTAsICAgMCxcbiAgICAzMCwgIDE1MCwgIDMwLFxuICAgIDMwLCAgMTUwLCAgIDAsXG5cbiAgICAvLyBsZWZ0IHNpZGVcbiAgICAwLCAgIDAsICAgMCxcbiAgICAwLCAgIDAsICAzMCxcbiAgICAwLCAxNTAsICAzMCxcbiAgICAwLCAgIDAsICAgMCxcbiAgICAwLCAxNTAsICAzMCxcbiAgICAwLCAxNTAsICAgMCxcbiAgXTtcblxuICBjb25zdCB0ZXhjb29yZHMgPSBbXG4gICAgLy8gbGVmdCBjb2x1bW4gZnJvbnRcbiAgICAwLjIyLCAwLjE5LFxuICAgIDAuMjIsIDAuNzksXG4gICAgMC4zNCwgMC4xOSxcbiAgICAwLjIyLCAwLjc5LFxuICAgIDAuMzQsIDAuNzksXG4gICAgMC4zNCwgMC4xOSxcblxuICAgIC8vIHRvcCBydW5nIGZyb250XG4gICAgMC4zNCwgMC4xOSxcbiAgICAwLjM0LCAwLjMxLFxuICAgIDAuNjIsIDAuMTksXG4gICAgMC4zNCwgMC4zMSxcbiAgICAwLjYyLCAwLjMxLFxuICAgIDAuNjIsIDAuMTksXG5cbiAgICAvLyBtaWRkbGUgcnVuZyBmcm9udFxuICAgIDAuMzQsIDAuNDMsXG4gICAgMC4zNCwgMC41NSxcbiAgICAwLjQ5LCAwLjQzLFxuICAgIDAuMzQsIDAuNTUsXG4gICAgMC40OSwgMC41NSxcbiAgICAwLjQ5LCAwLjQzLFxuXG4gICAgLy8gbGVmdCBjb2x1bW4gYmFja1xuICAgIDAsIDAsXG4gICAgMSwgMCxcbiAgICAwLCAxLFxuICAgIDAsIDEsXG4gICAgMSwgMCxcbiAgICAxLCAxLFxuXG4gICAgLy8gdG9wIHJ1bmcgYmFja1xuICAgIDAsIDAsXG4gICAgMSwgMCxcbiAgICAwLCAxLFxuICAgIDAsIDEsXG4gICAgMSwgMCxcbiAgICAxLCAxLFxuXG4gICAgLy8gbWlkZGxlIHJ1bmcgYmFja1xuICAgIDAsIDAsXG4gICAgMSwgMCxcbiAgICAwLCAxLFxuICAgIDAsIDEsXG4gICAgMSwgMCxcbiAgICAxLCAxLFxuXG4gICAgLy8gdG9wXG4gICAgMCwgMCxcbiAgICAxLCAwLFxuICAgIDEsIDEsXG4gICAgMCwgMCxcbiAgICAxLCAxLFxuICAgIDAsIDEsXG5cbiAgICAvLyB0b3AgcnVuZyBmcm9udFxuICAgIDAsIDAsXG4gICAgMSwgMCxcbiAgICAxLCAxLFxuICAgIDAsIDAsXG4gICAgMSwgMSxcbiAgICAwLCAxLFxuXG4gICAgLy8gdW5kZXIgdG9wIHJ1bmdcbiAgICAwLCAwLFxuICAgIDAsIDEsXG4gICAgMSwgMSxcbiAgICAwLCAwLFxuICAgIDEsIDEsXG4gICAgMSwgMCxcblxuICAgIC8vIGJldHdlZW4gdG9wIHJ1bmcgYW5kIG1pZGRsZVxuICAgIDAsIDAsXG4gICAgMSwgMSxcbiAgICAwLCAxLFxuICAgIDAsIDAsXG4gICAgMSwgMCxcbiAgICAxLCAxLFxuXG4gICAgLy8gdG9wIG9mIG1pZGRsZSBydW5nXG4gICAgMCwgMCxcbiAgICAxLCAxLFxuICAgIDAsIDEsXG4gICAgMCwgMCxcbiAgICAxLCAwLFxuICAgIDEsIDEsXG5cbiAgICAvLyBmcm9udCBvZiBtaWRkbGUgcnVuZ1xuICAgIDAsIDAsXG4gICAgMSwgMSxcbiAgICAwLCAxLFxuICAgIDAsIDAsXG4gICAgMSwgMCxcbiAgICAxLCAxLFxuXG4gICAgLy8gYm90dG9tIG9mIG1pZGRsZSBydW5nLlxuICAgIDAsIDAsXG4gICAgMCwgMSxcbiAgICAxLCAxLFxuICAgIDAsIDAsXG4gICAgMSwgMSxcbiAgICAxLCAwLFxuXG4gICAgLy8gZnJvbnQgb2YgYm90dG9tXG4gICAgMCwgMCxcbiAgICAxLCAxLFxuICAgIDAsIDEsXG4gICAgMCwgMCxcbiAgICAxLCAwLFxuICAgIDEsIDEsXG5cbiAgICAvLyBib3R0b21cbiAgICAwLCAwLFxuICAgIDAsIDEsXG4gICAgMSwgMSxcbiAgICAwLCAwLFxuICAgIDEsIDEsXG4gICAgMSwgMCxcblxuICAgIC8vIGxlZnQgc2lkZVxuICAgIDAsIDAsXG4gICAgMCwgMSxcbiAgICAxLCAxLFxuICAgIDAsIDAsXG4gICAgMSwgMSxcbiAgICAxLCAwLFxuICBdO1xuXG4gIGNvbnN0IG5vcm1hbHMgPSBleHBhbmRSTEVEYXRhKFtcbiAgICAvLyBsZWZ0IGNvbHVtbiBmcm9udFxuICAgIC8vIHRvcCBydW5nIGZyb250XG4gICAgLy8gbWlkZGxlIHJ1bmcgZnJvbnRcbiAgICAxOCwgMCwgMCwgMSxcblxuICAgIC8vIGxlZnQgY29sdW1uIGJhY2tcbiAgICAvLyB0b3AgcnVuZyBiYWNrXG4gICAgLy8gbWlkZGxlIHJ1bmcgYmFja1xuICAgIDE4LCAwLCAwLCAtMSxcblxuICAgIC8vIHRvcFxuICAgIDYsIDAsIDEsIDAsXG5cbiAgICAvLyB0b3AgcnVuZyBmcm9udFxuICAgIDYsIDEsIDAsIDAsXG5cbiAgICAvLyB1bmRlciB0b3AgcnVuZ1xuICAgIDYsIDAsIC0xLCAwLFxuXG4gICAgLy8gYmV0d2VlbiB0b3AgcnVuZyBhbmQgbWlkZGxlXG4gICAgNiwgMSwgMCwgMCxcblxuICAgIC8vIHRvcCBvZiBtaWRkbGUgcnVuZ1xuICAgIDYsIDAsIDEsIDAsXG5cbiAgICAvLyBmcm9udCBvZiBtaWRkbGUgcnVuZ1xuICAgIDYsIDEsIDAsIDAsXG5cbiAgICAvLyBib3R0b20gb2YgbWlkZGxlIHJ1bmcuXG4gICAgNiwgMCwgLTEsIDAsXG5cbiAgICAvLyBmcm9udCBvZiBib3R0b21cbiAgICA2LCAxLCAwLCAwLFxuXG4gICAgLy8gYm90dG9tXG4gICAgNiwgMCwgLTEsIDAsXG5cbiAgICAvLyBsZWZ0IHNpZGVcbiAgICA2LCAtMSwgMCwgMCxcbiAgXSk7XG5cbiAgY29uc3QgY29sb3JzID0gZXhwYW5kUkxFRGF0YShbXG4gICAgICAgIC8vIGxlZnQgY29sdW1uIGZyb250XG4gICAgICAgIC8vIHRvcCBydW5nIGZyb250XG4gICAgICAgIC8vIG1pZGRsZSBydW5nIGZyb250XG4gICAgICAxOCwgMjAwLCAgNzAsIDEyMCxcblxuICAgICAgICAvLyBsZWZ0IGNvbHVtbiBiYWNrXG4gICAgICAgIC8vIHRvcCBydW5nIGJhY2tcbiAgICAgICAgLy8gbWlkZGxlIHJ1bmcgYmFja1xuICAgICAgMTgsIDgwLCA3MCwgMjAwLFxuXG4gICAgICAgIC8vIHRvcFxuICAgICAgNiwgNzAsIDIwMCwgMjEwLFxuXG4gICAgICAgIC8vIHRvcCBydW5nIGZyb250XG4gICAgICA2LCAyMDAsIDIwMCwgNzAsXG5cbiAgICAgICAgLy8gdW5kZXIgdG9wIHJ1bmdcbiAgICAgIDYsIDIxMCwgMTAwLCA3MCxcblxuICAgICAgICAvLyBiZXR3ZWVuIHRvcCBydW5nIGFuZCBtaWRkbGVcbiAgICAgIDYsIDIxMCwgMTYwLCA3MCxcblxuICAgICAgICAvLyB0b3Agb2YgbWlkZGxlIHJ1bmdcbiAgICAgIDYsIDcwLCAxODAsIDIxMCxcblxuICAgICAgICAvLyBmcm9udCBvZiBtaWRkbGUgcnVuZ1xuICAgICAgNiwgMTAwLCA3MCwgMjEwLFxuXG4gICAgICAgIC8vIGJvdHRvbSBvZiBtaWRkbGUgcnVuZy5cbiAgICAgIDYsIDc2LCAyMTAsIDEwMCxcblxuICAgICAgICAvLyBmcm9udCBvZiBib3R0b21cbiAgICAgIDYsIDE0MCwgMjEwLCA4MCxcblxuICAgICAgICAvLyBib3R0b21cbiAgICAgIDYsIDkwLCAxMzAsIDExMCxcblxuICAgICAgICAvLyBsZWZ0IHNpZGVcbiAgICAgIDYsIDE2MCwgMTYwLCAyMjAsXG4gIF0sIFsyNTVdKTtcblxuICBjb25zdCBudW1WZXJ0cyA9IHBvc2l0aW9ucy5sZW5ndGggLyAzO1xuXG4gIGNvbnN0IGFycmF5cyA9IHtcbiAgICBwb3NpdGlvbjogY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCBudW1WZXJ0cyksXG4gICAgdGV4Y29vcmQ6IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoMiwgIG51bVZlcnRzKSxcbiAgICBub3JtYWw6IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoMywgbnVtVmVydHMpLFxuICAgIGNvbG9yOiBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDQsIG51bVZlcnRzLCBVaW50OEFycmF5KSxcbiAgICBpbmRpY2VzOiBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDMsIG51bVZlcnRzIC8gMywgVWludDE2QXJyYXkpLFxuICB9O1xuXG4gIGFycmF5cy5wb3NpdGlvbi5wdXNoKHBvc2l0aW9ucyk7XG4gIGFycmF5cy50ZXhjb29yZC5wdXNoKHRleGNvb3Jkcyk7XG4gIGFycmF5cy5ub3JtYWwucHVzaChub3JtYWxzKTtcbiAgYXJyYXlzLmNvbG9yLnB1c2goY29sb3JzKTtcblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbnVtVmVydHM7ICsraWkpIHtcbiAgICBhcnJheXMuaW5kaWNlcy5wdXNoKGlpKTtcbiAgfVxuXG4gIHJldHVybiBhcnJheXM7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBjcmVzY2VudCBCdWZmZXJJbmZvLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2FsUmFkaXVzIFRoZSB2ZXJ0aWNhbCByYWRpdXMgb2YgdGhlIGNyZXNjZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IG91dGVyUmFkaXVzIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIGNyZXNjZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IGlubmVyUmFkaXVzIFRoZSBpbm5lciByYWRpdXMgb2YgdGhlIGNyZXNjZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHRoaWNrbmVzcyBUaGUgdGhpY2tuZXNzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdWJkaXZpc2lvbnNEb3duIG51bWJlciBvZiBzdGVwcyBhcm91bmQgdGhlIGNyZXNjZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydE9mZnNldF0gV2hlcmUgdG8gc3RhcnQgYXJjLiBEZWZhdWx0IDAuXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZE9mZnNldF0gV2hlcmUgdG8gZW5kIGFyZy4gRGVmYXVsdCAxLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuQnVmZmVySW5mb30gVGhlIGNyZWF0ZWQgQnVmZmVySW5mby5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKiBAZnVuY3Rpb24gY3JlYXRlQ3Jlc2VudEJ1ZmZlckluZm9cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgY3Jlc2NlbnQgYnVmZmVycy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNhbFJhZGl1cyBUaGUgdmVydGljYWwgcmFkaXVzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvdXRlclJhZGl1cyBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbm5lclJhZGl1cyBUaGUgaW5uZXIgcmFkaXVzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aGlja25lc3MgVGhlIHRoaWNrbmVzcyBvZiB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ViZGl2aXNpb25zRG93biBudW1iZXIgb2Ygc3RlcHMgYXJvdW5kIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRPZmZzZXRdIFdoZXJlIHRvIHN0YXJ0IGFyYy4gRGVmYXVsdCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IFtlbmRPZmZzZXRdIFdoZXJlIHRvIGVuZCBhcmcuIERlZmF1bHQgMS5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBXZWJHTEJ1ZmZlcj59IFRoZSBjcmVhdGVkIGJ1ZmZlcnMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZUNyZXNlbnRCdWZmZXJzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGNyZXNjZW50IHZlcnRpY2VzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNhbFJhZGl1cyBUaGUgdmVydGljYWwgcmFkaXVzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvdXRlclJhZGl1cyBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbm5lclJhZGl1cyBUaGUgaW5uZXIgcmFkaXVzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aGlja25lc3MgVGhlIHRoaWNrbmVzcyBvZiB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ViZGl2aXNpb25zRG93biBudW1iZXIgb2Ygc3RlcHMgYXJvdW5kIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRPZmZzZXRdIFdoZXJlIHRvIHN0YXJ0IGFyYy4gRGVmYXVsdCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IFtlbmRPZmZzZXRdIFdoZXJlIHRvIGVuZCBhcmcuIERlZmF1bHQgMS5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBUeXBlZEFycmF5Pn0gVGhlIGNyZWF0ZWQgdmVydGljZXMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZUNyZXNlbnRCdWZmZXJzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGNyZXNjZW50IEJ1ZmZlckluZm8uXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmVydGljYWxSYWRpdXMgVGhlIHZlcnRpY2FsIHJhZGl1cyBvZiB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gb3V0ZXJSYWRpdXMgVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5uZXJSYWRpdXMgVGhlIGlubmVyIHJhZGl1cyBvZiB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdGhpY2tuZXNzIFRoZSB0aGlja25lc3Mgb2YgdGhlIGNyZXNjZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHN1YmRpdmlzaW9uc0Rvd24gbnVtYmVyIG9mIHN0ZXBzIGFyb3VuZCB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0T2Zmc2V0XSBXaGVyZSB0byBzdGFydCBhcmMuIERlZmF1bHQgMC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kT2Zmc2V0XSBXaGVyZSB0byBlbmQgYXJnLiBEZWZhdWx0IDEuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC5CdWZmZXJJbmZvfSBUaGUgY3JlYXRlZCBCdWZmZXJJbmZvLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqIEBmdW5jdGlvbiBjcmVhdGVDcmVzY2VudEJ1ZmZlckluZm9cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgY3Jlc2NlbnQgYnVmZmVycy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNhbFJhZGl1cyBUaGUgdmVydGljYWwgcmFkaXVzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvdXRlclJhZGl1cyBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbm5lclJhZGl1cyBUaGUgaW5uZXIgcmFkaXVzIG9mIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aGlja25lc3MgVGhlIHRoaWNrbmVzcyBvZiB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3ViZGl2aXNpb25zRG93biBudW1iZXIgb2Ygc3RlcHMgYXJvdW5kIHRoZSBjcmVzY2VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRPZmZzZXRdIFdoZXJlIHRvIHN0YXJ0IGFyYy4gRGVmYXVsdCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IFtlbmRPZmZzZXRdIFdoZXJlIHRvIGVuZCBhcmcuIERlZmF1bHQgMS5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBXZWJHTEJ1ZmZlcj59IFRoZSBjcmVhdGVkIGJ1ZmZlcnMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZUNyZXNjZW50QnVmZmVyc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBjcmVzY2VudCB2ZXJ0aWNlcy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmVydGljYWxSYWRpdXMgVGhlIHZlcnRpY2FsIHJhZGl1cyBvZiB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gb3V0ZXJSYWRpdXMgVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5uZXJSYWRpdXMgVGhlIGlubmVyIHJhZGl1cyBvZiB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdGhpY2tuZXNzIFRoZSB0aGlja25lc3Mgb2YgdGhlIGNyZXNjZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHN1YmRpdmlzaW9uc0Rvd24gbnVtYmVyIG9mIHN0ZXBzIGFyb3VuZCB0aGUgY3Jlc2NlbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0T2Zmc2V0XSBXaGVyZSB0byBzdGFydCBhcmMuIERlZmF1bHQgMC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kT2Zmc2V0XSBXaGVyZSB0byBlbmQgYXJnLiBEZWZhdWx0IDEuXG4gKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgVHlwZWRBcnJheT59IFRoZSBjcmVhdGVkIHZlcnRpY2VzLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqL1xuIGZ1bmN0aW9uIGNyZWF0ZUNyZXNjZW50VmVydGljZXMoXG4gICAgdmVydGljYWxSYWRpdXMsXG4gICAgb3V0ZXJSYWRpdXMsXG4gICAgaW5uZXJSYWRpdXMsXG4gICAgdGhpY2tuZXNzLFxuICAgIHN1YmRpdmlzaW9uc0Rvd24sXG4gICAgc3RhcnRPZmZzZXQsXG4gICAgZW5kT2Zmc2V0KSB7XG4gIGlmIChzdWJkaXZpc2lvbnNEb3duIDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3N1YmRpdmlzaW9uRG93biBtdXN0IGJlID4gMCcpO1xuICB9XG5cbiAgc3RhcnRPZmZzZXQgPSBzdGFydE9mZnNldCB8fCAwO1xuICBlbmRPZmZzZXQgICA9IGVuZE9mZnNldCB8fCAxO1xuXG4gIGNvbnN0IHN1YmRpdmlzaW9uc1RoaWNrID0gMjtcblxuICBjb25zdCBvZmZzZXRSYW5nZSA9IGVuZE9mZnNldCAtIHN0YXJ0T2Zmc2V0O1xuICBjb25zdCBudW1WZXJ0aWNlcyA9IChzdWJkaXZpc2lvbnNEb3duICsgMSkgKiAyICogKDIgKyBzdWJkaXZpc2lvbnNUaGljayk7XG4gIGNvbnN0IHBvc2l0aW9ucyAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCBudW1WZXJ0aWNlcyk7XG4gIGNvbnN0IG5vcm1hbHMgICAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCBudW1WZXJ0aWNlcyk7XG4gIGNvbnN0IHRleGNvb3JkcyAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgyLCBudW1WZXJ0aWNlcyk7XG5cbiAgZnVuY3Rpb24gbGVycChhLCBiLCBzKSB7XG4gICAgcmV0dXJuIGEgKyAoYiAtIGEpICogcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFyYyhhcmNSYWRpdXMsIHgsIG5vcm1hbE11bHQsIG5vcm1hbEFkZCwgdU11bHQsIHVBZGQpIHtcbiAgICBmb3IgKGxldCB6ID0gMDsgeiA8PSBzdWJkaXZpc2lvbnNEb3duOyB6KyspIHtcbiAgICAgIGNvbnN0IHVCYWNrID0geCAvIChzdWJkaXZpc2lvbnNUaGljayAtIDEpO1xuICAgICAgY29uc3QgdiA9IHogLyBzdWJkaXZpc2lvbnNEb3duO1xuICAgICAgY29uc3QgeEJhY2sgPSAodUJhY2sgLSAwLjUpICogMjtcbiAgICAgIGNvbnN0IGFuZ2xlID0gKHN0YXJ0T2Zmc2V0ICsgKHYgKiBvZmZzZXRSYW5nZSkpICogTWF0aC5QSTtcbiAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgY29uc3QgcmFkaXVzID0gbGVycCh2ZXJ0aWNhbFJhZGl1cywgYXJjUmFkaXVzLCBzKTtcbiAgICAgIGNvbnN0IHB4ID0geEJhY2sgKiB0aGlja25lc3M7XG4gICAgICBjb25zdCBweSA9IGMgKiB2ZXJ0aWNhbFJhZGl1cztcbiAgICAgIGNvbnN0IHB6ID0gcyAqIHJhZGl1cztcbiAgICAgIHBvc2l0aW9ucy5wdXNoKHB4LCBweSwgcHopO1xuICAgICAgY29uc3QgbiA9IGFkZChtdWx0aXBseShbMCwgcywgY10sIG5vcm1hbE11bHQpLCBub3JtYWxBZGQpO1xuICAgICAgbm9ybWFscy5wdXNoKG4pO1xuICAgICAgdGV4Y29vcmRzLnB1c2godUJhY2sgKiB1TXVsdCArIHVBZGQsIHYpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdlbmVyYXRlIHRoZSBpbmRpdmlkdWFsIHZlcnRpY2VzIGluIG91ciB2ZXJ0ZXggYnVmZmVyLlxuICBmb3IgKGxldCB4ID0gMDsgeCA8IHN1YmRpdmlzaW9uc1RoaWNrOyB4KyspIHtcbiAgICBjb25zdCB1QmFjayA9ICh4IC8gKHN1YmRpdmlzaW9uc1RoaWNrIC0gMSkgLSAwLjUpICogMjtcbiAgICBjcmVhdGVBcmMob3V0ZXJSYWRpdXMsIHgsIFsxLCAxLCAxXSwgWzAsICAgICAwLCAwXSwgMSwgMCk7XG4gICAgY3JlYXRlQXJjKG91dGVyUmFkaXVzLCB4LCBbMCwgMCwgMF0sIFt1QmFjaywgMCwgMF0sIDAsIDApO1xuICAgIGNyZWF0ZUFyYyhpbm5lclJhZGl1cywgeCwgWzEsIDEsIDFdLCBbMCwgICAgIDAsIDBdLCAxLCAwKTtcbiAgICBjcmVhdGVBcmMoaW5uZXJSYWRpdXMsIHgsIFswLCAwLCAwXSwgW3VCYWNrLCAwLCAwXSwgMCwgMSk7XG4gIH1cblxuICAvLyBEbyBvdXRlciBzdXJmYWNlLlxuICBjb25zdCBpbmRpY2VzID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCAoc3ViZGl2aXNpb25zRG93biAqIDIpICogKDIgKyBzdWJkaXZpc2lvbnNUaGljayksIFVpbnQxNkFycmF5KTtcblxuICBmdW5jdGlvbiBjcmVhdGVTdXJmYWNlKGxlZnRBcmNPZmZzZXQsIHJpZ2h0QXJjT2Zmc2V0KSB7XG4gICAgZm9yIChsZXQgeiA9IDA7IHogPCBzdWJkaXZpc2lvbnNEb3duOyArK3opIHtcbiAgICAgIC8vIE1ha2UgdHJpYW5nbGUgMSBvZiBxdWFkLlxuICAgICAgaW5kaWNlcy5wdXNoKFxuICAgICAgICAgIGxlZnRBcmNPZmZzZXQgKyB6ICsgMCxcbiAgICAgICAgICBsZWZ0QXJjT2Zmc2V0ICsgeiArIDEsXG4gICAgICAgICAgcmlnaHRBcmNPZmZzZXQgKyB6ICsgMCk7XG5cbiAgICAgIC8vIE1ha2UgdHJpYW5nbGUgMiBvZiBxdWFkLlxuICAgICAgaW5kaWNlcy5wdXNoKFxuICAgICAgICAgIGxlZnRBcmNPZmZzZXQgKyB6ICsgMSxcbiAgICAgICAgICByaWdodEFyY09mZnNldCArIHogKyAxLFxuICAgICAgICAgIHJpZ2h0QXJjT2Zmc2V0ICsgeiArIDApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG51bVZlcnRpY2VzRG93biA9IHN1YmRpdmlzaW9uc0Rvd24gKyAxO1xuICAvLyBmcm9udFxuICBjcmVhdGVTdXJmYWNlKG51bVZlcnRpY2VzRG93biAqIDAsIG51bVZlcnRpY2VzRG93biAqIDQpO1xuICAvLyByaWdodFxuICBjcmVhdGVTdXJmYWNlKG51bVZlcnRpY2VzRG93biAqIDUsIG51bVZlcnRpY2VzRG93biAqIDcpO1xuICAvLyBiYWNrXG4gIGNyZWF0ZVN1cmZhY2UobnVtVmVydGljZXNEb3duICogNiwgbnVtVmVydGljZXNEb3duICogMik7XG4gIC8vIGxlZnRcbiAgY3JlYXRlU3VyZmFjZShudW1WZXJ0aWNlc0Rvd24gKiAzLCBudW1WZXJ0aWNlc0Rvd24gKiAxKTtcblxuICByZXR1cm4ge1xuICAgIHBvc2l0aW9uOiBwb3NpdGlvbnMsXG4gICAgbm9ybWFsOiAgIG5vcm1hbHMsXG4gICAgdGV4Y29vcmQ6IHRleGNvb3JkcyxcbiAgICBpbmRpY2VzOiAgaW5kaWNlcyxcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGN5bGluZGVyIEJ1ZmZlckluZm8uIFRoZSBjeWxpbmRlciB3aWxsIGJlIGNyZWF0ZWQgYXJvdW5kIHRoZSBvcmlnaW5cbiAqIGFsb25nIHRoZSB5LWF4aXMuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cyBvZiBjeWxpbmRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIGN5bGluZGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbFN1YmRpdmlzaW9ucyBUaGUgbnVtYmVyIG9mIHN1YmRpdmlzaW9ucyBhcm91bmQgdGhlIGN5bGluZGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2FsU3ViZGl2aXNpb25zIFRoZSBudW1iZXIgb2Ygc3ViZGl2aXNpb25zIGRvd24gdGhlIGN5bGluZGVyLlxuICogQHBhcmFtIHtib29sZWFufSBbdG9wQ2FwXSBDcmVhdGUgdG9wIGNhcC4gRGVmYXVsdCA9IHRydWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtib3R0b21DYXBdIENyZWF0ZSBib3R0b20gY2FwLiBEZWZhdWx0ID0gdHJ1ZS5cbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsLkJ1ZmZlckluZm99IFRoZSBjcmVhdGVkIEJ1ZmZlckluZm8uXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZUN5bGluZGVyQnVmZmVySW5mb1xuICovXG5cbiAvKipcbiAgKiBDcmVhdGVzIGN5bGluZGVyIGJ1ZmZlcnMuIFRoZSBjeWxpbmRlciB3aWxsIGJlIGNyZWF0ZWQgYXJvdW5kIHRoZSBvcmlnaW5cbiAgKiBhbG9uZyB0aGUgeS1heGlzLlxuICAqXG4gICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuXG4gICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyBSYWRpdXMgb2YgY3lsaW5kZXIuXG4gICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgY3lsaW5kZXIuXG4gICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbFN1YmRpdmlzaW9ucyBUaGUgbnVtYmVyIG9mIHN1YmRpdmlzaW9ucyBhcm91bmQgdGhlIGN5bGluZGVyLlxuICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNhbFN1YmRpdmlzaW9ucyBUaGUgbnVtYmVyIG9mIHN1YmRpdmlzaW9ucyBkb3duIHRoZSBjeWxpbmRlci5cbiAgKiBAcGFyYW0ge2Jvb2xlYW59IFt0b3BDYXBdIENyZWF0ZSB0b3AgY2FwLiBEZWZhdWx0ID0gdHJ1ZS5cbiAgKiBAcGFyYW0ge2Jvb2xlYW59IFtib3R0b21DYXBdIENyZWF0ZSBib3R0b20gY2FwLiBEZWZhdWx0ID0gdHJ1ZS5cbiAgKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgV2ViR0xCdWZmZXI+fSBUaGUgY3JlYXRlZCBidWZmZXJzLlxuICAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gICogQGZ1bmN0aW9uIGNyZWF0ZUN5bGluZGVyQnVmZmVyc1xuICAqL1xuXG4gLyoqXG4gICogQ3JlYXRlcyBjeWxpbmRlciB2ZXJ0aWNlcy4gVGhlIGN5bGluZGVyIHdpbGwgYmUgY3JlYXRlZCBhcm91bmQgdGhlIG9yaWdpblxuICAqIGFsb25nIHRoZSB5LWF4aXMuXG4gICpcbiAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cyBvZiBjeWxpbmRlci5cbiAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiBjeWxpbmRlci5cbiAgKiBAcGFyYW0ge251bWJlcn0gcmFkaWFsU3ViZGl2aXNpb25zIFRoZSBudW1iZXIgb2Ygc3ViZGl2aXNpb25zIGFyb3VuZCB0aGUgY3lsaW5kZXIuXG4gICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2FsU3ViZGl2aXNpb25zIFRoZSBudW1iZXIgb2Ygc3ViZGl2aXNpb25zIGRvd24gdGhlIGN5bGluZGVyLlxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3RvcENhcF0gQ3JlYXRlIHRvcCBjYXAuIERlZmF1bHQgPSB0cnVlLlxuICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JvdHRvbUNhcF0gQ3JlYXRlIGJvdHRvbSBjYXAuIERlZmF1bHQgPSB0cnVlLlxuICAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBUeXBlZEFycmF5Pn0gVGhlIGNyZWF0ZWQgdmVydGljZXMuXG4gICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAgKi9cbmZ1bmN0aW9uIGNyZWF0ZUN5bGluZGVyVmVydGljZXMoXG4gICAgcmFkaXVzLFxuICAgIGhlaWdodCxcbiAgICByYWRpYWxTdWJkaXZpc2lvbnMsXG4gICAgdmVydGljYWxTdWJkaXZpc2lvbnMsXG4gICAgdG9wQ2FwLFxuICAgIGJvdHRvbUNhcCkge1xuICByZXR1cm4gY3JlYXRlVHJ1bmNhdGVkQ29uZVZlcnRpY2VzKFxuICAgICAgcmFkaXVzLFxuICAgICAgcmFkaXVzLFxuICAgICAgaGVpZ2h0LFxuICAgICAgcmFkaWFsU3ViZGl2aXNpb25zLFxuICAgICAgdmVydGljYWxTdWJkaXZpc2lvbnMsXG4gICAgICB0b3BDYXAsXG4gICAgICBib3R0b21DYXApO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgQnVmZmVySW5mbyBmb3IgYSB0b3J1c1xuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyByYWRpdXMgb2YgY2VudGVyIG9mIHRvcnVzIGNpcmNsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aGlja25lc3MgcmFkaXVzIG9mIHRvcnVzIHJpbmcuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaWFsU3ViZGl2aXNpb25zIFRoZSBudW1iZXIgb2Ygc3ViZGl2aXNpb25zIGFyb3VuZCB0aGUgdG9ydXMuXG4gKiBAcGFyYW0ge251bWJlcn0gYm9keVN1YmRpdmlzaW9ucyBUaGUgbnVtYmVyIG9mIHN1YmRpdmlzaW9ucyBhcm91bmQgdGhlIGJvZHkgdG9ydXMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFydEFuZ2xlXSBzdGFydCBhbmdsZSBpbiByYWRpYW5zLiBEZWZhdWx0ID0gMC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuZEFuZ2xlXSBlbmQgYW5nbGUgaW4gcmFkaWFucy4gRGVmYXVsdCA9IE1hdGguUEkgKiAyLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuQnVmZmVySW5mb30gVGhlIGNyZWF0ZWQgQnVmZmVySW5mby5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKiBAZnVuY3Rpb24gY3JlYXRlVG9ydXNCdWZmZXJJbmZvXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGJ1ZmZlcnMgZm9yIGEgdG9ydXNcbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgcmFkaXVzIG9mIGNlbnRlciBvZiB0b3J1cyBjaXJjbGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdGhpY2tuZXNzIHJhZGl1cyBvZiB0b3J1cyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbFN1YmRpdmlzaW9ucyBUaGUgbnVtYmVyIG9mIHN1YmRpdmlzaW9ucyBhcm91bmQgdGhlIHRvcnVzLlxuICogQHBhcmFtIHtudW1iZXJ9IGJvZHlTdWJkaXZpc2lvbnMgVGhlIG51bWJlciBvZiBzdWJkaXZpc2lvbnMgYXJvdW5kIHRoZSBib2R5IHRvcnVzLlxuICogQHBhcmFtIHtib29sZWFufSBbc3RhcnRBbmdsZV0gc3RhcnQgYW5nbGUgaW4gcmFkaWFucy4gRGVmYXVsdCA9IDAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbmRBbmdsZV0gZW5kIGFuZ2xlIGluIHJhZGlhbnMuIERlZmF1bHQgPSBNYXRoLlBJICogMi5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBXZWJHTEJ1ZmZlcj59IFRoZSBjcmVhdGVkIGJ1ZmZlcnMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICogQGZ1bmN0aW9uIGNyZWF0ZVRvcnVzQnVmZmVyc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyB2ZXJ0aWNlcyBmb3IgYSB0b3J1c1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgcmFkaXVzIG9mIGNlbnRlciBvZiB0b3J1cyBjaXJjbGUuXG4gKiBAcGFyYW0ge251bWJlcn0gdGhpY2tuZXNzIHJhZGl1cyBvZiB0b3J1cyByaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGlhbFN1YmRpdmlzaW9ucyBUaGUgbnVtYmVyIG9mIHN1YmRpdmlzaW9ucyBhcm91bmQgdGhlIHRvcnVzLlxuICogQHBhcmFtIHtudW1iZXJ9IGJvZHlTdWJkaXZpc2lvbnMgVGhlIG51bWJlciBvZiBzdWJkaXZpc2lvbnMgYXJvdW5kIHRoZSBib2R5IHRvcnVzLlxuICogQHBhcmFtIHtib29sZWFufSBbc3RhcnRBbmdsZV0gc3RhcnQgYW5nbGUgaW4gcmFkaWFucy4gRGVmYXVsdCA9IDAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbmRBbmdsZV0gZW5kIGFuZ2xlIGluIHJhZGlhbnMuIERlZmF1bHQgPSBNYXRoLlBJICogMi5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLCBUeXBlZEFycmF5Pn0gVGhlIGNyZWF0ZWQgdmVydGljZXMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVUb3J1c1ZlcnRpY2VzKFxuICAgIHJhZGl1cyxcbiAgICB0aGlja25lc3MsXG4gICAgcmFkaWFsU3ViZGl2aXNpb25zLFxuICAgIGJvZHlTdWJkaXZpc2lvbnMsXG4gICAgc3RhcnRBbmdsZSxcbiAgICBlbmRBbmdsZSkge1xuICBpZiAocmFkaWFsU3ViZGl2aXNpb25zIDwgMykge1xuICAgIHRocm93IG5ldyBFcnJvcigncmFkaWFsU3ViZGl2aXNpb25zIG11c3QgYmUgMyBvciBncmVhdGVyJyk7XG4gIH1cblxuICBpZiAoYm9keVN1YmRpdmlzaW9ucyA8IDMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZlcnRpY2FsU3ViZGl2aXNpb25zIG11c3QgYmUgMyBvciBncmVhdGVyJyk7XG4gIH1cblxuICBzdGFydEFuZ2xlID0gc3RhcnRBbmdsZSB8fCAwO1xuICBlbmRBbmdsZSA9IGVuZEFuZ2xlIHx8IE1hdGguUEkgKiAyO1xuICBjb25zdCByYW5nZSA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcblxuICBjb25zdCByYWRpYWxQYXJ0cyA9IHJhZGlhbFN1YmRpdmlzaW9ucyArIDE7XG4gIGNvbnN0IGJvZHlQYXJ0cyAgID0gYm9keVN1YmRpdmlzaW9ucyArIDE7XG4gIGNvbnN0IG51bVZlcnRpY2VzID0gcmFkaWFsUGFydHMgKiBib2R5UGFydHM7XG4gIGNvbnN0IHBvc2l0aW9ucyAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCBudW1WZXJ0aWNlcyk7XG4gIGNvbnN0IG5vcm1hbHMgICAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCBudW1WZXJ0aWNlcyk7XG4gIGNvbnN0IHRleGNvb3JkcyAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgyLCBudW1WZXJ0aWNlcyk7XG4gIGNvbnN0IGluZGljZXMgICAgID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgzLCAocmFkaWFsU3ViZGl2aXNpb25zKSAqIChib2R5U3ViZGl2aXNpb25zKSAqIDIsIFVpbnQxNkFycmF5KTtcblxuICBmb3IgKGxldCBzbGljZSA9IDA7IHNsaWNlIDwgYm9keVBhcnRzOyArK3NsaWNlKSB7XG4gICAgY29uc3QgdiA9IHNsaWNlIC8gYm9keVN1YmRpdmlzaW9ucztcbiAgICBjb25zdCBzbGljZUFuZ2xlID0gdiAqIE1hdGguUEkgKiAyO1xuICAgIGNvbnN0IHNsaWNlU2luID0gTWF0aC5zaW4oc2xpY2VBbmdsZSk7XG4gICAgY29uc3QgcmluZ1JhZGl1cyA9IHJhZGl1cyArIHNsaWNlU2luICogdGhpY2tuZXNzO1xuICAgIGNvbnN0IG55ID0gTWF0aC5jb3Moc2xpY2VBbmdsZSk7XG4gICAgY29uc3QgeSA9IG55ICogdGhpY2tuZXNzO1xuICAgIGZvciAobGV0IHJpbmcgPSAwOyByaW5nIDwgcmFkaWFsUGFydHM7ICsrcmluZykge1xuICAgICAgY29uc3QgdSA9IHJpbmcgLyByYWRpYWxTdWJkaXZpc2lvbnM7XG4gICAgICBjb25zdCByaW5nQW5nbGUgPSBzdGFydEFuZ2xlICsgdSAqIHJhbmdlO1xuICAgICAgY29uc3QgeFNpbiA9IE1hdGguc2luKHJpbmdBbmdsZSk7XG4gICAgICBjb25zdCB6Q29zID0gTWF0aC5jb3MocmluZ0FuZ2xlKTtcbiAgICAgIGNvbnN0IHggPSB4U2luICogcmluZ1JhZGl1cztcbiAgICAgIGNvbnN0IHogPSB6Q29zICogcmluZ1JhZGl1cztcbiAgICAgIGNvbnN0IG54ID0geFNpbiAqIHNsaWNlU2luO1xuICAgICAgY29uc3QgbnogPSB6Q29zICogc2xpY2VTaW47XG4gICAgICBwb3NpdGlvbnMucHVzaCh4LCB5LCB6KTtcbiAgICAgIG5vcm1hbHMucHVzaChueCwgbnksIG56KTtcbiAgICAgIHRleGNvb3Jkcy5wdXNoKHUsIDEgLSB2KTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBzbGljZSA9IDA7IHNsaWNlIDwgYm9keVN1YmRpdmlzaW9uczsgKytzbGljZSkgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZvciAobGV0IHJpbmcgPSAwOyByaW5nIDwgcmFkaWFsU3ViZGl2aXNpb25zOyArK3JpbmcpIHsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIGNvbnN0IG5leHRSaW5nSW5kZXggID0gMSArIHJpbmc7XG4gICAgICBjb25zdCBuZXh0U2xpY2VJbmRleCA9IDEgKyBzbGljZTtcbiAgICAgIGluZGljZXMucHVzaChyYWRpYWxQYXJ0cyAqIHNsaWNlICAgICAgICAgICsgcmluZyxcbiAgICAgICAgICAgICAgICAgICByYWRpYWxQYXJ0cyAqIG5leHRTbGljZUluZGV4ICsgcmluZyxcbiAgICAgICAgICAgICAgICAgICByYWRpYWxQYXJ0cyAqIHNsaWNlICAgICAgICAgICsgbmV4dFJpbmdJbmRleCk7XG4gICAgICBpbmRpY2VzLnB1c2gocmFkaWFsUGFydHMgKiBuZXh0U2xpY2VJbmRleCArIHJpbmcsXG4gICAgICAgICAgICAgICAgICAgcmFkaWFsUGFydHMgKiBuZXh0U2xpY2VJbmRleCArIG5leHRSaW5nSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgcmFkaWFsUGFydHMgKiBzbGljZSAgICAgICAgICArIG5leHRSaW5nSW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcG9zaXRpb246IHBvc2l0aW9ucyxcbiAgICBub3JtYWw6ICAgbm9ybWFscyxcbiAgICB0ZXhjb29yZDogdGV4Y29vcmRzLFxuICAgIGluZGljZXM6ICBpbmRpY2VzLFxuICB9O1xufVxuXG5cbi8qKlxuICogQ3JlYXRlcyBhIGRpc2MgQnVmZmVySW5mby4gVGhlIGRpc2Mgd2lsbCBiZSBpbiB0aGUgeHogcGxhbmUsIGNlbnRlcmVkIGF0XG4gKiB0aGUgb3JpZ2luLiBXaGVuIGNyZWF0aW5nLCBhdCBsZWFzdCAzIGRpdmlzaW9ucywgb3IgcGllXG4gKiBwaWVjZXMsIG5lZWQgdG8gYmUgc3BlY2lmaWVkLCBvdGhlcndpc2UgdGhlIHRyaWFuZ2xlcyBtYWtpbmdcbiAqIHVwIHRoZSBkaXNjIHdpbGwgYmUgZGVnZW5lcmF0ZS4gWW91IGNhbiBhbHNvIHNwZWNpZnkgdGhlXG4gKiBudW1iZXIgb2YgcmFkaWFsIHBpZWNlcyBgc3RhY2tzYC4gQSB2YWx1ZSBvZiAxIGZvclxuICogc3RhY2tzIHdpbGwgZ2l2ZSB5b3UgYSBzaW1wbGUgZGlzYyBvZiBwaWUgcGllY2VzLiAgSWYgeW91XG4gKiB3YW50IHRvIGNyZWF0ZSBhbiBhbm51bHVzIHlvdSBjYW4gc2V0IGBpbm5lclJhZGl1c2AgdG8gYVxuICogdmFsdWUgPiAwLiBGaW5hbGx5LCBgc3RhY2tQb3dlcmAgYWxsb3dzIHlvdSB0byBoYXZlIHRoZSB3aWR0aHNcbiAqIGluY3JlYXNlIG9yIGRlY3JlYXNlIGFzIHlvdSBtb3ZlIGF3YXkgZnJvbSB0aGUgY2VudGVyLiBUaGlzXG4gKiBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIHdoZW4gdXNpbmcgdGhlIGRpc2MgYXMgYSBncm91bmQgcGxhbmVcbiAqIHdpdGggYSBmaXhlZCBjYW1lcmEgc3VjaCB0aGF0IHlvdSBkb24ndCBuZWVkIHRoZSByZXNvbHV0aW9uXG4gKiBvZiBzbWFsbCB0cmlhbmdsZXMgbmVhciB0aGUgcGVyaW1ldGVyLiBGb3IgZXhhbXBsZSwgYSB2YWx1ZVxuICogb2YgMiB3aWxsIHByb2R1Y2Ugc3RhY2tzIHdob3NlIG91dHNpZGUgcmFkaXVzIGluY3JlYXNlcyB3aXRoXG4gKiB0aGUgc3F1YXJlIG9mIHRoZSBzdGFjayBpbmRleC4gQSB2YWx1ZSBvZiAxIHdpbGwgZ2l2ZSB1bmlmb3JtXG4gKiBzdGFja3MuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQuXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cyBvZiB0aGUgZ3JvdW5kIHBsYW5lLlxuICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzaW9ucyBOdW1iZXIgb2YgdHJpYW5nbGVzIGluIHRoZSBncm91bmQgcGxhbmUgKGF0IGxlYXN0IDMpLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFja3NdIE51bWJlciBvZiByYWRpYWwgZGl2aXNpb25zIChkZWZhdWx0PTEpLlxuICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gRGVmYXVsdCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFja1Bvd2VyXSBQb3dlciB0byByYWlzZSBzdGFjayBzaXplIHRvIGZvciBkZWNyZWFzaW5nIHdpZHRoLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuQnVmZmVySW5mb30gVGhlIGNyZWF0ZWQgQnVmZmVySW5mby5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKiBAZnVuY3Rpb24gY3JlYXRlRGlzY0J1ZmZlckluZm9cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgZGlzYyBidWZmZXJzLiBUaGUgZGlzYyB3aWxsIGJlIGluIHRoZSB4eiBwbGFuZSwgY2VudGVyZWQgYXRcbiAqIHRoZSBvcmlnaW4uIFdoZW4gY3JlYXRpbmcsIGF0IGxlYXN0IDMgZGl2aXNpb25zLCBvciBwaWVcbiAqIHBpZWNlcywgbmVlZCB0byBiZSBzcGVjaWZpZWQsIG90aGVyd2lzZSB0aGUgdHJpYW5nbGVzIG1ha2luZ1xuICogdXAgdGhlIGRpc2Mgd2lsbCBiZSBkZWdlbmVyYXRlLiBZb3UgY2FuIGFsc28gc3BlY2lmeSB0aGVcbiAqIG51bWJlciBvZiByYWRpYWwgcGllY2VzIGBzdGFja3NgLiBBIHZhbHVlIG9mIDEgZm9yXG4gKiBzdGFja3Mgd2lsbCBnaXZlIHlvdSBhIHNpbXBsZSBkaXNjIG9mIHBpZSBwaWVjZXMuICBJZiB5b3VcbiAqIHdhbnQgdG8gY3JlYXRlIGFuIGFubnVsdXMgeW91IGNhbiBzZXQgYGlubmVyUmFkaXVzYCB0byBhXG4gKiB2YWx1ZSA+IDAuIEZpbmFsbHksIGBzdGFja1Bvd2VyYCBhbGxvd3MgeW91IHRvIGhhdmUgdGhlIHdpZHRoc1xuICogaW5jcmVhc2Ugb3IgZGVjcmVhc2UgYXMgeW91IG1vdmUgYXdheSBmcm9tIHRoZSBjZW50ZXIuIFRoaXNcbiAqIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgd2hlbiB1c2luZyB0aGUgZGlzYyBhcyBhIGdyb3VuZCBwbGFuZVxuICogd2l0aCBhIGZpeGVkIGNhbWVyYSBzdWNoIHRoYXQgeW91IGRvbid0IG5lZWQgdGhlIHJlc29sdXRpb25cbiAqIG9mIHNtYWxsIHRyaWFuZ2xlcyBuZWFyIHRoZSBwZXJpbWV0ZXIuIEZvciBleGFtcGxlLCBhIHZhbHVlXG4gKiBvZiAyIHdpbGwgcHJvZHVjZSBzdGFja3Mgd2hvc2Ugb3V0c2lkZSByYWRpdXMgaW5jcmVhc2VzIHdpdGhcbiAqIHRoZSBzcXVhcmUgb2YgdGhlIHN0YWNrIGluZGV4LiBBIHZhbHVlIG9mIDEgd2lsbCBnaXZlIHVuaWZvcm1cbiAqIHN0YWNrcy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgUmFkaXVzIG9mIHRoZSBncm91bmQgcGxhbmUuXG4gKiBAcGFyYW0ge251bWJlcn0gZGl2aXNpb25zIE51bWJlciBvZiB0cmlhbmdsZXMgaW4gdGhlIGdyb3VuZCBwbGFuZSAoYXQgbGVhc3QgMykuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YWNrc10gTnVtYmVyIG9mIHJhZGlhbCBkaXZpc2lvbnMgKGRlZmF1bHQ9MSkuXG4gKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSBEZWZhdWx0IDAuXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YWNrUG93ZXJdIFBvd2VyIHRvIHJhaXNlIHN0YWNrIHNpemUgdG8gZm9yIGRlY3JlYXNpbmcgd2lkdGguXG4gKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgV2ViR0xCdWZmZXI+fSBUaGUgY3JlYXRlZCBidWZmZXJzLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqIEBmdW5jdGlvbiBjcmVhdGVEaXNjQnVmZmVyc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBkaXNjIHZlcnRpY2VzLiBUaGUgZGlzYyB3aWxsIGJlIGluIHRoZSB4eiBwbGFuZSwgY2VudGVyZWQgYXRcbiAqIHRoZSBvcmlnaW4uIFdoZW4gY3JlYXRpbmcsIGF0IGxlYXN0IDMgZGl2aXNpb25zLCBvciBwaWVcbiAqIHBpZWNlcywgbmVlZCB0byBiZSBzcGVjaWZpZWQsIG90aGVyd2lzZSB0aGUgdHJpYW5nbGVzIG1ha2luZ1xuICogdXAgdGhlIGRpc2Mgd2lsbCBiZSBkZWdlbmVyYXRlLiBZb3UgY2FuIGFsc28gc3BlY2lmeSB0aGVcbiAqIG51bWJlciBvZiByYWRpYWwgcGllY2VzIGBzdGFja3NgLiBBIHZhbHVlIG9mIDEgZm9yXG4gKiBzdGFja3Mgd2lsbCBnaXZlIHlvdSBhIHNpbXBsZSBkaXNjIG9mIHBpZSBwaWVjZXMuICBJZiB5b3VcbiAqIHdhbnQgdG8gY3JlYXRlIGFuIGFubnVsdXMgeW91IGNhbiBzZXQgYGlubmVyUmFkaXVzYCB0byBhXG4gKiB2YWx1ZSA+IDAuIEZpbmFsbHksIGBzdGFja1Bvd2VyYCBhbGxvd3MgeW91IHRvIGhhdmUgdGhlIHdpZHRoc1xuICogaW5jcmVhc2Ugb3IgZGVjcmVhc2UgYXMgeW91IG1vdmUgYXdheSBmcm9tIHRoZSBjZW50ZXIuIFRoaXNcbiAqIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgd2hlbiB1c2luZyB0aGUgZGlzYyBhcyBhIGdyb3VuZCBwbGFuZVxuICogd2l0aCBhIGZpeGVkIGNhbWVyYSBzdWNoIHRoYXQgeW91IGRvbid0IG5lZWQgdGhlIHJlc29sdXRpb25cbiAqIG9mIHNtYWxsIHRyaWFuZ2xlcyBuZWFyIHRoZSBwZXJpbWV0ZXIuIEZvciBleGFtcGxlLCBhIHZhbHVlXG4gKiBvZiAyIHdpbGwgcHJvZHVjZSBzdGFja3Mgd2hvc2Ugb3V0c2lkZSByYWRpdXMgaW5jcmVhc2VzIHdpdGhcbiAqIHRoZSBzcXVhcmUgb2YgdGhlIHN0YWNrIGluZGV4LiBBIHZhbHVlIG9mIDEgd2lsbCBnaXZlIHVuaWZvcm1cbiAqIHN0YWNrcy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIFJhZGl1cyBvZiB0aGUgZ3JvdW5kIHBsYW5lLlxuICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzaW9ucyBOdW1iZXIgb2YgdHJpYW5nbGVzIGluIHRoZSBncm91bmQgcGxhbmUgKGF0IGxlYXN0IDMpLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFja3NdIE51bWJlciBvZiByYWRpYWwgZGl2aXNpb25zIChkZWZhdWx0PTEpLlxuICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gRGVmYXVsdCAwLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFja1Bvd2VyXSBQb3dlciB0byByYWlzZSBzdGFjayBzaXplIHRvIGZvciBkZWNyZWFzaW5nIHdpZHRoLlxuICogQHJldHVybiB7T2JqZWN0LjxzdHJpbmcsIFR5cGVkQXJyYXk+fSBUaGUgY3JlYXRlZCB2ZXJ0aWNlcy5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpc2NWZXJ0aWNlcyhcbiAgICByYWRpdXMsXG4gICAgZGl2aXNpb25zLFxuICAgIHN0YWNrcyxcbiAgICBpbm5lclJhZGl1cyxcbiAgICBzdGFja1Bvd2VyKSB7XG4gIGlmIChkaXZpc2lvbnMgPCAzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkaXZpc2lvbnMgbXVzdCBiZSBhdCBsZWFzdCAzJyk7XG4gIH1cblxuICBzdGFja3MgPSBzdGFja3MgPyBzdGFja3MgOiAxO1xuICBzdGFja1Bvd2VyID0gc3RhY2tQb3dlciA/IHN0YWNrUG93ZXIgOiAxO1xuICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzID8gaW5uZXJSYWRpdXMgOiAwO1xuXG4gIC8vIE5vdGU6IFdlIGRvbid0IHNoYXJlIHRoZSBjZW50ZXIgdmVydGV4IGJlY2F1c2UgdGhhdCB3b3VsZFxuICAvLyBtZXNzIHVwIHRleHR1cmUgY29vcmRpbmF0ZXMuXG4gIGNvbnN0IG51bVZlcnRpY2VzID0gKGRpdmlzaW9ucyArIDEpICogKHN0YWNrcyArIDEpO1xuXG4gIGNvbnN0IHBvc2l0aW9ucyA9IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoMywgbnVtVmVydGljZXMpO1xuICBjb25zdCBub3JtYWxzICAgPSBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDMsIG51bVZlcnRpY2VzKTtcbiAgY29uc3QgdGV4Y29vcmRzID0gY3JlYXRlQXVnbWVudGVkVHlwZWRBcnJheSgyLCBudW1WZXJ0aWNlcyk7XG4gIGNvbnN0IGluZGljZXMgICA9IGNyZWF0ZUF1Z21lbnRlZFR5cGVkQXJyYXkoMywgc3RhY2tzICogZGl2aXNpb25zICogMiwgVWludDE2QXJyYXkpO1xuXG4gIGxldCBmaXJzdEluZGV4ID0gMDtcbiAgY29uc3QgcmFkaXVzU3BhbiA9IHJhZGl1cyAtIGlubmVyUmFkaXVzO1xuICBjb25zdCBwb2ludHNQZXJTdGFjayA9IGRpdmlzaW9ucyArIDE7XG5cbiAgLy8gQnVpbGQgdGhlIGRpc2sgb25lIHN0YWNrIGF0IGEgdGltZS5cbiAgZm9yIChsZXQgc3RhY2sgPSAwOyBzdGFjayA8PSBzdGFja3M7ICsrc3RhY2spIHtcbiAgICBjb25zdCBzdGFja1JhZGl1cyA9IGlubmVyUmFkaXVzICsgcmFkaXVzU3BhbiAqIE1hdGgucG93KHN0YWNrIC8gc3RhY2tzLCBzdGFja1Bvd2VyKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGRpdmlzaW9uczsgKytpKSB7XG4gICAgICBjb25zdCB0aGV0YSA9IDIuMCAqIE1hdGguUEkgKiBpIC8gZGl2aXNpb25zO1xuICAgICAgY29uc3QgeCA9IHN0YWNrUmFkaXVzICogTWF0aC5jb3ModGhldGEpO1xuICAgICAgY29uc3QgeiA9IHN0YWNrUmFkaXVzICogTWF0aC5zaW4odGhldGEpO1xuXG4gICAgICBwb3NpdGlvbnMucHVzaCh4LCAwLCB6KTtcbiAgICAgIG5vcm1hbHMucHVzaCgwLCAxLCAwKTtcbiAgICAgIHRleGNvb3Jkcy5wdXNoKDEgLSAoaSAvIGRpdmlzaW9ucyksIHN0YWNrIC8gc3RhY2tzKTtcbiAgICAgIGlmIChzdGFjayA+IDAgJiYgaSAhPT0gZGl2aXNpb25zKSB7XG4gICAgICAgIC8vIGEsIGIsIGMgYW5kIGQgYXJlIHRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlcyBvZiBhIHF1YWQuICB1bmxlc3NcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgc3RhY2sgaXMgdGhlIG9uZSBjbG9zZXN0IHRvIHRoZSBjZW50ZXIsIGluIHdoaWNoIGNhc2VcbiAgICAgICAgLy8gdGhlIHZlcnRpY2VzIGEgYW5kIGIgY29ubmVjdCB0byB0aGUgY2VudGVyIHZlcnRleC5cbiAgICAgICAgY29uc3QgYSA9IGZpcnN0SW5kZXggKyAoaSArIDEpO1xuICAgICAgICBjb25zdCBiID0gZmlyc3RJbmRleCArIGk7XG4gICAgICAgIGNvbnN0IGMgPSBmaXJzdEluZGV4ICsgaSAtIHBvaW50c1BlclN0YWNrO1xuICAgICAgICBjb25zdCBkID0gZmlyc3RJbmRleCArIChpICsgMSkgLSBwb2ludHNQZXJTdGFjaztcblxuICAgICAgICAvLyBNYWtlIGEgcXVhZCBvZiB0aGUgdmVydGljZXMgYSwgYiwgYywgZC5cbiAgICAgICAgaW5kaWNlcy5wdXNoKGEsIGIsIGMpO1xuICAgICAgICBpbmRpY2VzLnB1c2goYSwgYywgZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmlyc3RJbmRleCArPSBkaXZpc2lvbnMgKyAxO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwb3NpdGlvbjogcG9zaXRpb25zLFxuICAgIG5vcm1hbDogbm9ybWFscyxcbiAgICB0ZXhjb29yZDogdGV4Y29vcmRzLFxuICAgIGluZGljZXM6IGluZGljZXMsXG4gIH07XG59XG5cbi8qKlxuICogY3JlYXRlcyBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgcmFuZ2UgLSAxIGluY2x1c2l2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSByYW5nZVxuICogQHJldHVybiB7bnVtYmVyfSByYW5kb20gdmFsdWUgYmV0d2VlbiAwIGFuZCByYW5nZSAtIDEgaW5jbHVzaXZlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmFuZEludChyYW5nZSkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIHJhbmdlIHwgMDtcbn1cblxuLyoqXG4gKiBVc2VkIHRvIHN1cHBseSByYW5kb20gY29sb3JzXG4gKiBAY2FsbGJhY2sgUmFuZG9tQ29sb3JGdW5jXG4gKiBAcGFyYW0ge251bWJlcn0gbmR4IGluZGV4IG9mIHRyaWFuZ2xlL3F1YWQgaWYgdW5pbmRleGVkIG9yIGluZGV4IG9mIHZlcnRleCBpZiBpbmRleGVkXG4gKiBAcGFyYW0ge251bWJlcn0gY2hhbm5lbCAwID0gcmVkLCAxID0gZ3JlZW4sIDIgPSBibHVlLCAzID0gYWxwaGFcbiAqIEByZXR1cm4ge251bWJlcn0gYSBudW1iZXIgZnJvbSAwIHRvIDI1NVxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ByaW1pdGl2ZXNcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJhbmRvbVZlcnRpY2VzT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt2ZXJ0c1BlckNvbG9yXSBEZWZhdWx0cyB0byAzIGZvciBub24taW5kZXhlZCB2ZXJ0aWNlc1xuICogQHByb3BlcnR5IHttb2R1bGU6dHdnbC9wcmltaXRpdmVzLlJhbmRvbUNvbG9yRnVuY30gW3JhbmRdIEEgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgcmFuZG9tIG51bWJlcnNcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGF1Z21lbnRlZFR5cGVkQXJyYXkgb2YgcmFuZG9tIHZlcnRleCBjb2xvcnMuXG4gKiBJZiB0aGUgdmVydGljZXMgYXJlIGluZGV4ZWQgKGhhdmUgYW4gaW5kaWNlcyBhcnJheSkgdGhlbiB3aWxsXG4gKiBqdXN0IG1ha2UgcmFuZG9tIGNvbG9ycy4gT3RoZXJ3aXNlIGFzc3VtZXMgdGhleSBhcmUgdHJpYW5nbGVzXG4gKiBhbmQgbWFrZXMgb25lIHJhbmRvbSBjb2xvciBmb3IgZXZlcnkgMyB2ZXJ0aWNlcy5cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIEF1Z21lbnRlZFR5cGVkQXJyYXk+fSB2ZXJ0aWNlcyBWZXJ0aWNlcyBhcyByZXR1cm5lZCBmcm9tIG9uZSBvZiB0aGUgY3JlYXRlWFhYVmVydGljZXMgZnVuY3Rpb25zLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC9wcmltaXRpdmVzLlJhbmRvbVZlcnRpY2VzT3B0aW9uc30gW29wdGlvbnNdIG9wdGlvbnMuXG4gKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgQXVnbWVudGVkVHlwZWRBcnJheT59IHNhbWUgdmVydGljZXMgYXMgcGFzc2VkIGluIHdpdGggYGNvbG9yYCBhZGRlZC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKi9cbmZ1bmN0aW9uIG1ha2VSYW5kb21WZXJ0ZXhDb2xvcnModmVydGljZXMsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IG51bUVsZW1lbnRzID0gdmVydGljZXMucG9zaXRpb24ubnVtRWxlbWVudHM7XG4gIGNvbnN0IHZDb2xvcnMgPSBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5KDQsIG51bUVsZW1lbnRzLCBVaW50OEFycmF5KTtcbiAgY29uc3QgcmFuZCA9IG9wdGlvbnMucmFuZCB8fCBmdW5jdGlvbihuZHgsIGNoYW5uZWwpIHtcbiAgICByZXR1cm4gY2hhbm5lbCA8IDMgPyByYW5kSW50KDI1NikgOiAyNTU7XG4gIH07XG4gIHZlcnRpY2VzLmNvbG9yID0gdkNvbG9ycztcbiAgaWYgKHZlcnRpY2VzLmluZGljZXMpIHtcbiAgICAvLyBqdXN0IG1ha2UgcmFuZG9tIGNvbG9ycyBpZiBpbmRleFxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBudW1FbGVtZW50czsgKytpaSkge1xuICAgICAgdkNvbG9ycy5wdXNoKHJhbmQoaWksIDApLCByYW5kKGlpLCAxKSwgcmFuZChpaSwgMiksIHJhbmQoaWksIDMpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbWFrZSByYW5kb20gY29sb3JzIHBlciB0cmlhbmdsZVxuICAgIGNvbnN0IG51bVZlcnRzUGVyQ29sb3IgPSBvcHRpb25zLnZlcnRzUGVyQ29sb3IgfHwgMztcbiAgICBjb25zdCBudW1TZXRzID0gbnVtRWxlbWVudHMgLyBudW1WZXJ0c1BlckNvbG9yO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBudW1TZXRzOyArK2lpKSB7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICBjb25zdCBjb2xvciA9IFtyYW5kKGlpLCAwKSwgcmFuZChpaSwgMSksIHJhbmQoaWksIDIpLCByYW5kKGlpLCAzKV07XG4gICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgbnVtVmVydHNQZXJDb2xvcjsgKytqaikge1xuICAgICAgICB2Q29sb3JzLnB1c2goY29sb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdmVydGljZXM7XG59XG5cbi8qKlxuICogY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2FsbHMgZm4gdG8gY3JlYXRlIHZlcnRpY2VzIGFuZCB0aGVuXG4gKiBjcmVhdGVzIGEgYnVmZmVycyBmb3IgdGhlbVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnVmZmVyRnVuYyhmbikge1xuICByZXR1cm4gZnVuY3Rpb24oZ2wpIHtcbiAgICBjb25zdCBhcnJheXMgPSBmbi5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyc0Zyb21BcnJheXMoZ2wsIGFycmF5cyk7XG4gIH07XG59XG5cbi8qKlxuICogY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2FsbHMgZm4gdG8gY3JlYXRlIHZlcnRpY2VzIGFuZCB0aGVuXG4gKiBjcmVhdGVzIGEgYnVmZmVySW5mbyBvYmplY3QgZm9yIHRoZW1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlckluZm9GdW5jKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbihnbCkge1xuICAgIGNvbnN0IGFycmF5cyA9IGZuLmFwcGx5KG51bGwsICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVySW5mb0Zyb21BcnJheXMoZ2wsIGFycmF5cyk7XG4gIH07XG59XG5cbmNvbnN0IGFycmF5U3BlY1Byb3BlcnR5TmFtZXMgPSBbXG4gIFwibnVtQ29tcG9uZW50c1wiLFxuICBcInNpemVcIixcbiAgXCJ0eXBlXCIsXG4gIFwibm9ybWFsaXplXCIsXG4gIFwic3RyaWRlXCIsXG4gIFwib2Zmc2V0XCIsXG4gIFwiYXR0cmliXCIsXG4gIFwibmFtZVwiLFxuICBcImF0dHJpYk5hbWVcIixcbl07XG5cbi8qKlxuICogQ29weSBlbGVtZW50cyBmcm9tIG9uZSBhcnJheSB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHtBcnJheXxUeXBlZEFycmF5fSBzcmMgc291cmNlIGFycmF5XG4gKiBAcGFyYW0ge0FycmF5fFR5cGVkQXJyYXl9IGRzdCBkZXN0IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gZHN0TmR4IGluZGV4IGluIGRlc3QgdG8gY29weSBzcmNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0XSBvZmZzZXQgdG8gYWRkIHRvIGNvcGllZCB2YWx1ZXNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvcHlFbGVtZW50cyhzcmMsIGRzdCwgZHN0TmR4LCBvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gIGNvbnN0IGxlbmd0aCA9IHNyYy5sZW5ndGg7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBsZW5ndGg7ICsraWkpIHtcbiAgICBkc3RbZHN0TmR4ICsgaWldID0gc3JjW2lpXSArIG9mZnNldDtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIHNhbWUgdGltZVxuICpcbiAqIEBwYXJhbSB7KG51bWJlcltdfEFycmF5QnVmZmVyVmlld3xtb2R1bGU6dHdnbC5GdWxsQXJyYXlTcGVjKX0gc3JjQXJyYXkgYXJyYXkgd2hvJ3MgdHlwZSB0byBjb3B5XG4gKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIHNpemUgb2YgbmV3IGFycmF5XG4gKiBAcmV0dXJuIHsobnVtYmVyW118QXJyYXlCdWZmZXJWaWV3fG1vZHVsZTp0d2dsLkZ1bGxBcnJheVNwZWMpfSBhcnJheSB3aXRoIHNhbWUgdHlwZSBhcyBzcmNBcnJheVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlNhbWVUeXBlKHNyY0FycmF5LCBsZW5ndGgpIHtcbiAgY29uc3QgYXJyYXlTcmMgPSBnZXRBcnJheSQxKHNyY0FycmF5KTtcbiAgY29uc3QgbmV3QXJyYXkgPSBuZXcgYXJyYXlTcmMuY29uc3RydWN0b3IobGVuZ3RoKTtcbiAgbGV0IG5ld0FycmF5U3BlYyA9IG5ld0FycmF5O1xuICAvLyBJZiBpdCBhcHBlYXJzIHRvIGhhdmUgYmVlbiBhdWdtZW50ZWQgbWFrZSBuZXcgb25lIGF1Z21lbnRlZFxuICBpZiAoYXJyYXlTcmMubnVtQ29tcG9uZW50cyAmJiBhcnJheVNyYy5udW1FbGVtZW50cykge1xuICAgIGF1Z21lbnRUeXBlZEFycmF5KG5ld0FycmF5LCBhcnJheVNyYy5udW1Db21wb25lbnRzKTtcbiAgfVxuICAvLyBJZiBpdCB3YXMgYSBmdWxsIHNwZWMgbWFrZSBuZXcgb25lIGEgZnVsbCBzcGVjXG4gIGlmIChzcmNBcnJheS5kYXRhKSB7XG4gICAgbmV3QXJyYXlTcGVjID0ge1xuICAgICAgZGF0YTogbmV3QXJyYXksXG4gICAgfTtcbiAgICBjb3B5TmFtZWRQcm9wZXJ0aWVzKGFycmF5U3BlY1Byb3BlcnR5TmFtZXMsIHNyY0FycmF5LCBuZXdBcnJheVNwZWMpO1xuICB9XG4gIHJldHVybiBuZXdBcnJheVNwZWM7XG59XG5cbi8qKlxuICogQ29uY2F0ZW5hdGVzIHNldHMgb2YgdmVydGljZXNcbiAqXG4gKiBBc3N1bWVzIHRoZSB2ZXJ0aWNlcyBtYXRjaCBpbiBjb21wb3NpdGlvbi4gRm9yIGV4YW1wbGVcbiAqIGlmIG9uZSBzZXQgb2YgdmVydGljZXMgaGFzIHBvc2l0aW9ucywgbm9ybWFscywgYW5kIGluZGljZXNcbiAqIGFsbCBzZXRzIG9mIHZlcnRpY2VzIG11c3QgaGF2ZSBwb3NpdGlvbnMsIG5vcm1hbHMsIGFuZCBpbmRpY2VzXG4gKiBhbmQgb2YgdGhlIHNhbWUgdHlwZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICAgY29uc3QgY3ViZVZlcnRpY2VzID0gdHdnbC5wcmltaXRpdmVzLmNyZWF0ZUN1YmVWZXJ0aWNlcygyKTtcbiAqICAgICAgY29uc3Qgc3BoZXJlVmVydGljZXMgPSB0d2dsLnByaW1pdGl2ZXMuY3JlYXRlU3BoZXJlVmVydGljZXMoMSwgMTAsIDEwKTtcbiAqICAgICAgLy8gbW92ZSB0aGUgc3BoZXJlIDIgdW5pdHMgdXBcbiAqICAgICAgdHdnbC5wcmltaXRpdmVzLnJlb3JpZW50VmVydGljZXMoXG4gKiAgICAgICAgICBzcGhlcmVWZXJ0aWNlcywgdHdnbC5tNC50cmFuc2xhdGlvbihbMCwgMiwgMF0pKTtcbiAqICAgICAgLy8gbWVyZ2UgdGhlIHNwaGVyZSB3aXRoIHRoZSBjdWJlXG4gKiAgICAgIGNvbnN0IGN1YmVTcGhlcmVWZXJ0aWNlcyA9IHR3Z2wucHJpbWl0aXZlcy5jb25jYXRWZXJ0aWNlcyhcbiAqICAgICAgICAgIFtjdWJlVmVydGljZXMsIHNwaGVyZVZlcnRpY2VzXSk7XG4gKiAgICAgIC8vIHR1cm4gdGhlbSBpbnRvIFdlYkdMIGJ1ZmZlcnMgYW5kIGF0dHJpYiBkYXRhXG4gKiAgICAgIGNvbnN0IGJ1ZmZlckluZm8gPSB0d2dsLmNyZWF0ZUJ1ZmZlckluZm9Gcm9tQXJyYXlzKGdsLCBjdWJlU3BoZXJlVmVydGljZXMpO1xuICpcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuQXJyYXlzW119IGFycmF5cyBBcnJheSBvZiBhcnJheXMgb2YgdmVydGljZXNcbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsLkFycmF5c30gVGhlIGNvbmNhdGVuYXRlZCB2ZXJ0aWNlcy5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcmltaXRpdmVzXG4gKi9cbmZ1bmN0aW9uIGNvbmNhdFZlcnRpY2VzKGFycmF5T2ZBcnJheXMpIHtcbiAgY29uc3QgbmFtZXMgPSB7fTtcbiAgbGV0IGJhc2VOYW1lO1xuICAvLyBnZXQgbmFtZXMgb2YgYWxsIGFycmF5cy5cbiAgLy8gYW5kIG51bUVsZW1lbnRzIGZvciBlYWNoIHNldCBvZiB2ZXJ0aWNlc1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJyYXlPZkFycmF5cy5sZW5ndGg7ICsraWkpIHtcbiAgICBjb25zdCBhcnJheXMgPSBhcnJheU9mQXJyYXlzW2lpXTtcbiAgICBPYmplY3Qua2V5cyhhcnJheXMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgaWYgKCFuYW1lc1tuYW1lXSkge1xuICAgICAgICBuYW1lc1tuYW1lXSA9IFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFiYXNlTmFtZSAmJiBuYW1lICE9PSAnaW5kaWNlcycpIHtcbiAgICAgICAgYmFzZU5hbWUgPSBuYW1lO1xuICAgICAgfVxuICAgICAgY29uc3QgYXJyYXlJbmZvID0gYXJyYXlzW25hbWVdO1xuICAgICAgY29uc3QgbnVtQ29tcG9uZW50cyA9IGdldE51bUNvbXBvbmVudHMkMShhcnJheUluZm8sIG5hbWUpO1xuICAgICAgY29uc3QgYXJyYXkgPSBnZXRBcnJheSQxKGFycmF5SW5mbyk7XG4gICAgICBjb25zdCBudW1FbGVtZW50cyA9IGFycmF5Lmxlbmd0aCAvIG51bUNvbXBvbmVudHM7XG4gICAgICBuYW1lc1tuYW1lXS5wdXNoKG51bUVsZW1lbnRzKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGNvbXB1dGUgbGVuZ3RoIG9mIGNvbWJpbmVkIGFycmF5XG4gIC8vIGFuZCByZXR1cm4gb25lIGZvciByZWZlcmVuY2VcbiAgZnVuY3Rpb24gZ2V0TGVuZ3RoT2ZDb21iaW5lZEFycmF5cyhuYW1lKSB7XG4gICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgbGV0IGFycmF5U3BlYztcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJyYXlPZkFycmF5cy5sZW5ndGg7ICsraWkpIHtcbiAgICAgIGNvbnN0IGFycmF5cyA9IGFycmF5T2ZBcnJheXNbaWldO1xuICAgICAgY29uc3QgYXJyYXlJbmZvID0gYXJyYXlzW25hbWVdO1xuICAgICAgY29uc3QgYXJyYXkgPSBnZXRBcnJheSQxKGFycmF5SW5mbyk7XG4gICAgICBsZW5ndGggKz0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFhcnJheVNwZWMgfHwgYXJyYXlJbmZvLmRhdGEpIHtcbiAgICAgICAgYXJyYXlTcGVjID0gYXJyYXlJbmZvO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICBzcGVjOiBhcnJheVNwZWMsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvcHlBcnJheXNUb05ld0FycmF5KG5hbWUsIGJhc2UsIG5ld0FycmF5KSB7XG4gICAgbGV0IGJhc2VJbmRleCA9IDA7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFycmF5T2ZBcnJheXMubGVuZ3RoOyArK2lpKSB7XG4gICAgICBjb25zdCBhcnJheXMgPSBhcnJheU9mQXJyYXlzW2lpXTtcbiAgICAgIGNvbnN0IGFycmF5SW5mbyA9IGFycmF5c1tuYW1lXTtcbiAgICAgIGNvbnN0IGFycmF5ID0gZ2V0QXJyYXkkMShhcnJheUluZm8pO1xuICAgICAgaWYgKG5hbWUgPT09ICdpbmRpY2VzJykge1xuICAgICAgICBjb3B5RWxlbWVudHMoYXJyYXksIG5ld0FycmF5LCBvZmZzZXQsIGJhc2VJbmRleCk7XG4gICAgICAgIGJhc2VJbmRleCArPSBiYXNlW2lpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvcHlFbGVtZW50cyhhcnJheSwgbmV3QXJyYXksIG9mZnNldCk7XG4gICAgICB9XG4gICAgICBvZmZzZXQgKz0gYXJyYXkubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGJhc2UgPSBuYW1lc1tiYXNlTmFtZV07XG5cbiAgY29uc3QgbmV3QXJyYXlzID0ge307XG4gIE9iamVjdC5rZXlzKG5hbWVzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBjb25zdCBpbmZvID0gZ2V0TGVuZ3RoT2ZDb21iaW5lZEFycmF5cyhuYW1lKTtcbiAgICBjb25zdCBuZXdBcnJheVNwZWMgPSBjcmVhdGVBcnJheU9mU2FtZVR5cGUoaW5mby5zcGVjLCBpbmZvLmxlbmd0aCk7XG4gICAgY29weUFycmF5c1RvTmV3QXJyYXkobmFtZSwgYmFzZSwgZ2V0QXJyYXkkMShuZXdBcnJheVNwZWMpKTtcbiAgICBuZXdBcnJheXNbbmFtZV0gPSBuZXdBcnJheVNwZWM7XG4gIH0pO1xuICByZXR1cm4gbmV3QXJyYXlzO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBkdXBsaWNhdGUgc2V0IG9mIHZlcnRpY2VzXG4gKlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIGNhbGxpbmcgcmVvcmllbnRWZXJ0aWNlcyB3aGVuIHlvdVxuICogYWxzbyB3YW50IHRvIGtlZXAgdGhlIG9yaWdpbmFsIGF2YWlsYWJsZVxuICpcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuQXJyYXlzfSBhcnJheXMgb2YgdmVydGljZXNcbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsLkFycmF5c30gVGhlIGR1cGxpY2F0ZWQgdmVydGljZXMuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJpbWl0aXZlc1xuICovXG5mdW5jdGlvbiBkdXBsaWNhdGVWZXJ0aWNlcyhhcnJheXMpIHtcbiAgY29uc3QgbmV3QXJyYXlzID0ge307XG4gIE9iamVjdC5rZXlzKGFycmF5cykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgY29uc3QgYXJyYXlTcGVjID0gYXJyYXlzW25hbWVdO1xuICAgIGNvbnN0IHNyY0FycmF5ID0gZ2V0QXJyYXkkMShhcnJheVNwZWMpO1xuICAgIGNvbnN0IG5ld0FycmF5U3BlYyA9IGNyZWF0ZUFycmF5T2ZTYW1lVHlwZShhcnJheVNwZWMsIHNyY0FycmF5Lmxlbmd0aCk7XG4gICAgY29weUVsZW1lbnRzKHNyY0FycmF5LCBnZXRBcnJheSQxKG5ld0FycmF5U3BlYyksIDApO1xuICAgIG5ld0FycmF5c1tuYW1lXSA9IG5ld0FycmF5U3BlYztcbiAgfSk7XG4gIHJldHVybiBuZXdBcnJheXM7XG59XG5cbmNvbnN0IGNyZWF0ZTNERkJ1ZmZlckluZm8gPSBjcmVhdGVCdWZmZXJJbmZvRnVuYyhjcmVhdGUzREZWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGUzREZCdWZmZXJzID0gY3JlYXRlQnVmZmVyRnVuYyhjcmVhdGUzREZWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVDdWJlQnVmZmVySW5mbyA9IGNyZWF0ZUJ1ZmZlckluZm9GdW5jKGNyZWF0ZUN1YmVWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVDdWJlQnVmZmVycyA9IGNyZWF0ZUJ1ZmZlckZ1bmMoY3JlYXRlQ3ViZVZlcnRpY2VzKTtcbmNvbnN0IGNyZWF0ZVBsYW5lQnVmZmVySW5mbyA9IGNyZWF0ZUJ1ZmZlckluZm9GdW5jKGNyZWF0ZVBsYW5lVmVydGljZXMpO1xuY29uc3QgY3JlYXRlUGxhbmVCdWZmZXJzID0gY3JlYXRlQnVmZmVyRnVuYyhjcmVhdGVQbGFuZVZlcnRpY2VzKTtcbmNvbnN0IGNyZWF0ZVNwaGVyZUJ1ZmZlckluZm8gPSBjcmVhdGVCdWZmZXJJbmZvRnVuYyhjcmVhdGVTcGhlcmVWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVTcGhlcmVCdWZmZXJzID0gY3JlYXRlQnVmZmVyRnVuYyhjcmVhdGVTcGhlcmVWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVUcnVuY2F0ZWRDb25lQnVmZmVySW5mbyA9IGNyZWF0ZUJ1ZmZlckluZm9GdW5jKGNyZWF0ZVRydW5jYXRlZENvbmVWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVUcnVuY2F0ZWRDb25lQnVmZmVycyA9IGNyZWF0ZUJ1ZmZlckZ1bmMoY3JlYXRlVHJ1bmNhdGVkQ29uZVZlcnRpY2VzKTtcbmNvbnN0IGNyZWF0ZVhZUXVhZEJ1ZmZlckluZm8gPSBjcmVhdGVCdWZmZXJJbmZvRnVuYyhjcmVhdGVYWVF1YWRWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVYWVF1YWRCdWZmZXJzID0gY3JlYXRlQnVmZmVyRnVuYyhjcmVhdGVYWVF1YWRWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVDcmVzY2VudEJ1ZmZlckluZm8gPSBjcmVhdGVCdWZmZXJJbmZvRnVuYyhjcmVhdGVDcmVzY2VudFZlcnRpY2VzKTtcbmNvbnN0IGNyZWF0ZUNyZXNjZW50QnVmZmVycyA9IGNyZWF0ZUJ1ZmZlckZ1bmMoY3JlYXRlQ3Jlc2NlbnRWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVDeWxpbmRlckJ1ZmZlckluZm8gPSBjcmVhdGVCdWZmZXJJbmZvRnVuYyhjcmVhdGVDeWxpbmRlclZlcnRpY2VzKTtcbmNvbnN0IGNyZWF0ZUN5bGluZGVyQnVmZmVycyA9IGNyZWF0ZUJ1ZmZlckZ1bmMoY3JlYXRlQ3lsaW5kZXJWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVUb3J1c0J1ZmZlckluZm8gPSBjcmVhdGVCdWZmZXJJbmZvRnVuYyhjcmVhdGVUb3J1c1ZlcnRpY2VzKTtcbmNvbnN0IGNyZWF0ZVRvcnVzQnVmZmVycyA9IGNyZWF0ZUJ1ZmZlckZ1bmMoY3JlYXRlVG9ydXNWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVEaXNjQnVmZmVySW5mbyA9IGNyZWF0ZUJ1ZmZlckluZm9GdW5jKGNyZWF0ZURpc2NWZXJ0aWNlcyk7XG5jb25zdCBjcmVhdGVEaXNjQnVmZmVycyA9IGNyZWF0ZUJ1ZmZlckZ1bmMoY3JlYXRlRGlzY1ZlcnRpY2VzKTtcblxuLy8gdGhlc2Ugd2VyZSBtaXMtc3BlbGxlZCB1bnRpbCA0LjEyXG5jb25zdCBjcmVhdGVDcmVzZW50QnVmZmVySW5mbyA9IGNyZWF0ZUNyZXNjZW50QnVmZmVySW5mbztcbmNvbnN0IGNyZWF0ZUNyZXNlbnRCdWZmZXJzID0gY3JlYXRlQ3Jlc2NlbnRCdWZmZXJzO1xuY29uc3QgY3JlYXRlQ3Jlc2VudFZlcnRpY2VzID0gY3JlYXRlQ3Jlc2NlbnRWZXJ0aWNlcztcblxudmFyIHByaW1pdGl2ZXMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgY3JlYXRlM0RGQnVmZmVySW5mbzogY3JlYXRlM0RGQnVmZmVySW5mbyxcbiAgY3JlYXRlM0RGQnVmZmVyczogY3JlYXRlM0RGQnVmZmVycyxcbiAgY3JlYXRlM0RGVmVydGljZXM6IGNyZWF0ZTNERlZlcnRpY2VzLFxuICBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5OiBjcmVhdGVBdWdtZW50ZWRUeXBlZEFycmF5LFxuICBjcmVhdGVDdWJlQnVmZmVySW5mbzogY3JlYXRlQ3ViZUJ1ZmZlckluZm8sXG4gIGNyZWF0ZUN1YmVCdWZmZXJzOiBjcmVhdGVDdWJlQnVmZmVycyxcbiAgY3JlYXRlQ3ViZVZlcnRpY2VzOiBjcmVhdGVDdWJlVmVydGljZXMsXG4gIGNyZWF0ZVBsYW5lQnVmZmVySW5mbzogY3JlYXRlUGxhbmVCdWZmZXJJbmZvLFxuICBjcmVhdGVQbGFuZUJ1ZmZlcnM6IGNyZWF0ZVBsYW5lQnVmZmVycyxcbiAgY3JlYXRlUGxhbmVWZXJ0aWNlczogY3JlYXRlUGxhbmVWZXJ0aWNlcyxcbiAgY3JlYXRlU3BoZXJlQnVmZmVySW5mbzogY3JlYXRlU3BoZXJlQnVmZmVySW5mbyxcbiAgY3JlYXRlU3BoZXJlQnVmZmVyczogY3JlYXRlU3BoZXJlQnVmZmVycyxcbiAgY3JlYXRlU3BoZXJlVmVydGljZXM6IGNyZWF0ZVNwaGVyZVZlcnRpY2VzLFxuICBjcmVhdGVUcnVuY2F0ZWRDb25lQnVmZmVySW5mbzogY3JlYXRlVHJ1bmNhdGVkQ29uZUJ1ZmZlckluZm8sXG4gIGNyZWF0ZVRydW5jYXRlZENvbmVCdWZmZXJzOiBjcmVhdGVUcnVuY2F0ZWRDb25lQnVmZmVycyxcbiAgY3JlYXRlVHJ1bmNhdGVkQ29uZVZlcnRpY2VzOiBjcmVhdGVUcnVuY2F0ZWRDb25lVmVydGljZXMsXG4gIGNyZWF0ZVhZUXVhZEJ1ZmZlckluZm86IGNyZWF0ZVhZUXVhZEJ1ZmZlckluZm8sXG4gIGNyZWF0ZVhZUXVhZEJ1ZmZlcnM6IGNyZWF0ZVhZUXVhZEJ1ZmZlcnMsXG4gIGNyZWF0ZVhZUXVhZFZlcnRpY2VzOiBjcmVhdGVYWVF1YWRWZXJ0aWNlcyxcbiAgY3JlYXRlQ3Jlc2VudEJ1ZmZlckluZm86IGNyZWF0ZUNyZXNlbnRCdWZmZXJJbmZvLFxuICBjcmVhdGVDcmVzZW50QnVmZmVyczogY3JlYXRlQ3Jlc2VudEJ1ZmZlcnMsXG4gIGNyZWF0ZUNyZXNlbnRWZXJ0aWNlczogY3JlYXRlQ3Jlc2VudFZlcnRpY2VzLFxuICBjcmVhdGVDcmVzY2VudEJ1ZmZlckluZm86IGNyZWF0ZUNyZXNjZW50QnVmZmVySW5mbyxcbiAgY3JlYXRlQ3Jlc2NlbnRCdWZmZXJzOiBjcmVhdGVDcmVzY2VudEJ1ZmZlcnMsXG4gIGNyZWF0ZUNyZXNjZW50VmVydGljZXM6IGNyZWF0ZUNyZXNjZW50VmVydGljZXMsXG4gIGNyZWF0ZUN5bGluZGVyQnVmZmVySW5mbzogY3JlYXRlQ3lsaW5kZXJCdWZmZXJJbmZvLFxuICBjcmVhdGVDeWxpbmRlckJ1ZmZlcnM6IGNyZWF0ZUN5bGluZGVyQnVmZmVycyxcbiAgY3JlYXRlQ3lsaW5kZXJWZXJ0aWNlczogY3JlYXRlQ3lsaW5kZXJWZXJ0aWNlcyxcbiAgY3JlYXRlVG9ydXNCdWZmZXJJbmZvOiBjcmVhdGVUb3J1c0J1ZmZlckluZm8sXG4gIGNyZWF0ZVRvcnVzQnVmZmVyczogY3JlYXRlVG9ydXNCdWZmZXJzLFxuICBjcmVhdGVUb3J1c1ZlcnRpY2VzOiBjcmVhdGVUb3J1c1ZlcnRpY2VzLFxuICBjcmVhdGVEaXNjQnVmZmVySW5mbzogY3JlYXRlRGlzY0J1ZmZlckluZm8sXG4gIGNyZWF0ZURpc2NCdWZmZXJzOiBjcmVhdGVEaXNjQnVmZmVycyxcbiAgY3JlYXRlRGlzY1ZlcnRpY2VzOiBjcmVhdGVEaXNjVmVydGljZXMsXG4gIGRlaW5kZXhWZXJ0aWNlczogZGVpbmRleFZlcnRpY2VzLFxuICBmbGF0dGVuTm9ybWFsczogZmxhdHRlbk5vcm1hbHMsXG4gIG1ha2VSYW5kb21WZXJ0ZXhDb2xvcnM6IG1ha2VSYW5kb21WZXJ0ZXhDb2xvcnMsXG4gIHJlb3JpZW50RGlyZWN0aW9uczogcmVvcmllbnREaXJlY3Rpb25zLFxuICByZW9yaWVudE5vcm1hbHM6IHJlb3JpZW50Tm9ybWFscyxcbiAgcmVvcmllbnRQb3NpdGlvbnM6IHJlb3JpZW50UG9zaXRpb25zLFxuICByZW9yaWVudFZlcnRpY2VzOiByZW9yaWVudFZlcnRpY2VzLFxuICBjb25jYXRWZXJ0aWNlczogY29uY2F0VmVydGljZXMsXG4gIGR1cGxpY2F0ZVZlcnRpY2VzOiBkdXBsaWNhdGVWZXJ0aWNlc1xufSk7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuLyoqXG4gKiBHZXRzIHRoZSBnbCB2ZXJzaW9uIGFzIGEgbnVtYmVyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgQSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEByZXR1cm4ge251bWJlcn0gdmVyc2lvbiBvZiBnbFxuICogQHByaXZhdGVcbiAqL1xuLy9mdW5jdGlvbiBnZXRWZXJzaW9uQXNOdW1iZXIoZ2wpIHtcbi8vICByZXR1cm4gcGFyc2VGbG9hdChnbC5nZXRQYXJhbWV0ZXIoZ2wuVkVSU0lPTikuc3Vic3RyKDYpKTtcbi8vfVxuXG4vKipcbiAqIENoZWNrIGlmIGNvbnRleHQgaXMgV2ViR0wgMi4wXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgQSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEByZXR1cm4ge2Jvb2x9IHRydWUgaWYgaXQncyBXZWJHTCAyLjBcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5mdW5jdGlvbiBpc1dlYkdMMihnbCkge1xuICAvLyBUaGlzIGlzIHRoZSBjb3JyZWN0IGNoZWNrIGJ1dCBpdCdzIHNsb3dcbiAgLy8gIHJldHVybiBnbC5nZXRQYXJhbWV0ZXIoZ2wuVkVSU0lPTikuaW5kZXhPZihcIldlYkdMIDIuMFwiKSA9PT0gMDtcbiAgLy8gVGhpcyBtaWdodCBhbHNvIGJlIHRoZSBjb3JyZWN0IGNoZWNrIGJ1dCBJJ20gYXNzdW1pbmcgaXQncyBzbG93LWlzaFxuICAvLyByZXR1cm4gZ2wgaW5zdGFuY2VvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0O1xuICByZXR1cm4gISFnbC50ZXhTdG9yYWdlMkQ7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgY29udGV4dCBpcyBXZWJHTCAxLjBcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBBIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHJldHVybiB7Ym9vbH0gdHJ1ZSBpZiBpdCdzIFdlYkdMIDEuMFxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cbmZ1bmN0aW9uIGlzV2ViR0wxKGdsKSB7XG4gIC8vIFRoaXMgaXMgdGhlIGNvcnJlY3QgY2hlY2sgYnV0IGl0J3Mgc2xvd1xuICAvLyBjb25zdCB2ZXJzaW9uID0gZ2V0VmVyc2lvbkFzTnVtYmVyKGdsKTtcbiAgLy8gcmV0dXJuIHZlcnNpb24gPD0gMS4wICYmIHZlcnNpb24gPiAwLjA7ICAvLyBiZWNhdXNlIGFzIG9mIDIwMTYvNSBFZGdlIHJldHVybnMgMC45NlxuICAvLyBUaGlzIG1pZ2h0IGFsc28gYmUgdGhlIGNvcnJlY3QgY2hlY2sgYnV0IEknbSBhc3N1bWluZyBpdCdzIHNsb3ctaXNoXG4gIC8vIHJldHVybiBnbCBpbnN0YW5jZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcbiAgcmV0dXJuICFnbC50ZXhTdG9yYWdlMkQ7XG59XG5cbi8qKlxuICogR2V0cyBhIHN0cmluZyBmb3IgV2ViR0wgZW51bVxuICpcbiAqIE5vdGU6IFNldmVyYWwgZW51bXMgYXJlIHRoZSBzYW1lLiBXaXRob3V0IG1vcmVcbiAqIGNvbnRleHQgKHdoaWNoIGZ1bmN0aW9uKSBpdCdzIGltcG9zc2libGUgdG8gYWx3YXlzXG4gKiBnaXZlIHRoZSBjb3JyZWN0IGVudW0uIEFzIGl0IGlzLCBmb3IgbWF0Y2hpbmcgdmFsdWVzXG4gKiBpdCBnaXZlcyBhbGwgZW51bXMuIENoZWNraW5nIHRoZSBXZWJHTDJSZW5kZXJpbmdDb250ZXh0XG4gKiB0aGF0IG1lYW5zXG4gKlxuICogICAgICAwICAgICA9IFpFUk8gfCBQT0lOVCB8IE5PTkUgfCBOT19FUlJPUlxuICogICAgICAxICAgICA9IE9ORSB8IExJTkVTIHwgU1lOQ19GTFVTSF9DT01NQU5EU19CSVRcbiAqICAgICAgMzI3NzcgPSBCTEVORF9FUVVBVElPTl9SR0IgfCBCTEVORF9FUVVBVElPTl9SR0JcbiAqICAgICAgMzY2NjIgPSBDT1BZX1JFQURfQlVGRkVSIHwgQ09QWV9SRUFEX0JVRkZFUl9CSU5ESU5HXG4gKiAgICAgIDM2NjYzID0gQ09QWV9XUklURV9CVUZGRVIgfCBDT1BZX1dSSVRFX0JVRkZFUl9CSU5ESU5HXG4gKiAgICAgIDM2MDA2ID0gRlJBTUVCVUZGRVJfQklORElORyB8IERSQVdfRlJBTUVCVUZGRVJfQklORElOR1xuICpcbiAqIEl0J3MgYWxzbyBub3QgdXNlZnVsIGZvciBiaXRzIHJlYWxseSB1bmxlc3MgeW91IHBhc3MgaW4gaW5kaXZpZHVhbCBiaXRzLlxuICogSW4gb3RoZXIgd29yZHNcbiAqXG4gKiAgICAgY29uc3QgYml0cyA9IGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUO1xuICogICAgIHR3Z2wuZ2xFbnVtVG9TdHJpbmcoZ2wsIGJpdHMpOyAgLy8gbm90IGdvaW5nIHRvIHdvcmtcbiAqXG4gKiBOb3RlIHRoYXQgc29tZSBlbnVtcyBvbmx5IGV4aXN0IG9uIGV4dGVuc2lvbnMuIElmIHlvdVxuICogd2FudCB0aGVtIHRvIHNob3cgdXAgeW91IG5lZWQgdG8gcGFzcyB0aGUgZXh0ZW5zaW9uIGF0IGxlYXN0XG4gKiBvbmNlLiBGb3IgZXhhbXBsZVxuICpcbiAqICAgICBjb25zdCBleHQgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyk7XG4gKiAgICAgaWYgKGV4dCkge1xuICogICAgICAgIHR3Z2wuZ2xFbnVtVG9TdHJpbmcoZXh0LCAwKTsgIC8vIGp1c3QgcHJpbWUgdGhlIGZ1bmN0aW9uXG4gKlxuICogICAgICAgIC4ubGF0ZXIuLlxuICpcbiAqICAgICAgICBjb25zdCBpbnRlcm5hbEZvcm1hdCA9IGV4dC5DT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUO1xuICogICAgICAgIGNvbnNvbGUubG9nKHR3Z2wuZ2xFbnVtVG9TdHJpbmcoZ2wsIGludGVybmFsRm9ybWF0KSk7XG4gKlxuICogTm90aWNlIEkgZGlkbid0IGhhdmUgdG8gcGFzcyB0aGUgZXh0ZW5zaW9uIHRoZSBzZWNvbmQgdGltZS4gVGhpcyBtZWFuc1xuICogeW91IGNhbiBoYXZlIHBsYWNlIHRoYXQgZ2VuZXJpY2FsbHkgZ2V0cyBhbiBlbnVtIGZvciB0ZXh0dXJlIGZvcm1hdHMgZm9yIGV4YW1wbGUuXG4gKiBhbmQgYXMgbG9uZyBhcyB5b3UgcHJpbWVkIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBleHRlbnNpb25zXG4gKlxuICogSWYgeW91J3JlIHVzaW5nIGB0d2dsLmFkZEV4dGVuc2lvbnNUb0NvbnRleHRgIHRvIGVuYWJsZSB5b3VyIGV4dGVuc2lvbnNcbiAqIHRoZW4gdHdnbCB3aWxsIGF1dG9tYXRpY2FsbHkgZ2V0IHRoZSBleHRlbnNpb24ncyBlbnVtcy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgQSBXZWJHTFJlbmRlcmluZ0NvbnRleHQgb3IgYW55IGV4dGVuc2lvbiBvYmplY3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSB0aGUgdmFsdWUgb2YgdGhlIGVudW0geW91IHdhbnQgdG8gbG9vayB1cC5cbiAqIEByZXR1cm4ge3N0cmluZ30gZW51bSBzdHJpbmcgb3IgaGV4IHZhbHVlXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqIEBmdW5jdGlvbiBnbEVudW1Ub1N0cmluZ1xuICovXG5jb25zdCBnbEVudW1Ub1N0cmluZyA9IChmdW5jdGlvbigpIHtcbiAgY29uc3QgaGF2ZUVudW1zRm9yVHlwZSA9IHt9O1xuICBjb25zdCBlbnVtcyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGFkZEVudW1zKGdsKSB7XG4gICAgY29uc3QgdHlwZSA9IGdsLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgaWYgKCFoYXZlRW51bXNGb3JUeXBlW3R5cGVdKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBnbCkge1xuICAgICAgICBpZiAodHlwZW9mIGdsW2tleV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBlbnVtc1tnbFtrZXldXTtcbiAgICAgICAgICBlbnVtc1tnbFtrZXldXSA9IGV4aXN0aW5nID8gYCR7ZXhpc3Rpbmd9IHwgJHtrZXl9YCA6IGtleTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaGF2ZUVudW1zRm9yVHlwZVt0eXBlXSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdsRW51bVRvU3RyaW5nKGdsLCB2YWx1ZSkge1xuICAgIGFkZEVudW1zKGdsKTtcbiAgICByZXR1cm4gZW51bXNbdmFsdWVdIHx8ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInID8gYDB4JHt2YWx1ZS50b1N0cmluZygxNil9YCA6IHZhbHVlKTtcbiAgfTtcbn0oKSk7XG5cbnZhciB1dGlscyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBnbEVudW1Ub1N0cmluZzogZ2xFbnVtVG9TdHJpbmcsXG4gIGlzV2ViR0wxOiBpc1dlYkdMMSxcbiAgaXNXZWJHTDI6IGlzV2ViR0wyXG59KTtcblxuLypcbiAqIENvcHlyaWdodCAyMDE5IEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuY29uc3QgZGVmYXVsdHMkMSA9IHtcbiAgdGV4dHVyZUNvbG9yOiBuZXcgVWludDhBcnJheShbMTI4LCAxOTIsIDI1NSwgMjU1XSksXG4gIHRleHR1cmVPcHRpb25zOiB7fSxcbiAgY3Jvc3NPcmlnaW46IHVuZGVmaW5lZCxcbn07XG5jb25zdCBpc0FycmF5QnVmZmVyJDEgPSBpc0FycmF5QnVmZmVyO1xuXG4vLyBTaG91bGQgd2UgbWFrZSB0aGlzIG9uIGRlbWFuZD9cbmNvbnN0IGdldFNoYXJlZDJEQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICBsZXQgc19jdHg7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRTaGFyZWQyRENvbnRleHQoKSB7XG4gICAgc19jdHggPSBzX2N0eCB8fFxuICAgICAgICAoKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudClcbiAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIjJkXCIpXG4gICAgICAgICAgOiBudWxsKTtcbiAgICByZXR1cm4gc19jdHg7XG4gIH07XG59KCk7XG5cbi8vIE5PVEU6IENocm9tZSBzdXBwb3J0cyAyRCBjYW52YXMgaW4gYSBXb3JrZXIgKGJlaGluZCBmbGFnIGFzIG9mIHY2NCBidXRcbi8vICAgICAgIG5vdCBvbmx5IGRvZXMgRmlyZWZveCBOT1Qgc3VwcG9ydCBpdCBidXQgRmlyZWZveCBmcmVlemVzIGltbWVkaWF0ZWx5XG4vLyAgICAgICBpZiB5b3UgdHJ5IHRvIGNyZWF0ZSBvbmUgaW5zdGVhZCBvZiBqdXN0IHJldHVybmluZyBudWxsIGFuZCBjb250aW51aW5nLlxuLy8gIDogKGdsb2JhbC5PZmZzY3JlZW5DYW52YXMgJiYgKG5ldyBnbG9iYWwuT2Zmc2NyZWVuQ2FudmFzKDEsIDEpKS5nZXRDb250ZXh0KFwiMmRcIikpOyAgLy8gT2Zmc2NyZWVuQ2FudmFzIG1heSBub3Qgc3VwcG9ydCAyZFxuXG4vLyBOT1RFOiBXZSBjYW4gbWF5YmUgcmVtb3ZlIHNvbWUgb2YgdGhlIG5lZWQgZm9yIHRoZSAyZCBjYW52YXMuIEluIFdlYkdMMlxuLy8gd2UgY2FuIHVzZSB0aGUgdmFyaW91cyB1bnBhY2sgc2V0dGluZ3MuIE90aGVyd2lzZSB3ZSBjb3VsZCB0cnkgdXNpbmdcbi8vIHRoZSBhYmlsaXR5IG9mIGFuIEltYWdlQml0bWFwIHRvIGJlIGN1dC4gVW5mb3J0dW5hdGVseSBjdXR0aW5nIGFuIEltYWdlQml0bWFwXG4vLyBpcyBhc3luYyBhbmQgdGhlIGN1cnJlbnQgVFdHTCBjb2RlIGV4cGVjdHMgYSBub24tQXN5bmMgcmVzdWx0IHRob3VnaCB0aGF0XG4vLyBtaWdodCBub3QgYmUgYSBwcm9ibGVtLiBJbWFnZUJpdG1hcCB0aG91Z2ggaXMgbm90IGF2YWlsYWJsZSBpbiBFZGdlIG9yIFNhZmFyaVxuLy8gYXMgb2YgMjAxOC0wMS0wMlxuXG4vKiBQaXhlbEZvcm1hdCAqL1xuY29uc3QgQUxQSEEgICAgICAgICAgICAgICAgICAgICAgICAgID0gMHgxOTA2O1xuY29uc3QgUkdCICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gMHgxOTA3O1xuY29uc3QgUkdCQSAgICAgICAgICAgICAgICAgICAgICAgICAgID0gMHgxOTA4O1xuY29uc3QgTFVNSU5BTkNFICAgICAgICAgICAgICAgICAgICAgID0gMHgxOTA5O1xuY29uc3QgTFVNSU5BTkNFX0FMUEhBICAgICAgICAgICAgICAgID0gMHgxOTBBO1xuY29uc3QgREVQVEhfQ09NUE9ORU5UICAgICAgICAgICAgICAgID0gMHgxOTAyO1xuY29uc3QgREVQVEhfU1RFTkNJTCAgICAgICAgICAgICAgICAgID0gMHg4NEY5O1xuXG4vKiBUZXh0dXJlV3JhcE1vZGUgKi9cbi8vIGNvbnN0IFJFUEVBVCAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MjkwMTtcbi8vIGNvbnN0IE1JUlJPUkVEX1JFUEVBVCAgICAgICAgICAgICAgICA9IDB4ODM3MDtcbmNvbnN0IENMQU1QX1RPX0VER0UgICAgICAgICAgICAgICAgICA9IDB4ODEyZjtcblxuLyogVGV4dHVyZU1hZ0ZpbHRlciAqL1xuY29uc3QgTkVBUkVTVCAgICAgICAgICAgICAgICAgICAgICAgID0gMHgyNjAwO1xuY29uc3QgTElORUFSICAgICAgICAgICAgICAgICAgICAgICAgID0gMHgyNjAxO1xuXG4vKiBUZXh0dXJlTWluRmlsdGVyICovXG4vLyBjb25zdCBORUFSRVNUX01JUE1BUF9ORUFSRVNUICAgICAgICAgPSAweDI3MDA7XG4vLyBjb25zdCBMSU5FQVJfTUlQTUFQX05FQVJFU1QgICAgICAgICAgPSAweDI3MDE7XG4vLyBjb25zdCBORUFSRVNUX01JUE1BUF9MSU5FQVIgICAgICAgICAgPSAweDI3MDI7XG4vLyBjb25zdCBMSU5FQVJfTUlQTUFQX0xJTkVBUiAgICAgICAgICAgPSAweDI3MDM7XG5cbi8qIFRleHR1cmUgVGFyZ2V0ICovXG5jb25zdCBURVhUVVJFXzJEICAgICAgICAgICAgICAgICAgICAgPSAweDBkZTE7XG5jb25zdCBURVhUVVJFX0NVQkVfTUFQICAgICAgICAgICAgICAgPSAweDg1MTM7XG5jb25zdCBURVhUVVJFXzNEICAgICAgICAgICAgICAgICAgICAgPSAweDgwNmY7XG5jb25zdCBURVhUVVJFXzJEX0FSUkFZICAgICAgICAgICAgICAgPSAweDhjMWE7XG5cbi8qIEN1YmVtYXAgVGFyZ2V0cyAqL1xuY29uc3QgVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICAgID0gMHg4NTE1O1xuY29uc3QgVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YICAgID0gMHg4NTE2O1xuY29uc3QgVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZICAgID0gMHg4NTE3O1xuY29uc3QgVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZICAgID0gMHg4NTE4O1xuY29uc3QgVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aICAgID0gMHg4NTE5O1xuY29uc3QgVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aICAgID0gMHg4NTFhO1xuXG4vKiBUZXh0dXJlIFBhcmFtZXRlcnMgKi9cbmNvbnN0IFRFWFRVUkVfTUlOX0ZJTFRFUiAgICAgICAgICAgICA9IDB4MjgwMTtcbmNvbnN0IFRFWFRVUkVfTUFHX0ZJTFRFUiAgICAgICAgICAgICA9IDB4MjgwMDtcbmNvbnN0IFRFWFRVUkVfV1JBUF9TICAgICAgICAgICAgICAgICA9IDB4MjgwMjtcbmNvbnN0IFRFWFRVUkVfV1JBUF9UICAgICAgICAgICAgICAgICA9IDB4MjgwMztcbmNvbnN0IFRFWFRVUkVfV1JBUF9SICAgICAgICAgICAgICAgICA9IDB4ODA3MjtcbmNvbnN0IFRFWFRVUkVfTUlOX0xPRCAgICAgICAgICAgICAgICA9IDB4ODEzYTtcbmNvbnN0IFRFWFRVUkVfTUFYX0xPRCAgICAgICAgICAgICAgICA9IDB4ODEzYjtcbmNvbnN0IFRFWFRVUkVfQkFTRV9MRVZFTCAgICAgICAgICAgICA9IDB4ODEzYztcbmNvbnN0IFRFWFRVUkVfTUFYX0xFVkVMICAgICAgICAgICAgICA9IDB4ODEzZDtcblxuXG4vKiBQaXhlbCBzdG9yZSAqL1xuY29uc3QgVU5QQUNLX0FMSUdOTUVOVCAgICAgICAgICAgICAgICAgICA9IDB4MGNmNTtcbmNvbnN0IFVOUEFDS19ST1dfTEVOR1RIICAgICAgICAgICAgICAgICAgPSAweDBjZjI7XG5jb25zdCBVTlBBQ0tfSU1BR0VfSEVJR0hUICAgICAgICAgICAgICAgID0gMHg4MDZlO1xuY29uc3QgVU5QQUNLX1NLSVBfUElYRUxTICAgICAgICAgICAgICAgICA9IDB4MGNmNDtcbmNvbnN0IFVOUEFDS19TS0lQX1JPV1MgICAgICAgICAgICAgICAgICAgPSAweDBjZjM7XG5jb25zdCBVTlBBQ0tfU0tJUF9JTUFHRVMgICAgICAgICAgICAgICAgID0gMHg4MDZkO1xuY29uc3QgVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCA9IDB4OTI0MztcbmNvbnN0IFVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCAgICAgPSAweDkyNDE7XG5jb25zdCBVTlBBQ0tfRkxJUF9ZX1dFQkdMICAgICAgICAgICAgICAgID0gMHg5MjQwO1xuXG5jb25zdCBSOCAgICAgICAgICAgICAgICAgICAgICAgICAgID0gMHg4MjI5O1xuY29uc3QgUjhfU05PUk0gICAgICAgICAgICAgICAgICAgICA9IDB4OEY5NDtcbmNvbnN0IFIxNkYgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDgyMkQ7XG5jb25zdCBSMzJGICAgICAgICAgICAgICAgICAgICAgICAgID0gMHg4MjJFO1xuY29uc3QgUjhVSSAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4ODIzMjtcbmNvbnN0IFI4SSAgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDgyMzE7XG5jb25zdCBSRzE2VUkgICAgICAgICAgICAgICAgICAgICAgID0gMHg4MjNBO1xuY29uc3QgUkcxNkkgICAgICAgICAgICAgICAgICAgICAgICA9IDB4ODIzOTtcbmNvbnN0IFJHMzJVSSAgICAgICAgICAgICAgICAgICAgICAgPSAweDgyM0M7XG5jb25zdCBSRzMySSAgICAgICAgICAgICAgICAgICAgICAgID0gMHg4MjNCO1xuY29uc3QgUkc4ICAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4ODIyQjtcbmNvbnN0IFJHOF9TTk9STSAgICAgICAgICAgICAgICAgICAgPSAweDhGOTU7XG5jb25zdCBSRzE2RiAgICAgICAgICAgICAgICAgICAgICAgID0gMHg4MjJGO1xuY29uc3QgUkczMkYgICAgICAgICAgICAgICAgICAgICAgICA9IDB4ODIzMDtcbmNvbnN0IFJHOFVJICAgICAgICAgICAgICAgICAgICAgICAgPSAweDgyMzg7XG5jb25zdCBSRzhJICAgICAgICAgICAgICAgICAgICAgICAgID0gMHg4MjM3O1xuY29uc3QgUjE2VUkgICAgICAgICAgICAgICAgICAgICAgICA9IDB4ODIzNDtcbmNvbnN0IFIxNkkgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDgyMzM7XG5jb25zdCBSMzJVSSAgICAgICAgICAgICAgICAgICAgICAgID0gMHg4MjM2O1xuY29uc3QgUjMySSAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4ODIzNTtcbmNvbnN0IFJHQjggICAgICAgICAgICAgICAgICAgICAgICAgPSAweDgwNTE7XG5jb25zdCBTUkdCOCAgICAgICAgICAgICAgICAgICAgICAgID0gMHg4QzQxO1xuY29uc3QgUkdCNTY1ICAgICAgICAgICAgICAgICAgICAgICA9IDB4OEQ2MjtcbmNvbnN0IFJHQjhfU05PUk0gICAgICAgICAgICAgICAgICAgPSAweDhGOTY7XG5jb25zdCBSMTFGX0cxMUZfQjEwRiAgICAgICAgICAgICAgID0gMHg4QzNBO1xuY29uc3QgUkdCOV9FNSAgICAgICAgICAgICAgICAgICAgICA9IDB4OEMzRDtcbmNvbnN0IFJHQjE2RiAgICAgICAgICAgICAgICAgICAgICAgPSAweDg4MUI7XG5jb25zdCBSR0IzMkYgICAgICAgICAgICAgICAgICAgICAgID0gMHg4ODE1O1xuY29uc3QgUkdCOFVJICAgICAgICAgICAgICAgICAgICAgICA9IDB4OEQ3RDtcbmNvbnN0IFJHQjhJICAgICAgICAgICAgICAgICAgICAgICAgPSAweDhEOEY7XG5jb25zdCBSR0IxNlVJICAgICAgICAgICAgICAgICAgICAgID0gMHg4RDc3O1xuY29uc3QgUkdCMTZJICAgICAgICAgICAgICAgICAgICAgICA9IDB4OEQ4OTtcbmNvbnN0IFJHQjMyVUkgICAgICAgICAgICAgICAgICAgICAgPSAweDhENzE7XG5jb25zdCBSR0IzMkkgICAgICAgICAgICAgICAgICAgICAgID0gMHg4RDgzO1xuY29uc3QgUkdCQTggICAgICAgICAgICAgICAgICAgICAgICA9IDB4ODA1ODtcbmNvbnN0IFNSR0I4X0FMUEhBOCAgICAgICAgICAgICAgICAgPSAweDhDNDM7XG5jb25zdCBSR0JBOF9TTk9STSAgICAgICAgICAgICAgICAgID0gMHg4Rjk3O1xuY29uc3QgUkdCNV9BMSAgICAgICAgICAgICAgICAgICAgICA9IDB4ODA1NztcbmNvbnN0IFJHQkE0ICAgICAgICAgICAgICAgICAgICAgICAgPSAweDgwNTY7XG5jb25zdCBSR0IxMF9BMiAgICAgICAgICAgICAgICAgICAgID0gMHg4MDU5O1xuY29uc3QgUkdCQTE2RiAgICAgICAgICAgICAgICAgICAgICA9IDB4ODgxQTtcbmNvbnN0IFJHQkEzMkYgICAgICAgICAgICAgICAgICAgICAgPSAweDg4MTQ7XG5jb25zdCBSR0JBOFVJICAgICAgICAgICAgICAgICAgICAgID0gMHg4RDdDO1xuY29uc3QgUkdCQThJICAgICAgICAgICAgICAgICAgICAgICA9IDB4OEQ4RTtcbmNvbnN0IFJHQjEwX0EyVUkgICAgICAgICAgICAgICAgICAgPSAweDkwNkY7XG5jb25zdCBSR0JBMTZVSSAgICAgICAgICAgICAgICAgICAgID0gMHg4RDc2O1xuY29uc3QgUkdCQTE2SSAgICAgICAgICAgICAgICAgICAgICA9IDB4OEQ4ODtcbmNvbnN0IFJHQkEzMkkgICAgICAgICAgICAgICAgICAgICAgPSAweDhEODI7XG5jb25zdCBSR0JBMzJVSSAgICAgICAgICAgICAgICAgICAgID0gMHg4RDcwO1xuXG5jb25zdCBERVBUSF9DT01QT05FTlQxNiAgICAgICAgICAgID0gMHg4MUE1O1xuY29uc3QgREVQVEhfQ09NUE9ORU5UMjQgICAgICAgICAgICA9IDB4ODFBNjtcbmNvbnN0IERFUFRIX0NPTVBPTkVOVDMyRiAgICAgICAgICAgPSAweDhDQUM7XG5jb25zdCBERVBUSDMyRl9TVEVOQ0lMOCAgICAgICAgICAgID0gMHg4Q0FEO1xuY29uc3QgREVQVEgyNF9TVEVOQ0lMOCAgICAgICAgICAgICA9IDB4ODhGMDtcblxuLyogRGF0YVR5cGUgKi9cbmNvbnN0IEJZVEUkMiAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MTQwMDtcbmNvbnN0IFVOU0lHTkVEX0JZVEUkMiAgICAgICAgICAgICAgICA9IDB4MTQwMTtcbmNvbnN0IFNIT1JUJDIgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MTQwMjtcbmNvbnN0IFVOU0lHTkVEX1NIT1JUJDIgICAgICAgICAgICAgICA9IDB4MTQwMztcbmNvbnN0IElOVCQyICAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MTQwNDtcbmNvbnN0IFVOU0lHTkVEX0lOVCQyICAgICAgICAgICAgICAgICA9IDB4MTQwNTtcbmNvbnN0IEZMT0FUJDIgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MTQwNjtcbmNvbnN0IFVOU0lHTkVEX1NIT1JUXzRfNF80XzQkMSAgICAgICA9IDB4ODAzMztcbmNvbnN0IFVOU0lHTkVEX1NIT1JUXzVfNV81XzEkMSAgICAgICA9IDB4ODAzNDtcbmNvbnN0IFVOU0lHTkVEX1NIT1JUXzVfNl81JDEgICAgICAgICA9IDB4ODM2MztcbmNvbnN0IEhBTEZfRkxPQVQkMSAgICAgICAgICAgICAgICAgICA9IDB4MTQwQjtcbmNvbnN0IEhBTEZfRkxPQVRfT0VTICAgICAgICAgICAgICAgPSAweDhENjE7ICAvLyBUaGFua3MgS2hyb25vcyBmb3IgbWFraW5nIHRoaXMgZGlmZmVyZW50ID46KFxuY29uc3QgVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWJDEgID0gMHg4MzY4O1xuY29uc3QgVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFViQxID0gMHg4QzNCO1xuY29uc3QgVU5TSUdORURfSU5UXzVfOV85XzlfUkVWJDEgICAgID0gMHg4QzNFO1xuY29uc3QgRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWJDEgPSAweDhEQUQ7XG5jb25zdCBVTlNJR05FRF9JTlRfMjRfOCQxICAgICAgICAgICAgPSAweDg0RkE7XG5cbmNvbnN0IFJHICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDgyMjc7XG5jb25zdCBSR19JTlRFR0VSICAgICAgICAgICAgICAgICAgID0gMHg4MjI4O1xuY29uc3QgUkVEICAgICAgICAgICAgICAgICAgICAgICAgICA9IDB4MTkwMztcbmNvbnN0IFJFRF9JTlRFR0VSICAgICAgICAgICAgICAgICAgPSAweDhEOTQ7XG5jb25zdCBSR0JfSU5URUdFUiAgICAgICAgICAgICAgICAgID0gMHg4RDk4O1xuY29uc3QgUkdCQV9JTlRFR0VSICAgICAgICAgICAgICAgICA9IDB4OEQ5OTtcblxuY29uc3QgZm9ybWF0SW5mbyA9IHt9O1xue1xuICAvLyBOT1RFOiB0aGlzIGlzIG5hbWVkIGBudW1Db2xvckNvbXBvbmVudHNgIHZzIGBudW1Db21wb25lbnRzYCBzbyB3ZSBjYW4gbGV0IFVnbGlmeSBtYW5nbGVcbiAgLy8gdGhlIG5hbWUuXG4gIGNvbnN0IGYgPSBmb3JtYXRJbmZvO1xuICBmW0FMUEhBXSAgICAgICAgICAgPSB7IG51bUNvbG9yQ29tcG9uZW50czogMSwgfTtcbiAgZltMVU1JTkFOQ0VdICAgICAgID0geyBudW1Db2xvckNvbXBvbmVudHM6IDEsIH07XG4gIGZbTFVNSU5BTkNFX0FMUEhBXSA9IHsgbnVtQ29sb3JDb21wb25lbnRzOiAyLCB9O1xuICBmW1JHQl0gICAgICAgICAgICAgPSB7IG51bUNvbG9yQ29tcG9uZW50czogMywgfTtcbiAgZltSR0JBXSAgICAgICAgICAgID0geyBudW1Db2xvckNvbXBvbmVudHM6IDQsIH07XG4gIGZbUkVEXSAgICAgICAgICAgICA9IHsgbnVtQ29sb3JDb21wb25lbnRzOiAxLCB9O1xuICBmW1JFRF9JTlRFR0VSXSAgICAgPSB7IG51bUNvbG9yQ29tcG9uZW50czogMSwgfTtcbiAgZltSR10gICAgICAgICAgICAgID0geyBudW1Db2xvckNvbXBvbmVudHM6IDIsIH07XG4gIGZbUkdfSU5URUdFUl0gICAgICA9IHsgbnVtQ29sb3JDb21wb25lbnRzOiAyLCB9O1xuICBmW1JHQl0gICAgICAgICAgICAgPSB7IG51bUNvbG9yQ29tcG9uZW50czogMywgfTtcbiAgZltSR0JfSU5URUdFUl0gICAgID0geyBudW1Db2xvckNvbXBvbmVudHM6IDMsIH07XG4gIGZbUkdCQV0gICAgICAgICAgICA9IHsgbnVtQ29sb3JDb21wb25lbnRzOiA0LCB9O1xuICBmW1JHQkFfSU5URUdFUl0gICAgPSB7IG51bUNvbG9yQ29tcG9uZW50czogNCwgfTtcbiAgZltERVBUSF9DT01QT05FTlRdID0geyBudW1Db2xvckNvbXBvbmVudHM6IDEsIH07XG4gIGZbREVQVEhfU1RFTkNJTF0gICA9IHsgbnVtQ29sb3JDb21wb25lbnRzOiAyLCB9O1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRleHR1cmVGb3JtYXREZXRhaWxzXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGV4dHVyZUZvcm1hdCBmb3JtYXQgdG8gcGFzcyB0ZXhJbWFnZTJEIGFuZCBzaW1pbGFyIGZ1bmN0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY29sb3JSZW5kZXJhYmxlIHRydWUgaWYgeW91IGNhbiByZW5kZXIgdG8gdGhpcyBmb3JtYXQgb2YgdGV4dHVyZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdGV4dHVyZUZpbHRlcmFibGUgdHJ1ZSBpZiB5b3UgY2FuIGZpbHRlciB0aGUgdGV4dHVyZSwgZmFsc2UgaWYgeW91IGNhbiBvbnkgdXNlIGBORUFSRVNUYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IHR5cGUgQXJyYXkgb2YgcG9zc2libGUgdHlwZXMgeW91IGNhbiBwYXNzIHRvIHRleEltYWdlMkQgYW5kIHNpbWlsYXIgZnVuY3Rpb25cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxudW1iZXIsbnVtYmVyPn0gYnl0ZXNQZXJFbGVtZW50TWFwIEEgbWFwIG9mIHR5cGVzIHRvIGJ5dGVzIHBlciBlbGVtZW50XG4gKiBAcHJpdmF0ZVxuICovXG5cbmxldCBzX3RleHR1cmVJbnRlcm5hbEZvcm1hdEluZm87XG5mdW5jdGlvbiBnZXRUZXh0dXJlSW50ZXJuYWxGb3JtYXRJbmZvKGludGVybmFsRm9ybWF0KSB7XG4gIGlmICghc190ZXh0dXJlSW50ZXJuYWxGb3JtYXRJbmZvKSB7XG4gICAgLy8gTk9URTogdGhlc2UgcHJvcGVydGllcyBuZWVkIHVuaXF1ZSBuYW1lcyBzbyB3ZSBjYW4gbGV0IFVnbGlmeSBtYW5nbGUgdGhlIG5hbWUuXG4gICAgY29uc3QgdCA9IHt9O1xuICAgIC8vIHVuc2l6ZWQgZm9ybWF0c1xuICAgIHRbQUxQSEFdICAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogQUxQSEEsICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IHRydWUsICB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzEsIDIsIDIsIDRdLCAgICAgICAgdHlwZTogW1VOU0lHTkVEX0JZVEUkMiwgSEFMRl9GTE9BVCQxLCBIQUxGX0ZMT0FUX09FUywgRkxPQVQkMl0sIH07XG4gICAgdFtMVU1JTkFOQ0VdICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBMVU1JTkFOQ0UsICAgICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiB0cnVlLCAgYnl0ZXNQZXJFbGVtZW50OiBbMSwgMiwgMiwgNF0sICAgICAgICB0eXBlOiBbVU5TSUdORURfQllURSQyLCBIQUxGX0ZMT0FUJDEsIEhBTEZfRkxPQVRfT0VTLCBGTE9BVCQyXSwgfTtcbiAgICB0W0xVTUlOQU5DRV9BTFBIQV0gICAgPSB7IHRleHR1cmVGb3JtYXQ6IExVTUlOQU5DRV9BTFBIQSwgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IHRydWUsICBieXRlc1BlckVsZW1lbnQ6IFsyLCA0LCA0LCA4XSwgICAgICAgIHR5cGU6IFtVTlNJR05FRF9CWVRFJDIsIEhBTEZfRkxPQVQkMSwgSEFMRl9GTE9BVF9PRVMsIEZMT0FUJDJdLCB9O1xuICAgIHRbUkdCXSAgICAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCLCAgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IHRydWUsICB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzMsIDYsIDYsIDEyLCAyXSwgICAgdHlwZTogW1VOU0lHTkVEX0JZVEUkMiwgSEFMRl9GTE9BVCQxLCBIQUxGX0ZMT0FUX09FUywgRkxPQVQkMiwgVU5TSUdORURfU0hPUlRfNV82XzUkMV0sIH07XG4gICAgdFtSR0JBXSAgICAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0JBLCAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiB0cnVlLCAgYnl0ZXNQZXJFbGVtZW50OiBbNCwgOCwgOCwgMTYsIDIsIDJdLCB0eXBlOiBbVU5TSUdORURfQllURSQyLCBIQUxGX0ZMT0FUJDEsIEhBTEZfRkxPQVRfT0VTLCBGTE9BVCQyLCBVTlNJR05FRF9TSE9SVF80XzRfNF80JDEsIFVOU0lHTkVEX1NIT1JUXzVfNV81XzEkMV0sIH07XG4gICAgdFtERVBUSF9DT01QT05FTlRdICAgID0geyB0ZXh0dXJlRm9ybWF0OiBERVBUSF9DT01QT05FTlQsIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbMiwgNF0sICAgICAgICAgICAgICB0eXBlOiBbVU5TSUdORURfSU5UJDIsIFVOU0lHTkVEX1NIT1JUJDJdLCB9O1xuXG4gICAgLy8gc2l6ZWQgZm9ybWF0c1xuICAgIHRbUjhdICAgICAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkVELCAgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IHRydWUsICB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzFdLCAgICAgICAgdHlwZTogW1VOU0lHTkVEX0JZVEUkMl0sIH07XG4gICAgdFtSOF9TTk9STV0gICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSRUQsICAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogZmFsc2UsIHRleHR1cmVGaWx0ZXJhYmxlOiB0cnVlLCAgYnl0ZXNQZXJFbGVtZW50OiBbMV0sICAgICAgICB0eXBlOiBbQllURSQyXSwgfTtcbiAgICB0W1IxNkZdICAgICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJFRCwgICAgICAgICAgICAgY29sb3JSZW5kZXJhYmxlOiBmYWxzZSwgdGV4dHVyZUZpbHRlcmFibGU6IHRydWUsICBieXRlc1BlckVsZW1lbnQ6IFs0LCAyXSwgICAgIHR5cGU6IFtGTE9BVCQyLCBIQUxGX0ZMT0FUJDFdLCB9O1xuICAgIHRbUjMyRl0gICAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkVELCAgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogZmFsc2UsIGJ5dGVzUGVyRWxlbWVudDogWzRdLCAgICAgICAgdHlwZTogW0ZMT0FUJDJdLCB9O1xuICAgIHRbUjhVSV0gICAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkVEX0lOVEVHRVIsICAgICBjb2xvclJlbmRlcmFibGU6IHRydWUsICB0ZXh0dXJlRmlsdGVyYWJsZTogZmFsc2UsIGJ5dGVzUGVyRWxlbWVudDogWzFdLCAgICAgICAgdHlwZTogW1VOU0lHTkVEX0JZVEUkMl0sIH07XG4gICAgdFtSOEldICAgICAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSRURfSU5URUdFUiwgICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbMV0sICAgICAgICB0eXBlOiBbQllURSQyXSwgfTtcbiAgICB0W1IxNlVJXSAgICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJFRF9JTlRFR0VSLCAgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFsyXSwgICAgICAgIHR5cGU6IFtVTlNJR05FRF9TSE9SVCQyXSwgfTtcbiAgICB0W1IxNkldICAgICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJFRF9JTlRFR0VSLCAgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFsyXSwgICAgICAgIHR5cGU6IFtTSE9SVCQyXSwgfTtcbiAgICB0W1IzMlVJXSAgICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJFRF9JTlRFR0VSLCAgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs0XSwgICAgICAgIHR5cGU6IFtVTlNJR05FRF9JTlQkMl0sIH07XG4gICAgdFtSMzJJXSAgICAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSRURfSU5URUdFUiwgICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbNF0sICAgICAgICB0eXBlOiBbSU5UJDJdLCB9O1xuICAgIHRbUkc4XSAgICAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkcsICAgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IHRydWUsICB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzJdLCAgICAgICAgdHlwZTogW1VOU0lHTkVEX0JZVEUkMl0sIH07XG4gICAgdFtSRzhfU05PUk1dICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSRywgICAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogZmFsc2UsIHRleHR1cmVGaWx0ZXJhYmxlOiB0cnVlLCAgYnl0ZXNQZXJFbGVtZW50OiBbMl0sICAgICAgICB0eXBlOiBbQllURSQyXSwgfTtcbiAgICB0W1JHMTZGXSAgICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHLCAgICAgICAgICAgICAgY29sb3JSZW5kZXJhYmxlOiBmYWxzZSwgdGV4dHVyZUZpbHRlcmFibGU6IHRydWUsICBieXRlc1BlckVsZW1lbnQ6IFs4LCA0XSwgICAgIHR5cGU6IFtGTE9BVCQyLCBIQUxGX0ZMT0FUJDFdLCB9O1xuICAgIHRbUkczMkZdICAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkcsICAgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogZmFsc2UsIGJ5dGVzUGVyRWxlbWVudDogWzhdLCAgICAgICAgdHlwZTogW0ZMT0FUJDJdLCB9O1xuICAgIHRbUkc4VUldICAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdfSU5URUdFUiwgICAgICBjb2xvclJlbmRlcmFibGU6IHRydWUsICB0ZXh0dXJlRmlsdGVyYWJsZTogZmFsc2UsIGJ5dGVzUGVyRWxlbWVudDogWzJdLCAgICAgICAgdHlwZTogW1VOU0lHTkVEX0JZVEUkMl0sIH07XG4gICAgdFtSRzhJXSAgICAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR19JTlRFR0VSLCAgICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbMl0sICAgICAgICB0eXBlOiBbQllURSQyXSwgfTtcbiAgICB0W1JHMTZVSV0gICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHX0lOVEVHRVIsICAgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs0XSwgICAgICAgIHR5cGU6IFtVTlNJR05FRF9TSE9SVCQyXSwgfTtcbiAgICB0W1JHMTZJXSAgICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHX0lOVEVHRVIsICAgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs0XSwgICAgICAgIHR5cGU6IFtTSE9SVCQyXSwgfTtcbiAgICB0W1JHMzJVSV0gICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHX0lOVEVHRVIsICAgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs4XSwgICAgICAgIHR5cGU6IFtVTlNJR05FRF9JTlQkMl0sIH07XG4gICAgdFtSRzMySV0gICAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR19JTlRFR0VSLCAgICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbOF0sICAgICAgICB0eXBlOiBbSU5UJDJdLCB9O1xuICAgIHRbUkdCOF0gICAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCLCAgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IHRydWUsICB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzNdLCAgICAgICAgdHlwZTogW1VOU0lHTkVEX0JZVEUkMl0sIH07XG4gICAgdFtTUkdCOF0gICAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0IsICAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogZmFsc2UsIHRleHR1cmVGaWx0ZXJhYmxlOiB0cnVlLCAgYnl0ZXNQZXJFbGVtZW50OiBbM10sICAgICAgICB0eXBlOiBbVU5TSUdORURfQllURSQyXSwgfTtcbiAgICB0W1JHQjU2NV0gICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHQiwgICAgICAgICAgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IHRydWUsICBieXRlc1BlckVsZW1lbnQ6IFszLCAyXSwgICAgIHR5cGU6IFtVTlNJR05FRF9CWVRFJDIsIFVOU0lHTkVEX1NIT1JUXzVfNl81JDFdLCB9O1xuICAgIHRbUkdCOF9TTk9STV0gICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCLCAgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzNdLCAgICAgICAgdHlwZTogW0JZVEUkMl0sIH07XG4gICAgdFtSMTFGX0cxMUZfQjEwRl0gICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0IsICAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogZmFsc2UsIHRleHR1cmVGaWx0ZXJhYmxlOiB0cnVlLCAgYnl0ZXNQZXJFbGVtZW50OiBbMTIsIDYsIDRdLCB0eXBlOiBbRkxPQVQkMiwgSEFMRl9GTE9BVCQxLCBVTlNJR05FRF9JTlRfMTBGXzExRl8xMUZfUkVWJDFdLCB9O1xuICAgIHRbUkdCOV9FNV0gICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCLCAgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzEyLCA2LCA0XSwgdHlwZTogW0ZMT0FUJDIsIEhBTEZfRkxPQVQkMSwgVU5TSUdORURfSU5UXzVfOV85XzlfUkVWJDFdLCB9O1xuICAgIHRbUkdCMTZGXSAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCLCAgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzEyLCA2XSwgICAgdHlwZTogW0ZMT0FUJDIsIEhBTEZfRkxPQVQkMV0sIH07XG4gICAgdFtSR0IzMkZdICAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0IsICAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogZmFsc2UsIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbMTJdLCAgICAgICB0eXBlOiBbRkxPQVQkMl0sIH07XG4gICAgdFtSR0I4VUldICAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0JfSU5URUdFUiwgICAgIGNvbG9yUmVuZGVyYWJsZTogZmFsc2UsIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbM10sICAgICAgICB0eXBlOiBbVU5TSUdORURfQllURSQyXSwgfTtcbiAgICB0W1JHQjhJXSAgICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHQl9JTlRFR0VSLCAgICAgY29sb3JSZW5kZXJhYmxlOiBmYWxzZSwgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFszXSwgICAgICAgIHR5cGU6IFtCWVRFJDJdLCB9O1xuICAgIHRbUkdCMTZVSV0gICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCX0lOVEVHRVIsICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogZmFsc2UsIGJ5dGVzUGVyRWxlbWVudDogWzZdLCAgICAgICAgdHlwZTogW1VOU0lHTkVEX1NIT1JUJDJdLCB9O1xuICAgIHRbUkdCMTZJXSAgICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCX0lOVEVHRVIsICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogZmFsc2UsIGJ5dGVzUGVyRWxlbWVudDogWzZdLCAgICAgICAgdHlwZTogW1NIT1JUJDJdLCB9O1xuICAgIHRbUkdCMzJVSV0gICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCX0lOVEVHRVIsICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogZmFsc2UsIGJ5dGVzUGVyRWxlbWVudDogWzEyXSwgICAgICAgdHlwZTogW1VOU0lHTkVEX0lOVCQyXSwgfTtcbiAgICB0W1JHQjMySV0gICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHQl9JTlRFR0VSLCAgICAgY29sb3JSZW5kZXJhYmxlOiBmYWxzZSwgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFsxMl0sICAgICAgIHR5cGU6IFtJTlQkMl0sIH07XG4gICAgdFtSR0JBOF0gICAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0JBLCAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiB0cnVlLCAgYnl0ZXNQZXJFbGVtZW50OiBbNF0sICAgICAgICB0eXBlOiBbVU5TSUdORURfQllURSQyXSwgfTtcbiAgICB0W1NSR0I4X0FMUEhBOF0gICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHQkEsICAgICAgICAgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IHRydWUsICBieXRlc1BlckVsZW1lbnQ6IFs0XSwgICAgICAgIHR5cGU6IFtVTlNJR05FRF9CWVRFJDJdLCB9O1xuICAgIHRbUkdCQThfU05PUk1dICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCQSwgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzRdLCAgICAgICAgdHlwZTogW0JZVEUkMl0sIH07XG4gICAgdFtSR0I1X0ExXSAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0JBLCAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiB0cnVlLCAgYnl0ZXNQZXJFbGVtZW50OiBbNCwgMiwgNF0sICB0eXBlOiBbVU5TSUdORURfQllURSQyLCBVTlNJR05FRF9TSE9SVF81XzVfNV8xJDEsIFVOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFViQxXSwgfTtcbiAgICB0W1JHQkE0XSAgICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHQkEsICAgICAgICAgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IHRydWUsICBieXRlc1BlckVsZW1lbnQ6IFs0LCAyXSwgICAgIHR5cGU6IFtVTlNJR05FRF9CWVRFJDIsIFVOU0lHTkVEX1NIT1JUXzRfNF80XzQkMV0sIH07XG4gICAgdFtSR0IxMF9BMl0gICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0JBLCAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiB0cnVlLCAgYnl0ZXNQZXJFbGVtZW50OiBbNF0sICAgICAgICB0eXBlOiBbVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWJDFdLCB9O1xuICAgIHRbUkdCQTE2Rl0gICAgICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCQSwgICAgICAgICAgICBjb2xvclJlbmRlcmFibGU6IGZhbHNlLCB0ZXh0dXJlRmlsdGVyYWJsZTogdHJ1ZSwgIGJ5dGVzUGVyRWxlbWVudDogWzE2LCA4XSwgICAgdHlwZTogW0ZMT0FUJDIsIEhBTEZfRkxPQVQkMV0sIH07XG4gICAgdFtSR0JBMzJGXSAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0JBLCAgICAgICAgICAgIGNvbG9yUmVuZGVyYWJsZTogZmFsc2UsIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbMTZdLCAgICAgICB0eXBlOiBbRkxPQVQkMl0sIH07XG4gICAgdFtSR0JBOFVJXSAgICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0JBX0lOVEVHRVIsICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbNF0sICAgICAgICB0eXBlOiBbVU5TSUdORURfQllURSQyXSwgfTtcbiAgICB0W1JHQkE4SV0gICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHQkFfSU5URUdFUiwgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs0XSwgICAgICAgIHR5cGU6IFtCWVRFJDJdLCB9O1xuICAgIHRbUkdCMTBfQTJVSV0gICAgICAgICA9IHsgdGV4dHVyZUZvcm1hdDogUkdCQV9JTlRFR0VSLCAgICBjb2xvclJlbmRlcmFibGU6IHRydWUsICB0ZXh0dXJlRmlsdGVyYWJsZTogZmFsc2UsIGJ5dGVzUGVyRWxlbWVudDogWzRdLCAgICAgICAgdHlwZTogW1VOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFViQxXSwgfTtcbiAgICB0W1JHQkExNlVJXSAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHQkFfSU5URUdFUiwgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs4XSwgICAgICAgIHR5cGU6IFtVTlNJR05FRF9TSE9SVCQyXSwgfTtcbiAgICB0W1JHQkExNkldICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHQkFfSU5URUdFUiwgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs4XSwgICAgICAgIHR5cGU6IFtTSE9SVCQyXSwgfTtcbiAgICB0W1JHQkEzMkldICAgICAgICAgICAgPSB7IHRleHR1cmVGb3JtYXQ6IFJHQkFfSU5URUdFUiwgICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFsxNl0sICAgICAgIHR5cGU6IFtJTlQkMl0sIH07XG4gICAgdFtSR0JBMzJVSV0gICAgICAgICAgID0geyB0ZXh0dXJlRm9ybWF0OiBSR0JBX0lOVEVHRVIsICAgIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbMTZdLCAgICAgICB0eXBlOiBbVU5TSUdORURfSU5UJDJdLCB9O1xuICAgIC8vIFNpemVkIEludGVybmFsXG4gICAgdFtERVBUSF9DT01QT05FTlQxNl0gID0geyB0ZXh0dXJlRm9ybWF0OiBERVBUSF9DT01QT05FTlQsIGNvbG9yUmVuZGVyYWJsZTogdHJ1ZSwgIHRleHR1cmVGaWx0ZXJhYmxlOiBmYWxzZSwgYnl0ZXNQZXJFbGVtZW50OiBbMiwgNF0sICAgICB0eXBlOiBbVU5TSUdORURfU0hPUlQkMiwgVU5TSUdORURfSU5UJDJdLCB9O1xuICAgIHRbREVQVEhfQ09NUE9ORU5UMjRdICA9IHsgdGV4dHVyZUZvcm1hdDogREVQVEhfQ09NUE9ORU5ULCBjb2xvclJlbmRlcmFibGU6IHRydWUsICB0ZXh0dXJlRmlsdGVyYWJsZTogZmFsc2UsIGJ5dGVzUGVyRWxlbWVudDogWzRdLCAgICAgICAgdHlwZTogW1VOU0lHTkVEX0lOVCQyXSwgfTtcbiAgICB0W0RFUFRIX0NPTVBPTkVOVDMyRl0gPSB7IHRleHR1cmVGb3JtYXQ6IERFUFRIX0NPTVBPTkVOVCwgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs0XSwgICAgICAgIHR5cGU6IFtGTE9BVCQyXSwgfTtcbiAgICB0W0RFUFRIMjRfU1RFTkNJTDhdICAgPSB7IHRleHR1cmVGb3JtYXQ6IERFUFRIX1NURU5DSUwsICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs0XSwgICAgICAgIHR5cGU6IFtVTlNJR05FRF9JTlRfMjRfOCQxXSwgfTtcbiAgICB0W0RFUFRIMzJGX1NURU5DSUw4XSAgPSB7IHRleHR1cmVGb3JtYXQ6IERFUFRIX1NURU5DSUwsICAgY29sb3JSZW5kZXJhYmxlOiB0cnVlLCAgdGV4dHVyZUZpbHRlcmFibGU6IGZhbHNlLCBieXRlc1BlckVsZW1lbnQ6IFs0XSwgICAgICAgIHR5cGU6IFtGTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVYkMV0sIH07XG5cbiAgICBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGludGVybmFsRm9ybWF0KSB7XG4gICAgICBjb25zdCBpbmZvID0gdFtpbnRlcm5hbEZvcm1hdF07XG4gICAgICBpbmZvLmJ5dGVzUGVyRWxlbWVudE1hcCA9IHt9O1xuICAgICAgaW5mby5ieXRlc1BlckVsZW1lbnQuZm9yRWFjaChmdW5jdGlvbihieXRlc1BlckVsZW1lbnQsIG5keCkge1xuICAgICAgICBjb25zdCB0eXBlID0gaW5mby50eXBlW25keF07XG4gICAgICAgIGluZm8uYnl0ZXNQZXJFbGVtZW50TWFwW3R5cGVdID0gYnl0ZXNQZXJFbGVtZW50O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgc190ZXh0dXJlSW50ZXJuYWxGb3JtYXRJbmZvID0gdDtcbiAgfVxuICByZXR1cm4gc190ZXh0dXJlSW50ZXJuYWxGb3JtYXRJbmZvW2ludGVybmFsRm9ybWF0XTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBudW1iZXIgb2YgYnl0ZXMgcGVyIGVsZW1lbnQgZm9yIGEgZ2l2ZW4gaW50ZXJuYWxGb3JtYXQgLyB0eXBlXG4gKiBAcGFyYW0ge251bWJlcn0gaW50ZXJuYWxGb3JtYXQgVGhlIGludGVybmFsRm9ybWF0IHBhcmFtZXRlciBmcm9tIHRleEltYWdlMkQgZXRjLi5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0eXBlIFRoZSB0eXBlIHBhcmFtZXRlciBmb3IgdGV4SW1hZ2UyRCBldGMuLlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGJ5dGVzIHBlciBlbGVtZW50IGZvciB0aGUgZ2l2ZW4gaW50ZXJuYWxGb3JtYXQsIHR5cGUgY29tYm9cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC90ZXh0dXJlc1xuICovXG5mdW5jdGlvbiBnZXRCeXRlc1BlckVsZW1lbnRGb3JJbnRlcm5hbEZvcm1hdChpbnRlcm5hbEZvcm1hdCwgdHlwZSkge1xuICBjb25zdCBpbmZvID0gZ2V0VGV4dHVyZUludGVybmFsRm9ybWF0SW5mbyhpbnRlcm5hbEZvcm1hdCk7XG4gIGlmICghaW5mbykge1xuICAgIHRocm93IFwidW5rbm93biBpbnRlcm5hbCBmb3JtYXRcIjtcbiAgfVxuICBjb25zdCBieXRlc1BlckVsZW1lbnQgPSBpbmZvLmJ5dGVzUGVyRWxlbWVudE1hcFt0eXBlXTtcbiAgaWYgKGJ5dGVzUGVyRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgXCJ1bmtub3duIGludGVybmFsIGZvcm1hdFwiO1xuICB9XG4gIHJldHVybiBieXRlc1BlckVsZW1lbnQ7XG59XG5cbi8qKlxuICogSW5mbyByZWxhdGVkIHRvIGEgc3BlY2lmaWMgdGV4dHVyZSBpbnRlcm5hbEZvcm1hdCBhcyByZXR1cm5lZFxuICogZnJvbSB7QGxpbmsgbW9kdWxlOnR3Z2wvdGV4dHVyZXMuZ2V0Rm9ybWF0QW5kVHlwZUZvckludGVybmFsRm9ybWF0fS5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBUZXh0dXJlRm9ybWF0SW5mb1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvcm1hdCBGb3JtYXQgdG8gcGFzcyB0byB0ZXhJbWFnZTJEIGFuZCByZWxhdGVkIGZ1bmN0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHR5cGUgVHlwZSB0byBwYXNzIHRvIHRleEltYWdlMkQgYW5kIHJlbGF0ZWQgZnVuY3Rpb25zXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdGV4dHVyZXNcbiAqL1xuXG4vKipcbiAqIEdldHMgdGhlIGZvcm1hdCBhbmQgdHlwZSBmb3IgYSBnaXZlbiBpbnRlcm5hbEZvcm1hdFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcm5hbEZvcm1hdCBUaGUgaW50ZXJuYWwgZm9ybWF0XG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC90ZXh0dXJlcy5UZXh0dXJlRm9ybWF0SW5mb30gdGhlIGNvcnJlc3BvbmRpbmcgZm9ybWF0IGFuZCB0eXBlLFxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3RleHR1cmVzXG4gKi9cbmZ1bmN0aW9uIGdldEZvcm1hdEFuZFR5cGVGb3JJbnRlcm5hbEZvcm1hdChpbnRlcm5hbEZvcm1hdCkge1xuICBjb25zdCBpbmZvID0gZ2V0VGV4dHVyZUludGVybmFsRm9ybWF0SW5mbyhpbnRlcm5hbEZvcm1hdCk7XG4gIGlmICghaW5mbykge1xuICAgIHRocm93IFwidW5rbm93biBpbnRlcm5hbCBmb3JtYXRcIjtcbiAgfVxuICByZXR1cm4ge1xuICAgIGZvcm1hdDogaW5mby50ZXh0dXJlRm9ybWF0LFxuICAgIHR5cGU6IGluZm8udHlwZVswXSxcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdmFsdWUgaXMgcG93ZXIgb2YgMlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIG51bWJlciB0byBjaGVjay5cbiAqIEByZXR1cm4gdHJ1ZSBpZiB2YWx1ZSBpcyBwb3dlciBvZiAyXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpc1Bvd2VyT2YyKHZhbHVlKSB7XG4gIHJldHVybiAodmFsdWUgJiAodmFsdWUgLSAxKSkgPT09IDA7XG59XG5cbi8qKlxuICogR2V0cyB3aGV0aGVyIG9yIG5vdCB3ZSBjYW4gZ2VuZXJhdGUgbWlwcyBmb3IgdGhlIGdpdmVuXG4gKiBpbnRlcm5hbCBmb3JtYXQuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggcGFyYW1ldGVyIGZyb20gdGV4SW1hZ2UyRCBldGMuLlxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBUaGUgaGVpZ2h0IHBhcmFtZXRlciBmcm9tIHRleEltYWdlMkQgZXRjLi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcm5hbEZvcm1hdCBUaGUgaW50ZXJuYWxGb3JtYXQgcGFyYW1ldGVyIGZyb20gdGV4SW1hZ2UyRCBldGMuLlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB3ZSBjYW4gZ2VuZXJhdGUgbWlwc1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3RleHR1cmVzXG4gKi9cbmZ1bmN0aW9uIGNhbkdlbmVyYXRlTWlwbWFwKGdsLCB3aWR0aCwgaGVpZ2h0LCBpbnRlcm5hbEZvcm1hdCkge1xuICBpZiAoIWlzV2ViR0wyKGdsKSkge1xuICAgIHJldHVybiBpc1Bvd2VyT2YyKHdpZHRoKSAmJiBpc1Bvd2VyT2YyKGhlaWdodCk7XG4gIH1cbiAgY29uc3QgaW5mbyA9IGdldFRleHR1cmVJbnRlcm5hbEZvcm1hdEluZm8oaW50ZXJuYWxGb3JtYXQpO1xuICBpZiAoIWluZm8pIHtcbiAgICB0aHJvdyBcInVua25vd24gaW50ZXJuYWwgZm9ybWF0XCI7XG4gIH1cbiAgcmV0dXJuIGluZm8uY29sb3JSZW5kZXJhYmxlICYmIGluZm8udGV4dHVyZUZpbHRlcmFibGU7XG59XG5cbi8qKlxuICogR2V0cyB3aGV0aGVyIG9yIG5vdCB3ZSBjYW4gZ2VuZXJhdGUgbWlwcyBmb3IgdGhlIGdpdmVuIGZvcm1hdFxuICogQHBhcmFtIHtudW1iZXJ9IGludGVybmFsRm9ybWF0IFRoZSBpbnRlcm5hbEZvcm1hdCBwYXJhbWV0ZXIgZnJvbSB0ZXhJbWFnZTJEIGV0Yy4uXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHdlIGNhbiBnZW5lcmF0ZSBtaXBzXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdGV4dHVyZXNcbiAqL1xuZnVuY3Rpb24gY2FuRmlsdGVyKGludGVybmFsRm9ybWF0KSB7XG4gIGNvbnN0IGluZm8gPSBnZXRUZXh0dXJlSW50ZXJuYWxGb3JtYXRJbmZvKGludGVybmFsRm9ybWF0KTtcbiAgaWYgKCFpbmZvKSB7XG4gICAgdGhyb3cgXCJ1bmtub3duIGludGVybmFsIGZvcm1hdFwiO1xuICB9XG4gIHJldHVybiBpbmZvLnRleHR1cmVGaWx0ZXJhYmxlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG51bWJlciBvZiBjb21wb25lbnRzIGZvciBhIGdpdmVuIGltYWdlIGZvcm1hdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmb3JtYXQgdGhlIGZvcm1hdC5cbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIG51bWJlciBvZiBjb21wb25lbnRzIGZvciB0aGUgZm9ybWF0LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3RleHR1cmVzXG4gKi9cbmZ1bmN0aW9uIGdldE51bUNvbXBvbmVudHNGb3JGb3JtYXQoZm9ybWF0KSB7XG4gIGNvbnN0IGluZm8gPSBmb3JtYXRJbmZvW2Zvcm1hdF07XG4gIGlmICghaW5mbykge1xuICAgIHRocm93IFwidW5rbm93biBmb3JtYXQ6IFwiICsgZm9ybWF0O1xuICB9XG4gIHJldHVybiBpbmZvLm51bUNvbG9yQ29tcG9uZW50cztcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB0ZXh0dXJlIHR5cGUgZm9yIGEgZ2l2ZW4gYXJyYXkgdHlwZS5cbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBnbCB0ZXh0dXJlIHR5cGVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldFRleHR1cmVUeXBlRm9yQXJyYXlUeXBlKGdsLCBzcmMsIGRlZmF1bHRUeXBlKSB7XG4gIGlmIChpc0FycmF5QnVmZmVyJDEoc3JjKSkge1xuICAgIHJldHVybiBnZXRHTFR5cGVGb3JUeXBlZEFycmF5KHNyYyk7XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRUeXBlIHx8IFVOU0lHTkVEX0JZVEUkMjtcbn1cblxuZnVuY3Rpb24gZ3Vlc3NEaW1lbnNpb25zKGdsLCB0YXJnZXQsIHdpZHRoLCBoZWlnaHQsIG51bUVsZW1lbnRzKSB7XG4gIGlmIChudW1FbGVtZW50cyAlIDEgIT09IDApIHtcbiAgICB0aHJvdyBcImNhbid0IGd1ZXNzIGRpbWVuc2lvbnNcIjtcbiAgfVxuICBpZiAoIXdpZHRoICYmICFoZWlnaHQpIHtcbiAgICBjb25zdCBzaXplID0gTWF0aC5zcXJ0KG51bUVsZW1lbnRzIC8gKHRhcmdldCA9PT0gVEVYVFVSRV9DVUJFX01BUCA/IDYgOiAxKSk7XG4gICAgaWYgKHNpemUgJSAxID09PSAwKSB7XG4gICAgICB3aWR0aCA9IHNpemU7XG4gICAgICBoZWlnaHQgPSBzaXplO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IG51bUVsZW1lbnRzO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWhlaWdodCkge1xuICAgIGhlaWdodCA9IG51bUVsZW1lbnRzIC8gd2lkdGg7XG4gICAgaWYgKGhlaWdodCAlIDEpIHtcbiAgICAgIHRocm93IFwiY2FuJ3QgZ3Vlc3MgZGltZW5zaW9uc1wiO1xuICAgIH1cbiAgfSBlbHNlIGlmICghd2lkdGgpIHtcbiAgICB3aWR0aCA9IG51bUVsZW1lbnRzIC8gaGVpZ2h0O1xuICAgIGlmICh3aWR0aCAlIDEpIHtcbiAgICAgIHRocm93IFwiY2FuJ3QgZ3Vlc3MgZGltZW5zaW9uc1wiO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgfTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBkZWZhdWx0IHRleHR1cmUgY29sb3IuXG4gKlxuICogVGhlIGRlZmF1bHQgdGV4dHVyZSBjb2xvciBpcyB1c2VkIHdoZW4gbG9hZGluZyB0ZXh0dXJlcyBmcm9tXG4gKiB1cmxzLiBCZWNhdXNlIHRoZSBVUkwgd2lsbCBiZSBsb2FkZWQgYXN5bmMgd2UnZCBsaWtlIHRvIGJlXG4gKiBhYmxlIHRvIHVzZSB0aGUgdGV4dHVyZSBpbW1lZGlhdGVseS4gQnkgcHV0dGluZyBhIDF4MSBwaXhlbFxuICogY29sb3IgaW4gdGhlIHRleHR1cmUgd2UgY2FuIHN0YXJ0IHVzaW5nIHRoZSB0ZXh0dXJlIGJlZm9yZVxuICogdGhlIFVSTCBoYXMgbG9hZGVkLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yIEFycmF5IG9mIDQgdmFsdWVzIGluIHRoZSByYW5nZSAwIHRvIDFcbiAqIEBkZXByZWNhdGVkIHNlZSB7QGxpbmsgbW9kdWxlOnR3Z2wuc2V0RGVmYXVsdHN9XG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdGV4dHVyZXNcbiAqL1xuZnVuY3Rpb24gc2V0RGVmYXVsdFRleHR1cmVDb2xvcihjb2xvcikge1xuICBkZWZhdWx0cyQxLnRleHR1cmVDb2xvciA9IG5ldyBVaW50OEFycmF5KFtjb2xvclswXSAqIDI1NSwgY29sb3JbMV0gKiAyNTUsIGNvbG9yWzJdICogMjU1LCBjb2xvclszXSAqIDI1NV0pO1xufVxuXG5mdW5jdGlvbiBzZXREZWZhdWx0cyQxKG5ld0RlZmF1bHRzKSB7XG4gIGNvcHlFeGlzdGluZ1Byb3BlcnRpZXMobmV3RGVmYXVsdHMsIGRlZmF1bHRzJDEpO1xuICBpZiAobmV3RGVmYXVsdHMudGV4dHVyZUNvbG9yKSB7XG4gICAgc2V0RGVmYXVsdFRleHR1cmVDb2xvcihuZXdEZWZhdWx0cy50ZXh0dXJlQ29sb3IpO1xuICB9XG59XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0byBnZW5lcmF0ZSB0aGUgc291cmNlIGZvciBhIHRleHR1cmUuXG4gKiBAY2FsbGJhY2sgVGV4dHVyZUZ1bmNcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBBIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5UZXh0dXJlT3B0aW9uc30gb3B0aW9ucyB0aGUgdGV4dHVyZSBvcHRpb25zXG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIGFueSBvZiB0aGUgdGhpbmdzIGRvY3VtZW50ZWQgZm9yIGBzcmNgIGZvciB7QGxpbmsgbW9kdWxlOnR3Z2wuVGV4dHVyZU9wdGlvbnN9LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuLyoqXG4gKiBUZXh0dXJlIG9wdGlvbnMgcGFzc2VkIHRvIG1vc3QgdGV4dHVyZSBmdW5jdGlvbnMuIEVhY2ggZnVuY3Rpb24gd2lsbCB1c2Ugd2hhdGV2ZXIgb3B0aW9uc1xuICogYXJlIGFwcHJvcHJpYXRlIGZvciBpdHMgbmVlZHMuIFRoaXMgbGV0cyB5b3UgcGFzcyB0aGUgc2FtZSBvcHRpb25zIHRvIGFsbCBmdW5jdGlvbnMuXG4gKlxuICogTm90ZTogQSBgVGV4SW1hZ2VTb3VyY2VgIGlzIGRlZmluZWQgaW4gdGhlIFdlYkdMIHNwZWMgYXMgYSBgSFRNTEltYWdlRWxlbWVudGAsIGBIVE1MVmlkZW9FbGVtZW50YCxcbiAqIGBIVE1MQ2FudmFzRWxlbWVudGAsIGBJbWFnZUJpdG1hcGAsIG9yIGBJbWFnZURhdGFgLlxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRleHR1cmVPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RhcmdldF0gdGhlIHR5cGUgb2YgdGV4dHVyZSBgZ2wuVEVYVFVSRV8yRGAgb3IgYGdsLlRFWFRVUkVfQ1VCRV9NQVBgLiBEZWZhdWx0cyB0byBgZ2wuVEVYVFVSRV8yRGAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xldmVsXSB0aGUgbWlwIGxldmVsIHRvIGFmZmVjdC4gRGVmYXVsdHMgdG8gMC4gTm90ZSwgaWYgc2V0IGF1dG8gd2lsbCBiZSBjb25zaWRlcmVkIGZhbHNlIHVubGVzcyBleHBsaWNpdGx5IHNldCB0byB0cnVlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3aWR0aF0gdGhlIHdpZHRoIG9mIHRoZSB0ZXh0dXJlLiBPbmx5IHVzZWQgaWYgc3JjIGlzIGFuIGFycmF5IG9yIHR5cGVkIGFycmF5IG9yIG51bGwuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2hlaWdodF0gdGhlIGhlaWdodCBvZiBhIHRleHR1cmUuIE9ubHkgdXNlZCBpZiBzcmMgaXMgYW4gYXJyYXkgb3IgdHlwZWQgYXJyYXkgb3IgbnVsbC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZGVwdGhdIHRoZSBkZXB0aCBvZiBhIHRleHR1cmUuIE9ubHkgdXNlZCBpZiBzcmMgaXMgYW4gYXJyYXkgb3IgdHlwZSBhcnJheSBvciBudWxsIGFuZCB0YXJnZXQgaXMgYFRFWFRVUkVfM0RgIC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluXSB0aGUgbWluIGZpbHRlciBzZXR0aW5nIChlZy4gYGdsLkxJTkVBUmApLiBEZWZhdWx0cyB0byBgZ2wuTkVBUkVTVF9NSVBNQVBfTElORUFSYFxuICogICAgIG9yIGlmIHRleHR1cmUgaXMgbm90IGEgcG93ZXIgb2YgMiBvbiBib3RoIGRpbWVuc2lvbnMgdGhlbiBkZWZhdWx0cyB0byBgZ2wuTElORUFSYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWFnXSB0aGUgbWFnIGZpbHRlciBzZXR0aW5nIChlZy4gYGdsLkxJTkVBUmApLiBEZWZhdWx0cyB0byBgZ2wuTElORUFSYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5NYWddIGJvdGggdGhlIG1pbiBhbmQgbWFnIGZpbHRlciBzZXR0aW5ncy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaW50ZXJuYWxGb3JtYXRdIGludGVybmFsIGZvcm1hdCBmb3IgdGV4dHVyZS4gRGVmYXVsdHMgdG8gYGdsLlJHQkFgXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2Zvcm1hdF0gZm9ybWF0IGZvciB0ZXh0dXJlLiBEZWZhdWx0cyB0byBgZ2wuUkdCQWAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3R5cGVdIHR5cGUgZm9yIHRleHR1cmUuIERlZmF1bHRzIHRvIGBnbC5VTlNJR05FRF9CWVRFYCB1bmxlc3MgYHNyY2AgaXMgQXJyYXlCdWZmZXJWaWV3LiBJZiBgc3JjYFxuICogICAgIGlzIEFycmF5QnVmZmVyVmlldyBkZWZhdWx0cyB0byB0eXBlIHRoYXQgbWF0Y2hlcyBBcnJheUJ1ZmZlclZpZXcgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd3JhcF0gVGV4dHVyZSB3cmFwcGluZyBmb3IgYm90aCBTIGFuZCBUIChhbmQgUiBpZiBURVhUVVJFXzNEIG9yIFdlYkdMU2FtcGxlcikuIERlZmF1bHRzIHRvIGBnbC5SRVBFQVRgIGZvciAyRCB1bmxlc3Mgc3JjIGlzIFdlYkdMMSBhbmQgc3JjIG5vdCBucG90IGFuZCBgZ2wuQ0xBTVBfVE9fRURHRWAgZm9yIGN1YmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd3JhcFNdIFRleHR1cmUgd3JhcHBpbmcgZm9yIFMuIERlZmF1bHRzIHRvIGBnbC5SRVBFQVRgIGFuZCBgZ2wuQ0xBTVBfVE9fRURHRWAgZm9yIGN1YmUuIElmIHNldCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYHdyYXBgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3cmFwVF0gVGV4dHVyZSB3cmFwcGluZyBmb3IgVC4gRGVmYXVsdHMgdG8gYGdsLlJFUEVBVGAgYW5kIGBnbC5DTEFNUF9UT19FREdFYCBmb3IgY3ViZS4gSWYgc2V0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgd3JhcGAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3dyYXBSXSBUZXh0dXJlIHdyYXBwaW5nIGZvciBSLiBEZWZhdWx0cyB0byBgZ2wuUkVQRUFUYCBhbmQgYGdsLkNMQU1QX1RPX0VER0VgIGZvciBjdWJlLiBJZiBzZXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGB3cmFwYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluTG9kXSBURVhUVVJFX01JTl9MT0Qgc2V0dGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhMb2RdIFRFWFRVUkVfTUFYX0xPRCBzZXR0aW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2Jhc2VMZXZlbF0gVEVYVFVSRV9CQVNFX0xFVkVMIHNldHRpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4TGV2ZWxdIFRFWFRVUkVfTUFYX0xFVkVMIHNldHRpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdW5wYWNrQWxpZ25tZW50XSBUaGUgYGdsLlVOUEFDS19BTElHTk1FTlRgIHVzZWQgd2hlbiB1cGxvYWRpbmcgYW4gYXJyYXkuIERlZmF1bHRzIHRvIDEuXG4gKiBAcHJvcGVydHkge251bWJlcltdfEFycmF5QnVmZmVyVmlld30gW2NvbG9yXSBDb2xvciB0byBpbml0aWFsaXplIHRoaXMgdGV4dHVyZSB3aXRoIGlmIGxvYWRpbmcgYW4gaW1hZ2UgYXN5bmNocm9ub3VzbHkuXG4gKiAgICAgVGhlIGRlZmF1bHQgdXNlIGEgYmx1ZSAxeDEgcGl4ZWwgdGV4dHVyZS4gWW91IGNhbiBzZXQgYW5vdGhlciBkZWZhdWx0IGJ5IGNhbGxpbmcgYHR3Z2wuc2V0RGVmYXVsdHNgXG4gKiAgICAgb3IgeW91IGNhbiBzZXQgYW4gaW5kaXZpZHVhbCB0ZXh0dXJlJ3MgaW5pdGlhbCBjb2xvciBieSBzZXR0aW5nIHRoaXMgcHJvcGVydHkuIEV4YW1wbGU6IGBbMSwgLjUsIC41LCAxXWAgPSBwaW5rXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3ByZW11bHRpcGx5QWxwaGFdIFdoZXRoZXIgb3Igbm90IHRvIHByZW11bHRpcGx5IGFscGhhLiBEZWZhdWx0cyB0byB3aGF0ZXZlciB0aGUgY3VycmVudCBzZXR0aW5nIGlzLlxuICogICAgIFRoaXMgbGV0cyB5b3Ugc2V0IGl0IG9uY2UgYmVmb3JlIGNhbGxpbmcgYHR3Z2wuY3JlYXRlVGV4dHVyZWAgb3IgYHR3Z2wuY3JlYXRlVGV4dHVyZXNgIGFuZCBvbmx5IG92ZXJyaWRlXG4gKiAgICAgdGhlIGN1cnJlbnQgc2V0dGluZyBmb3Igc3BlY2lmaWMgdGV4dHVyZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ZsaXBZXSBXaGV0aGVyIG9yIG5vdCB0byBmbGlwIHRoZSB0ZXh0dXJlIHZlcnRpY2FsbHkgb24gdXBsb2FkLiBEZWZhdWx0cyB0byB3aGF0ZXZlciB0aGUgY3VycmVudCBzZXR0aW5nIGlzLlxuICogICAgIFRoaXMgbGV0cyB5b3Ugc2V0IGl0IG9uY2UgYmVmb3JlIGNhbGxpbmcgYHR3Z2wuY3JlYXRlVGV4dHVyZWAgb3IgYHR3Z2wuY3JlYXRlVGV4dHVyZXNgIGFuZCBvbmx5IG92ZXJyaWRlXG4gKiAgICAgdGhlIGN1cnJlbnQgc2V0dGluZyBmb3Igc3BlY2lmaWMgdGV4dHVyZXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2NvbG9yc3BhY2VDb252ZXJzaW9uXSBXaGV0aGVyIG9yIG5vdCB0byBsZXQgdGhlIGJyb3dzZXIgZG8gY29sb3JzcGFjZSBjb252ZXJzaW9uIG9mIHRoZSB0ZXh0dXJlIG9uIHVwbG9hZC4gRGVmYXVsdHMgdG8gd2hhdGV2ZXIgdGhlIGN1cnJlbnQgc2V0dGluZyBpcy5cbiAqICAgICBUaGlzIGxldHMgeW91IHNldCBpdCBvbmNlIGJlZm9yZSBjYWxsaW5nIGB0d2dsLmNyZWF0ZVRleHR1cmVgIG9yIGB0d2dsLmNyZWF0ZVRleHR1cmVzYCBhbmQgb25seSBvdmVycmlkZVxuICogICAgIHRoZSBjdXJyZW50IHNldHRpbmcgZm9yIHNwZWNpZmljIHRleHR1cmVzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbYXV0b10gSWYgYHVuZGVmaW5lZGAgb3IgYHRydWVgLCBpbiBXZWJHTDEsIHRleHR1cmUgZmlsdGVyaW5nIGlzIHNldCBhdXRvbWF0aWNhbGx5IGZvciBub24tcG93ZXIgb2YgMiBpbWFnZXMgYW5kXG4gKiAgICBtaXBzIGFyZSBnZW5lcmF0ZWQgZm9yIHBvd2VyIG9mIDIgaW1hZ2VzLiBJbiBXZWJHTDIgbWlwcyBhcmUgZ2VuZXJhdGVkIGlmIHRoZXkgY2FuIGJlLiBOb3RlOiBpZiBgbGV2ZWxgIGlzIHNldCBhYm92ZVxuICogICAgdGhlbiB0aGVuIGBhdXRvYCBpcyBhc3N1bWVkIHRvIGJlIGBmYWxzZWAgdW5sZXNzIGV4cGxpY2l0eSBzZXQgdG8gYHRydWVgLlxuICogQHByb3BlcnR5IHtudW1iZXJbXX0gW2N1YmVGYWNlT3JkZXJdIFRoZSBvcmRlciB0aGF0IGN1YmUgZmFjZXMgYXJlIHB1bGxlZCBvdXQgb2YgYW4gaW1nIG9yIHNldCBvZiBpbWFnZXMuIFRoZSBkZWZhdWx0IGlzXG4gKlxuICogICAgIFtnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1gsXG4gKiAgICAgIGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCxcbiAqICAgICAgZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZLFxuICogICAgICBnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1ksXG4gKiAgICAgIGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWixcbiAqICAgICAgZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXVxuICpcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcltdfEFycmF5QnVmZmVyVmlld3xUZXhJbWFnZVNvdXJjZXxUZXhJbWFnZVNvdXJjZVtdfHN0cmluZ3xzdHJpbmdbXXxtb2R1bGU6dHdnbC5UZXh0dXJlRnVuYyl9IFtzcmNdIHNvdXJjZSBmb3IgdGV4dHVyZVxuICpcbiAqICAgIElmIGBzdHJpbmdgIHRoZW4gaXQncyBhc3N1bWVkIHRvIGJlIGEgVVJMIHRvIGFuIGltYWdlLiBUaGUgaW1hZ2Ugd2lsbCBiZSBkb3dubG9hZGVkIGFzeW5jLiBBIHVzYWJsZVxuICogICAgMXgxIHBpeGVsIHRleHR1cmUgd2lsbCBiZSByZXR1cm5lZCBpbW1lZGlhdGVseS4gVGhlIHRleHR1cmUgd2lsbCBiZSB1cGRhdGVkIG9uY2UgdGhlIGltYWdlIGhhcyBkb3dubG9hZGVkLlxuICogICAgSWYgYHRhcmdldGAgaXMgYGdsLlRFWFRVUkVfQ1VCRV9NQVBgIHdpbGwgYXR0ZW1wdCB0byBkaXZpZGUgaW1hZ2UgaW50byA2IHNxdWFyZSBwaWVjZXMuIDF4NiwgNngxLCAzeDIsIDJ4My5cbiAqICAgIFRoZSBwaWVjZXMgd2lsbCBiZSB1cGxvYWRlZCBpbiBgY3ViZUZhY2VPcmRlcmBcbiAqXG4gKiAgICBJZiBgc3RyaW5nW11gIG9yIGBUZXhJbWFnZVNvdXJjZVtdYCBhbmQgdGFyZ2V0IGlzIGBnbC5URVhUVVJFX0NVQkVfTUFQYCB0aGVuIGl0IG11c3QgaGF2ZSA2IGVudHJpZXMsIG9uZSBmb3IgZWFjaCBmYWNlIG9mIGEgY3ViZSBtYXAuXG4gKlxuICogICAgSWYgYHN0cmluZ1tdYCBvciBgVGV4SW1hZ2VTb3VyY2VbXWAgYW5kIHRhcmdldCBpcyBgZ2wuVEVYVFVSRV8yRF9BUlJBWWAgdGhlbiBlYWNoIGVudHJ5IGlzIGEgc2xpY2Ugb2YgdGhlIGEgMmQgYXJyYXkgdGV4dHVyZVxuICogICAgYW5kIHdpbGwgYmUgc2NhbGVkIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodCBPUiB0byB0aGUgc2l6ZSBvZiB0aGUgZmlyc3QgaW1hZ2UgdGhhdCBsb2Fkcy5cbiAqXG4gKiAgICBJZiBgVGV4SW1hZ2VTb3VyY2VgIHRoZW4gaXQgd2lsIGJlIHVzZWQgaW1tZWRpYXRlbHkgdG8gY3JlYXRlIHRoZSBjb250ZW50cyBvZiB0aGUgdGV4dHVyZS4gRXhhbXBsZXMgYEhUTUxJbWFnZUVsZW1lbnRgLFxuICogICAgYEhUTUxDYW52YXNFbGVtZW50YCwgYEhUTUxWaWRlb0VsZW1lbnRgLlxuICpcbiAqICAgIElmIGBudW1iZXJbXWAgb3IgYEFycmF5QnVmZmVyVmlld2AgaXQncyBhc3N1bWVkIHRvIGJlIGRhdGEgZm9yIGEgdGV4dHVyZS4gSWYgYHdpZHRoYCBvciBgaGVpZ2h0YCBpc1xuICogICAgbm90IHNwZWNpZmllZCBpdCBpcyBndWVzc2VkIGFzIGZvbGxvd3MuIEZpcnN0IHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaXMgY29tcHV0ZWQgYnkgYHNyYy5sZW5ndGggLyBudW1Db21wb25lbnRzYFxuICogICAgd2hlcmUgYG51bUNvbXBvbmVudHNgIGlzIGRlcml2ZWQgZnJvbSBgZm9ybWF0YC4gSWYgYHRhcmdldGAgaXMgYGdsLlRFWFRVUkVfQ1VCRV9NQVBgIHRoZW4gYG51bUVsZW1lbnRzYCBpcyBkaXZpZGVkXG4gKiAgICBieSA2LiBUaGVuXG4gKlxuICogICAgKiAgIElmIG5laXRoZXIgYHdpZHRoYCBub3IgYGhlaWdodGAgYXJlIHNwZWNpZmllZCBhbmQgYHNxcnQobnVtRWxlbWVudHMpYCBpcyBhbiBpbnRlZ2VyIHRoZW4gd2lkdGggYW5kIGhlaWdodFxuICogICAgICAgIGFyZSBzZXQgdG8gYHNxcnQobnVtRWxlbWVudHMpYC4gT3RoZXJ3aXNlIGB3aWR0aCA9IG51bUVsZW1lbnRzYCBhbmQgYGhlaWdodCA9IDFgLlxuICpcbiAqICAgICogICBJZiBvbmx5IG9uZSBvZiBgd2lkdGhgIG9yIGBoZWlnaHRgIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBvdGhlciBlcXVhbHMgYG51bUVsZW1lbnRzIC8gc3BlY2lmaWVkRGltZW5zaW9uYC5cbiAqXG4gKiBJZiBgbnVtYmVyW11gIHdpbGwgYmUgY29udmVydGVkIHRvIGB0eXBlYC5cbiAqXG4gKiBJZiBgc3JjYCBpcyBhIGZ1bmN0aW9uIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggYSBgV2ViR0xSZW5kZXJpbmdDb250ZXh0YCBhbmQgdGhlc2Ugb3B0aW9ucy5cbiAqIFdoYXRldmVyIGl0IHJldHVybnMgaXMgc3ViamVjdCB0byB0aGVzZSBydWxlcy4gU28gaXQgY2FuIHJldHVybiBhIHN0cmluZyB1cmwsIGFuIGBIVE1MRWxlbWVudGBcbiAqIGFuIGFycmF5IGV0Yy4uLlxuICpcbiAqIElmIGBzcmNgIGlzIHVuZGVmaW5lZCB0aGVuIGFuIGVtcHR5IHRleHR1cmUgd2lsbCBiZSBjcmVhdGVkIG9mIHNpemUgYHdpZHRoYCBieSBgaGVpZ2h0YC5cbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2Nyb3NzT3JpZ2luXSBXaGF0IHRvIHNldCB0aGUgY3Jvc3NPcmlnaW4gcHJvcGVydHkgb2YgaW1hZ2VzIHdoZW4gdGhleSBhcmUgZG93bmxvYWRlZC5cbiAqICAgIGRlZmF1bHQ6IHVuZGVmaW5lZC4gQWxzbyBzZWUge0BsaW5rIG1vZHVsZTp0d2dsLnNldERlZmF1bHRzfS5cbiAqXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqL1xuXG4vKipcbiAqIFNldHMgYW55IHBhY2tpbmcgc3RhdGUgdGhhdCB3aWxsIGJlIHNldCBiYXNlZCBvbiB0aGUgb3B0aW9ucy5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVGV4dHVyZU9wdGlvbnN9IG9wdGlvbnMgQSBUZXh0dXJlT3B0aW9ucyBvYmplY3Qgd2l0aCB3aGF0ZXZlciBwYXJhbWV0ZXJzIHlvdSB3YW50IHNldC5cbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXRQYWNrU3RhdGUoZ2wsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuY29sb3JzcGFjZUNvbnZlcnNpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGdsLnBpeGVsU3RvcmVpKFVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsIG9wdGlvbnMuY29sb3JzcGFjZUNvbnZlcnNpb24pO1xuICB9XG4gIGlmIChvcHRpb25zLnByZW11bHRpcGx5QWxwaGEgIT09IHVuZGVmaW5lZCkge1xuICAgIGdsLnBpeGVsU3RvcmVpKFVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhKTtcbiAgfVxuICBpZiAob3B0aW9ucy5mbGlwWSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZ2wucGl4ZWxTdG9yZWkoVU5QQUNLX0ZMSVBfWV9XRUJHTCwgb3B0aW9ucy5mbGlwWSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgc2tpcCBzdGF0ZSB0byBkZWZhdWx0c1xuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNldFNraXBTdGF0ZVRvRGVmYXVsdChnbCkge1xuICBnbC5waXhlbFN0b3JlaShVTlBBQ0tfQUxJR05NRU5ULCA0KTtcbiAgaWYgKGlzV2ViR0wyKGdsKSkge1xuICAgIGdsLnBpeGVsU3RvcmVpKFVOUEFDS19ST1dfTEVOR1RILCAwKTtcbiAgICBnbC5waXhlbFN0b3JlaShVTlBBQ0tfSU1BR0VfSEVJR0hULCAwKTtcbiAgICBnbC5waXhlbFN0b3JlaShVTlBBQ0tfU0tJUF9QSVhFTFMsIDApO1xuICAgIGdsLnBpeGVsU3RvcmVpKFVOUEFDS19TS0lQX1JPV1MsIDApO1xuICAgIGdsLnBpeGVsU3RvcmVpKFVOUEFDS19TS0lQX0lNQUdFUywgMCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBwYXJhbWV0ZXJzIG9mIGEgdGV4dHVyZSBvciBzYW1wbGVyXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ8V2ViR0xTYW1wbGVyfSB0YXJnZXQgdGV4dHVyZSB0YXJnZXQgb3Igc2FtcGxlclxuICogQHBhcmFtIHtmdW5jdGlvbigpfSBwYXJhbWV0ZXJpRm4gdGV4UGFyYW1ldGVyaSBvciBzYW1wbGVyUGFyYW1ldGVyaSBmblxuICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IHRleCB0aGUgV2ViR0xUZXh0dXJlIHRvIHNldCBwYXJhbWV0ZXJzIGZvclxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5UZXh0dXJlT3B0aW9uc30gb3B0aW9ucyBBIFRleHR1cmVPcHRpb25zIG9iamVjdCB3aXRoIHdoYXRldmVyIHBhcmFtZXRlcnMgeW91IHdhbnQgc2V0LlxuICogICBUaGlzIGlzIG9mdGVuIHRoZSBzYW1lIG9wdGlvbnMgeW91IHBhc3NlZCBpbiB3aGVuIHlvdSBjcmVhdGVkIHRoZSB0ZXh0dXJlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2V0VGV4dHVyZVNhbXBsZXJQYXJhbWV0ZXJzKGdsLCB0YXJnZXQsIHBhcmFtZXRlcmlGbiwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5taW5NYWcpIHtcbiAgICBwYXJhbWV0ZXJpRm4uY2FsbChnbCwgdGFyZ2V0LCBURVhUVVJFX01JTl9GSUxURVIsIG9wdGlvbnMubWluTWFnKTtcbiAgICBwYXJhbWV0ZXJpRm4uY2FsbChnbCwgdGFyZ2V0LCBURVhUVVJFX01BR19GSUxURVIsIG9wdGlvbnMubWluTWFnKTtcbiAgfVxuICBpZiAob3B0aW9ucy5taW4pIHtcbiAgICBwYXJhbWV0ZXJpRm4uY2FsbChnbCwgdGFyZ2V0LCBURVhUVVJFX01JTl9GSUxURVIsIG9wdGlvbnMubWluKTtcbiAgfVxuICBpZiAob3B0aW9ucy5tYWcpIHtcbiAgICBwYXJhbWV0ZXJpRm4uY2FsbChnbCwgdGFyZ2V0LCBURVhUVVJFX01BR19GSUxURVIsIG9wdGlvbnMubWFnKTtcbiAgfVxuICBpZiAob3B0aW9ucy53cmFwKSB7XG4gICAgcGFyYW1ldGVyaUZuLmNhbGwoZ2wsIHRhcmdldCwgVEVYVFVSRV9XUkFQX1MsIG9wdGlvbnMud3JhcCk7XG4gICAgcGFyYW1ldGVyaUZuLmNhbGwoZ2wsIHRhcmdldCwgVEVYVFVSRV9XUkFQX1QsIG9wdGlvbnMud3JhcCk7XG4gICAgaWYgKHRhcmdldCA9PT0gVEVYVFVSRV8zRCB8fCBpc1NhbXBsZXIoZ2wsIHRhcmdldCkpIHtcbiAgICAgIHBhcmFtZXRlcmlGbi5jYWxsKGdsLCB0YXJnZXQsIFRFWFRVUkVfV1JBUF9SLCBvcHRpb25zLndyYXApO1xuICAgIH1cbiAgfVxuICBpZiAob3B0aW9ucy53cmFwUikge1xuICAgIHBhcmFtZXRlcmlGbi5jYWxsKGdsLCB0YXJnZXQsIFRFWFRVUkVfV1JBUF9SLCBvcHRpb25zLndyYXBSKTtcbiAgfVxuICBpZiAob3B0aW9ucy53cmFwUykge1xuICAgIHBhcmFtZXRlcmlGbi5jYWxsKGdsLCB0YXJnZXQsIFRFWFRVUkVfV1JBUF9TLCBvcHRpb25zLndyYXBTKTtcbiAgfVxuICBpZiAob3B0aW9ucy53cmFwVCkge1xuICAgIHBhcmFtZXRlcmlGbi5jYWxsKGdsLCB0YXJnZXQsIFRFWFRVUkVfV1JBUF9ULCBvcHRpb25zLndyYXBUKTtcbiAgfVxuICBpZiAob3B0aW9ucy5taW5Mb2QpIHtcbiAgICBwYXJhbWV0ZXJpRm4uY2FsbChnbCwgdGFyZ2V0LCBURVhUVVJFX01JTl9MT0QsIG9wdGlvbnMubWluTG9kKTtcbiAgfVxuICBpZiAob3B0aW9ucy5tYXhMb2QpIHtcbiAgICBwYXJhbWV0ZXJpRm4uY2FsbChnbCwgdGFyZ2V0LCBURVhUVVJFX01BWF9MT0QsIG9wdGlvbnMubWF4TG9kKTtcbiAgfVxuICBpZiAob3B0aW9ucy5iYXNlTGV2ZWwpIHtcbiAgICBwYXJhbWV0ZXJpRm4uY2FsbChnbCwgdGFyZ2V0LCBURVhUVVJFX0JBU0VfTEVWRUwsIG9wdGlvbnMuYmFzZUxldmVsKTtcbiAgfVxuICBpZiAob3B0aW9ucy5tYXhMZXZlbCkge1xuICAgIHBhcmFtZXRlcmlGbi5jYWxsKGdsLCB0YXJnZXQsIFRFWFRVUkVfTUFYX0xFVkVMLCBvcHRpb25zLm1heExldmVsKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIHRleHR1cmUgcGFyYW1ldGVycyBvZiBhIHRleHR1cmUuXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IHRleCB0aGUgV2ViR0xUZXh0dXJlIHRvIHNldCBwYXJhbWV0ZXJzIGZvclxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5UZXh0dXJlT3B0aW9uc30gb3B0aW9ucyBBIFRleHR1cmVPcHRpb25zIG9iamVjdCB3aXRoIHdoYXRldmVyIHBhcmFtZXRlcnMgeW91IHdhbnQgc2V0LlxuICogICBUaGlzIGlzIG9mdGVuIHRoZSBzYW1lIG9wdGlvbnMgeW91IHBhc3NlZCBpbiB3aGVuIHlvdSBjcmVhdGVkIHRoZSB0ZXh0dXJlLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3RleHR1cmVzXG4gKi9cbmZ1bmN0aW9uIHNldFRleHR1cmVQYXJhbWV0ZXJzKGdsLCB0ZXgsIG9wdGlvbnMpIHtcbiAgY29uc3QgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQgfHwgVEVYVFVSRV8yRDtcbiAgZ2wuYmluZFRleHR1cmUodGFyZ2V0LCB0ZXgpO1xuICBzZXRUZXh0dXJlU2FtcGxlclBhcmFtZXRlcnMoZ2wsIHRhcmdldCwgZ2wudGV4UGFyYW1ldGVyaSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc2FtcGxlciBwYXJhbWV0ZXJzIG9mIGEgc2FtcGxlci5cbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0ge1dlYkdMU2FtcGxlcn0gc2FtcGxlciB0aGUgV2ViR0xTYW1wbGVyIHRvIHNldCBwYXJhbWV0ZXJzIGZvclxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5UZXh0dXJlT3B0aW9uc30gb3B0aW9ucyBBIFRleHR1cmVPcHRpb25zIG9iamVjdCB3aXRoIHdoYXRldmVyIHBhcmFtZXRlcnMgeW91IHdhbnQgc2V0LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3RleHR1cmVzXG4gKi9cbmZ1bmN0aW9uIHNldFNhbXBsZXJQYXJhbWV0ZXJzKGdsLCBzYW1wbGVyLCBvcHRpb25zKSB7XG4gIHNldFRleHR1cmVTYW1wbGVyUGFyYW1ldGVycyhnbCwgc2FtcGxlciwgZ2wuc2FtcGxlclBhcmFtZXRlcmksIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc2FtcGxlciBvYmplY3QgYW5kIHNldHMgcGFyYW1ldGVycy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICAgY29uc3Qgc2FtcGxlciA9IHR3Z2wuY3JlYXRlU2FtcGxlcihnbCwge1xuICogICAgICAgIG1pbk1hZzogZ2wuTkVBUkVTVCwgICAgICAgICAvLyBzZXRzIGJvdGggVEVYVFVSRV9NSU5fRklMVEVSIGFuZCBURVhUVVJFX01BR19GSUxURVJcbiAqICAgICAgICB3cmFwOiBnbC5DTEFNUF9UT19ORUFSRVNULCAgLy8gc2V0cyBib3RoIFRFWFRVUkVfV1JBUF9TIGFuZCBURVhUVVJFX1dSQVBfVCBhbmQgVEVYVFVSRV9XUkFQX1JcbiAqICAgICAgfSk7XG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsbW9kdWxlOnR3Z2wuVGV4dHVyZU9wdGlvbnM+fSBvcHRpb25zIEEgb2JqZWN0IG9mIFRleHR1cmVPcHRpb25zIG9uZSBwZXIgc2FtcGxlci5cbiAqIEByZXR1cm4ge09iamVjdC48c3RyaW5nLFdlYkdMU2FtcGxlcj59IHRoZSBjcmVhdGVkIHNhbXBsZXJzIGJ5IG5hbWVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNhbXBsZXIoZ2wsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc2FtcGxlciA9IGdsLmNyZWF0ZVNhbXBsZXIoKTtcbiAgc2V0U2FtcGxlclBhcmFtZXRlcnMoZ2wsIHNhbXBsZXIsIG9wdGlvbnMpO1xuICByZXR1cm4gc2FtcGxlcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbXVsdGlwbGUgc2FtcGxlciBvYmplY3RzIGFuZCBzZXRzIHBhcmFtZXRlcnMgb24gZWFjaC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICAgY29uc3Qgc2FtcGxlcnMgPSB0d2dsLmNyZWF0ZVNhbXBsZXJzKGdsLCB7XG4gKiAgICAgICAgbmVhcmVzdDoge1xuICogICAgICAgICAgbWluTWFnOiBnbC5ORUFSRVNULFxuICogICAgICAgIH0sXG4gKiAgICAgICAgbmVhcmVzdENsYW1wUzoge1xuICogICAgICAgICAgbWluTWFnOiBnbC5ORUFSRVNULFxuICogICAgICAgICAgd3JhcFM6IGdsLkNMQU1QX1RPX05FQVJFU1QsXG4gKiAgICAgICAgfSxcbiAqICAgICAgICBsaW5lYXI6IHtcbiAqICAgICAgICAgIG1pbk1hZzogZ2wuTElORUFSLFxuICogICAgICAgIH0sXG4gKiAgICAgICAgbmVhcmVzdENsYW1wOiB7XG4gKiAgICAgICAgICBtaW5NYWc6IGdsLk5FQVJFU1QsXG4gKiAgICAgICAgICB3cmFwOiBnbC5DTEFNUF9UT19FREdFLFxuICogICAgICAgIH0sXG4gKiAgICAgICAgbGluZWFyQ2xhbXA6IHtcbiAqICAgICAgICAgIG1pbk1hZzogZ2wuTElORUFSLFxuICogICAgICAgICAgd3JhcDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAqICAgICAgICB9LFxuICogICAgICAgIGxpbmVhckNsYW1wVDoge1xuICogICAgICAgICAgbWluTWFnOiBnbC5MSU5FQVIsXG4gKiAgICAgICAgICB3cmFwVDogZ2wuQ0xBTVBfVE9fRURHRSxcbiAqICAgICAgICB9LFxuICogICAgICB9KTtcbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5UZXh0dXJlT3B0aW9uc30gW29wdGlvbnNdIEEgVGV4dHVyZU9wdGlvbnMgb2JqZWN0IHdpdGggd2hhdGV2ZXIgcGFyYW1ldGVycyB5b3Ugd2FudCBzZXQgb24gdGhlIHNhbXBsZXJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNhbXBsZXJzKGdsLCBzYW1wbGVyT3B0aW9ucykge1xuICBjb25zdCBzYW1wbGVycyA9IHt9O1xuICBPYmplY3Qua2V5cyhzYW1wbGVyT3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgc2FtcGxlcnNbbmFtZV0gPSBjcmVhdGVTYW1wbGVyKGdsLCBzYW1wbGVyT3B0aW9uc1tuYW1lXSk7XG4gIH0pO1xuICByZXR1cm4gc2FtcGxlcnM7XG59XG5cbi8qKlxuICogTWFrZXMgYSAxeDEgcGl4ZWxcbiAqIElmIG5vIGNvbG9yIGlzIHBhc3NlZCBpbiB1c2VzIHRoZSBkZWZhdWx0IGNvbG9yIHdoaWNoIGNhbiBiZSBzZXQgYnkgY2FsbGluZyBgc2V0RGVmYXVsdFRleHR1cmVDb2xvcmAuXG4gKiBAcGFyYW0geyhudW1iZXJbXXxBcnJheUJ1ZmZlclZpZXcpfSBbY29sb3JdIFRoZSBjb2xvciB1c2luZyAwLTEgdmFsdWVzXG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fSBVbml0OEFycmF5IHdpdGggY29sb3IuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBtYWtlMVBpeGVsKGNvbG9yKSB7XG4gIGNvbG9yID0gY29sb3IgfHwgZGVmYXVsdHMkMS50ZXh0dXJlQ29sb3I7XG4gIGlmIChpc0FycmF5QnVmZmVyJDEoY29sb3IpKSB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG4gIHJldHVybiBuZXcgVWludDhBcnJheShbY29sb3JbMF0gKiAyNTUsIGNvbG9yWzFdICogMjU1LCBjb2xvclsyXSAqIDI1NSwgY29sb3JbM10gKiAyNTVdKTtcbn1cblxuLyoqXG4gKiBTZXRzIGZpbHRlcmluZyBvciBnZW5lcmF0ZXMgbWlwcyBmb3IgdGV4dHVyZSBiYXNlZCBvbiB3aWR0aCBvciBoZWlnaHRcbiAqIElmIHdpZHRoIG9yIGhlaWdodCBpcyBub3QgcGFzc2VkIGluIHVzZXMgYG9wdGlvbnMud2lkdGhgIGFuZC8vb3IgYG9wdGlvbnMuaGVpZ2h0YFxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gdGV4IHRoZSBXZWJHTFRleHR1cmUgdG8gc2V0IHBhcmFtZXRlcnMgZm9yXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlRleHR1cmVPcHRpb25zfSBbb3B0aW9uc10gQSBUZXh0dXJlT3B0aW9ucyBvYmplY3Qgd2l0aCB3aGF0ZXZlciBwYXJhbWV0ZXJzIHlvdSB3YW50IHNldC5cbiAqICAgVGhpcyBpcyBvZnRlbiB0aGUgc2FtZSBvcHRpb25zIHlvdSBwYXNzZWQgaW4gd2hlbiB5b3UgY3JlYXRlZCB0aGUgdGV4dHVyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGhdIHdpZHRoIG9mIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSBoZWlnaHQgb2YgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtpbnRlcm5hbEZvcm1hdF0gVGhlIGludGVybmFsRm9ybWF0IHBhcmFtZXRlciBmcm9tIHRleEltYWdlMkQgZXRjLi5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC90ZXh0dXJlc1xuICovXG5mdW5jdGlvbiBzZXRUZXh0dXJlRmlsdGVyaW5nRm9yU2l6ZShnbCwgdGV4LCBvcHRpb25zLCB3aWR0aCwgaGVpZ2h0LCBpbnRlcm5hbEZvcm1hdCkge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cyQxLnRleHR1cmVPcHRpb25zO1xuICBpbnRlcm5hbEZvcm1hdCA9IGludGVybmFsRm9ybWF0IHx8IFJHQkE7XG4gIGNvbnN0IHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0IHx8IFRFWFRVUkVfMkQ7XG4gIHdpZHRoID0gd2lkdGggfHwgb3B0aW9ucy53aWR0aDtcbiAgaGVpZ2h0ID0gaGVpZ2h0IHx8IG9wdGlvbnMuaGVpZ2h0O1xuICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIHRleCk7XG4gIGlmIChjYW5HZW5lcmF0ZU1pcG1hcChnbCwgd2lkdGgsIGhlaWdodCwgaW50ZXJuYWxGb3JtYXQpKSB7XG4gICAgZ2wuZ2VuZXJhdGVNaXBtYXAodGFyZ2V0KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBmaWx0ZXJpbmcgPSBjYW5GaWx0ZXIoaW50ZXJuYWxGb3JtYXQpID8gTElORUFSIDogTkVBUkVTVDtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKHRhcmdldCwgVEVYVFVSRV9NSU5fRklMVEVSLCBmaWx0ZXJpbmcpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkodGFyZ2V0LCBURVhUVVJFX01BR19GSUxURVIsIGZpbHRlcmluZyk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaSh0YXJnZXQsIFRFWFRVUkVfV1JBUF9TLCBDTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKHRhcmdldCwgVEVYVFVSRV9XUkFQX1QsIENMQU1QX1RPX0VER0UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZEF1dG9tYXRpY2FsbHlTZXRUZXh0dXJlRmlsdGVyaW5nRm9yU2l6ZShvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLmF1dG8gPT09IHRydWUgfHwgKG9wdGlvbnMuYXV0byA9PT0gdW5kZWZpbmVkICYmIG9wdGlvbnMubGV2ZWwgPT09IHVuZGVmaW5lZCk7XG59XG5cbi8qKlxuICogR2V0cyBhbiBhcnJheSBvZiBjdWJlbWFwIGZhY2UgZW51bXNcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlRleHR1cmVPcHRpb25zfSBvcHRpb25zIEEgVGV4dHVyZU9wdGlvbnMgb2JqZWN0IHdpdGggd2hhdGV2ZXIgcGFyYW1ldGVycyB5b3Ugd2FudCBzZXQuXG4gKiAgIFRoaXMgaXMgb2Z0ZW4gdGhlIHNhbWUgb3B0aW9ucyB5b3UgcGFzc2VkIGluIHdoZW4geW91IGNyZWF0ZWQgdGhlIHRleHR1cmUuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gY3ViZW1hcCBmYWNlIGVudW1zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBnZXRDdWJlRmFjZU9yZGVyKGdsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICByZXR1cm4gb3B0aW9ucy5jdWJlRmFjZU9yZGVyIHx8IFtcbiAgICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCxcbiAgICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCxcbiAgICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWSxcbiAgICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWSxcbiAgICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWixcbiAgICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWixcbiAgICBdO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZhY2VJbmZvXG4gKiBAcHJvcGVydHkge251bWJlcn0gZmFjZSBnbCBlbnVtIGZvciB0ZXhJbWFnZTJEXG4gKiBAcHJvcGVydHkge251bWJlcn0gbmR4IGZhY2UgaW5kZXggKDAgLSA1KSBpbnRvIHNvdXJjZSBkYXRhXG4gKiBAaWdub3JlXG4gKi9cblxuLyoqXG4gKiBHZXRzIGFuIGFycmF5IG9mIEZhY2VJbmZvc1xuICogVGhlcmUncyBhIGJ1ZyBpbiBzb21lIE5WaWRpYSBkcml2ZXJzIHRoYXQgd2lsbCBjcmFzaCB0aGUgZHJpdmVyIGlmXG4gKiBgZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YYCBpcyBub3QgdXBsb2FkZWQgZmlyc3QuIFNvLCB3ZSB0YWtlXG4gKiB0aGUgdXNlcidzIGRlc2lyZWQgb3JkZXIgZnJvbSBoaXMgZmFjZXMgdG8gV2ViR0wgYW5kIG1ha2Ugc3VyZSB3ZVxuICogZG8gdGhlIGZhY2VzIGluIFdlYkdMIG9yZGVyXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVGV4dHVyZU9wdGlvbnN9IG9wdGlvbnMgQSBUZXh0dXJlT3B0aW9ucyBvYmplY3Qgd2l0aCB3aGF0ZXZlciBwYXJhbWV0ZXJzIHlvdSB3YW50IHNldC5cbiAqIEByZXR1cm4ge0ZhY2VJbmZvW119IGN1YmVtYXAgZmFjZSBpbmZvcy4gQXJndWFibHkgdGhlIGBmYWNlYCBwcm9wZXJ0eSBvZiBlYWNoIGVsZW1lbnQgaXMgcmVkdW5kYW50IGJ1dFxuICogICAgaXQncyBuZWVkZWQgaW50ZXJuYWxseSB0byBzb3J0IHRoZSBhcnJheSBvZiBgbmR4YCBwcm9wZXJ0aWVzIGJ5IGBmYWNlYC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldEN1YmVGYWNlc1dpdGhOZHgoZ2wsIG9wdGlvbnMpIHtcbiAgY29uc3QgZmFjZXMgPSBnZXRDdWJlRmFjZU9yZGVyKGdsLCBvcHRpb25zKTtcbiAgLy8gd29yayBhcm91bmQgYnVnIGluIE5WaWRpYSBkcml2ZXJzLiBXZSBoYXZlIHRvIHVwbG9hZCB0aGUgZmlyc3QgZmFjZSBmaXJzdCBlbHNlIHRoZSBkcml2ZXIgY3Jhc2hlcyA6KFxuICBjb25zdCBmYWNlc1dpdGhOZHggPSBmYWNlcy5tYXAoZnVuY3Rpb24oZmFjZSwgbmR4KSB7XG4gICAgcmV0dXJuIHsgZmFjZTogZmFjZSwgbmR4OiBuZHggfTtcbiAgfSk7XG4gIGZhY2VzV2l0aE5keC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYS5mYWNlIC0gYi5mYWNlO1xuICB9KTtcbiAgcmV0dXJuIGZhY2VzV2l0aE5keDtcbn1cblxuLyoqXG4gKiBTZXQgYSB0ZXh0dXJlIGZyb20gdGhlIGNvbnRlbnRzIG9mIGFuIGVsZW1lbnQuIFdpbGwgYWxzbyBzZXRcbiAqIHRleHR1cmUgZmlsdGVyaW5nIG9yIGdlbmVyYXRlIG1pcHMgYmFzZWQgb24gdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGVsZW1lbnRcbiAqIHVubGVzcyBgb3B0aW9ucy5hdXRvID09PSBmYWxzZWAuIElmIGB0YXJnZXQgPT09IGdsLlRFWFRVUkVfQ1VCRV9NQVBgIHdpbGxcbiAqIGF0dGVtcHQgdG8gc2xpY2UgaW1hZ2UgaW50byAxeDYsIDJ4MywgM3gyLCBvciA2eDEgaW1hZ2VzLCBvbmUgZm9yIGVhY2ggZmFjZS5cbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gdGV4IHRoZSBXZWJHTFRleHR1cmUgdG8gc2V0IHBhcmFtZXRlcnMgZm9yXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IGEgY2FudmFzLCBpbWcsIG9yIHZpZGVvIGVsZW1lbnQuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlRleHR1cmVPcHRpb25zfSBbb3B0aW9uc10gQSBUZXh0dXJlT3B0aW9ucyBvYmplY3Qgd2l0aCB3aGF0ZXZlciBwYXJhbWV0ZXJzIHlvdSB3YW50IHNldC5cbiAqICAgVGhpcyBpcyBvZnRlbiB0aGUgc2FtZSBvcHRpb25zIHlvdSBwYXNzZWQgaW4gd2hlbiB5b3UgY3JlYXRlZCB0aGUgdGV4dHVyZS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC90ZXh0dXJlc1xuICogQGtpbmQgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gc2V0VGV4dHVyZUZyb21FbGVtZW50KGdsLCB0ZXgsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdHMkMS50ZXh0dXJlT3B0aW9ucztcbiAgY29uc3QgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQgfHwgVEVYVFVSRV8yRDtcbiAgY29uc3QgbGV2ZWwgPSBvcHRpb25zLmxldmVsIHx8IDA7XG4gIGxldCB3aWR0aCA9IGVsZW1lbnQud2lkdGg7XG4gIGxldCBoZWlnaHQgPSBlbGVtZW50LmhlaWdodDtcbiAgY29uc3QgaW50ZXJuYWxGb3JtYXQgPSBvcHRpb25zLmludGVybmFsRm9ybWF0IHx8IG9wdGlvbnMuZm9ybWF0IHx8IFJHQkE7XG4gIGNvbnN0IGZvcm1hdFR5cGUgPSBnZXRGb3JtYXRBbmRUeXBlRm9ySW50ZXJuYWxGb3JtYXQoaW50ZXJuYWxGb3JtYXQpO1xuICBjb25zdCBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdCB8fCBmb3JtYXRUeXBlLmZvcm1hdDtcbiAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZSB8fCBmb3JtYXRUeXBlLnR5cGU7XG4gIHNldFBhY2tTdGF0ZShnbCwgb3B0aW9ucyk7XG4gIGdsLmJpbmRUZXh0dXJlKHRhcmdldCwgdGV4KTtcbiAgaWYgKHRhcmdldCA9PT0gVEVYVFVSRV9DVUJFX01BUCkge1xuICAgIC8vIGd1ZXNzIHRoZSBwYXJ0c1xuICAgIGNvbnN0IGltZ1dpZHRoICA9IGVsZW1lbnQud2lkdGg7XG4gICAgY29uc3QgaW1nSGVpZ2h0ID0gZWxlbWVudC5oZWlnaHQ7XG4gICAgbGV0IHNpemU7XG4gICAgbGV0IHNsaWNlcztcbiAgICBpZiAoaW1nV2lkdGggLyA2ID09PSBpbWdIZWlnaHQpIHtcbiAgICAgIC8vIEl0J3MgNngxXG4gICAgICBzaXplID0gaW1nSGVpZ2h0O1xuICAgICAgc2xpY2VzID0gWzAsIDAsIDEsIDAsIDIsIDAsIDMsIDAsIDQsIDAsIDUsIDBdO1xuICAgIH0gZWxzZSBpZiAoaW1nSGVpZ2h0IC8gNiA9PT0gaW1nV2lkdGgpIHtcbiAgICAgIC8vIEl0J3MgMXg2XG4gICAgICBzaXplID0gaW1nV2lkdGg7XG4gICAgICBzbGljZXMgPSBbMCwgMCwgMCwgMSwgMCwgMiwgMCwgMywgMCwgNCwgMCwgNV07XG4gICAgfSBlbHNlIGlmIChpbWdXaWR0aCAvIDMgPT09IGltZ0hlaWdodCAvIDIpIHtcbiAgICAgIC8vIEl0J3MgM3gyXG4gICAgICBzaXplID0gaW1nV2lkdGggLyAzO1xuICAgICAgc2xpY2VzID0gWzAsIDAsIDEsIDAsIDIsIDAsIDAsIDEsIDEsIDEsIDIsIDFdO1xuICAgIH0gZWxzZSBpZiAoaW1nV2lkdGggLyAyID09PSBpbWdIZWlnaHQgLyAzKSB7XG4gICAgICAvLyBJdCdzIDJ4M1xuICAgICAgc2l6ZSA9IGltZ1dpZHRoIC8gMjtcbiAgICAgIHNsaWNlcyA9IFswLCAwLCAxLCAwLCAwLCAxLCAxLCAxLCAwLCAyLCAxLCAyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJjYW4ndCBmaWd1cmUgb3V0IGN1YmUgbWFwIGZyb20gZWxlbWVudDogXCIgKyAoZWxlbWVudC5zcmMgPyBlbGVtZW50LnNyYyA6IGVsZW1lbnQubm9kZU5hbWUpO1xuICAgIH1cbiAgICBjb25zdCBjdHggPSBnZXRTaGFyZWQyRENvbnRleHQoKTtcbiAgICBpZiAoY3R4KSB7XG4gICAgICBjdHguY2FudmFzLndpZHRoID0gc2l6ZTtcbiAgICAgIGN0eC5jYW52YXMuaGVpZ2h0ID0gc2l6ZTtcbiAgICAgIHdpZHRoID0gc2l6ZTtcbiAgICAgIGhlaWdodCA9IHNpemU7XG4gICAgICBnZXRDdWJlRmFjZXNXaXRoTmR4KGdsLCBvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgY29uc3QgeE9mZnNldCA9IHNsaWNlc1tmLm5keCAqIDIgKyAwXSAqIHNpemU7XG4gICAgICAgIGNvbnN0IHlPZmZzZXQgPSBzbGljZXNbZi5uZHggKiAyICsgMV0gKiBzaXplO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGVsZW1lbnQsIHhPZmZzZXQsIHlPZmZzZXQsIHNpemUsIHNpemUsIDAsIDAsIHNpemUsIHNpemUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGYuZmFjZSwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCBmb3JtYXQsIHR5cGUsIGN0eC5jYW52YXMpO1xuICAgICAgfSk7XG4gICAgICAvLyBGcmVlIHVwIHRoZSBjYW52YXMgbWVtb3J5XG4gICAgICBjdHguY2FudmFzLndpZHRoID0gMTtcbiAgICAgIGN0eC5jYW52YXMuaGVpZ2h0ID0gMTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjcmVhdGVJbWFnZUJpdG1hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIE5PVEU6IEl0IHNlZW1zIGxpa2Ugd2Ugc2hvdWxkIHByZWZlciBJbWFnZUJpdG1hcCBiZWNhdXNlIHVubGlrZSBjYW52YXMgaXQnc1xuICAgICAgLy8gbm90ZSBsb3NzeT8gKGFscGhhIGlzIG5vdCBwcmVtdWx0aXBsaWVkPyBhbHRob3VnaCBJJ20gbm90IHN1cmUgd2hhdFxuICAgICAgd2lkdGggPSBzaXplO1xuICAgICAgaGVpZ2h0ID0gc2l6ZTtcbiAgICAgIGdldEN1YmVGYWNlc1dpdGhOZHgoZ2wsIG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gc2xpY2VzW2YubmR4ICogMiArIDBdICogc2l6ZTtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IHNsaWNlc1tmLm5keCAqIDIgKyAxXSAqIHNpemU7XG4gICAgICAgIC8vIFdlIGNhbid0IGVhc2lseSB1c2UgYSBkZWZhdWx0IHRleHR1cmUgY29sb3IgaGVyZSBhcyBpdCB3b3VsZCBoYXZlIHRvIG1hdGNoXG4gICAgICAgIC8vIHRoZSB0eXBlIGFjcm9zcyBhbGwgZmFjZXMgd2hlcmUgYXMgd2l0aCBhIDJEIG9uZSB0aGVyZSdzIG9ubHkgb25lIGZhY2VcbiAgICAgICAgLy8gc28gd2UncmUgcmVwbGFjaW5nIGV2ZXJ5dGhpbmcgYWxsIGF0IG9uY2UuIEl0IGFsc28gaGFzIHRvIGJlIHRoZSBjb3JyZWN0IHNpemUuXG4gICAgICAgIC8vIE9uIHRoZSBvdGhlciBoYW5kIHdlIG5lZWQgYWxsIGZhY2VzIHRvIGJlIHRoZSBzYW1lIHNpemUgc28gYXMgb25lIGZhY2UgbG9hZHNcbiAgICAgICAgLy8gdGhlIHJlc3QgbWF0Y2ggZWxzZSB0aGUgdGV4dHVyZSB3aWxsIGJlIHVuLXJlbmRlcmFibGUuXG4gICAgICAgIGdsLnRleEltYWdlMkQoZi5mYWNlLCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIHNpemUsIHNpemUsIDAsIGZvcm1hdCwgdHlwZSwgbnVsbCk7XG4gICAgICAgIGNyZWF0ZUltYWdlQml0bWFwKGVsZW1lbnQsIHhPZmZzZXQsIHlPZmZzZXQsIHNpemUsIHNpemUsIHtcbiAgICAgICAgICBwcmVtdWx0aXBseUFscGhhOiAnbm9uZScsXG4gICAgICAgICAgY29sb3JTcGFjZUNvbnZlcnNpb246ICdub25lJyxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oaW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICBzZXRQYWNrU3RhdGUoZ2wsIG9wdGlvbnMpO1xuICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRhcmdldCwgdGV4KTtcbiAgICAgICAgICBnbC50ZXhJbWFnZTJEKGYuZmFjZSwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCBmb3JtYXQsIHR5cGUsIGltYWdlQml0bWFwKTtcbiAgICAgICAgICBpZiAoc2hvdWxkQXV0b21hdGljYWxseVNldFRleHR1cmVGaWx0ZXJpbmdGb3JTaXplKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBzZXRUZXh0dXJlRmlsdGVyaW5nRm9yU2l6ZShnbCwgdGV4LCBvcHRpb25zLCB3aWR0aCwgaGVpZ2h0LCBpbnRlcm5hbEZvcm1hdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0YXJnZXQgPT09IFRFWFRVUkVfM0QgfHwgdGFyZ2V0ID09PSBURVhUVVJFXzJEX0FSUkFZKSB7XG4gICAgY29uc3Qgc21hbGxlc3QgPSBNYXRoLm1pbihlbGVtZW50LndpZHRoLCBlbGVtZW50LmhlaWdodCk7XG4gICAgY29uc3QgbGFyZ2VzdCA9IE1hdGgubWF4KGVsZW1lbnQud2lkdGgsIGVsZW1lbnQuaGVpZ2h0KTtcbiAgICBjb25zdCBkZXB0aCA9IGxhcmdlc3QgLyBzbWFsbGVzdDtcbiAgICBpZiAoZGVwdGggJSAxICE9PSAwKSB7XG4gICAgICB0aHJvdyBcImNhbiBub3QgY29tcHV0ZSAzRCBkaW1lbnNpb25zIG9mIGVsZW1lbnRcIjtcbiAgICB9XG4gICAgY29uc3QgeE11bHQgPSBlbGVtZW50LndpZHRoICA9PT0gbGFyZ2VzdCA/IDEgOiAwO1xuICAgIGNvbnN0IHlNdWx0ID0gZWxlbWVudC5oZWlnaHQgPT09IGxhcmdlc3QgPyAxIDogMDtcbiAgICBnbC5waXhlbFN0b3JlaShVTlBBQ0tfQUxJR05NRU5ULCAxKTtcbiAgICBnbC5waXhlbFN0b3JlaShVTlBBQ0tfUk9XX0xFTkdUSCwgZWxlbWVudC53aWR0aCk7XG4gICAgZ2wucGl4ZWxTdG9yZWkoVU5QQUNLX0lNQUdFX0hFSUdIVCwgMCk7XG4gICAgZ2wucGl4ZWxTdG9yZWkoVU5QQUNLX1NLSVBfSU1BR0VTLCAwKTtcbiAgICBnbC50ZXhJbWFnZTNEKHRhcmdldCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCBzbWFsbGVzdCwgc21hbGxlc3QsIHNtYWxsZXN0LCAwLCBmb3JtYXQsIHR5cGUsIG51bGwpO1xuICAgIGZvciAobGV0IGQgPSAwOyBkIDwgZGVwdGg7ICsrZCkge1xuICAgICAgY29uc3Qgc3JjWCA9IGQgKiBzbWFsbGVzdCAqIHhNdWx0O1xuICAgICAgY29uc3Qgc3JjWSA9IGQgKiBzbWFsbGVzdCAqIHlNdWx0O1xuICAgICAgZ2wucGl4ZWxTdG9yZWkoVU5QQUNLX1NLSVBfUElYRUxTLCBzcmNYKTtcbiAgICAgIGdsLnBpeGVsU3RvcmVpKFVOUEFDS19TS0lQX1JPV1MsIHNyY1kpO1xuICAgICAgZ2wudGV4U3ViSW1hZ2UzRCh0YXJnZXQsIGxldmVsLCAwLCAwLCBkLCBzbWFsbGVzdCwgc21hbGxlc3QsIDEsIGZvcm1hdCwgdHlwZSwgZWxlbWVudCk7XG4gICAgfVxuICAgIHNldFNraXBTdGF0ZVRvRGVmYXVsdChnbCk7XG4gIH0gZWxzZSB7XG4gICAgZ2wudGV4SW1hZ2UyRCh0YXJnZXQsIGxldmVsLCBpbnRlcm5hbEZvcm1hdCwgZm9ybWF0LCB0eXBlLCBlbGVtZW50KTtcbiAgfVxuICBpZiAoc2hvdWxkQXV0b21hdGljYWxseVNldFRleHR1cmVGaWx0ZXJpbmdGb3JTaXplKG9wdGlvbnMpKSB7XG4gICAgc2V0VGV4dHVyZUZpbHRlcmluZ0ZvclNpemUoZ2wsIHRleCwgb3B0aW9ucywgd2lkdGgsIGhlaWdodCwgaW50ZXJuYWxGb3JtYXQpO1xuICB9XG4gIHNldFRleHR1cmVQYXJhbWV0ZXJzKGdsLCB0ZXgsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBub29wKCkge1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB1cmwncyBvcmlnaW4gaXMgdGhlIHNhbWUgc28gdGhhdCB3ZSBjYW4gc2V0IHRoZSBgY3Jvc3NPcmlnaW5gXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIHVybCB0byBpbWFnZVxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIHdpbmRvdydzIG9yaWdpbiBpcyB0aGUgc2FtZSBhcyBpbWFnZSdzIHVybFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdXJsSXNTYW1lT3JpZ2luKHVybCkge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIGZvciBJRSByZWFsbHlcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGEuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gYS5ob3N0bmFtZSA9PT0gbG9jYXRpb24uaG9zdG5hbWUgJiZcbiAgICAgICAgICAgYS5wb3J0ICAgICA9PT0gbG9jYXRpb24ucG9ydCAmJlxuICAgICAgICAgICBhLnByb3RvY29sID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBsb2NhbE9yaWdpbiA9IChuZXcgVVJMKGxvY2F0aW9uLmhyZWYpKS5vcmlnaW47XG4gICAgY29uc3QgdXJsT3JpZ2luID0gKG5ldyBVUkwodXJsLCBsb2NhdGlvbi5ocmVmKSkub3JpZ2luO1xuICAgIHJldHVybiB1cmxPcmlnaW4gPT09IGxvY2FsT3JpZ2luO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldFRvQW5vbnltb3VzSWZVbmRlZmluZWRBbmRVUkxJc05vdFNhbWVPcmlnaW4odXJsLCBjcm9zc09yaWdpbikge1xuICByZXR1cm4gY3Jvc3NPcmlnaW4gPT09IHVuZGVmaW5lZCAmJiAhdXJsSXNTYW1lT3JpZ2luKHVybClcbiAgICAgPyAnYW5vbnltb3VzJ1xuICAgICA6IGNyb3NzT3JpZ2luO1xufVxuXG4vKipcbiAqIExvYWRzIGFuIGltYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIHVybCB0byBpbWFnZVxuICogQHBhcmFtIHtzdHJpbmd9IGNyb3NzT3JpZ2luXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGVyciwgaW1nKX0gW2NhbGxiYWNrXSBhIGNhbGxiYWNrIHRoYXQncyBwYXNzZWQgYW4gZXJyb3IgYW5kIHRoZSBpbWFnZS4gVGhlIGVycm9yIHdpbGwgYmUgbm9uLW51bGxcbiAqICAgICBpZiB0aGVyZSB3YXMgYW4gZXJyb3JcbiAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IHRoZSBpbWFnZSBiZWluZyBsb2FkZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkSW1hZ2UodXJsLCBjcm9zc09yaWdpbiwgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wO1xuICBsZXQgaW1nO1xuICBjcm9zc09yaWdpbiA9IGNyb3NzT3JpZ2luICE9PSB1bmRlZmluZWQgPyBjcm9zc09yaWdpbiA6IGRlZmF1bHRzJDEuY3Jvc3NPcmlnaW47XG4gIGNyb3NzT3JpZ2luID0gc2V0VG9Bbm9ueW1vdXNJZlVuZGVmaW5lZEFuZFVSTElzTm90U2FtZU9yaWdpbih1cmwsIGNyb3NzT3JpZ2luKTtcbiAgaWYgKHR5cGVvZiBJbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpZiAoY3Jvc3NPcmlnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgaW1nLmNyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgY29uc3QgY2xlYXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gY2xlYXJFdmVudEhhbmRsZXJzKCkge1xuICAgICAgaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICBpbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZCk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICBpbWcgPSBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBvbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgIGNvbnN0IG1zZyA9IFwiY291bGRuJ3QgbG9hZCBpbWFnZTogXCIgKyB1cmw7XG4gICAgICBlcnJvcihtc2cpO1xuICAgICAgY2FsbGJhY2sobXNnLCBpbWcpO1xuICAgICAgY2xlYXJFdmVudEhhbmRsZXJzKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uTG9hZCA9IGZ1bmN0aW9uIG9uTG9hZCgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGltZyk7XG4gICAgICBjbGVhckV2ZW50SGFuZGxlcnMoKTtcbiAgICB9O1xuXG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWQpO1xuICAgIGltZy5zcmMgPSB1cmw7XG4gICAgcmV0dXJuIGltZztcbiAgfSBlbHNlIGlmICh0eXBlb2YgSW1hZ2VCaXRtYXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbGV0IGVycjtcbiAgICBsZXQgYm07XG4gICAgY29uc3QgY2IgPSBmdW5jdGlvbiBjYigpIHtcbiAgICAgIGNhbGxiYWNrKGVyciwgYm0pO1xuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgaWYgKGNyb3NzT3JpZ2luKSB7XG4gICAgICBvcHRpb25zLm1vZGUgPSAnY29ycyc7IC8vIFRPRE86IG5vdCBzdXJlIGhvdyB0byB0cmFuc2xhdGUgaW1hZ2UuY3Jvc3NPcmlnaW5cbiAgICB9XG4gICAgZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgIHJldHVybiBjcmVhdGVJbWFnZUJpdG1hcChibG9iLCB7XG4gICAgICAgIHByZW11bHRpcGx5QWxwaGE6ICdub25lJyxcbiAgICAgICAgY29sb3JTcGFjZUNvbnZlcnNpb246ICdub25lJyxcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24oYml0bWFwKSB7XG4gICAgICAvLyBub3Qgc3VyZSBpZiB0aGlzIHdvcmtzLiBXZSBkb24ndCB3YW50XG4gICAgICAvLyB0byBjYXRjaCB0aGUgdXNlcidzIGVycm9yLiBTbywgY2FsbFxuICAgICAgLy8gdGhlIGNhbGxiYWNrIGluIGEgdGltZW91dCBzbyB3ZSdyZVxuICAgICAgLy8gbm90IGluIHRoaXMgc2NvcGUgaW5zaWRlIHRoZSBwcm9taXNlLlxuICAgICAgYm0gPSBiaXRtYXA7XG4gICAgICBzZXRUaW1lb3V0KGNiKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICBlcnIgPSBlO1xuICAgICAgc2V0VGltZW91dChjYik7XG4gICAgfSk7XG4gICAgaW1nID0gbnVsbDtcbiAgfVxuICByZXR1cm4gaW1nO1xufVxuXG4vKipcbiAqIGNoZWNrIGlmIG9iamVjdCBpcyBhIFRleEltYWdlU291cmNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBPYmplY3QgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgYSBUZXhJbWFnZVNvdXJjZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaXNUZXhJbWFnZVNvdXJjZShvYmopIHtcbiAgcmV0dXJuICh0eXBlb2YgSW1hZ2VCaXRtYXAgIT09ICd1bmRlZmluZWQnICYmIG9iaiBpbnN0YW5jZW9mIEltYWdlQml0bWFwKSB8fFxuICAgICAgICAgKHR5cGVvZiBJbWFnZURhdGEgIT09ICd1bmRlZmluZWQnICAmJiBvYmogaW5zdGFuY2VvZiBJbWFnZURhdGEpIHx8XG4gICAgICAgICAodHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAgJiYgb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpO1xufVxuXG4vKipcbiAqIGlmIG9iaiBpcyBhbiBUZXhJbWFnZVNvdXJjZSB0aGVuIGp1c3RcbiAqIHVzZXMgaXQgb3RoZXJ3aXNlIGlmIG9iaiBpcyBhIHN0cmluZ1xuICogdGhlbiBsb2FkIGl0IGZpcnN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfFRleEltYWdlU291cmNlfSBvYmpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjcm9zc09yaWdpblxuICogQHBhcmFtIHtmdW5jdGlvbihlcnIsIGltZyl9IFtjYWxsYmFja10gYSBjYWxsYmFjayB0aGF0J3MgcGFzc2VkIGFuIGVycm9yIGFuZCB0aGUgaW1hZ2UuIFRoZSBlcnJvciB3aWxsIGJlIG5vbi1udWxsXG4gKiAgICAgaWYgdGhlcmUgd2FzIGFuIGVycm9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkQW5kVXNlSW1hZ2Uob2JqLCBjcm9zc09yaWdpbiwgY2FsbGJhY2spIHtcbiAgaWYgKGlzVGV4SW1hZ2VTb3VyY2Uob2JqKSkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBvYmopO1xuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gbG9hZEltYWdlKG9iaiwgY3Jvc3NPcmlnaW4sIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBTZXRzIGEgdGV4dHVyZSB0byBhIDF4MSBwaXhlbCBjb2xvci4gSWYgYG9wdGlvbnMuY29sb3IgPT09IGZhbHNlYCBpcyBub3RoaW5nIGhhcHBlbnMuIElmIGl0J3Mgbm90IHNldFxuICogdGhlIGRlZmF1bHQgdGV4dHVyZSBjb2xvciBpcyB1c2VkIHdoaWNoIGNhbiBiZSBzZXQgYnkgY2FsbGluZyBgc2V0RGVmYXVsdFRleHR1cmVDb2xvcmAuXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IHRleCB0aGUgV2ViR0xUZXh0dXJlIHRvIHNldCBwYXJhbWV0ZXJzIGZvclxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5UZXh0dXJlT3B0aW9uc30gW29wdGlvbnNdIEEgVGV4dHVyZU9wdGlvbnMgb2JqZWN0IHdpdGggd2hhdGV2ZXIgcGFyYW1ldGVycyB5b3Ugd2FudCBzZXQuXG4gKiAgIFRoaXMgaXMgb2Z0ZW4gdGhlIHNhbWUgb3B0aW9ucyB5b3UgcGFzc2VkIGluIHdoZW4geW91IGNyZWF0ZWQgdGhlIHRleHR1cmUuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdGV4dHVyZXNcbiAqL1xuZnVuY3Rpb24gc2V0VGV4dHVyZVRvMVBpeGVsQ29sb3IoZ2wsIHRleCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cyQxLnRleHR1cmVPcHRpb25zO1xuICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldCB8fCBURVhUVVJFXzJEO1xuICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIHRleCk7XG4gIGlmIChvcHRpb25zLmNvbG9yID09PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBBc3N1bWUgaXQncyBhIFVSTFxuICAvLyBQdXQgMXgxIHBpeGVscyBpbiB0ZXh0dXJlLiBUaGF0IG1ha2VzIGl0IHJlbmRlcmFibGUgaW1tZWRpYXRlbHkgcmVnYXJkbGVzcyBvZiBmaWx0ZXJpbmcuXG4gIGNvbnN0IGNvbG9yID0gbWFrZTFQaXhlbChvcHRpb25zLmNvbG9yKTtcbiAgaWYgKHRhcmdldCA9PT0gVEVYVFVSRV9DVUJFX01BUCkge1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCA2OyArK2lpKSB7XG4gICAgICBnbC50ZXhJbWFnZTJEKFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGlpLCAwLCBSR0JBLCAxLCAxLCAwLCBSR0JBLCBVTlNJR05FRF9CWVRFJDIsIGNvbG9yKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGFyZ2V0ID09PSBURVhUVVJFXzNEIHx8IHRhcmdldCA9PT0gVEVYVFVSRV8yRF9BUlJBWSkge1xuICAgIGdsLnRleEltYWdlM0QodGFyZ2V0LCAwLCBSR0JBLCAxLCAxLCAxLCAwLCBSR0JBLCBVTlNJR05FRF9CWVRFJDIsIGNvbG9yKTtcbiAgfSBlbHNlIHtcbiAgICBnbC50ZXhJbWFnZTJEKHRhcmdldCwgMCwgUkdCQSwgMSwgMSwgMCwgUkdCQSwgVU5TSUdORURfQllURSQyLCBjb2xvcik7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgc3JjIGltYWdlKHMpIHVzZWQgdG8gY3JlYXRlIGEgdGV4dHVyZS5cbiAqXG4gKiBXaGVuIHlvdSBjYWxsIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVUZXh0dXJlfSBvciB7QGxpbmsgbW9kdWxlOnR3Z2wuY3JlYXRlVGV4dHVyZXN9XG4gKiB5b3UgY2FuIHBhc3MgaW4gdXJscyBmb3IgaW1hZ2VzIHRvIGxvYWQgaW50byB0aGUgdGV4dHVyZXMuIElmIGl0J3MgYSBzaW5nbGUgdXJsXG4gKiB0aGVuIHRoaXMgd2lsbCBiZSBhIHNpbmdsZSBIVE1MSW1hZ2VFbGVtZW50LiBJZiBpdCdzIGFuIGFycmF5IG9mIHVybHMgdXNlZCBmb3IgYSBjdWJlbWFwXG4gKiB0aGlzIHdpbGwgYmUgYSBjb3JyZXNwb25kaW5nIGFycmF5IG9mIGltYWdlcyBmb3IgdGhlIGN1YmVtYXAuXG4gKlxuICogQHR5cGVkZWYge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEltYWdlRWxlbWVudFtdfSBUZXh0dXJlU3JjXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqL1xuXG4vKipcbiAqIEEgY2FsbGJhY2sgZm9yIHdoZW4gYW4gaW1hZ2UgZmluaXNoZWQgZG93bmxvYWRpbmcgYW5kIGJlZW4gdXBsb2FkZWQgaW50byBhIHRleHR1cmVcbiAqIEBjYWxsYmFjayBUZXh0dXJlUmVhZHlDYWxsYmFja1xuICogQHBhcmFtIHsqfSBlcnIgSWYgdHJ1dGh5IHRoZXJlIHdhcyBhbiBlcnJvci5cbiAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSB0ZXh0dXJlIHRoZSB0ZXh0dXJlLlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5UZXh0dXJlU3JjfSBzb3VyY2UgaW1hZ2UocykgdXNlZCB0byBhcyB0aGUgc3JjIGZvciB0aGUgdGV4dHVyZVxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuLyoqXG4gKiBBIGNhbGxiYWNrIGZvciB3aGVuIGFsbCBpbWFnZXMgaGF2ZSBmaW5pc2hlZCBkb3dubG9hZGluZyBhbmQgYmVlbiB1cGxvYWRlZCBpbnRvIHRoZWlyIHJlc3BlY3RpdmUgdGV4dHVyZXNcbiAqIEBjYWxsYmFjayBUZXh0dXJlc1JlYWR5Q2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gZXJyIElmIHRydXRoeSB0aGVyZSB3YXMgYW4gZXJyb3IuXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBXZWJHTFRleHR1cmU+fSB0ZXh0dXJlcyB0aGUgY3JlYXRlZCB0ZXh0dXJlcyBieSBuYW1lLiBTYW1lIGFzIHJldHVybmVkIGJ5IHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVUZXh0dXJlc30uXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBtb2R1bGU6dHdnbC5UZXh0dXJlU3JjPn0gc291cmNlcyB0aGUgaW1hZ2UocykgdXNlZCBmb3IgdGhlIHRleHR1cmUgYnkgbmFtZS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5cbi8qKlxuICogQSBjYWxsYmFjayBmb3Igd2hlbiBhbiBpbWFnZSBmaW5pc2hlZCBkb3dubG9hZGluZyBhbmQgYmVlbiB1cGxvYWRlZCBpbnRvIGEgdGV4dHVyZVxuICogQGNhbGxiYWNrIEN1YmVtYXBSZWFkeUNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IGVyciBJZiB0cnV0aHkgdGhlcmUgd2FzIGFuIGVycm9yLlxuICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IHRleCB0aGUgdGV4dHVyZS5cbiAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudFtdfSBpbWdzIHRoZSBpbWFnZXMgZm9yIGVhY2ggZmFjZS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5cbi8qKlxuICogQSBjYWxsYmFjayBmb3Igd2hlbiBhbiBpbWFnZSBmaW5pc2hlZCBkb3dubG9hZGluZyBhbmQgYmVlbiB1cGxvYWRlZCBpbnRvIGEgdGV4dHVyZVxuICogQGNhbGxiYWNrIFRocmVlRFJlYWR5Q2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gZXJyIElmIHRydXRoeSB0aGVyZSB3YXMgYW4gZXJyb3IuXG4gKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gdGV4IHRoZSB0ZXh0dXJlLlxuICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50W119IGltZ3MgdGhlIGltYWdlcyBmb3IgZWFjaCBzbGljZS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5cbi8qKlxuICogTG9hZHMgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgZnJvbSBhIFVybCBhcyBzcGVjaWZpZWQgaW4gYG9wdGlvbnMuc3JjYFxuICogSWYgYG9wdGlvbnMuY29sb3IgIT09IGZhbHNlYCB3aWxsIHNldCB0aGUgdGV4dHVyZSB0byBhIDF4MSBwaXhlbCBjb2xvciBzbyB0aGF0IHRoZSB0ZXh0dXJlIGlzXG4gKiBpbW1lZGlhdGVseSB1c2VhYmxlLiBJdCB3aWxsIGJlIHVwZGF0ZWQgd2l0aCB0aGUgY29udGVudHMgb2YgdGhlIGltYWdlIG9uY2UgdGhlIGltYWdlIGhhcyBmaW5pc2hlZFxuICogZG93bmxvYWRpbmcuIEZpbHRlcmluZyBvcHRpb25zIHdpbGwgYmUgc2V0IGFzIGFwcHJvcHJpYXRlIGZvciBpbWFnZSB1bmxlc3MgYG9wdGlvbnMuYXV0byA9PT0gZmFsc2VgLlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSB0ZXggdGhlIFdlYkdMVGV4dHVyZSB0byBzZXQgcGFyYW1ldGVycyBmb3JcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVGV4dHVyZU9wdGlvbnN9IFtvcHRpb25zXSBBIFRleHR1cmVPcHRpb25zIG9iamVjdCB3aXRoIHdoYXRldmVyIHBhcmFtZXRlcnMgeW91IHdhbnQgc2V0LlxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5UZXh0dXJlUmVhZHlDYWxsYmFja30gW2NhbGxiYWNrXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBpbWFnZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gZXJyIHdpbGxcbiAqICAgIGJlIG5vbiBudWxsIGlmIHRoZXJlIHdhcyBhbiBlcnJvci5cbiAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IHRoZSBpbWFnZSBiZWluZyBkb3dubG9hZGVkLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3RleHR1cmVzXG4gKi9cbmZ1bmN0aW9uIGxvYWRUZXh0dXJlRnJvbVVybChnbCwgdGV4LCBvcHRpb25zLCBjYWxsYmFjaykge1xuICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IG5vb3A7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzJDEudGV4dHVyZU9wdGlvbnM7XG4gIHNldFRleHR1cmVUbzFQaXhlbENvbG9yKGdsLCB0ZXgsIG9wdGlvbnMpO1xuICAvLyBCZWNhdXNlIGl0J3MgYXN5bmMgd2UgbmVlZCB0byBjb3B5IHRoZSBvcHRpb25zLlxuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gIGNvbnN0IGltZyA9IGxvYWRBbmRVc2VJbWFnZShvcHRpb25zLnNyYywgb3B0aW9ucy5jcm9zc09yaWdpbiwgZnVuY3Rpb24oZXJyLCBpbWcpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIsIHRleCwgaW1nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGV4dHVyZUZyb21FbGVtZW50KGdsLCB0ZXgsIGltZywgb3B0aW9ucyk7XG4gICAgICBjYWxsYmFjayhudWxsLCB0ZXgsIGltZyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGltZztcbn1cblxuLyoqXG4gKiBMb2FkcyBhIGN1YmVtYXAgZnJvbSA2IHVybHMgb3IgVGV4SW1hZ2VTb3VyY2VzIGFzIHNwZWNpZmllZCBpbiBgb3B0aW9ucy5zcmNgLiBXaWxsIHNldCB0aGUgY3ViZW1hcCB0byBhIDF4MSBwaXhlbCBjb2xvclxuICogc28gdGhhdCBpdCBpcyB1c2FibGUgaW1tZWRpYXRlbHkgdW5sZXNzIGBvcHRpb24uY29sb3IgPT09IGZhbHNlYC5cbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gdGV4IHRoZSBXZWJHTFRleHR1cmUgdG8gc2V0IHBhcmFtZXRlcnMgZm9yXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlRleHR1cmVPcHRpb25zfSBvcHRpb25zIEEgVGV4dHVyZU9wdGlvbnMgb2JqZWN0IHdpdGggd2hhdGV2ZXIgcGFyYW1ldGVycyB5b3Ugd2FudCBzZXQuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkN1YmVtYXBSZWFkeUNhbGxiYWNrfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gYWxsIHRoZSBpbWFnZXMgaGF2ZSBmaW5pc2hlZCBsb2FkaW5nLiBlcnIgd2lsbFxuICogICAgYmUgbm9uIG51bGwgaWYgdGhlcmUgd2FzIGFuIGVycm9yLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3RleHR1cmVzXG4gKi9cbmZ1bmN0aW9uIGxvYWRDdWJlbWFwRnJvbVVybHMoZ2wsIHRleCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wO1xuICBjb25zdCB1cmxzID0gb3B0aW9ucy5zcmM7XG4gIGlmICh1cmxzLmxlbmd0aCAhPT0gNikge1xuICAgIHRocm93IFwidGhlcmUgbXVzdCBiZSA2IHVybHMgZm9yIGEgY3ViZW1hcFwiO1xuICB9XG4gIGNvbnN0IGxldmVsID0gb3B0aW9ucy5sZXZlbCB8fCAwO1xuICBjb25zdCBpbnRlcm5hbEZvcm1hdCA9IG9wdGlvbnMuaW50ZXJuYWxGb3JtYXQgfHwgb3B0aW9ucy5mb3JtYXQgfHwgUkdCQTtcbiAgY29uc3QgZm9ybWF0VHlwZSA9IGdldEZvcm1hdEFuZFR5cGVGb3JJbnRlcm5hbEZvcm1hdChpbnRlcm5hbEZvcm1hdCk7XG4gIGNvbnN0IGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0IHx8IGZvcm1hdFR5cGUuZm9ybWF0O1xuICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlIHx8IFVOU0lHTkVEX0JZVEUkMjtcbiAgY29uc3QgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQgfHwgVEVYVFVSRV8yRDtcbiAgaWYgKHRhcmdldCAhPT0gVEVYVFVSRV9DVUJFX01BUCkge1xuICAgIHRocm93IFwidGFyZ2V0IG11c3QgYmUgVEVYVFVSRV9DVUJFX01BUFwiO1xuICB9XG4gIHNldFRleHR1cmVUbzFQaXhlbENvbG9yKGdsLCB0ZXgsIG9wdGlvbnMpO1xuICAvLyBCZWNhdXNlIGl0J3MgYXN5bmMgd2UgbmVlZCB0byBjb3B5IHRoZSBvcHRpb25zLlxuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gIGxldCBudW1Ub0xvYWQgPSA2O1xuICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgY29uc3QgZmFjZXMgPSBnZXRDdWJlRmFjZU9yZGVyKGdsLCBvcHRpb25zKTtcbiAgbGV0IGltZ3M7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgZnVuY3Rpb24gdXBsb2FkSW1nKGZhY2VUYXJnZXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXJyLCBpbWcpIHtcbiAgICAgIC0tbnVtVG9Mb2FkO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGltZy53aWR0aCAhPT0gaW1nLmhlaWdodCkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKFwiY3ViZW1hcCBmYWNlIGltZyBpcyBub3QgYSBzcXVhcmU6IFwiICsgaW1nLnNyYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0UGFja1N0YXRlKGdsLCBvcHRpb25zKTtcbiAgICAgICAgICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIHRleCk7XG5cbiAgICAgICAgICAvLyBTbyBhc3N1bWluZyB0aGlzIGlzIHRoZSBmaXJzdCBpbWFnZSB3ZSBub3cgaGF2ZSBvbmUgZmFjZSB0aGF0J3MgaW1nIHNpemVkXG4gICAgICAgICAgLy8gYW5kIDUgZmFjZXMgdGhhdCBhcmUgMXgxIHBpeGVsIHNvIHNpemUgdGhlIG90aGVyIGZhY2VzXG4gICAgICAgICAgaWYgKG51bVRvTG9hZCA9PT0gNSkge1xuICAgICAgICAgICAgLy8gdXNlIHRoZSBkZWZhdWx0IG9yZGVyXG4gICAgICAgICAgICBnZXRDdWJlRmFjZU9yZGVyKCkuZm9yRWFjaChmdW5jdGlvbihvdGhlclRhcmdldCkge1xuICAgICAgICAgICAgICAvLyBTaG91bGQgd2UgcmUtdXNlIHRoZSBzYW1lIGZhY2Ugb3IgYSBjb2xvcj9cbiAgICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChvdGhlclRhcmdldCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCBmb3JtYXQsIHR5cGUsIGltZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChmYWNlVGFyZ2V0LCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIGZvcm1hdCwgdHlwZSwgaW1nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2hvdWxkQXV0b21hdGljYWxseVNldFRleHR1cmVGaWx0ZXJpbmdGb3JTaXplKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobnVtVG9Mb2FkID09PSAwKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9ycy5sZW5ndGggPyBlcnJvcnMgOiB1bmRlZmluZWQsIHRleCwgaW1ncyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGltZ3MgPSB1cmxzLm1hcChmdW5jdGlvbih1cmwsIG5keCkge1xuICAgIHJldHVybiBsb2FkQW5kVXNlSW1hZ2UodXJsLCBvcHRpb25zLmNyb3NzT3JpZ2luLCB1cGxvYWRJbWcoZmFjZXNbbmR4XSkpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBMb2FkcyBhIDJkIGFycmF5IG9yIDNkIHRleHR1cmUgZnJvbSB1cmxzIE9SIFRleEltYWdlU291cmNlcyBhcyBzcGVjaWZpZWQgaW4gYG9wdGlvbnMuc3JjYC5cbiAqIFdpbGwgc2V0IHRoZSB0ZXh0dXJlIHRvIGEgMXgxIHBpeGVsIGNvbG9yXG4gKiBzbyB0aGF0IGl0IGlzIHVzYWJsZSBpbW1lZGlhdGVseSB1bmxlc3MgYG9wdGlvbi5jb2xvciA9PT0gZmFsc2VgLlxuICpcbiAqIElmIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IGlzIG5vdCBzcGVjaWZpZWQgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGZpcnN0XG4gKiBpbWFnZSBsb2FkZWQgd2lsbCBiZSB1c2VkLiBOb3RlIHRoYXQgc2luY2UgaW1hZ2VzIGFyZSBsb2FkZWQgYXN5bmNcbiAqIHdoaWNoIGltYWdlIGRvd25sb2FkcyBmaXJzdCBpcyB1bmtub3duLlxuICpcbiAqIElmIGFuIGltYWdlIGlzIG5vdCB0aGUgc2FtZSBzaXplIGFzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IGl0IHdpbGwgYmUgc2NhbGVkXG4gKiB0byB0aGF0IHdpZHRoIGFuZCBoZWlnaHQuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSB0ZXggdGhlIFdlYkdMVGV4dHVyZSB0byBzZXQgcGFyYW1ldGVycyBmb3JcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVGV4dHVyZU9wdGlvbnN9IG9wdGlvbnMgQSBUZXh0dXJlT3B0aW9ucyBvYmplY3Qgd2l0aCB3aGF0ZXZlciBwYXJhbWV0ZXJzIHlvdSB3YW50IHNldC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVGhyZWVEUmVhZHlDYWxsYmFja30gW2NhbGxiYWNrXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGFsbCB0aGUgaW1hZ2VzIGhhdmUgZmluaXNoZWQgbG9hZGluZy4gZXJyIHdpbGxcbiAqICAgIGJlIG5vbiBudWxsIGlmIHRoZXJlIHdhcyBhbiBlcnJvci5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC90ZXh0dXJlc1xuICovXG5mdW5jdGlvbiBsb2FkU2xpY2VzRnJvbVVybHMoZ2wsIHRleCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wO1xuICBjb25zdCB1cmxzID0gb3B0aW9ucy5zcmM7XG4gIGNvbnN0IGludGVybmFsRm9ybWF0ID0gb3B0aW9ucy5pbnRlcm5hbEZvcm1hdCB8fCBvcHRpb25zLmZvcm1hdCB8fCBSR0JBO1xuICBjb25zdCBmb3JtYXRUeXBlID0gZ2V0Rm9ybWF0QW5kVHlwZUZvckludGVybmFsRm9ybWF0KGludGVybmFsRm9ybWF0KTtcbiAgY29uc3QgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQgfHwgZm9ybWF0VHlwZS5mb3JtYXQ7XG4gIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGUgfHwgVU5TSUdORURfQllURSQyO1xuICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldCB8fCBURVhUVVJFXzJEX0FSUkFZO1xuICBpZiAodGFyZ2V0ICE9PSBURVhUVVJFXzNEICYmIHRhcmdldCAhPT0gVEVYVFVSRV8yRF9BUlJBWSkge1xuICAgIHRocm93IFwidGFyZ2V0IG11c3QgYmUgVEVYVFVSRV8zRCBvciBURVhUVVJFXzJEX0FSUkFZXCI7XG4gIH1cbiAgc2V0VGV4dHVyZVRvMVBpeGVsQ29sb3IoZ2wsIHRleCwgb3B0aW9ucyk7XG4gIC8vIEJlY2F1c2UgaXQncyBhc3luYyB3ZSBuZWVkIHRvIGNvcHkgdGhlIG9wdGlvbnMuXG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgbGV0IG51bVRvTG9hZCA9IHVybHMubGVuZ3RoO1xuICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgbGV0IGltZ3M7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGNvbnN0IGxldmVsID0gb3B0aW9ucy5sZXZlbCB8fCAwO1xuICBsZXQgd2lkdGggPSBvcHRpb25zLndpZHRoO1xuICBsZXQgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gIGNvbnN0IGRlcHRoID0gdXJscy5sZW5ndGg7XG4gIGxldCBmaXJzdEltYWdlID0gdHJ1ZTtcblxuICBmdW5jdGlvbiB1cGxvYWRJbWcoc2xpY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXJyLCBpbWcpIHtcbiAgICAgIC0tbnVtVG9Mb2FkO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBlcnJvcnMucHVzaChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0UGFja1N0YXRlKGdsLCBvcHRpb25zKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUodGFyZ2V0LCB0ZXgpO1xuXG4gICAgICAgIGlmIChmaXJzdEltYWdlKSB7XG4gICAgICAgICAgZmlyc3RJbWFnZSA9IGZhbHNlO1xuICAgICAgICAgIHdpZHRoID0gb3B0aW9ucy53aWR0aCB8fCBpbWcud2lkdGg7XG4gICAgICAgICAgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgfHwgaW1nLmhlaWdodDtcbiAgICAgICAgICBnbC50ZXhJbWFnZTNEKHRhcmdldCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCBkZXB0aCwgMCwgZm9ybWF0LCB0eXBlLCBudWxsKTtcblxuICAgICAgICAgIC8vIHB1dCBpdCBpbiBldmVyeSBzbGljZSBvdGhlcndpc2Ugc29tZSBzbGljZXMgd2lsbCBiZSAwLDAsMCwwXG4gICAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBkZXB0aDsgKytzKSB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKHRhcmdldCwgbGV2ZWwsIDAsIDAsIHMsIHdpZHRoLCBoZWlnaHQsIDEsIGZvcm1hdCwgdHlwZSwgaW1nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHNyYyA9IGltZztcbiAgICAgICAgICBsZXQgY3R4O1xuICAgICAgICAgIGlmIChpbWcud2lkdGggIT09IHdpZHRoIHx8IGltZy5oZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICAgICAgLy8gU2l6ZSB0aGUgaW1hZ2UgdG8gZml4XG4gICAgICAgICAgICBjdHggPSBnZXRTaGFyZWQyRENvbnRleHQoKTtcbiAgICAgICAgICAgIHNyYyA9IGN0eC5jYW52YXM7XG4gICAgICAgICAgICBjdHguY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjdHguY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKHRhcmdldCwgbGV2ZWwsIDAsIDAsIHNsaWNlLCB3aWR0aCwgaGVpZ2h0LCAxLCBmb3JtYXQsIHR5cGUsIHNyYyk7XG5cbiAgICAgICAgICAvLyBmcmVlIHRoZSBjYW52YXMgbWVtb3J5XG4gICAgICAgICAgaWYgKGN0eCAmJiBzcmMgPT09IGN0eC5jYW52YXMpIHtcbiAgICAgICAgICAgIGN0eC5jYW52YXMud2lkdGggPSAwO1xuICAgICAgICAgICAgY3R4LmNhbnZhcy5oZWlnaHQgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaG91bGRBdXRvbWF0aWNhbGx5U2V0VGV4dHVyZUZpbHRlcmluZ0ZvclNpemUob3B0aW9ucykpIHtcbiAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChudW1Ub0xvYWQgPT09IDApIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3JzLmxlbmd0aCA/IGVycm9ycyA6IHVuZGVmaW5lZCwgdGV4LCBpbWdzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgaW1ncyA9IHVybHMubWFwKGZ1bmN0aW9uKHVybCwgbmR4KSB7XG4gICAgcmV0dXJuIGxvYWRBbmRVc2VJbWFnZSh1cmwsIG9wdGlvbnMuY3Jvc3NPcmlnaW4sIHVwbG9hZEltZyhuZHgpKTtcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0cyBhIHRleHR1cmUgZnJvbSBhbiBhcnJheSBvciB0eXBlZCBhcnJheS4gSWYgdGhlIHdpZHRoIG9yIGhlaWdodCBpcyBub3QgcHJvdmlkZWQgd2lsbCBhdHRlbXB0IHRvXG4gKiBndWVzcyB0aGUgc2l6ZS4gU2VlIHtAbGluayBtb2R1bGU6dHdnbC5UZXh0dXJlT3B0aW9uc30uXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IHRleCB0aGUgV2ViR0xUZXh0dXJlIHRvIHNldCBwYXJhbWV0ZXJzIGZvclxuICogQHBhcmFtIHsobnVtYmVyW118QXJyYXlCdWZmZXJWaWV3KX0gc3JjIEFuIGFycmF5IG9yIHR5cGVkIGFycnkgd2l0aCB0ZXh0dXJlIGRhdGEuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlRleHR1cmVPcHRpb25zfSBbb3B0aW9uc10gQSBUZXh0dXJlT3B0aW9ucyBvYmplY3Qgd2l0aCB3aGF0ZXZlciBwYXJhbWV0ZXJzIHlvdSB3YW50IHNldC5cbiAqICAgVGhpcyBpcyBvZnRlbiB0aGUgc2FtZSBvcHRpb25zIHlvdSBwYXNzZWQgaW4gd2hlbiB5b3UgY3JlYXRlZCB0aGUgdGV4dHVyZS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC90ZXh0dXJlc1xuICovXG5mdW5jdGlvbiBzZXRUZXh0dXJlRnJvbUFycmF5KGdsLCB0ZXgsIHNyYywgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cyQxLnRleHR1cmVPcHRpb25zO1xuICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldCB8fCBURVhUVVJFXzJEO1xuICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIHRleCk7XG4gIGxldCB3aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gIGxldCBoZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgbGV0IGRlcHRoID0gb3B0aW9ucy5kZXB0aDtcbiAgY29uc3QgbGV2ZWwgPSBvcHRpb25zLmxldmVsIHx8IDA7XG4gIGNvbnN0IGludGVybmFsRm9ybWF0ID0gb3B0aW9ucy5pbnRlcm5hbEZvcm1hdCB8fCBvcHRpb25zLmZvcm1hdCB8fCBSR0JBO1xuICBjb25zdCBmb3JtYXRUeXBlID0gZ2V0Rm9ybWF0QW5kVHlwZUZvckludGVybmFsRm9ybWF0KGludGVybmFsRm9ybWF0KTtcbiAgY29uc3QgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQgfHwgZm9ybWF0VHlwZS5mb3JtYXQ7XG4gIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGUgfHwgZ2V0VGV4dHVyZVR5cGVGb3JBcnJheVR5cGUoZ2wsIHNyYywgZm9ybWF0VHlwZS50eXBlKTtcbiAgaWYgKCFpc0FycmF5QnVmZmVyJDEoc3JjKSkge1xuICAgIGNvbnN0IFR5cGUgPSBnZXRUeXBlZEFycmF5VHlwZUZvckdMVHlwZSh0eXBlKTtcbiAgICBzcmMgPSBuZXcgVHlwZShzcmMpO1xuICB9IGVsc2UgaWYgKHNyYyBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KSB7XG4gICAgc3JjID0gbmV3IFVpbnQ4QXJyYXkoc3JjLmJ1ZmZlcik7XG4gIH1cblxuICBjb25zdCBieXRlc1BlckVsZW1lbnQgPSBnZXRCeXRlc1BlckVsZW1lbnRGb3JJbnRlcm5hbEZvcm1hdChpbnRlcm5hbEZvcm1hdCwgdHlwZSk7XG4gIGNvbnN0IG51bUVsZW1lbnRzID0gc3JjLmJ5dGVMZW5ndGggLyBieXRlc1BlckVsZW1lbnQ7ICAvLyBUT0RPOiBjaGVjayBVTlBBQ0tfQUxJR05NRU5UP1xuICBpZiAobnVtRWxlbWVudHMgJSAxKSB7XG4gICAgdGhyb3cgXCJsZW5ndGggd3Jvbmcgc2l6ZSBmb3IgZm9ybWF0OiBcIiArIGdsRW51bVRvU3RyaW5nKGdsLCBmb3JtYXQpO1xuICB9XG4gIGxldCBkaW1lbnNpb25zO1xuICBpZiAodGFyZ2V0ID09PSBURVhUVVJFXzNEIHx8IHRhcmdldCA9PT0gVEVYVFVSRV8yRF9BUlJBWSkge1xuICAgIGlmICghd2lkdGggJiYgIWhlaWdodCAmJiAhZGVwdGgpIHtcbiAgICAgIGNvbnN0IHNpemUgPSBNYXRoLmNicnQobnVtRWxlbWVudHMpO1xuICAgICAgaWYgKHNpemUgJSAxICE9PSAwKSB7XG4gICAgICAgIHRocm93IFwiY2FuJ3QgZ3Vlc3MgY3ViZSBzaXplIG9mIGFycmF5IG9mIG51bUVsZW1lbnRzOiBcIiArIG51bUVsZW1lbnRzO1xuICAgICAgfVxuICAgICAgd2lkdGggPSBzaXplO1xuICAgICAgaGVpZ2h0ID0gc2l6ZTtcbiAgICAgIGRlcHRoID0gc2l6ZTtcbiAgICB9IGVsc2UgaWYgKHdpZHRoICYmICghaGVpZ2h0IHx8ICFkZXB0aCkpIHtcbiAgICAgIGRpbWVuc2lvbnMgPSBndWVzc0RpbWVuc2lvbnMoZ2wsIHRhcmdldCwgaGVpZ2h0LCBkZXB0aCwgbnVtRWxlbWVudHMgLyB3aWR0aCk7XG4gICAgICBoZWlnaHQgPSBkaW1lbnNpb25zLndpZHRoO1xuICAgICAgZGVwdGggPSBkaW1lbnNpb25zLmhlaWdodDtcbiAgICB9IGVsc2UgaWYgKGhlaWdodCAmJiAoIXdpZHRoIHx8ICFkZXB0aCkpIHtcbiAgICAgIGRpbWVuc2lvbnMgPSBndWVzc0RpbWVuc2lvbnMoZ2wsIHRhcmdldCwgd2lkdGgsIGRlcHRoLCBudW1FbGVtZW50cyAvIGhlaWdodCk7XG4gICAgICB3aWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XG4gICAgICBkZXB0aCA9IGRpbWVuc2lvbnMuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBkaW1lbnNpb25zID0gZ3Vlc3NEaW1lbnNpb25zKGdsLCB0YXJnZXQsIHdpZHRoLCBoZWlnaHQsIG51bUVsZW1lbnRzIC8gZGVwdGgpO1xuICAgICAgd2lkdGggPSBkaW1lbnNpb25zLndpZHRoO1xuICAgICAgaGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRpbWVuc2lvbnMgPSBndWVzc0RpbWVuc2lvbnMoZ2wsIHRhcmdldCwgd2lkdGgsIGhlaWdodCwgbnVtRWxlbWVudHMpO1xuICAgIHdpZHRoID0gZGltZW5zaW9ucy53aWR0aDtcbiAgICBoZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodDtcbiAgfVxuICBzZXRTa2lwU3RhdGVUb0RlZmF1bHQoZ2wpO1xuICBnbC5waXhlbFN0b3JlaShVTlBBQ0tfQUxJR05NRU5ULCBvcHRpb25zLnVucGFja0FsaWdubWVudCB8fCAxKTtcbiAgc2V0UGFja1N0YXRlKGdsLCBvcHRpb25zKTtcbiAgaWYgKHRhcmdldCA9PT0gVEVYVFVSRV9DVUJFX01BUCkge1xuICAgIGNvbnN0IGVsZW1lbnRzUGVyRWxlbWVudCA9IGJ5dGVzUGVyRWxlbWVudCAvIHNyYy5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICBjb25zdCBmYWNlU2l6ZSA9IG51bUVsZW1lbnRzIC8gNiAqIGVsZW1lbnRzUGVyRWxlbWVudDtcblxuICAgIGdldEN1YmVGYWNlc1dpdGhOZHgoZ2wsIG9wdGlvbnMpLmZvckVhY2goZiA9PiB7XG4gICAgICBjb25zdCBvZmZzZXQgPSBmYWNlU2l6ZSAqIGYubmR4O1xuICAgICAgY29uc3QgZGF0YSA9IHNyYy5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIGZhY2VTaXplKTtcbiAgICAgIGdsLnRleEltYWdlMkQoZi5mYWNlLCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIGZvcm1hdCwgdHlwZSwgZGF0YSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodGFyZ2V0ID09PSBURVhUVVJFXzNEIHx8IHRhcmdldCA9PT0gVEVYVFVSRV8yRF9BUlJBWSkge1xuICAgIGdsLnRleEltYWdlM0QodGFyZ2V0LCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIGRlcHRoLCAwLCBmb3JtYXQsIHR5cGUsIHNyYyk7XG4gIH0gZWxzZSB7XG4gICAgZ2wudGV4SW1hZ2UyRCh0YXJnZXQsIGxldmVsLCBpbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgZm9ybWF0LCB0eXBlLCBzcmMpO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIGRlcHRoOiBkZXB0aCxcbiAgICB0eXBlOiB0eXBlLFxuICB9O1xufVxuXG4vKipcbiAqIFNldHMgYSB0ZXh0dXJlIHdpdGggbm8gY29udGVudHMgb2YgYSBjZXJ0YWluIHNpemUuIEluIG90aGVyIHdvcmRzIGNhbGxzIGBnbC50ZXhJbWFnZTJEYCB3aXRoIGBudWxsYC5cbiAqIFlvdSBtdXN0IHNldCBgb3B0aW9ucy53aWR0aGAgYW5kIGBvcHRpb25zLmhlaWdodGAuXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHtXZWJHTFRleHR1cmV9IHRleCB0aGUgV2ViR0xUZXh0dXJlIHRvIHNldCBwYXJhbWV0ZXJzIGZvclxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5UZXh0dXJlT3B0aW9uc30gb3B0aW9ucyBBIFRleHR1cmVPcHRpb25zIG9iamVjdCB3aXRoIHdoYXRldmVyIHBhcmFtZXRlcnMgeW91IHdhbnQgc2V0LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3RleHR1cmVzXG4gKi9cbmZ1bmN0aW9uIHNldEVtcHR5VGV4dHVyZShnbCwgdGV4LCBvcHRpb25zKSB7XG4gIGNvbnN0IHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0IHx8IFRFWFRVUkVfMkQ7XG4gIGdsLmJpbmRUZXh0dXJlKHRhcmdldCwgdGV4KTtcbiAgY29uc3QgbGV2ZWwgPSBvcHRpb25zLmxldmVsIHx8IDA7XG4gIGNvbnN0IGludGVybmFsRm9ybWF0ID0gb3B0aW9ucy5pbnRlcm5hbEZvcm1hdCB8fCBvcHRpb25zLmZvcm1hdCB8fCBSR0JBO1xuICBjb25zdCBmb3JtYXRUeXBlID0gZ2V0Rm9ybWF0QW5kVHlwZUZvckludGVybmFsRm9ybWF0KGludGVybmFsRm9ybWF0KTtcbiAgY29uc3QgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQgfHwgZm9ybWF0VHlwZS5mb3JtYXQ7XG4gIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGUgfHwgZm9ybWF0VHlwZS50eXBlO1xuICBzZXRQYWNrU3RhdGUoZ2wsIG9wdGlvbnMpO1xuICBpZiAodGFyZ2V0ID09PSBURVhUVVJFX0NVQkVfTUFQKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDY7ICsraWkpIHtcbiAgICAgIGdsLnRleEltYWdlMkQoVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaWksIGxldmVsLCBpbnRlcm5hbEZvcm1hdCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQsIDAsIGZvcm1hdCwgdHlwZSwgbnVsbCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHRhcmdldCA9PT0gVEVYVFVSRV8zRCB8fCB0YXJnZXQgPT09IFRFWFRVUkVfMkRfQVJSQVkpIHtcbiAgICBnbC50ZXhJbWFnZTNEKHRhcmdldCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCwgb3B0aW9ucy5kZXB0aCwgMCwgZm9ybWF0LCB0eXBlLCBudWxsKTtcbiAgfSBlbHNlIHtcbiAgICBnbC50ZXhJbWFnZTJEKHRhcmdldCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCwgMCwgZm9ybWF0LCB0eXBlLCBudWxsKTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB0ZXh0dXJlIGJhc2VkIG9uIHRoZSBvcHRpb25zIHBhc3NlZCBpbi5cbiAqXG4gKiBOb3RlOiBtYXkgcmVzZXQgVU5QQUNLX0FMSUdOTUVOVCwgVU5QQUNLX1JPV19MRU5HVEgsIFVOUEFDS19JTUFHRV9IRUlHSFQsIFVOUEFDS19TS0lQX0lNQUdFU1xuICogVU5QQUNLX1NLSVBfUElYRUxTLCBhbmQgVU5QQUNLX1NLSVBfUk9XU1xuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlRleHR1cmVPcHRpb25zfSBbb3B0aW9uc10gQSBUZXh0dXJlT3B0aW9ucyBvYmplY3Qgd2l0aCB3aGF0ZXZlciBwYXJhbWV0ZXJzIHlvdSB3YW50IHNldC5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVGV4dHVyZVJlYWR5Q2FsbGJhY2t9IFtjYWxsYmFja10gQSBjYWxsYmFjayBjYWxsZWQgd2hlbiBhbiBpbWFnZSBoYXMgYmVlbiBkb3dubG9hZGVkIGFuZCB1cGxvYWRlZCB0byB0aGUgdGV4dHVyZS5cbiAqIEByZXR1cm4ge1dlYkdMVGV4dHVyZX0gdGhlIGNyZWF0ZWQgdGV4dHVyZS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC90ZXh0dXJlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVUZXh0dXJlKGdsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IG5vb3A7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IGRlZmF1bHRzJDEudGV4dHVyZU9wdGlvbnM7XG4gIGNvbnN0IHRleCA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgY29uc3QgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQgfHwgVEVYVFVSRV8yRDtcbiAgbGV0IHdpZHRoICA9IG9wdGlvbnMud2lkdGggIHx8IDE7XG4gIGxldCBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCAxO1xuICBjb25zdCBpbnRlcm5hbEZvcm1hdCA9IG9wdGlvbnMuaW50ZXJuYWxGb3JtYXQgfHwgUkdCQTtcbiAgZ2wuYmluZFRleHR1cmUodGFyZ2V0LCB0ZXgpO1xuICBpZiAodGFyZ2V0ID09PSBURVhUVVJFX0NVQkVfTUFQKSB7XG4gICAgLy8gdGhpcyBzaG91bGQgaGF2ZSBiZWVuIHRoZSBkZWZhdWx0IGZvciBjdWJlbWFwcyA6KFxuICAgIGdsLnRleFBhcmFtZXRlcmkodGFyZ2V0LCBURVhUVVJFX1dSQVBfUywgQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaSh0YXJnZXQsIFRFWFRVUkVfV1JBUF9ULCBDTEFNUF9UT19FREdFKTtcbiAgfVxuICBsZXQgc3JjID0gb3B0aW9ucy5zcmM7XG4gIGlmIChzcmMpIHtcbiAgICBpZiAodHlwZW9mIHNyYyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBzcmMgPSBzcmMoZ2wsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChzcmMpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBsb2FkVGV4dHVyZUZyb21VcmwoZ2wsIHRleCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheUJ1ZmZlciQxKHNyYykgfHxcbiAgICAgICAgICAgICAgIChBcnJheS5pc0FycmF5KHNyYykgJiYgKFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygc3JjWzBdID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KHNyY1swXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheUJ1ZmZlciQxKHNyY1swXSkpXG4gICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHNldFRleHR1cmVGcm9tQXJyYXkoZ2wsIHRleCwgc3JjLCBvcHRpb25zKTtcbiAgICAgIHdpZHRoICA9IGRpbWVuc2lvbnMud2lkdGg7XG4gICAgICBoZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3JjKSAmJiAodHlwZW9mIChzcmNbMF0pID09PSAnc3RyaW5nJyB8fCBpc1RleEltYWdlU291cmNlKHNyY1swXSkpKSB7XG4gICAgICBpZiAodGFyZ2V0ID09PSBURVhUVVJFX0NVQkVfTUFQKSB7XG4gICAgICAgIGxvYWRDdWJlbWFwRnJvbVVybHMoZ2wsIHRleCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZFNsaWNlc0Zyb21VcmxzKGdsLCB0ZXgsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBpZiAoaXNUZXhJbWFnZVNvdXJjZShzcmMpKVxuICAgICAgc2V0VGV4dHVyZUZyb21FbGVtZW50KGdsLCB0ZXgsIHNyYywgb3B0aW9ucyk7XG4gICAgICB3aWR0aCAgPSBzcmMud2lkdGg7XG4gICAgICBoZWlnaHQgPSBzcmMuaGVpZ2h0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzZXRFbXB0eVRleHR1cmUoZ2wsIHRleCwgb3B0aW9ucyk7XG4gIH1cbiAgaWYgKHNob3VsZEF1dG9tYXRpY2FsbHlTZXRUZXh0dXJlRmlsdGVyaW5nRm9yU2l6ZShvcHRpb25zKSkge1xuICAgIHNldFRleHR1cmVGaWx0ZXJpbmdGb3JTaXplKGdsLCB0ZXgsIG9wdGlvbnMsIHdpZHRoLCBoZWlnaHQsIGludGVybmFsRm9ybWF0KTtcbiAgfVxuICBzZXRUZXh0dXJlUGFyYW1ldGVycyhnbCwgdGV4LCBvcHRpb25zKTtcbiAgcmV0dXJuIHRleDtcbn1cblxuLyoqXG4gKiBSZXNpemVzIGEgdGV4dHVyZSBiYXNlZCBvbiB0aGUgb3B0aW9ucyBwYXNzZWQgaW4uXG4gKlxuICogTm90ZTogVGhpcyBpcyBub3QgYSBnZW5lcmljIHJlc2l6ZSBhbnl0aGluZyBmdW5jdGlvbi5cbiAqIEl0J3MgbW9zdGx5IHVzZWQgYnkge0BsaW5rIG1vZHVsZTp0d2dsLnJlc2l6ZUZyYW1lYnVmZmVySW5mb31cbiAqIEl0IHdpbGwgdXNlIGBvcHRpb25zLnNyY2AgaWYgaXQgZXhpc3RzIHRvIHRyeSB0byBkZXRlcm1pbmUgYSBgdHlwZWBcbiAqIG90aGVyd2lzZSBpdCB3aWxsIGFzc3VtZSBgZ2wuVU5TSUdORURfQllURWAuIE5vIGRhdGEgaXMgcHJvdmlkZWRcbiAqIGZvciB0aGUgdGV4dHVyZS4gVGV4dHVyZSBwYXJhbWV0ZXJzIHdpbGwgYmUgc2V0IGFjY29yZGluZ2x5XG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSB0ZXggdGhlIHRleHR1cmUgdG8gcmVzaXplXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlRleHR1cmVPcHRpb25zfSBvcHRpb25zIEEgVGV4dHVyZU9wdGlvbnMgb2JqZWN0IHdpdGggd2hhdGV2ZXIgcGFyYW1ldGVycyB5b3Ugd2FudCBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSB0aGUgbmV3IHdpZHRoLiBJZiBub3QgcGFzc2VkIGluIHdpbGwgdXNlIGBvcHRpb25zLndpZHRoYFxuICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHRdIHRoZSBuZXcgaGVpZ2h0LiBJZiBub3QgcGFzc2VkIGluIHdpbGwgdXNlIGBvcHRpb25zLmhlaWdodGBcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGhdIHRoZSBuZXcgZGVwdGguIElmIG5vdCBwYXNzZWQgaW4gd2lsbCB1c2UgYG9wdGlvbnMuZGVwdGhgXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdGV4dHVyZXNcbiAqL1xuZnVuY3Rpb24gcmVzaXplVGV4dHVyZShnbCwgdGV4LCBvcHRpb25zLCB3aWR0aCwgaGVpZ2h0LCBkZXB0aCkge1xuICB3aWR0aCA9IHdpZHRoIHx8IG9wdGlvbnMud2lkdGg7XG4gIGhlaWdodCA9IGhlaWdodCB8fCBvcHRpb25zLmhlaWdodDtcbiAgZGVwdGggPSBkZXB0aCB8fCBvcHRpb25zLmRlcHRoO1xuICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldCB8fCBURVhUVVJFXzJEO1xuICBnbC5iaW5kVGV4dHVyZSh0YXJnZXQsIHRleCk7XG4gIGNvbnN0IGxldmVsID0gb3B0aW9ucy5sZXZlbCB8fCAwO1xuICBjb25zdCBpbnRlcm5hbEZvcm1hdCA9IG9wdGlvbnMuaW50ZXJuYWxGb3JtYXQgfHwgb3B0aW9ucy5mb3JtYXQgfHwgUkdCQTtcbiAgY29uc3QgZm9ybWF0VHlwZSA9IGdldEZvcm1hdEFuZFR5cGVGb3JJbnRlcm5hbEZvcm1hdChpbnRlcm5hbEZvcm1hdCk7XG4gIGNvbnN0IGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0IHx8IGZvcm1hdFR5cGUuZm9ybWF0O1xuICBsZXQgdHlwZTtcbiAgY29uc3Qgc3JjID0gb3B0aW9ucy5zcmM7XG4gIGlmICghc3JjKSB7XG4gICAgdHlwZSA9IG9wdGlvbnMudHlwZSB8fCBmb3JtYXRUeXBlLnR5cGU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheUJ1ZmZlciQxKHNyYykgfHwgKEFycmF5LmlzQXJyYXkoc3JjKSAmJiB0eXBlb2YgKHNyY1swXSkgPT09ICdudW1iZXInKSkge1xuICAgIHR5cGUgPSBvcHRpb25zLnR5cGUgfHwgZ2V0VGV4dHVyZVR5cGVGb3JBcnJheVR5cGUoZ2wsIHNyYywgZm9ybWF0VHlwZS50eXBlKTtcbiAgfSBlbHNlIHtcbiAgICB0eXBlID0gb3B0aW9ucy50eXBlIHx8IGZvcm1hdFR5cGUudHlwZTtcbiAgfVxuICBpZiAodGFyZ2V0ID09PSBURVhUVVJFX0NVQkVfTUFQKSB7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDY7ICsraWkpIHtcbiAgICAgIGdsLnRleEltYWdlMkQoVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaWksIGxldmVsLCBpbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgMCwgZm9ybWF0LCB0eXBlLCBudWxsKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGFyZ2V0ID09PSBURVhUVVJFXzNEIHx8IHRhcmdldCA9PT0gVEVYVFVSRV8yRF9BUlJBWSkge1xuICAgIGdsLnRleEltYWdlM0QodGFyZ2V0LCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIGRlcHRoLCAwLCBmb3JtYXQsIHR5cGUsIG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGdsLnRleEltYWdlMkQodGFyZ2V0LCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIGZvcm1hdCwgdHlwZSwgbnVsbCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHNyYyBpcyBhbiBhc3luYyByZXF1ZXN0LlxuICogaWYgc3JjIGlzIGEgc3RyaW5nIHdlJ3JlIGdvaW5nIHRvIGRvd25sb2FkIGFuIGltYWdlXG4gKiBpZiBzcmMgaXMgYW4gYXJyYXkgb2Ygc3RyaW5ncyB3ZSdyZSBnb2luZyB0byBkb3dubG9hZCBjdWJlbWFwIGltYWdlc1xuICogQHBhcmFtIHsqfSBzcmMgVGhlIHNyYyBmcm9tIGEgVGV4dHVyZU9wdGlvbnNcbiAqIEByZXR1cm5zIHtib29sfSB0cnVlIGlmIHNyYyBpcyBhc3luYy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzQXN5bmNTcmMoc3JjKSB7XG4gIHJldHVybiB0eXBlb2Ygc3JjID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgKEFycmF5LmlzQXJyYXkoc3JjKSAmJiB0eXBlb2Ygc3JjWzBdID09PSAnc3RyaW5nJyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGJ1bmNoIG9mIHRleHR1cmVzIGJhc2VkIG9uIHRoZSBwYXNzZWQgaW4gb3B0aW9ucy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBjb25zdCB0ZXh0dXJlcyA9IHR3Z2wuY3JlYXRlVGV4dHVyZXMoZ2wsIHtcbiAqICAgICAgIC8vIGEgcG93ZXIgb2YgMiBpbWFnZVxuICogICAgICAgaGZ0SWNvbjogeyBzcmM6IFwiaW1hZ2VzL2hmdC1pY29uLTE2LnBuZ1wiLCBtYWc6IGdsLk5FQVJFU1QgfSxcbiAqICAgICAgIC8vIGEgbm9uLXBvd2VyIG9mIDIgaW1hZ2VcbiAqICAgICAgIGNsb3ZlcjogeyBzcmM6IFwiaW1hZ2VzL2Nsb3Zlci5qcGdcIiB9LFxuICogICAgICAgLy8gRnJvbSBhIGNhbnZhc1xuICogICAgICAgZnJvbUNhbnZhczogeyBzcmM6IGN0eC5jYW52YXMgfSxcbiAqICAgICAgIC8vIEEgY3ViZW1hcCBmcm9tIDYgaW1hZ2VzXG4gKiAgICAgICB5b2tvaGFtYToge1xuICogICAgICAgICB0YXJnZXQ6IGdsLlRFWFRVUkVfQ1VCRV9NQVAsXG4gKiAgICAgICAgIHNyYzogW1xuICogICAgICAgICAgICdpbWFnZXMveW9rb2hhbWEvcG9zeC5qcGcnLFxuICogICAgICAgICAgICdpbWFnZXMveW9rb2hhbWEvbmVneC5qcGcnLFxuICogICAgICAgICAgICdpbWFnZXMveW9rb2hhbWEvcG9zeS5qcGcnLFxuICogICAgICAgICAgICdpbWFnZXMveW9rb2hhbWEvbmVneS5qcGcnLFxuICogICAgICAgICAgICdpbWFnZXMveW9rb2hhbWEvcG9zei5qcGcnLFxuICogICAgICAgICAgICdpbWFnZXMveW9rb2hhbWEvbmVnei5qcGcnLFxuICogICAgICAgICBdLFxuICogICAgICAgfSxcbiAqICAgICAgIC8vIEEgY3ViZW1hcCBmcm9tIDEgaW1hZ2UgKGNhbiBiZSAxeDYsIDJ4MywgM3gyLCA2eDEpXG4gKiAgICAgICBnb2xkZW5nYXRlOiB7XG4gKiAgICAgICAgIHRhcmdldDogZ2wuVEVYVFVSRV9DVUJFX01BUCxcbiAqICAgICAgICAgc3JjOiAnaW1hZ2VzL2dvbGRlbmdhdGUuanBnJyxcbiAqICAgICAgIH0sXG4gKiAgICAgICAvLyBBIDJ4MiBwaXhlbCB0ZXh0dXJlIGZyb20gYSBKYXZhU2NyaXB0IGFycmF5XG4gKiAgICAgICBjaGVja2VyOiB7XG4gKiAgICAgICAgIG1hZzogZ2wuTkVBUkVTVCxcbiAqICAgICAgICAgbWluOiBnbC5MSU5FQVIsXG4gKiAgICAgICAgIHNyYzogW1xuICogICAgICAgICAgIDI1NSwyNTUsMjU1LDI1NSxcbiAqICAgICAgICAgICAxOTIsMTkyLDE5MiwyNTUsXG4gKiAgICAgICAgICAgMTkyLDE5MiwxOTIsMjU1LFxuICogICAgICAgICAgIDI1NSwyNTUsMjU1LDI1NSxcbiAqICAgICAgICAgXSxcbiAqICAgICAgIH0sXG4gKiAgICAgICAvLyBhIDF4MiBwaXhlbCB0ZXh0dXJlIGZyb20gYSB0eXBlZCBhcnJheS5cbiAqICAgICAgIHN0cmlwZToge1xuICogICAgICAgICBtYWc6IGdsLk5FQVJFU1QsXG4gKiAgICAgICAgIG1pbjogZ2wuTElORUFSLFxuICogICAgICAgICBmb3JtYXQ6IGdsLkxVTUlOQU5DRSxcbiAqICAgICAgICAgc3JjOiBuZXcgVWludDhBcnJheShbXG4gKiAgICAgICAgICAgMjU1LFxuICogICAgICAgICAgIDEyOCxcbiAqICAgICAgICAgICAyNTUsXG4gKiAgICAgICAgICAgMTI4LFxuICogICAgICAgICAgIDI1NSxcbiAqICAgICAgICAgICAxMjgsXG4gKiAgICAgICAgICAgMjU1LFxuICogICAgICAgICAgIDEyOCxcbiAqICAgICAgICAgXSksXG4gKiAgICAgICAgIHdpZHRoOiAxLFxuICogICAgICAgfSxcbiAqICAgICB9KTtcbiAqXG4gKiBOb3dcbiAqXG4gKiAqICAgYHRleHR1cmVzLmhmdEljb25gIHdpbGwgYmUgYSAyZCB0ZXh0dXJlXG4gKiAqICAgYHRleHR1cmVzLmNsb3ZlcmAgd2lsbCBiZSBhIDJkIHRleHR1cmVcbiAqICogICBgdGV4dHVyZXMuZnJvbUNhbnZhc2Agd2lsbCBiZSBhIDJkIHRleHR1cmVcbiAqICogICBgdGV4dHVyZXMueW9ob2hhbWFgIHdpbGwgYmUgYSBjdWJlbWFwIHRleHR1cmVcbiAqICogICBgdGV4dHVyZXMuZ29sZGVuZ2F0ZWAgd2lsbCBiZSBhIGN1YmVtYXAgdGV4dHVyZVxuICogKiAgIGB0ZXh0dXJlcy5jaGVja2VyYCB3aWxsIGJlIGEgMmQgdGV4dHVyZVxuICogKiAgIGB0ZXh0dXJlcy5zdHJpcGVgIHdpbGwgYmUgYSAyZCB0ZXh0dXJlXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsbW9kdWxlOnR3Z2wuVGV4dHVyZU9wdGlvbnM+fSBvcHRpb25zIEEgb2JqZWN0IG9mIFRleHR1cmVPcHRpb25zIG9uZSBwZXIgdGV4dHVyZS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVGV4dHVyZXNSZWFkeUNhbGxiYWNrfSBbY2FsbGJhY2tdIEEgY2FsbGJhY2sgY2FsbGVkIHdoZW4gYWxsIHRleHR1cmVzIGhhdmUgYmVlbiBkb3dubG9hZGVkLlxuICogQHJldHVybiB7T2JqZWN0LjxzdHJpbmcsV2ViR0xUZXh0dXJlPn0gdGhlIGNyZWF0ZWQgdGV4dHVyZXMgYnkgbmFtZVxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3RleHR1cmVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRleHR1cmVzKGdsLCB0ZXh0dXJlT3B0aW9ucywgY2FsbGJhY2spIHtcbiAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wO1xuICBsZXQgbnVtRG93bmxvYWRpbmcgPSAwO1xuICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgY29uc3QgdGV4dHVyZXMgPSB7fTtcbiAgY29uc3QgaW1hZ2VzID0ge307XG5cbiAgZnVuY3Rpb24gY2FsbENhbGxiYWNrSWZSZWFkeSgpIHtcbiAgICBpZiAobnVtRG93bmxvYWRpbmcgPT09IDApIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9ycy5sZW5ndGggPyBlcnJvcnMgOiB1bmRlZmluZWQsIHRleHR1cmVzLCBpbWFnZXMpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXModGV4dHVyZU9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0ZXh0dXJlT3B0aW9uc1tuYW1lXTtcbiAgICBsZXQgb25Mb2FkRm47XG4gICAgaWYgKGlzQXN5bmNTcmMob3B0aW9ucy5zcmMpKSB7XG4gICAgICBvbkxvYWRGbiA9IGZ1bmN0aW9uKGVyciwgdGV4LCBpbWcpIHtcbiAgICAgICAgaW1hZ2VzW25hbWVdID0gaW1nO1xuICAgICAgICAtLW51bURvd25sb2FkaW5nO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsQ2FsbGJhY2tJZlJlYWR5KCk7XG4gICAgICB9O1xuICAgICAgKytudW1Eb3dubG9hZGluZztcbiAgICB9XG4gICAgdGV4dHVyZXNbbmFtZV0gPSBjcmVhdGVUZXh0dXJlKGdsLCBvcHRpb25zLCBvbkxvYWRGbik7XG4gIH0pO1xuXG4gIC8vIHF1ZXVlIHRoZSBjYWxsYmFjayBpZiB0aGVyZSBhcmUgbm8gaW1hZ2VzIHRvIGRvd25sb2FkLlxuICAvLyBXZSBkbyB0aGlzIGJlY2F1c2UgaWYgeW91ciBjb2RlIGlzIHN0cnVjdHVyZWQgdG8gd2FpdCBmb3JcbiAgLy8gaW1hZ2VzIHRvIGRvd25sb2FkIGJ1dCB0aGVuIHlvdSBjb21tZW50IG91dCBhbGwgdGhlIGFzeW5jXG4gIC8vIGltYWdlcyB5b3VyIGNvZGUgd291bGQgYnJlYWsuXG4gIGNhbGxDYWxsYmFja0lmUmVhZHkoKTtcblxuICByZXR1cm4gdGV4dHVyZXM7XG59XG5cbnZhciB0ZXh0dXJlcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBzZXRUZXh0dXJlRGVmYXVsdHNfOiBzZXREZWZhdWx0cyQxLFxuICBjcmVhdGVTYW1wbGVyOiBjcmVhdGVTYW1wbGVyLFxuICBjcmVhdGVTYW1wbGVyczogY3JlYXRlU2FtcGxlcnMsXG4gIHNldFNhbXBsZXJQYXJhbWV0ZXJzOiBzZXRTYW1wbGVyUGFyYW1ldGVycyxcbiAgY3JlYXRlVGV4dHVyZTogY3JlYXRlVGV4dHVyZSxcbiAgc2V0RW1wdHlUZXh0dXJlOiBzZXRFbXB0eVRleHR1cmUsXG4gIHNldFRleHR1cmVGcm9tQXJyYXk6IHNldFRleHR1cmVGcm9tQXJyYXksXG4gIGxvYWRUZXh0dXJlRnJvbVVybDogbG9hZFRleHR1cmVGcm9tVXJsLFxuICBzZXRUZXh0dXJlRnJvbUVsZW1lbnQ6IHNldFRleHR1cmVGcm9tRWxlbWVudCxcbiAgc2V0VGV4dHVyZUZpbHRlcmluZ0ZvclNpemU6IHNldFRleHR1cmVGaWx0ZXJpbmdGb3JTaXplLFxuICBzZXRUZXh0dXJlUGFyYW1ldGVyczogc2V0VGV4dHVyZVBhcmFtZXRlcnMsXG4gIHNldERlZmF1bHRUZXh0dXJlQ29sb3I6IHNldERlZmF1bHRUZXh0dXJlQ29sb3IsXG4gIGNyZWF0ZVRleHR1cmVzOiBjcmVhdGVUZXh0dXJlcyxcbiAgcmVzaXplVGV4dHVyZTogcmVzaXplVGV4dHVyZSxcbiAgY2FuR2VuZXJhdGVNaXBtYXA6IGNhbkdlbmVyYXRlTWlwbWFwLFxuICBjYW5GaWx0ZXI6IGNhbkZpbHRlcixcbiAgZ2V0TnVtQ29tcG9uZW50c0ZvckZvcm1hdDogZ2V0TnVtQ29tcG9uZW50c0ZvckZvcm1hdCxcbiAgZ2V0Qnl0ZXNQZXJFbGVtZW50Rm9ySW50ZXJuYWxGb3JtYXQ6IGdldEJ5dGVzUGVyRWxlbWVudEZvckludGVybmFsRm9ybWF0LFxuICBnZXRGb3JtYXRBbmRUeXBlRm9ySW50ZXJuYWxGb3JtYXQ6IGdldEZvcm1hdEFuZFR5cGVGb3JJbnRlcm5hbEZvcm1hdFxufSk7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBHcmVnZyBUYXZhcmVzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSxcbiAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb25cbiAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLFxuICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4gKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTFxuICogVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuLyoqXG4gKiBMb3cgbGV2ZWwgc2hhZGVyIHByb2dyYW0gcmVsYXRlZCBmdW5jdGlvbnNcbiAqXG4gKiBZb3Ugc2hvdWxkIGdlbmVyYWxseSBub3QgbmVlZCB0byB1c2UgdGhlc2UgZnVuY3Rpb25zLiBUaGV5IGFyZSBwcm92aWRlZFxuICogZm9yIHRob3NlIGNhc2VzIHdoZXJlIHlvdSdyZSBkb2luZyBzb21ldGhpbmcgb3V0IG9mIHRoZSBvcmRpbmFyeVxuICogYW5kIHlvdSBuZWVkIGxvd2VyIGxldmVsIGFjY2Vzcy5cbiAqXG4gKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB0aGV5IGFyZSBhdmFpbGFibGUgYXQgYm90aCBgdHdnbC5wcm9ncmFtc2AgYW5kIGB0d2dsYFxuICogaXRzZWxmXG4gKlxuICogU2VlIHtAbGluayBtb2R1bGU6dHdnbH0gZm9yIGNvcmUgZnVuY3Rpb25zXG4gKlxuICogQG1vZHVsZSB0d2dsL3Byb2dyYW1zXG4gKi9cblxuY29uc3QgZXJyb3IkMSA9IGVycm9yO1xuY29uc3Qgd2FybiQxID0gd2FybjtcbmZ1bmN0aW9uIGdldEVsZW1lbnRCeUlkKGlkKSB7XG4gIHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZClcbiAgICAgID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpXG4gICAgICA6IG51bGw7XG59XG5cbmNvbnN0IFRFWFRVUkUwICAgICAgICAgICAgICAgICAgICAgICA9IDB4ODRjMDtcbmNvbnN0IERZTkFNSUNfRFJBVyAgICAgICAgICAgICAgICAgICA9IDB4ODhlODtcblxuY29uc3QgQVJSQVlfQlVGRkVSJDEgICAgICAgICAgICAgICAgICAgPSAweDg4OTI7XG5jb25zdCBFTEVNRU5UX0FSUkFZX0JVRkZFUiQxICAgICAgICAgICA9IDB4ODg5MztcbmNvbnN0IFVOSUZPUk1fQlVGRkVSICAgICAgICAgICAgICAgICA9IDB4OGExMTtcbmNvbnN0IFRSQU5TRk9STV9GRUVEQkFDS19CVUZGRVIgICAgICA9IDB4OGM4ZTtcblxuY29uc3QgVFJBTlNGT1JNX0ZFRURCQUNLICAgICAgICAgICAgID0gMHg4ZTIyO1xuXG5jb25zdCBDT01QSUxFX1NUQVRVUyAgICAgICAgICAgICAgICAgPSAweDhiODE7XG5jb25zdCBMSU5LX1NUQVRVUyAgICAgICAgICAgICAgICAgICAgPSAweDhiODI7XG5jb25zdCBGUkFHTUVOVF9TSEFERVIgICAgICAgICAgICAgICAgPSAweDhiMzA7XG5jb25zdCBWRVJURVhfU0hBREVSICAgICAgICAgICAgICAgICAgPSAweDhiMzE7XG5jb25zdCBTRVBBUkFURV9BVFRSSUJTICAgICAgICAgICAgICAgPSAweDhjOGQ7XG5cbmNvbnN0IEFDVElWRV9VTklGT1JNUyAgICAgICAgICAgICAgICA9IDB4OGI4NjtcbmNvbnN0IEFDVElWRV9BVFRSSUJVVEVTICAgICAgICAgICAgICA9IDB4OGI4OTtcbmNvbnN0IFRSQU5TRk9STV9GRUVEQkFDS19WQVJZSU5HUyAgICA9IDB4OGM4MztcbmNvbnN0IEFDVElWRV9VTklGT1JNX0JMT0NLUyAgICAgICAgICA9IDB4OGEzNjtcbmNvbnN0IFVOSUZPUk1fQkxPQ0tfUkVGRVJFTkNFRF9CWV9WRVJURVhfU0hBREVSICAgPSAweDhhNDQ7XG5jb25zdCBVTklGT1JNX0JMT0NLX1JFRkVSRU5DRURfQllfRlJBR01FTlRfU0hBREVSID0gMHg4YTQ2O1xuY29uc3QgVU5JRk9STV9CTE9DS19EQVRBX1NJWkUgICAgICAgICAgICAgICAgICAgICA9IDB4OGE0MDtcbmNvbnN0IFVOSUZPUk1fQkxPQ0tfQUNUSVZFX1VOSUZPUk1fSU5ESUNFUyAgICAgICAgPSAweDhhNDM7XG5cbmNvbnN0IEZMT0FUJDMgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDE0MDY7XG5jb25zdCBGTE9BVF9WRUMyICAgICAgICAgICAgICAgICAgICA9IDB4OEI1MDtcbmNvbnN0IEZMT0FUX1ZFQzMgICAgICAgICAgICAgICAgICAgID0gMHg4QjUxO1xuY29uc3QgRkxPQVRfVkVDNCAgICAgICAgICAgICAgICAgICAgPSAweDhCNTI7XG5jb25zdCBJTlQkMyAgICAgICAgICAgICAgICAgICAgICAgICAgID0gMHgxNDA0O1xuY29uc3QgSU5UX1ZFQzIgICAgICAgICAgICAgICAgICAgICAgPSAweDhCNTM7XG5jb25zdCBJTlRfVkVDMyAgICAgICAgICAgICAgICAgICAgICA9IDB4OEI1NDtcbmNvbnN0IElOVF9WRUM0ICAgICAgICAgICAgICAgICAgICAgID0gMHg4QjU1O1xuY29uc3QgQk9PTCAgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDhCNTY7XG5jb25zdCBCT09MX1ZFQzIgICAgICAgICAgICAgICAgICAgICA9IDB4OEI1NztcbmNvbnN0IEJPT0xfVkVDMyAgICAgICAgICAgICAgICAgICAgID0gMHg4QjU4O1xuY29uc3QgQk9PTF9WRUM0ICAgICAgICAgICAgICAgICAgICAgPSAweDhCNTk7XG5jb25zdCBGTE9BVF9NQVQyICAgICAgICAgICAgICAgICAgICA9IDB4OEI1QTtcbmNvbnN0IEZMT0FUX01BVDMgICAgICAgICAgICAgICAgICAgID0gMHg4QjVCO1xuY29uc3QgRkxPQVRfTUFUNCAgICAgICAgICAgICAgICAgICAgPSAweDhCNUM7XG5jb25zdCBTQU1QTEVSXzJEICAgICAgICAgICAgICAgICAgICA9IDB4OEI1RTtcbmNvbnN0IFNBTVBMRVJfQ1VCRSAgICAgICAgICAgICAgICAgID0gMHg4QjYwO1xuY29uc3QgU0FNUExFUl8zRCAgICAgICAgICAgICAgICAgICAgPSAweDhCNUY7XG5jb25zdCBTQU1QTEVSXzJEX1NIQURPVyAgICAgICAgICAgICA9IDB4OEI2MjtcbmNvbnN0IEZMT0FUX01BVDJ4MyAgICAgICAgICAgICAgICAgID0gMHg4QjY1O1xuY29uc3QgRkxPQVRfTUFUMng0ICAgICAgICAgICAgICAgICAgPSAweDhCNjY7XG5jb25zdCBGTE9BVF9NQVQzeDIgICAgICAgICAgICAgICAgICA9IDB4OEI2NztcbmNvbnN0IEZMT0FUX01BVDN4NCAgICAgICAgICAgICAgICAgID0gMHg4QjY4O1xuY29uc3QgRkxPQVRfTUFUNHgyICAgICAgICAgICAgICAgICAgPSAweDhCNjk7XG5jb25zdCBGTE9BVF9NQVQ0eDMgICAgICAgICAgICAgICAgICA9IDB4OEI2QTtcbmNvbnN0IFNBTVBMRVJfMkRfQVJSQVkgICAgICAgICAgICAgID0gMHg4REMxO1xuY29uc3QgU0FNUExFUl8yRF9BUlJBWV9TSEFET1cgICAgICAgPSAweDhEQzQ7XG5jb25zdCBTQU1QTEVSX0NVQkVfU0hBRE9XICAgICAgICAgICA9IDB4OERDNTtcbmNvbnN0IFVOU0lHTkVEX0lOVCQzICAgICAgICAgICAgICAgICAgPSAweDE0MDU7XG5jb25zdCBVTlNJR05FRF9JTlRfVkVDMiAgICAgICAgICAgICA9IDB4OERDNjtcbmNvbnN0IFVOU0lHTkVEX0lOVF9WRUMzICAgICAgICAgICAgID0gMHg4REM3O1xuY29uc3QgVU5TSUdORURfSU5UX1ZFQzQgICAgICAgICAgICAgPSAweDhEQzg7XG5jb25zdCBJTlRfU0FNUExFUl8yRCAgICAgICAgICAgICAgICA9IDB4OERDQTtcbmNvbnN0IElOVF9TQU1QTEVSXzNEICAgICAgICAgICAgICAgID0gMHg4RENCO1xuY29uc3QgSU5UX1NBTVBMRVJfQ1VCRSAgICAgICAgICAgICAgPSAweDhEQ0M7XG5jb25zdCBJTlRfU0FNUExFUl8yRF9BUlJBWSAgICAgICAgICA9IDB4OERDRjtcbmNvbnN0IFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEICAgICAgID0gMHg4REQyO1xuY29uc3QgVU5TSUdORURfSU5UX1NBTVBMRVJfM0QgICAgICAgPSAweDhERDM7XG5jb25zdCBVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFICAgICA9IDB4OERENDtcbmNvbnN0IFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEX0FSUkFZID0gMHg4REQ3O1xuXG5jb25zdCBURVhUVVJFXzJEJDEgICAgICAgICAgICAgICAgICAgID0gMHgwREUxO1xuY29uc3QgVEVYVFVSRV9DVUJFX01BUCQxICAgICAgICAgICAgICA9IDB4ODUxMztcbmNvbnN0IFRFWFRVUkVfM0QkMSAgICAgICAgICAgICAgICAgICAgPSAweDgwNkY7XG5jb25zdCBURVhUVVJFXzJEX0FSUkFZJDEgICAgICAgICAgICAgID0gMHg4QzFBO1xuXG5jb25zdCB0eXBlTWFwID0ge307XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBiaW5kIHBvaW50IGZvciBhIGdpdmVuIHNhbXBsZXIgdHlwZVxuICovXG5mdW5jdGlvbiBnZXRCaW5kUG9pbnRGb3JTYW1wbGVyVHlwZShnbCwgdHlwZSkge1xuICByZXR1cm4gdHlwZU1hcFt0eXBlXS5iaW5kUG9pbnQ7XG59XG5cbi8vIFRoaXMga2luZCBvZiBzdWNrcyEgSWYgeW91IGNvdWxkIGNvbXBvc2UgZnVuY3Rpb25zIGFzIGluIGB2YXIgZm4gPSBnbFtuYW1lXTtgXG4vLyB0aGlzIGNvZGUgY291bGQgYmUgYSBsb3Qgc21hbGxlciBidXQgdGhhdCBpcyBzYWRseSByZWFsbHkgc2xvdyAoVF9UKVxuXG5mdW5jdGlvbiBmbG9hdFNldHRlcihnbCwgbG9jYXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHYpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmbG9hdEFycmF5U2V0dGVyKGdsLCBsb2NhdGlvbikge1xuICByZXR1cm4gZnVuY3Rpb24odikge1xuICAgIGdsLnVuaWZvcm0xZnYobG9jYXRpb24sIHYpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmbG9hdFZlYzJTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybTJmdihsb2NhdGlvbiwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0VmVjM1NldHRlcihnbCwgbG9jYXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICBnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmxvYXRWZWM0U2V0dGVyKGdsLCBsb2NhdGlvbikge1xuICByZXR1cm4gZnVuY3Rpb24odikge1xuICAgIGdsLnVuaWZvcm00ZnYobG9jYXRpb24sIHYpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpbnRTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaW50QXJyYXlTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludFZlYzJTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludFZlYzNTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGludFZlYzRTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVpbnRTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybTF1aShsb2NhdGlvbiwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVpbnRBcnJheVNldHRlcihnbCwgbG9jYXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICBnbC51bmlmb3JtMXVpdihsb2NhdGlvbiwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVpbnRWZWMyU2V0dGVyKGdsLCBsb2NhdGlvbikge1xuICByZXR1cm4gZnVuY3Rpb24odikge1xuICAgIGdsLnVuaWZvcm0ydWl2KGxvY2F0aW9uLCB2KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdWludFZlYzNTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybTN1aXYobG9jYXRpb24sIHYpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB1aW50VmVjNFNldHRlcihnbCwgbG9jYXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICBnbC51bmlmb3JtNHVpdihsb2NhdGlvbiwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0TWF0MlNldHRlcihnbCwgbG9jYXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICBnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0TWF0M1NldHRlcihnbCwgbG9jYXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICBnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0TWF0NFNldHRlcihnbCwgbG9jYXRpb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHYpIHtcbiAgICBnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0TWF0MjNTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDJ4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0TWF0MzJTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDN4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0TWF0MjRTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDJ4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0TWF0NDJTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDR4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0TWF0MzRTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDN4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsb2F0TWF0NDNTZXR0ZXIoZ2wsIGxvY2F0aW9uKSB7XG4gIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgZ2wudW5pZm9ybU1hdHJpeDR4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNhbXBsZXJTZXR0ZXIoZ2wsIHR5cGUsIHVuaXQsIGxvY2F0aW9uKSB7XG4gIGNvbnN0IGJpbmRQb2ludCA9IGdldEJpbmRQb2ludEZvclNhbXBsZXJUeXBlKGdsLCB0eXBlKTtcbiAgcmV0dXJuIGlzV2ViR0wyKGdsKSA/IGZ1bmN0aW9uKHRleHR1cmVPclBhaXIpIHtcbiAgICBsZXQgdGV4dHVyZTtcbiAgICBsZXQgc2FtcGxlcjtcbiAgICBpZiAoaXNUZXh0dXJlKGdsLCB0ZXh0dXJlT3JQYWlyKSkge1xuICAgICAgdGV4dHVyZSA9IHRleHR1cmVPclBhaXI7XG4gICAgICBzYW1wbGVyID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dHVyZSA9IHRleHR1cmVPclBhaXIudGV4dHVyZTtcbiAgICAgIHNhbXBsZXIgPSB0ZXh0dXJlT3JQYWlyLnNhbXBsZXI7XG4gICAgfVxuICAgIGdsLnVuaWZvcm0xaShsb2NhdGlvbiwgdW5pdCk7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShURVhUVVJFMCArIHVuaXQpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGJpbmRQb2ludCwgdGV4dHVyZSk7XG4gICAgZ2wuYmluZFNhbXBsZXIodW5pdCwgc2FtcGxlcik7XG4gIH0gOiBmdW5jdGlvbih0ZXh0dXJlKSB7XG4gICAgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB1bml0KTtcbiAgICBnbC5hY3RpdmVUZXh0dXJlKFRFWFRVUkUwICsgdW5pdCk7XG4gICAgZ2wuYmluZFRleHR1cmUoYmluZFBvaW50LCB0ZXh0dXJlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2FtcGxlckFycmF5U2V0dGVyKGdsLCB0eXBlLCB1bml0LCBsb2NhdGlvbiwgc2l6ZSkge1xuICBjb25zdCBiaW5kUG9pbnQgPSBnZXRCaW5kUG9pbnRGb3JTYW1wbGVyVHlwZShnbCwgdHlwZSk7XG4gIGNvbnN0IHVuaXRzID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBzaXplOyArK2lpKSB7XG4gICAgdW5pdHNbaWldID0gdW5pdCArIGlpO1xuICB9XG5cbiAgcmV0dXJuIGlzV2ViR0wyKGdsKSA/IGZ1bmN0aW9uKHRleHR1cmVzKSB7XG4gICAgZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdW5pdHMpO1xuICAgIHRleHR1cmVzLmZvckVhY2goZnVuY3Rpb24odGV4dHVyZU9yUGFpciwgaW5kZXgpIHtcbiAgICAgIGdsLmFjdGl2ZVRleHR1cmUoVEVYVFVSRTAgKyB1bml0c1tpbmRleF0pO1xuICAgICAgbGV0IHRleHR1cmU7XG4gICAgICBsZXQgc2FtcGxlcjtcbiAgICAgIGlmIChpc1RleHR1cmUoZ2wsIHRleHR1cmVPclBhaXIpKSB7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlT3JQYWlyO1xuICAgICAgICBzYW1wbGVyID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlT3JQYWlyLnRleHR1cmU7XG4gICAgICAgIHNhbXBsZXIgPSB0ZXh0dXJlT3JQYWlyLnNhbXBsZXI7XG4gICAgICB9XG4gICAgICBnbC5iaW5kU2FtcGxlcih1bml0LCBzYW1wbGVyKTtcbiAgICAgIGdsLmJpbmRUZXh0dXJlKGJpbmRQb2ludCwgdGV4dHVyZSk7XG4gICAgfSk7XG4gIH0gOiBmdW5jdGlvbih0ZXh0dXJlcykge1xuICAgIGdsLnVuaWZvcm0xaXYobG9jYXRpb24sIHVuaXRzKTtcbiAgICB0ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHRleHR1cmUsIGluZGV4KSB7XG4gICAgICBnbC5hY3RpdmVUZXh0dXJlKFRFWFRVUkUwICsgdW5pdHNbaW5kZXhdKTtcbiAgICAgIGdsLmJpbmRUZXh0dXJlKGJpbmRQb2ludCwgdGV4dHVyZSk7XG4gICAgfSk7XG4gIH07XG59XG5cbnR5cGVNYXBbRkxPQVQkM10gICAgICAgICAgICAgICAgICAgICAgICAgPSB7IFR5cGU6IEZsb2F0MzJBcnJheSwgc2l6ZTogIDQsIHNldHRlcjogZmxvYXRTZXR0ZXIsICAgICAgYXJyYXlTZXR0ZXI6IGZsb2F0QXJyYXlTZXR0ZXIsIH07XG50eXBlTWFwW0ZMT0FUX1ZFQzJdICAgICAgICAgICAgICAgICAgICA9IHsgVHlwZTogRmxvYXQzMkFycmF5LCBzaXplOiAgOCwgc2V0dGVyOiBmbG9hdFZlYzJTZXR0ZXIsICBjb2xzOiAyLCB9O1xudHlwZU1hcFtGTE9BVF9WRUMzXSAgICAgICAgICAgICAgICAgICAgPSB7IFR5cGU6IEZsb2F0MzJBcnJheSwgc2l6ZTogMTIsIHNldHRlcjogZmxvYXRWZWMzU2V0dGVyLCAgY29sczogMywgfTtcbnR5cGVNYXBbRkxPQVRfVkVDNF0gICAgICAgICAgICAgICAgICAgID0geyBUeXBlOiBGbG9hdDMyQXJyYXksIHNpemU6IDE2LCBzZXR0ZXI6IGZsb2F0VmVjNFNldHRlciwgIGNvbHM6IDQsIH07XG50eXBlTWFwW0lOVCQzXSAgICAgICAgICAgICAgICAgICAgICAgICAgID0geyBUeXBlOiBJbnQzMkFycmF5LCAgIHNpemU6ICA0LCBzZXR0ZXI6IGludFNldHRlciwgICAgICAgIGFycmF5U2V0dGVyOiBpbnRBcnJheVNldHRlciwgfTtcbnR5cGVNYXBbSU5UX1ZFQzJdICAgICAgICAgICAgICAgICAgICAgID0geyBUeXBlOiBJbnQzMkFycmF5LCAgIHNpemU6ICA4LCBzZXR0ZXI6IGludFZlYzJTZXR0ZXIsICAgIGNvbHM6IDIsIH07XG50eXBlTWFwW0lOVF9WRUMzXSAgICAgICAgICAgICAgICAgICAgICA9IHsgVHlwZTogSW50MzJBcnJheSwgICBzaXplOiAxMiwgc2V0dGVyOiBpbnRWZWMzU2V0dGVyLCAgICBjb2xzOiAzLCB9O1xudHlwZU1hcFtJTlRfVkVDNF0gICAgICAgICAgICAgICAgICAgICAgPSB7IFR5cGU6IEludDMyQXJyYXksICAgc2l6ZTogMTYsIHNldHRlcjogaW50VmVjNFNldHRlciwgICAgY29sczogNCwgfTtcbnR5cGVNYXBbVU5TSUdORURfSU5UJDNdICAgICAgICAgICAgICAgICAgPSB7IFR5cGU6IFVpbnQzMkFycmF5LCAgc2l6ZTogIDQsIHNldHRlcjogdWludFNldHRlciwgICAgICAgYXJyYXlTZXR0ZXI6IHVpbnRBcnJheVNldHRlciwgfTtcbnR5cGVNYXBbVU5TSUdORURfSU5UX1ZFQzJdICAgICAgICAgICAgID0geyBUeXBlOiBVaW50MzJBcnJheSwgIHNpemU6ICA4LCBzZXR0ZXI6IHVpbnRWZWMyU2V0dGVyLCAgIGNvbHM6IDIsIH07XG50eXBlTWFwW1VOU0lHTkVEX0lOVF9WRUMzXSAgICAgICAgICAgICA9IHsgVHlwZTogVWludDMyQXJyYXksICBzaXplOiAxMiwgc2V0dGVyOiB1aW50VmVjM1NldHRlciwgICBjb2xzOiAzLCB9O1xudHlwZU1hcFtVTlNJR05FRF9JTlRfVkVDNF0gICAgICAgICAgICAgPSB7IFR5cGU6IFVpbnQzMkFycmF5LCAgc2l6ZTogMTYsIHNldHRlcjogdWludFZlYzRTZXR0ZXIsICAgY29sczogNCwgfTtcbnR5cGVNYXBbQk9PTF0gICAgICAgICAgICAgICAgICAgICAgICAgID0geyBUeXBlOiBVaW50MzJBcnJheSwgIHNpemU6ICA0LCBzZXR0ZXI6IGludFNldHRlciwgICAgICAgIGFycmF5U2V0dGVyOiBpbnRBcnJheVNldHRlciwgfTtcbnR5cGVNYXBbQk9PTF9WRUMyXSAgICAgICAgICAgICAgICAgICAgID0geyBUeXBlOiBVaW50MzJBcnJheSwgIHNpemU6ICA4LCBzZXR0ZXI6IGludFZlYzJTZXR0ZXIsICAgIGNvbHM6IDIsIH07XG50eXBlTWFwW0JPT0xfVkVDM10gICAgICAgICAgICAgICAgICAgICA9IHsgVHlwZTogVWludDMyQXJyYXksICBzaXplOiAxMiwgc2V0dGVyOiBpbnRWZWMzU2V0dGVyLCAgICBjb2xzOiAzLCB9O1xudHlwZU1hcFtCT09MX1ZFQzRdICAgICAgICAgICAgICAgICAgICAgPSB7IFR5cGU6IFVpbnQzMkFycmF5LCAgc2l6ZTogMTYsIHNldHRlcjogaW50VmVjNFNldHRlciwgICAgY29sczogNCwgfTtcbnR5cGVNYXBbRkxPQVRfTUFUMl0gICAgICAgICAgICAgICAgICAgID0geyBUeXBlOiBGbG9hdDMyQXJyYXksIHNpemU6IDMyLCBzZXR0ZXI6IGZsb2F0TWF0MlNldHRlciwgIHJvd3M6IDIsIGNvbHM6IDIsIH07XG50eXBlTWFwW0ZMT0FUX01BVDNdICAgICAgICAgICAgICAgICAgICA9IHsgVHlwZTogRmxvYXQzMkFycmF5LCBzaXplOiA0OCwgc2V0dGVyOiBmbG9hdE1hdDNTZXR0ZXIsICByb3dzOiAzLCBjb2xzOiAzLCB9O1xudHlwZU1hcFtGTE9BVF9NQVQ0XSAgICAgICAgICAgICAgICAgICAgPSB7IFR5cGU6IEZsb2F0MzJBcnJheSwgc2l6ZTogNjQsIHNldHRlcjogZmxvYXRNYXQ0U2V0dGVyLCAgcm93czogNCwgY29sczogNCwgfTtcbnR5cGVNYXBbRkxPQVRfTUFUMngzXSAgICAgICAgICAgICAgICAgID0geyBUeXBlOiBGbG9hdDMyQXJyYXksIHNpemU6IDMyLCBzZXR0ZXI6IGZsb2F0TWF0MjNTZXR0ZXIsIHJvd3M6IDIsIGNvbHM6IDMsIH07XG50eXBlTWFwW0ZMT0FUX01BVDJ4NF0gICAgICAgICAgICAgICAgICA9IHsgVHlwZTogRmxvYXQzMkFycmF5LCBzaXplOiAzMiwgc2V0dGVyOiBmbG9hdE1hdDI0U2V0dGVyLCByb3dzOiAyLCBjb2xzOiA0LCB9O1xudHlwZU1hcFtGTE9BVF9NQVQzeDJdICAgICAgICAgICAgICAgICAgPSB7IFR5cGU6IEZsb2F0MzJBcnJheSwgc2l6ZTogNDgsIHNldHRlcjogZmxvYXRNYXQzMlNldHRlciwgcm93czogMywgY29sczogMiwgfTtcbnR5cGVNYXBbRkxPQVRfTUFUM3g0XSAgICAgICAgICAgICAgICAgID0geyBUeXBlOiBGbG9hdDMyQXJyYXksIHNpemU6IDQ4LCBzZXR0ZXI6IGZsb2F0TWF0MzRTZXR0ZXIsIHJvd3M6IDMsIGNvbHM6IDQsIH07XG50eXBlTWFwW0ZMT0FUX01BVDR4Ml0gICAgICAgICAgICAgICAgICA9IHsgVHlwZTogRmxvYXQzMkFycmF5LCBzaXplOiA2NCwgc2V0dGVyOiBmbG9hdE1hdDQyU2V0dGVyLCByb3dzOiA0LCBjb2xzOiAyLCB9O1xudHlwZU1hcFtGTE9BVF9NQVQ0eDNdICAgICAgICAgICAgICAgICAgPSB7IFR5cGU6IEZsb2F0MzJBcnJheSwgc2l6ZTogNjQsIHNldHRlcjogZmxvYXRNYXQ0M1NldHRlciwgcm93czogNCwgY29sczogMywgfTtcbnR5cGVNYXBbU0FNUExFUl8yRF0gICAgICAgICAgICAgICAgICAgID0geyBUeXBlOiBudWxsLCAgICAgICAgIHNpemU6ICAwLCBzZXR0ZXI6IHNhbXBsZXJTZXR0ZXIsICAgIGFycmF5U2V0dGVyOiBzYW1wbGVyQXJyYXlTZXR0ZXIsIGJpbmRQb2ludDogVEVYVFVSRV8yRCQxLCAgICAgICB9O1xudHlwZU1hcFtTQU1QTEVSX0NVQkVdICAgICAgICAgICAgICAgICAgPSB7IFR5cGU6IG51bGwsICAgICAgICAgc2l6ZTogIDAsIHNldHRlcjogc2FtcGxlclNldHRlciwgICAgYXJyYXlTZXR0ZXI6IHNhbXBsZXJBcnJheVNldHRlciwgYmluZFBvaW50OiBURVhUVVJFX0NVQkVfTUFQJDEsIH07XG50eXBlTWFwW1NBTVBMRVJfM0RdICAgICAgICAgICAgICAgICAgICA9IHsgVHlwZTogbnVsbCwgICAgICAgICBzaXplOiAgMCwgc2V0dGVyOiBzYW1wbGVyU2V0dGVyLCAgICBhcnJheVNldHRlcjogc2FtcGxlckFycmF5U2V0dGVyLCBiaW5kUG9pbnQ6IFRFWFRVUkVfM0QkMSwgICAgICAgfTtcbnR5cGVNYXBbU0FNUExFUl8yRF9TSEFET1ddICAgICAgICAgICAgID0geyBUeXBlOiBudWxsLCAgICAgICAgIHNpemU6ICAwLCBzZXR0ZXI6IHNhbXBsZXJTZXR0ZXIsICAgIGFycmF5U2V0dGVyOiBzYW1wbGVyQXJyYXlTZXR0ZXIsIGJpbmRQb2ludDogVEVYVFVSRV8yRCQxLCAgICAgICB9O1xudHlwZU1hcFtTQU1QTEVSXzJEX0FSUkFZXSAgICAgICAgICAgICAgPSB7IFR5cGU6IG51bGwsICAgICAgICAgc2l6ZTogIDAsIHNldHRlcjogc2FtcGxlclNldHRlciwgICAgYXJyYXlTZXR0ZXI6IHNhbXBsZXJBcnJheVNldHRlciwgYmluZFBvaW50OiBURVhUVVJFXzJEX0FSUkFZJDEsIH07XG50eXBlTWFwW1NBTVBMRVJfMkRfQVJSQVlfU0hBRE9XXSAgICAgICA9IHsgVHlwZTogbnVsbCwgICAgICAgICBzaXplOiAgMCwgc2V0dGVyOiBzYW1wbGVyU2V0dGVyLCAgICBhcnJheVNldHRlcjogc2FtcGxlckFycmF5U2V0dGVyLCBiaW5kUG9pbnQ6IFRFWFRVUkVfMkRfQVJSQVkkMSwgfTtcbnR5cGVNYXBbU0FNUExFUl9DVUJFX1NIQURPV10gICAgICAgICAgID0geyBUeXBlOiBudWxsLCAgICAgICAgIHNpemU6ICAwLCBzZXR0ZXI6IHNhbXBsZXJTZXR0ZXIsICAgIGFycmF5U2V0dGVyOiBzYW1wbGVyQXJyYXlTZXR0ZXIsIGJpbmRQb2ludDogVEVYVFVSRV9DVUJFX01BUCQxLCB9O1xudHlwZU1hcFtJTlRfU0FNUExFUl8yRF0gICAgICAgICAgICAgICAgPSB7IFR5cGU6IG51bGwsICAgICAgICAgc2l6ZTogIDAsIHNldHRlcjogc2FtcGxlclNldHRlciwgICAgYXJyYXlTZXR0ZXI6IHNhbXBsZXJBcnJheVNldHRlciwgYmluZFBvaW50OiBURVhUVVJFXzJEJDEsICAgICAgIH07XG50eXBlTWFwW0lOVF9TQU1QTEVSXzNEXSAgICAgICAgICAgICAgICA9IHsgVHlwZTogbnVsbCwgICAgICAgICBzaXplOiAgMCwgc2V0dGVyOiBzYW1wbGVyU2V0dGVyLCAgICBhcnJheVNldHRlcjogc2FtcGxlckFycmF5U2V0dGVyLCBiaW5kUG9pbnQ6IFRFWFRVUkVfM0QkMSwgICAgICAgfTtcbnR5cGVNYXBbSU5UX1NBTVBMRVJfQ1VCRV0gICAgICAgICAgICAgID0geyBUeXBlOiBudWxsLCAgICAgICAgIHNpemU6ICAwLCBzZXR0ZXI6IHNhbXBsZXJTZXR0ZXIsICAgIGFycmF5U2V0dGVyOiBzYW1wbGVyQXJyYXlTZXR0ZXIsIGJpbmRQb2ludDogVEVYVFVSRV9DVUJFX01BUCQxLCB9O1xudHlwZU1hcFtJTlRfU0FNUExFUl8yRF9BUlJBWV0gICAgICAgICAgPSB7IFR5cGU6IG51bGwsICAgICAgICAgc2l6ZTogIDAsIHNldHRlcjogc2FtcGxlclNldHRlciwgICAgYXJyYXlTZXR0ZXI6IHNhbXBsZXJBcnJheVNldHRlciwgYmluZFBvaW50OiBURVhUVVJFXzJEX0FSUkFZJDEsIH07XG50eXBlTWFwW1VOU0lHTkVEX0lOVF9TQU1QTEVSXzJEXSAgICAgICA9IHsgVHlwZTogbnVsbCwgICAgICAgICBzaXplOiAgMCwgc2V0dGVyOiBzYW1wbGVyU2V0dGVyLCAgICBhcnJheVNldHRlcjogc2FtcGxlckFycmF5U2V0dGVyLCBiaW5kUG9pbnQ6IFRFWFRVUkVfMkQkMSwgICAgICAgfTtcbnR5cGVNYXBbVU5TSUdORURfSU5UX1NBTVBMRVJfM0RdICAgICAgID0geyBUeXBlOiBudWxsLCAgICAgICAgIHNpemU6ICAwLCBzZXR0ZXI6IHNhbXBsZXJTZXR0ZXIsICAgIGFycmF5U2V0dGVyOiBzYW1wbGVyQXJyYXlTZXR0ZXIsIGJpbmRQb2ludDogVEVYVFVSRV8zRCQxLCAgICAgICB9O1xudHlwZU1hcFtVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFXSAgICAgPSB7IFR5cGU6IG51bGwsICAgICAgICAgc2l6ZTogIDAsIHNldHRlcjogc2FtcGxlclNldHRlciwgICAgYXJyYXlTZXR0ZXI6IHNhbXBsZXJBcnJheVNldHRlciwgYmluZFBvaW50OiBURVhUVVJFX0NVQkVfTUFQJDEsIH07XG50eXBlTWFwW1VOU0lHTkVEX0lOVF9TQU1QTEVSXzJEX0FSUkFZXSA9IHsgVHlwZTogbnVsbCwgICAgICAgICBzaXplOiAgMCwgc2V0dGVyOiBzYW1wbGVyU2V0dGVyLCAgICBhcnJheVNldHRlcjogc2FtcGxlckFycmF5U2V0dGVyLCBiaW5kUG9pbnQ6IFRFWFRVUkVfMkRfQVJSQVkkMSwgfTtcblxuZnVuY3Rpb24gZmxvYXRBdHRyaWJTZXR0ZXIoZ2wsIGluZGV4KSB7XG4gIHJldHVybiBmdW5jdGlvbihiKSB7XG4gICAgaWYgKGIudmFsdWUpIHtcbiAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XG4gICAgICBzd2l0Y2ggKGIudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWI0ZnYoaW5kZXgsIGIudmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgZ2wudmVydGV4QXR0cmliM2Z2KGluZGV4LCBiLnZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGdsLnZlcnRleEF0dHJpYjJmdihpbmRleCwgYi52YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWIxZnYoaW5kZXgsIGIudmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGhlIGxlbmd0aCBvZiBhIGZsb2F0IGNvbnN0YW50IHZhbHVlIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA0IScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBnbC5iaW5kQnVmZmVyKEFSUkFZX0JVRkZFUiQxLCBiLmJ1ZmZlcik7XG4gICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XG4gICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgIGluZGV4LCBiLm51bUNvbXBvbmVudHMgfHwgYi5zaXplLCBiLnR5cGUgfHwgRkxPQVQkMywgYi5ub3JtYWxpemUgfHwgZmFsc2UsIGIuc3RyaWRlIHx8IDAsIGIub2Zmc2V0IHx8IDApO1xuICAgICAgaWYgKGIuZGl2aXNvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IoaW5kZXgsIGIuZGl2aXNvcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnRBdHRyaWJTZXR0ZXIoZ2wsIGluZGV4KSB7XG4gIHJldHVybiBmdW5jdGlvbihiKSB7XG4gICAgaWYgKGIudmFsdWUpIHtcbiAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XG4gICAgICBpZiAoYi52YWx1ZS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliNGl2KGluZGV4LCBiLnZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGxlbmd0aCBvZiBhbiBpbnRlZ2VyIGNvbnN0YW50IHZhbHVlIG11c3QgYmUgNCEnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZ2wuYmluZEJ1ZmZlcihBUlJBWV9CVUZGRVIkMSwgYi5idWZmZXIpO1xuICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpO1xuICAgICAgZ2wudmVydGV4QXR0cmliSVBvaW50ZXIoXG4gICAgICAgICAgaW5kZXgsIGIubnVtQ29tcG9uZW50cyB8fCBiLnNpemUsIGIudHlwZSB8fCBJTlQkMywgYi5zdHJpZGUgfHwgMCwgYi5vZmZzZXQgfHwgMCk7XG4gICAgICBpZiAoYi5kaXZpc29yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvcihpbmRleCwgYi5kaXZpc29yKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVpbnRBdHRyaWJTZXR0ZXIoZ2wsIGluZGV4KSB7XG4gIHJldHVybiBmdW5jdGlvbihiKSB7XG4gICAgaWYgKGIudmFsdWUpIHtcbiAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XG4gICAgICBpZiAoYi52YWx1ZS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliNHVpdihpbmRleCwgYi52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBsZW5ndGggb2YgYW4gdW5zaWduZWQgaW50ZWdlciBjb25zdGFudCB2YWx1ZSBtdXN0IGJlIDQhJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLmJpbmRCdWZmZXIoQVJSQVlfQlVGRkVSJDEsIGIuYnVmZmVyKTtcbiAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGluZGV4KTtcbiAgICAgIGdsLnZlcnRleEF0dHJpYklQb2ludGVyKFxuICAgICAgICAgIGluZGV4LCBiLm51bUNvbXBvbmVudHMgfHwgYi5zaXplLCBiLnR5cGUgfHwgVU5TSUdORURfSU5UJDMsIGIuc3RyaWRlIHx8IDAsIGIub2Zmc2V0IHx8IDApO1xuICAgICAgaWYgKGIuZGl2aXNvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IoaW5kZXgsIGIuZGl2aXNvcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBtYXRBdHRyaWJTZXR0ZXIoZ2wsIGluZGV4LCB0eXBlSW5mbykge1xuICBjb25zdCBkZWZhdWx0U2l6ZSA9IHR5cGVJbmZvLnNpemU7XG4gIGNvbnN0IGNvdW50ID0gdHlwZUluZm8uY291bnQ7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGIpIHtcbiAgICBnbC5iaW5kQnVmZmVyKEFSUkFZX0JVRkZFUiQxLCBiLmJ1ZmZlcik7XG4gICAgY29uc3QgbnVtQ29tcG9uZW50cyA9IGIuc2l6ZSB8fCBiLm51bUNvbXBvbmVudHMgfHwgZGVmYXVsdFNpemU7XG4gICAgY29uc3Qgc2l6ZSA9IG51bUNvbXBvbmVudHMgLyBjb3VudDtcbiAgICBjb25zdCB0eXBlID0gYi50eXBlIHx8IEZMT0FUJDM7XG4gICAgY29uc3QgdHlwZUluZm8gPSB0eXBlTWFwW3R5cGVdO1xuICAgIGNvbnN0IHN0cmlkZSA9IHR5cGVJbmZvLnNpemUgKiBudW1Db21wb25lbnRzO1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGIubm9ybWFsaXplIHx8IGZhbHNlO1xuICAgIGNvbnN0IG9mZnNldCA9IGIub2Zmc2V0IHx8IDA7XG4gICAgY29uc3Qgcm93T2Zmc2V0ID0gc3RyaWRlIC8gY291bnQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG4gICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCArIGkpO1xuICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihcbiAgICAgICAgICBpbmRleCArIGksIHNpemUsIHR5cGUsIG5vcm1hbGl6ZSwgc3RyaWRlLCBvZmZzZXQgKyByb3dPZmZzZXQgKiBpKTtcbiAgICAgIGlmIChiLmRpdmlzb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGluZGV4ICsgaSwgYi5kaXZpc29yKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cblxuXG5jb25zdCBhdHRyVHlwZU1hcCA9IHt9O1xuYXR0clR5cGVNYXBbRkxPQVQkM10gICAgICAgICAgICAgPSB7IHNpemU6ICA0LCBzZXR0ZXI6IGZsb2F0QXR0cmliU2V0dGVyLCB9O1xuYXR0clR5cGVNYXBbRkxPQVRfVkVDMl0gICAgICAgID0geyBzaXplOiAgOCwgc2V0dGVyOiBmbG9hdEF0dHJpYlNldHRlciwgfTtcbmF0dHJUeXBlTWFwW0ZMT0FUX1ZFQzNdICAgICAgICA9IHsgc2l6ZTogMTIsIHNldHRlcjogZmxvYXRBdHRyaWJTZXR0ZXIsIH07XG5hdHRyVHlwZU1hcFtGTE9BVF9WRUM0XSAgICAgICAgPSB7IHNpemU6IDE2LCBzZXR0ZXI6IGZsb2F0QXR0cmliU2V0dGVyLCB9O1xuYXR0clR5cGVNYXBbSU5UJDNdICAgICAgICAgICAgICAgPSB7IHNpemU6ICA0LCBzZXR0ZXI6IGludEF0dHJpYlNldHRlciwgICB9O1xuYXR0clR5cGVNYXBbSU5UX1ZFQzJdICAgICAgICAgID0geyBzaXplOiAgOCwgc2V0dGVyOiBpbnRBdHRyaWJTZXR0ZXIsICAgfTtcbmF0dHJUeXBlTWFwW0lOVF9WRUMzXSAgICAgICAgICA9IHsgc2l6ZTogMTIsIHNldHRlcjogaW50QXR0cmliU2V0dGVyLCAgIH07XG5hdHRyVHlwZU1hcFtJTlRfVkVDNF0gICAgICAgICAgPSB7IHNpemU6IDE2LCBzZXR0ZXI6IGludEF0dHJpYlNldHRlciwgICB9O1xuYXR0clR5cGVNYXBbVU5TSUdORURfSU5UJDNdICAgICAgPSB7IHNpemU6ICA0LCBzZXR0ZXI6IHVpbnRBdHRyaWJTZXR0ZXIsICB9O1xuYXR0clR5cGVNYXBbVU5TSUdORURfSU5UX1ZFQzJdID0geyBzaXplOiAgOCwgc2V0dGVyOiB1aW50QXR0cmliU2V0dGVyLCAgfTtcbmF0dHJUeXBlTWFwW1VOU0lHTkVEX0lOVF9WRUMzXSA9IHsgc2l6ZTogMTIsIHNldHRlcjogdWludEF0dHJpYlNldHRlciwgIH07XG5hdHRyVHlwZU1hcFtVTlNJR05FRF9JTlRfVkVDNF0gPSB7IHNpemU6IDE2LCBzZXR0ZXI6IHVpbnRBdHRyaWJTZXR0ZXIsICB9O1xuYXR0clR5cGVNYXBbQk9PTF0gICAgICAgICAgICAgID0geyBzaXplOiAgNCwgc2V0dGVyOiBpbnRBdHRyaWJTZXR0ZXIsICAgfTtcbmF0dHJUeXBlTWFwW0JPT0xfVkVDMl0gICAgICAgICA9IHsgc2l6ZTogIDgsIHNldHRlcjogaW50QXR0cmliU2V0dGVyLCAgIH07XG5hdHRyVHlwZU1hcFtCT09MX1ZFQzNdICAgICAgICAgPSB7IHNpemU6IDEyLCBzZXR0ZXI6IGludEF0dHJpYlNldHRlciwgICB9O1xuYXR0clR5cGVNYXBbQk9PTF9WRUM0XSAgICAgICAgID0geyBzaXplOiAxNiwgc2V0dGVyOiBpbnRBdHRyaWJTZXR0ZXIsICAgfTtcbmF0dHJUeXBlTWFwW0ZMT0FUX01BVDJdICAgICAgICA9IHsgc2l6ZTogIDQsIHNldHRlcjogbWF0QXR0cmliU2V0dGVyLCAgIGNvdW50OiAyLCB9O1xuYXR0clR5cGVNYXBbRkxPQVRfTUFUM10gICAgICAgID0geyBzaXplOiAgOSwgc2V0dGVyOiBtYXRBdHRyaWJTZXR0ZXIsICAgY291bnQ6IDMsIH07XG5hdHRyVHlwZU1hcFtGTE9BVF9NQVQ0XSAgICAgICAgPSB7IHNpemU6IDE2LCBzZXR0ZXI6IG1hdEF0dHJpYlNldHRlciwgICBjb3VudDogNCwgfTtcblxuY29uc3QgZXJyb3JSRSA9IC9FUlJPUjpcXHMqXFxkKzooXFxkKykvZ2k7XG5mdW5jdGlvbiBhZGRMaW5lTnVtYmVyc1dpdGhFcnJvcihzcmMsIGxvZyA9ICcnLCBsaW5lT2Zmc2V0ID0gMCkge1xuICAvLyBOb3RlOiBFcnJvciBtZXNzYWdlIGZvcm1hdHMgYXJlIG5vdCBkZWZpbmVkIGJ5IGFueSBzcGVjIHNvIHRoaXMgbWF5IG9yIG1heSBub3Qgd29yay5cbiAgY29uc3QgbWF0Y2hlcyA9IFsuLi5sb2cubWF0Y2hBbGwoZXJyb3JSRSldO1xuICBjb25zdCBsaW5lTm9Ub0Vycm9yTWFwID0gbmV3IE1hcChtYXRjaGVzLm1hcCgobSwgbmR4KSA9PiB7XG4gICAgY29uc3QgbGluZU5vID0gcGFyc2VJbnQobVsxXSk7XG4gICAgY29uc3QgbmV4dCA9IG1hdGNoZXNbbmR4ICsgMV07XG4gICAgY29uc3QgZW5kID0gbmV4dCA/IG5leHQuaW5kZXggOiBsb2cubGVuZ3RoO1xuICAgIGNvbnN0IG1zZyA9IGxvZy5zdWJzdHJpbmcobS5pbmRleCwgZW5kKTtcbiAgICByZXR1cm4gW2xpbmVObyAtIDEsIG1zZ107XG4gIH0pKTtcbiAgcmV0dXJuIHNyYy5zcGxpdCgnXFxuJykubWFwKChsaW5lLCBsaW5lTm8pID0+IHtcbiAgICBjb25zdCBlcnIgPSBsaW5lTm9Ub0Vycm9yTWFwLmdldChsaW5lTm8pO1xuICAgIHJldHVybiBgJHtsaW5lTm8gKyAxICsgbGluZU9mZnNldH06ICR7bGluZX0ke2VyciA/IGBcXG5cXG5eXl4gJHtlcnJ9YCA6ICcnfWA7XG4gIH0pLmpvaW4oJ1xcbicpO1xufVxuXG4vKipcbiAqIEVycm9yIENhbGxiYWNrXG4gKiBAY2FsbGJhY2sgRXJyb3JDYWxsYmFja1xuICogQHBhcmFtIHtzdHJpbmd9IG1zZyBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsaW5lT2Zmc2V0XSBhbW91bnQgdG8gYWRkIHRvIGxpbmUgbnVtYmVyXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqL1xuXG5jb25zdCBzcGFjZVJFID0gL15bIFxcdF0qXFxuLztcblxuLyoqXG4gKiBMb2FkcyBhIHNoYWRlci5cbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0IHRvIHVzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzaGFkZXJTb3VyY2UgVGhlIHNoYWRlciBzb3VyY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gc2hhZGVyVHlwZSBUaGUgdHlwZSBvZiBzaGFkZXIuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkVycm9yQ2FsbGJhY2t9IG9wdF9lcnJvckNhbGxiYWNrIGNhbGxiYWNrIGZvciBlcnJvcnMuXG4gKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn0gVGhlIGNyZWF0ZWQgc2hhZGVyLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbG9hZFNoYWRlcihnbCwgc2hhZGVyU291cmNlLCBzaGFkZXJUeXBlLCBvcHRfZXJyb3JDYWxsYmFjaykge1xuICBjb25zdCBlcnJGbiA9IG9wdF9lcnJvckNhbGxiYWNrIHx8IGVycm9yJDE7XG4gIC8vIENyZWF0ZSB0aGUgc2hhZGVyIG9iamVjdFxuICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7XG5cbiAgLy8gUmVtb3ZlIHRoZSBmaXJzdCBlbmQgb2YgbGluZSBiZWNhdXNlIFdlYkdMIDIuMCByZXF1aXJlc1xuICAvLyAjdmVyc2lvbiAzMDAgZXNcbiAgLy8gYXMgdGhlIGZpcnN0IGxpbmUuIE5vIHdoaXRlc3BhY2UgYWxsb3dlZCBiZWZvcmUgdGhhdCBsaW5lXG4gIC8vIHNvXG4gIC8vXG4gIC8vIDxzY3JpcHQ+XG4gIC8vICN2ZXJzaW9uIDMwMCBlc1xuICAvLyA8L3NjcmlwdD5cbiAgLy9cbiAgLy8gSGFzIG9uZSBsaW5lIGJlZm9yZSBpdCB3aGljaCBpcyBpbnZhbGlkIGFjY29yZGluZyB0byBHTFNMIEVTIDMuMDBcbiAgLy9cbiAgbGV0IGxpbmVPZmZzZXQgPSAwO1xuICBpZiAoc3BhY2VSRS50ZXN0KHNoYWRlclNvdXJjZSkpIHtcbiAgICBsaW5lT2Zmc2V0ID0gMTtcbiAgICBzaGFkZXJTb3VyY2UgPSBzaGFkZXJTb3VyY2UucmVwbGFjZShzcGFjZVJFLCAnJyk7XG4gIH1cblxuICAvLyBMb2FkIHRoZSBzaGFkZXIgc291cmNlXG4gIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclNvdXJjZSk7XG5cbiAgLy8gQ29tcGlsZSB0aGUgc2hhZGVyXG4gIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAvLyBDaGVjayB0aGUgY29tcGlsZSBzdGF0dXNcbiAgY29uc3QgY29tcGlsZWQgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBDT01QSUxFX1NUQVRVUyk7XG4gIGlmICghY29tcGlsZWQpIHtcbiAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgY29tcGlsYXRpb247IGdldCB0aGUgZXJyb3JcbiAgICBjb25zdCBsYXN0RXJyb3IgPSBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XG4gICAgZXJyRm4oYCR7YWRkTGluZU51bWJlcnNXaXRoRXJyb3Ioc2hhZGVyU291cmNlLCBsYXN0RXJyb3IsIGxpbmVPZmZzZXQpfVxcbkVycm9yIGNvbXBpbGluZyAke2dsRW51bVRvU3RyaW5nKGdsLCBzaGFkZXJUeXBlKX06ICR7bGFzdEVycm9yfWApO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHNoYWRlcjtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtT3B0aW9uc1xuICogQHByb3BlcnR5IHtmdW5jdGlvbihzdHJpbmcpfSBbZXJyb3JDYWxsYmFja10gY2FsbGJhY2sgZm9yIGVycm9yc1xuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZyxudW1iZXI+fSBbYXR0cmliTG9jYXRpb25zXSBhIGF0dHJpYnV0ZSBuYW1lIHRvIGxvY2F0aW9uIG1hcFxuICogQHByb3BlcnR5IHsobW9kdWxlOnR3Z2wuQnVmZmVySW5mb3xPYmplY3QuPHN0cmluZyxtb2R1bGU6dHdnbC5BdHRyaWJJbmZvPnxzdHJpbmdbXSl9IFt0cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzXSBJZiBwYXNzZWRcbiAqICAgYSBCdWZmZXJJbmZvIHdpbGwgdXNlIHRoZSBhdHRyaWJzIG5hbWVzIGluc2lkZS4gSWYgcGFzc2VkIGFuIG9iamVjdCBvZiBBdHRyaWJJbmZvcyB3aWxsIHVzZSB0aGUgbmFtZXMgZnJvbSB0aGF0IG9iamVjdC4gT3RoZXJ3aXNlXG4gKiAgIHlvdSBjYW4gcGFzcyBhbiBhcnJheSBvZiBuYW1lcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdHJhbnNmb3JtRmVlZGJhY2tNb2RlXSB0aGUgbW9kZSB0byBwYXNzIGBnbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzYC4gRGVmYXVsdHMgdG8gYFNFUEFSQVRFX0FUVFJJQlNgLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuLyoqXG4gKiBHZXRzIHRoZSBwcm9ncmFtIG9wdGlvbnMgYmFzZWQgb24gYWxsIHRoZXNlIG9wdGlvbmFsIGFyZ3VtZW50c1xuICogQHBhcmFtIHttb2R1bGU6dHdnbC5Qcm9ncmFtT3B0aW9uc3xzdHJpbmdbXX0gW29wdF9hdHRyaWJzXSBPcHRpb25zIGZvciB0aGUgcHJvZ3JhbSBvciBhbiBhcnJheSBvZiBhdHRyaWJzIG5hbWVzLiBMb2NhdGlvbnMgd2lsbCBiZSBhc3NpZ25lZCBieSBpbmRleCBpZiBub3QgcGFzc2VkIGluXG4gKiBAcGFyYW0ge251bWJlcltdfSBbb3B0X2xvY2F0aW9uc10gVGhlIGxvY2F0aW9ucyBmb3IgdGhlLiBBIHBhcmFsbGVsIGFycmF5IHRvIG9wdF9hdHRyaWJzIGxldHRpbmcgeW91IGFzc2lnbiBsb2NhdGlvbnMuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkVycm9yQ2FsbGJhY2t9IFtvcHRfZXJyb3JDYWxsYmFja10gY2FsbGJhY2sgZm9yIGVycm9ycy4gQnkgZGVmYXVsdCBpdCBqdXN0IHByaW50cyBhbiBlcnJvciB0byB0aGUgY29uc29sZVxuICogICAgICAgIG9uIGVycm9yLiBJZiB5b3Ugd2FudCBzb21ldGhpbmcgZWxzZSBwYXNzIGFuIGNhbGxiYWNrLiBJdCdzIHBhc3NlZCBhbiBlcnJvciBtZXNzYWdlLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuUHJvZ3JhbU9wdGlvbnN9IGFuIGluc3RhbmNlIG9mIFByb2dyYW1PcHRpb25zIGJhc2VkIG9uIHRoZSBhcmd1bWVudHMgcGFzc2VkIGluXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBnZXRQcm9ncmFtT3B0aW9ucyhvcHRfYXR0cmlicywgb3B0X2xvY2F0aW9ucywgb3B0X2Vycm9yQ2FsbGJhY2spIHtcbiAgbGV0IHRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M7XG4gIGxldCB0cmFuc2Zvcm1GZWVkYmFja01vZGU7XG4gIGlmICh0eXBlb2Ygb3B0X2xvY2F0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdF9lcnJvckNhbGxiYWNrID0gb3B0X2xvY2F0aW9ucztcbiAgICBvcHRfbG9jYXRpb25zID0gdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0X2F0dHJpYnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRfZXJyb3JDYWxsYmFjayA9IG9wdF9hdHRyaWJzO1xuICAgIG9wdF9hdHRyaWJzID0gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKG9wdF9hdHRyaWJzICYmICFBcnJheS5pc0FycmF5KG9wdF9hdHRyaWJzKSkge1xuICAgIC8vIElmIHdlIGhhdmUgYW4gZXJyb3JDYWxsYmFjayB3ZSBjYW4ganVzdCByZXR1cm4gdGhpcyBvYmplY3RcbiAgICAvLyBPdGhlcndpc2Ugd2UgbmVlZCB0byBjb25zdHJ1Y3Qgb25lIHdpdGggZGVmYXVsdCBlcnJvckNhbGxiYWNrXG4gICAgaWYgKG9wdF9hdHRyaWJzLmVycm9yQ2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBvcHRfYXR0cmlicztcbiAgICB9XG4gICAgY29uc3Qgb3B0ID0gb3B0X2F0dHJpYnM7XG4gICAgb3B0X2Vycm9yQ2FsbGJhY2sgPSBvcHQuZXJyb3JDYWxsYmFjaztcbiAgICBvcHRfYXR0cmlicyA9IG9wdC5hdHRyaWJMb2NhdGlvbnM7XG4gICAgdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyA9IG9wdC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzO1xuICAgIHRyYW5zZm9ybUZlZWRiYWNrTW9kZSA9IG9wdC50cmFuc2Zvcm1GZWVkYmFja01vZGU7XG4gIH1cblxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGVycm9yQ2FsbGJhY2s6IG9wdF9lcnJvckNhbGxiYWNrIHx8IGVycm9yJDEsXG4gICAgdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nczogdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyxcbiAgICB0cmFuc2Zvcm1GZWVkYmFja01vZGU6IHRyYW5zZm9ybUZlZWRiYWNrTW9kZSxcbiAgfTtcblxuICBpZiAob3B0X2F0dHJpYnMpIHtcbiAgICBsZXQgYXR0cmliTG9jYXRpb25zID0ge307XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0X2F0dHJpYnMpKSB7XG4gICAgICBvcHRfYXR0cmlicy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJpYiwgIG5keCkge1xuICAgICAgICBhdHRyaWJMb2NhdGlvbnNbYXR0cmliXSA9IG9wdF9sb2NhdGlvbnMgPyBvcHRfbG9jYXRpb25zW25keF0gOiBuZHg7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXR0cmliTG9jYXRpb25zID0gb3B0X2F0dHJpYnM7XG4gICAgfVxuICAgIG9wdGlvbnMuYXR0cmliTG9jYXRpb25zID0gYXR0cmliTG9jYXRpb25zO1xuICB9XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmNvbnN0IGRlZmF1bHRTaGFkZXJUeXBlID0gW1xuICBcIlZFUlRFWF9TSEFERVJcIixcbiAgXCJGUkFHTUVOVF9TSEFERVJcIixcbl07XG5cbmZ1bmN0aW9uIGdldFNoYWRlclR5cGVGcm9tU2NyaXB0VHlwZShnbCwgc2NyaXB0VHlwZSkge1xuICBpZiAoc2NyaXB0VHlwZS5pbmRleE9mKFwiZnJhZ1wiKSA+PSAwKSB7XG4gICAgcmV0dXJuIEZSQUdNRU5UX1NIQURFUjtcbiAgfSBlbHNlIGlmIChzY3JpcHRUeXBlLmluZGV4T2YoXCJ2ZXJ0XCIpID49IDApIHtcbiAgICByZXR1cm4gVkVSVEVYX1NIQURFUjtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBkZWxldGVTaGFkZXJzKGdsLCBzaGFkZXJzKSB7XG4gIHNoYWRlcnMuZm9yRWFjaChmdW5jdGlvbihzaGFkZXIpIHtcbiAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHByb2dyYW0sIGF0dGFjaGVzIChhbmQvb3IgY29tcGlsZXMpIHNoYWRlcnMsIGJpbmRzIGF0dHJpYiBsb2NhdGlvbnMsIGxpbmtzIHRoZVxuICogcHJvZ3JhbSBhbmQgY2FsbHMgdXNlUHJvZ3JhbS5cbiAqXG4gKiBOT1RFOiBUaGVyZSBhcmUgNCBzaWduYXR1cmVzIGZvciB0aGlzIGZ1bmN0aW9uXG4gKlxuICogICAgIHR3Z2wuY3JlYXRlUHJvZ3JhbShnbCwgW3ZzLCBmc10sIG9wdGlvbnMpO1xuICogICAgIHR3Z2wuY3JlYXRlUHJvZ3JhbShnbCwgW3ZzLCBmc10sIG9wdF9lcnJGdW5jKTtcbiAqICAgICB0d2dsLmNyZWF0ZVByb2dyYW0oZ2wsIFt2cywgZnNdLCBvcHRfYXR0cmlicywgb3B0X2VyckZ1bmMpO1xuICogICAgIHR3Z2wuY3JlYXRlUHJvZ3JhbShnbCwgW3ZzLCBmc10sIG9wdF9hdHRyaWJzLCBvcHRfbG9jYXRpb25zLCBvcHRfZXJyRnVuYyk7XG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQgdG8gdXNlLlxuICogQHBhcmFtIHtXZWJHTFNoYWRlcltdfHN0cmluZ1tdfSBzaGFkZXJzIFRoZSBzaGFkZXJzIHRvIGF0dGFjaCwgb3IgZWxlbWVudCBpZHMgZm9yIHRoZWlyIHNvdXJjZSwgb3Igc3RyaW5ncyB0aGF0IGNvbnRhaW4gdGhlaXIgc291cmNlXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlByb2dyYW1PcHRpb25zfHN0cmluZ1tdfG1vZHVsZTp0d2dsLkVycm9yQ2FsbGJhY2t9IFtvcHRfYXR0cmlic10gT3B0aW9ucyBmb3IgdGhlIHByb2dyYW0gb3IgYW4gYXJyYXkgb2YgYXR0cmlicyBuYW1lcyBvciBhbiBlcnJvciBjYWxsYmFjay4gTG9jYXRpb25zIHdpbGwgYmUgYXNzaWduZWQgYnkgaW5kZXggaWYgbm90IHBhc3NlZCBpblxuICogQHBhcmFtIHtudW1iZXJbXX0gW29wdF9sb2NhdGlvbnN8bW9kdWxlOnR3Z2wuRXJyb3JDYWxsYmFja10gVGhlIGxvY2F0aW9ucyBmb3IgdGhlLiBBIHBhcmFsbGVsIGFycmF5IHRvIG9wdF9hdHRyaWJzIGxldHRpbmcgeW91IGFzc2lnbiBsb2NhdGlvbnMgb3IgYW4gZXJyb3IgY2FsbGJhY2suXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkVycm9yQ2FsbGJhY2t9IFtvcHRfZXJyb3JDYWxsYmFja10gY2FsbGJhY2sgZm9yIGVycm9ycy4gQnkgZGVmYXVsdCBpdCBqdXN0IHByaW50cyBhbiBlcnJvciB0byB0aGUgY29uc29sZVxuICogICAgICAgIG9uIGVycm9yLiBJZiB5b3Ugd2FudCBzb21ldGhpbmcgZWxzZSBwYXNzIGFuIGNhbGxiYWNrLiBJdCdzIHBhc3NlZCBhbiBlcnJvciBtZXNzYWdlLlxuICogQHJldHVybiB7V2ViR0xQcm9ncmFtP30gdGhlIGNyZWF0ZWQgcHJvZ3JhbSBvciBudWxsIGlmIGVycm9yLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3Byb2dyYW1zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oXG4gICAgZ2wsIHNoYWRlcnMsIG9wdF9hdHRyaWJzLCBvcHRfbG9jYXRpb25zLCBvcHRfZXJyb3JDYWxsYmFjaykge1xuICBjb25zdCBwcm9nT3B0aW9ucyA9IGdldFByb2dyYW1PcHRpb25zKG9wdF9hdHRyaWJzLCBvcHRfbG9jYXRpb25zLCBvcHRfZXJyb3JDYWxsYmFjayk7XG4gIGNvbnN0IHJlYWxTaGFkZXJzID0gW107XG4gIGNvbnN0IG5ld1NoYWRlcnMgPSBbXTtcbiAgZm9yIChsZXQgbmR4ID0gMDsgbmR4IDwgc2hhZGVycy5sZW5ndGg7ICsrbmR4KSB7XG4gICAgbGV0IHNoYWRlciA9IHNoYWRlcnNbbmR4XTtcbiAgICBpZiAodHlwZW9mIChzaGFkZXIpID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgZWxlbSA9IGdldEVsZW1lbnRCeUlkKHNoYWRlcik7XG4gICAgICBjb25zdCBzcmMgPSBlbGVtID8gZWxlbS50ZXh0IDogc2hhZGVyO1xuICAgICAgbGV0IHR5cGUgPSBnbFtkZWZhdWx0U2hhZGVyVHlwZVtuZHhdXTtcbiAgICAgIGlmIChlbGVtICYmIGVsZW0udHlwZSkge1xuICAgICAgICB0eXBlID0gZ2V0U2hhZGVyVHlwZUZyb21TY3JpcHRUeXBlKGdsLCBlbGVtLnR5cGUpIHx8IHR5cGU7XG4gICAgICB9XG4gICAgICBzaGFkZXIgPSBsb2FkU2hhZGVyKGdsLCBzcmMsIHR5cGUsIHByb2dPcHRpb25zLmVycm9yQ2FsbGJhY2spO1xuICAgICAgbmV3U2hhZGVycy5wdXNoKHNoYWRlcik7XG4gICAgfVxuICAgIGlmIChpc1NoYWRlcihnbCwgc2hhZGVyKSkge1xuICAgICAgcmVhbFNoYWRlcnMucHVzaChzaGFkZXIpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyZWFsU2hhZGVycy5sZW5ndGggIT09IHNoYWRlcnMubGVuZ3RoKSB7XG4gICAgcHJvZ09wdGlvbnMuZXJyb3JDYWxsYmFjayhcIm5vdCBlbm91Z2ggc2hhZGVycyBmb3IgcHJvZ3JhbVwiKTtcbiAgICBkZWxldGVTaGFkZXJzKGdsLCBuZXdTaGFkZXJzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gIHJlYWxTaGFkZXJzLmZvckVhY2goZnVuY3Rpb24oc2hhZGVyKSB7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHNoYWRlcik7XG4gIH0pO1xuICBpZiAocHJvZ09wdGlvbnMuYXR0cmliTG9jYXRpb25zKSB7XG4gICAgT2JqZWN0LmtleXMocHJvZ09wdGlvbnMuYXR0cmliTG9jYXRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJpYikge1xuICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIHByb2dPcHRpb25zLmF0dHJpYkxvY2F0aW9uc1thdHRyaWJdLCBhdHRyaWIpO1xuICAgIH0pO1xuICB9XG4gIGxldCB2YXJ5aW5ncyA9IHByb2dPcHRpb25zLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M7XG4gIGlmICh2YXJ5aW5ncykge1xuICAgIGlmICh2YXJ5aW5ncy5hdHRyaWJzKSB7XG4gICAgICB2YXJ5aW5ncyA9IHZhcnlpbmdzLmF0dHJpYnM7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YXJ5aW5ncykpIHtcbiAgICAgIHZhcnlpbmdzID0gT2JqZWN0LmtleXModmFyeWluZ3MpO1xuICAgIH1cbiAgICBnbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKHByb2dyYW0sIHZhcnlpbmdzLCBwcm9nT3B0aW9ucy50cmFuc2Zvcm1GZWVkYmFja01vZGUgfHwgU0VQQVJBVEVfQVRUUklCUyk7XG4gIH1cbiAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG5cbiAgLy8gQ2hlY2sgdGhlIGxpbmsgc3RhdHVzXG4gIGNvbnN0IGxpbmtlZCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgTElOS19TVEFUVVMpO1xuICBpZiAoIWxpbmtlZCkge1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggdGhlIGxpbmtcbiAgICBjb25zdCBsYXN0RXJyb3IgPSBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKTtcbiAgICBwcm9nT3B0aW9ucy5lcnJvckNhbGxiYWNrKGAke1xuICAgICAgcmVhbFNoYWRlcnMubWFwKHNoYWRlciA9PiB7XG4gICAgICAgIGNvbnN0IHNyYyA9IGFkZExpbmVOdW1iZXJzV2l0aEVycm9yKGdsLmdldFNoYWRlclNvdXJjZShzaGFkZXIpLCAnJywgMCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5TSEFERVJfVFlQRSk7XG4gICAgICAgIHJldHVybiBgJHtnbEVudW1Ub1N0cmluZyhnbCwgdHlwZSl9XFxuJHtzcmN9fWA7XG4gICAgICB9KS5qb2luKCdcXG4nKVxuICAgIH1cXG5FcnJvciBpbiBwcm9ncmFtIGxpbmtpbmc6ICR7bGFzdEVycm9yfWApO1xuXG4gICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBkZWxldGVTaGFkZXJzKGdsLCBuZXdTaGFkZXJzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcHJvZ3JhbTtcbn1cblxuLyoqXG4gKiBMb2FkcyBhIHNoYWRlciBmcm9tIGEgc2NyaXB0IHRhZy5cbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0IHRvIHVzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzY3JpcHRJZCBUaGUgaWQgb2YgdGhlIHNjcmlwdCB0YWcuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdF9zaGFkZXJUeXBlXSBUaGUgdHlwZSBvZiBzaGFkZXIuIElmIG5vdCBwYXNzZWQgaW4gaXQgd2lsbFxuICogICAgIGJlIGRlcml2ZWQgZnJvbSB0aGUgdHlwZSBvZiB0aGUgc2NyaXB0IHRhZy5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuRXJyb3JDYWxsYmFja30gW29wdF9lcnJvckNhbGxiYWNrXSBjYWxsYmFjayBmb3IgZXJyb3JzLlxuICogQHJldHVybiB7V2ViR0xTaGFkZXI/fSBUaGUgY3JlYXRlZCBzaGFkZXIgb3IgbnVsbCBpZiBlcnJvci5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNoYWRlckZyb21TY3JpcHQoXG4gICAgZ2wsIHNjcmlwdElkLCBvcHRfc2hhZGVyVHlwZSwgb3B0X2Vycm9yQ2FsbGJhY2spIHtcbiAgbGV0IHNoYWRlclNvdXJjZSA9IFwiXCI7XG4gIGNvbnN0IHNoYWRlclNjcmlwdCA9IGdldEVsZW1lbnRCeUlkKHNjcmlwdElkKTtcbiAgaWYgKCFzaGFkZXJTY3JpcHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gc2NyaXB0IGVsZW1lbnQ6ICR7c2NyaXB0SWR9YCk7XG4gIH1cbiAgc2hhZGVyU291cmNlID0gc2hhZGVyU2NyaXB0LnRleHQ7XG5cbiAgY29uc3Qgc2hhZGVyVHlwZSA9IG9wdF9zaGFkZXJUeXBlIHx8IGdldFNoYWRlclR5cGVGcm9tU2NyaXB0VHlwZShnbCwgc2hhZGVyU2NyaXB0LnR5cGUpO1xuICBpZiAoIXNoYWRlclR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gc2hhZGVyIHR5cGUnKTtcbiAgfVxuXG4gIHJldHVybiBsb2FkU2hhZGVyKGdsLCBzaGFkZXJTb3VyY2UsIHNoYWRlclR5cGUsIG9wdF9lcnJvckNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgcHJvZ3JhbSBmcm9tIDIgc2NyaXB0IHRhZ3MuXG4gKlxuICogTk9URTogVGhlcmUgYXJlIDQgc2lnbmF0dXJlcyBmb3IgdGhpcyBmdW5jdGlvblxuICpcbiAqICAgICB0d2dsLmNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyhnbCwgW3ZzLCBmc10sIG9wdF9vcHRpb25zKTtcbiAqICAgICB0d2dsLmNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyhnbCwgW3ZzLCBmc10sIG9wdF9lcnJGdW5jKTtcbiAqICAgICB0d2dsLmNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyhnbCwgW3ZzLCBmc10sIG9wdF9hdHRyaWJzLCBvcHRfZXJyRnVuYyk7XG4gKiAgICAgdHdnbC5jcmVhdGVQcm9ncmFtRnJvbVNjcmlwdHMoZ2wsIFt2cywgZnNdLCBvcHRfYXR0cmlicywgb3B0X2xvY2F0aW9ucywgb3B0X2VyckZ1bmMpO1xuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiAgICAgICAgdG8gdXNlLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gc2hhZGVyU2NyaXB0SWRzIEFycmF5IG9mIGlkcyBvZiB0aGUgc2NyaXB0XG4gKiAgICAgICAgdGFncyBmb3IgdGhlIHNoYWRlcnMuIFRoZSBmaXJzdCBpcyBhc3N1bWVkIHRvIGJlIHRoZVxuICogICAgICAgIHZlcnRleCBzaGFkZXIsIHRoZSBzZWNvbmQgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuUHJvZ3JhbU9wdGlvbnN8c3RyaW5nW118bW9kdWxlOnR3Z2wuRXJyb3JDYWxsYmFja30gW29wdF9hdHRyaWJzXSBPcHRpb25zIGZvciB0aGUgcHJvZ3JhbSBvciBhbiBhcnJheSBvZiBhdHRyaWJzIG5hbWVzIG9yIGFuIGVycm9yIGNhbGxiYWNrLiBMb2NhdGlvbnMgd2lsbCBiZSBhc3NpZ25lZCBieSBpbmRleCBpZiBub3QgcGFzc2VkIGluXG4gKiBAcGFyYW0ge251bWJlcltdfSBbb3B0X2xvY2F0aW9uc3xtb2R1bGU6dHdnbC5FcnJvckNhbGxiYWNrXSBUaGUgbG9jYXRpb25zIGZvciB0aGUuIEEgcGFyYWxsZWwgYXJyYXkgdG8gb3B0X2F0dHJpYnMgbGV0dGluZyB5b3UgYXNzaWduIGxvY2F0aW9ucyBvciBhbiBlcnJvciBjYWxsYmFjay5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuRXJyb3JDYWxsYmFja30gW29wdF9lcnJvckNhbGxiYWNrXSBjYWxsYmFjayBmb3IgZXJyb3JzLiBCeSBkZWZhdWx0IGl0IGp1c3QgcHJpbnRzIGFuIGVycm9yIHRvIHRoZSBjb25zb2xlXG4gKiAgICAgICAgb24gZXJyb3IuIElmIHlvdSB3YW50IHNvbWV0aGluZyBlbHNlIHBhc3MgYW4gY2FsbGJhY2suIEl0J3MgcGFzc2VkIGFuIGVycm9yIG1lc3NhZ2UuXG4gKiBAcmV0dXJuIHtXZWJHTFByb2dyYW0/fSB0aGUgY3JlYXRlZCBwcm9ncmFtIG9yIG51bGwgaWYgZXJyb3IuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJvZ3JhbXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbUZyb21TY3JpcHRzKFxuICAgIGdsLCBzaGFkZXJTY3JpcHRJZHMsIG9wdF9hdHRyaWJzLCBvcHRfbG9jYXRpb25zLCBvcHRfZXJyb3JDYWxsYmFjaykge1xuICBjb25zdCBwcm9nT3B0aW9ucyA9IGdldFByb2dyYW1PcHRpb25zKG9wdF9hdHRyaWJzLCBvcHRfbG9jYXRpb25zLCBvcHRfZXJyb3JDYWxsYmFjayk7XG4gIGNvbnN0IHNoYWRlcnMgPSBbXTtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNoYWRlclNjcmlwdElkcy5sZW5ndGg7ICsraWkpIHtcbiAgICBjb25zdCBzaGFkZXIgPSBjcmVhdGVTaGFkZXJGcm9tU2NyaXB0KFxuICAgICAgICBnbCwgc2hhZGVyU2NyaXB0SWRzW2lpXSwgZ2xbZGVmYXVsdFNoYWRlclR5cGVbaWldXSwgcHJvZ09wdGlvbnMuZXJyb3JDYWxsYmFjayk7XG4gICAgaWYgKCFzaGFkZXIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzaGFkZXJzLnB1c2goc2hhZGVyKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycywgcHJvZ09wdGlvbnMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBwcm9ncmFtIGZyb20gMiBzb3VyY2VzLlxuICpcbiAqIE5PVEU6IFRoZXJlIGFyZSA0IHNpZ25hdHVyZXMgZm9yIHRoaXMgZnVuY3Rpb25cbiAqXG4gKiAgICAgdHdnbC5jcmVhdGVQcm9ncmFtRnJvbVNvdXJjZShnbCwgW3ZzLCBmc10sIG9wdF9vcHRpb25zKTtcbiAqICAgICB0d2dsLmNyZWF0ZVByb2dyYW1Gcm9tU291cmNlKGdsLCBbdnMsIGZzXSwgb3B0X2VyckZ1bmMpO1xuICogICAgIHR3Z2wuY3JlYXRlUHJvZ3JhbUZyb21Tb3VyY2UoZ2wsIFt2cywgZnNdLCBvcHRfYXR0cmlicywgb3B0X2VyckZ1bmMpO1xuICogICAgIHR3Z2wuY3JlYXRlUHJvZ3JhbUZyb21Tb3VyY2UoZ2wsIFt2cywgZnNdLCBvcHRfYXR0cmlicywgb3B0X2xvY2F0aW9ucywgb3B0X2VyckZ1bmMpO1xuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiAgICAgICAgdG8gdXNlLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gc2hhZGVyU291cmNlcyBBcnJheSBvZiBzb3VyY2VzIGZvciB0aGVcbiAqICAgICAgICBzaGFkZXJzLiBUaGUgZmlyc3QgaXMgYXNzdW1lZCB0byBiZSB0aGUgdmVydGV4IHNoYWRlcixcbiAqICAgICAgICB0aGUgc2Vjb25kIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlByb2dyYW1PcHRpb25zfHN0cmluZ1tdfG1vZHVsZTp0d2dsLkVycm9yQ2FsbGJhY2t9IFtvcHRfYXR0cmlic10gT3B0aW9ucyBmb3IgdGhlIHByb2dyYW0gb3IgYW4gYXJyYXkgb2YgYXR0cmlicyBuYW1lcyBvciBhbiBlcnJvciBjYWxsYmFjay4gTG9jYXRpb25zIHdpbGwgYmUgYXNzaWduZWQgYnkgaW5kZXggaWYgbm90IHBhc3NlZCBpblxuICogQHBhcmFtIHtudW1iZXJbXX0gW29wdF9sb2NhdGlvbnN8bW9kdWxlOnR3Z2wuRXJyb3JDYWxsYmFja10gVGhlIGxvY2F0aW9ucyBmb3IgdGhlLiBBIHBhcmFsbGVsIGFycmF5IHRvIG9wdF9hdHRyaWJzIGxldHRpbmcgeW91IGFzc2lnbiBsb2NhdGlvbnMgb3IgYW4gZXJyb3IgY2FsbGJhY2suXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkVycm9yQ2FsbGJhY2t9IFtvcHRfZXJyb3JDYWxsYmFja10gY2FsbGJhY2sgZm9yIGVycm9ycy4gQnkgZGVmYXVsdCBpdCBqdXN0IHByaW50cyBhbiBlcnJvciB0byB0aGUgY29uc29sZVxuICogICAgICAgIG9uIGVycm9yLiBJZiB5b3Ugd2FudCBzb21ldGhpbmcgZWxzZSBwYXNzIGFuIGNhbGxiYWNrLiBJdCdzIHBhc3NlZCBhbiBlcnJvciBtZXNzYWdlLlxuICogQHJldHVybiB7V2ViR0xQcm9ncmFtP30gdGhlIGNyZWF0ZWQgcHJvZ3JhbSBvciBudWxsIGlmIGVycm9yLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3Byb2dyYW1zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVByb2dyYW1Gcm9tU291cmNlcyhcbiAgICBnbCwgc2hhZGVyU291cmNlcywgb3B0X2F0dHJpYnMsIG9wdF9sb2NhdGlvbnMsIG9wdF9lcnJvckNhbGxiYWNrKSB7XG4gIGNvbnN0IHByb2dPcHRpb25zID0gZ2V0UHJvZ3JhbU9wdGlvbnMob3B0X2F0dHJpYnMsIG9wdF9sb2NhdGlvbnMsIG9wdF9lcnJvckNhbGxiYWNrKTtcbiAgY29uc3Qgc2hhZGVycyA9IFtdO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc2hhZGVyU291cmNlcy5sZW5ndGg7ICsraWkpIHtcbiAgICBjb25zdCBzaGFkZXIgPSBsb2FkU2hhZGVyKFxuICAgICAgICBnbCwgc2hhZGVyU291cmNlc1tpaV0sIGdsW2RlZmF1bHRTaGFkZXJUeXBlW2lpXV0sIHByb2dPcHRpb25zLmVycm9yQ2FsbGJhY2spO1xuICAgIGlmICghc2hhZGVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc2hhZGVycy5wdXNoKHNoYWRlcik7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVByb2dyYW0oZ2wsIHNoYWRlcnMsIHByb2dPcHRpb25zKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYXR0cmlidXRlL3VuaWZvcm0gaXMgYSByZXNlcnZlZC9idWlsdCBpblxuICpcbiAqIEl0IG1ha2VzIG5vIHNlbnNlIHRvIG1lIHdoeSBHTCByZXR1cm5zIHRoZXNlIGJlY2F1c2UgaXQnc1xuICogaWxsZWdhbCB0byBjYWxsIGBnbC5nZXRVbmlmb3JtTG9jYXRpb25gIGFuZCBgZ2wuZ2V0QXR0cmliTG9jYXRpb25gXG4gKiB3aXRoIG5hbWVzIHRoYXQgc3RhcnQgd2l0aCBgZ2xfYCAoYW5kIGB3ZWJnbF9gIGluIFdlYkdMKVxuICpcbiAqIEkgY2FuIG9ubHkgYXNzdW1lIHRoZXkgYXJlIHRoZXJlIGJlY2F1c2UgdGhleSBtaWdodCBjb3VudFxuICogd2hlbiBjb21wdXRpbmcgdGhlIG51bWJlciBvZiB1bmlmb3Jtcy9hdHRyaWJ1dGVzIHVzZWQgd2hlbiB5b3Ugd2FudCB0b1xuICoga25vdyBpZiB5b3UgYXJlIG5lYXIgdGhlIGxpbWl0LiBUaGF0IGRvZXNuJ3QgcmVhbGx5IG1ha2Ugc2Vuc2VcbiAqIHRvIG1lIGJ1dCB0aGUgZmFjdCB0aGF0IHRoZXNlIGdldCByZXR1cm5lZCBhcmUgaW4gdGhlIHNwZWMuXG4gKlxuICogQHBhcmFtIHtXZWJHTEFjdGl2ZUluZm99IGluZm8gQXMgcmV0dXJuZWQgZnJvbSBgZ2wuZ2V0QWN0aXZlVW5pZm9ybWAgb3JcbiAqICAgIGBnbC5nZXRBY3RpdmVBdHRyaWJgLlxuICogQHJldHVybiB7Ym9vbH0gdHJ1ZSBpZiBpdCdzIHJlc2VydmVkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpc0J1aWx0SW4oaW5mbykge1xuICBjb25zdCBuYW1lID0gaW5mby5uYW1lO1xuICByZXR1cm4gbmFtZS5zdGFydHNXaXRoKFwiZ2xfXCIpIHx8IG5hbWUuc3RhcnRzV2l0aChcIndlYmdsX1wiKTtcbn1cblxuY29uc3QgdG9rZW5SRSA9IC8oXFwufFxcW3xdfFxcdyspL2c7XG5jb25zdCBpc0RpZ2l0ID0gcyA9PiBzID49ICcwJyAmJiBzIDw9ICc5JztcbmZ1bmN0aW9uIGFkZFNldHRlclRvVW5pZm9ybVRyZWUoZnVsbFBhdGgsIHNldHRlciwgbm9kZSwgdW5pZm9ybVNldHRlcnMpIHtcbiAgY29uc3QgdG9rZW5zID0gZnVsbFBhdGguc3BsaXQodG9rZW5SRSkuZmlsdGVyKHMgPT4gcyAhPT0gJycpO1xuICBsZXQgdG9rZW5OZHggPSAwO1xuICBsZXQgcGF0aCA9ICcnO1xuXG4gIGZvciAoOzspIHtcbiAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1t0b2tlbk5keCsrXTsgIC8vIGhhcyB0byBiZSBuYW1lIG9yIG51bWJlclxuICAgIHBhdGggKz0gdG9rZW47XG4gICAgY29uc3QgaXNBcnJheUluZGV4ID0gaXNEaWdpdCh0b2tlblswXSk7XG4gICAgY29uc3QgYWNjZXNzb3IgPSBpc0FycmF5SW5kZXhcbiAgICAgICAgPyBwYXJzZUludCh0b2tlbilcbiAgICAgICAgOiB0b2tlbjtcbiAgICBpZiAoaXNBcnJheUluZGV4KSB7XG4gICAgICBwYXRoICs9IHRva2Vuc1t0b2tlbk5keCsrXTsgIC8vIHNraXAgJ10nXG4gICAgfVxuICAgIGNvbnN0IGlzTGFzdFRva2VuID0gdG9rZW5OZHggPT09IHRva2Vucy5sZW5ndGg7XG4gICAgaWYgKGlzTGFzdFRva2VuKSB7XG4gICAgICBub2RlW2FjY2Vzc29yXSA9IHNldHRlcjtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0b2tlbiA9IHRva2Vuc1t0b2tlbk5keCsrXTsgIC8vIGhhcyB0byBiZSAuIG9yIFtcbiAgICAgIGNvbnN0IGlzQXJyYXkgPSB0b2tlbiA9PT0gJ1snO1xuICAgICAgY29uc3QgY2hpbGQgPSBub2RlW2FjY2Vzc29yXSB8fCAoaXNBcnJheSA/IFtdIDoge30pO1xuICAgICAgbm9kZVthY2Nlc3Nvcl0gPSBjaGlsZDtcbiAgICAgIG5vZGUgPSBjaGlsZDtcbiAgICAgIHVuaWZvcm1TZXR0ZXJzW3BhdGhdID0gdW5pZm9ybVNldHRlcnNbcGF0aF0gfHwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzZXRVbmlmb3JtVHJlZShub2RlLCB2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICB9KGNoaWxkKTtcbiAgICAgIHBhdGggKz0gdG9rZW47XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBzZXR0ZXIgZnVuY3Rpb25zIGZvciBhbGwgdW5pZm9ybXMgb2YgYSBzaGFkZXJcbiAqIHByb2dyYW0uXG4gKlxuICogQHNlZSB7QGxpbmsgbW9kdWxlOnR3Z2wuc2V0VW5pZm9ybXN9XG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQgdG8gdXNlLlxuICogQHBhcmFtIHtXZWJHTFByb2dyYW19IHByb2dyYW0gdGhlIHByb2dyYW0gdG8gY3JlYXRlIHNldHRlcnMgZm9yLlxuICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59IGFuIG9iamVjdCB3aXRoIGEgc2V0dGVyIGJ5IG5hbWUgZm9yIGVhY2ggdW5pZm9ybVxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3Byb2dyYW1zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVVuaWZvcm1TZXR0ZXJzKGdsLCBwcm9ncmFtKSB7XG4gIGxldCB0ZXh0dXJlVW5pdCA9IDA7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzZXR0ZXIgZm9yIGEgdW5pZm9ybSBvZiB0aGUgZ2l2ZW4gcHJvZ3JhbSB3aXRoIGl0J3NcbiAgICogbG9jYXRpb24gZW1iZWRkZWQgaW4gdGhlIHNldHRlci5cbiAgICogQHBhcmFtIHtXZWJHTFByb2dyYW19IHByb2dyYW1cbiAgICogQHBhcmFtIHtXZWJHTFVuaWZvcm1JbmZvfSB1bmlmb3JtSW5mb1xuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259IHRoZSBjcmVhdGVkIHNldHRlci5cbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZVVuaWZvcm1TZXR0ZXIocHJvZ3JhbSwgdW5pZm9ybUluZm8sIGxvY2F0aW9uKSB7XG4gICAgY29uc3QgaXNBcnJheSA9IHVuaWZvcm1JbmZvLm5hbWUuZW5kc1dpdGgoXCJbMF1cIik7XG4gICAgY29uc3QgdHlwZSA9IHVuaWZvcm1JbmZvLnR5cGU7XG4gICAgY29uc3QgdHlwZUluZm8gPSB0eXBlTWFwW3R5cGVdO1xuICAgIGlmICghdHlwZUluZm8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biB0eXBlOiAweCR7dHlwZS50b1N0cmluZygxNil9YCk7IC8vIHdlIHNob3VsZCBuZXZlciBnZXQgaGVyZS5cbiAgICB9XG4gICAgbGV0IHNldHRlcjtcbiAgICBpZiAodHlwZUluZm8uYmluZFBvaW50KSB7XG4gICAgICAvLyBpdCdzIGEgc2FtcGxlclxuICAgICAgY29uc3QgdW5pdCA9IHRleHR1cmVVbml0O1xuICAgICAgdGV4dHVyZVVuaXQgKz0gdW5pZm9ybUluZm8uc2l6ZTtcbiAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgIHNldHRlciA9IHR5cGVJbmZvLmFycmF5U2V0dGVyKGdsLCB0eXBlLCB1bml0LCBsb2NhdGlvbiwgdW5pZm9ybUluZm8uc2l6ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXR0ZXIgPSB0eXBlSW5mby5zZXR0ZXIoZ2wsIHR5cGUsIHVuaXQsIGxvY2F0aW9uLCB1bmlmb3JtSW5mby5zaXplKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVJbmZvLmFycmF5U2V0dGVyICYmIGlzQXJyYXkpIHtcbiAgICAgICAgc2V0dGVyID0gdHlwZUluZm8uYXJyYXlTZXR0ZXIoZ2wsIGxvY2F0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldHRlciA9IHR5cGVJbmZvLnNldHRlcihnbCwgbG9jYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXR0ZXIubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICByZXR1cm4gc2V0dGVyO1xuICB9XG5cbiAgY29uc3QgdW5pZm9ybVNldHRlcnMgPSB7fTtcbiAgY29uc3QgdW5pZm9ybVRyZWUgPSB7fTtcbiAgY29uc3QgbnVtVW5pZm9ybXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIEFDVElWRV9VTklGT1JNUyk7XG5cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG51bVVuaWZvcm1zOyArK2lpKSB7XG4gICAgY29uc3QgdW5pZm9ybUluZm8gPSBnbC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGlpKTtcbiAgICBpZiAoaXNCdWlsdEluKHVuaWZvcm1JbmZvKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBuYW1lID0gdW5pZm9ybUluZm8ubmFtZTtcbiAgICAvLyByZW1vdmUgdGhlIGFycmF5IHN1ZmZpeC5cbiAgICBpZiAobmFtZS5lbmRzV2l0aChcIlswXVwiKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDAsIG5hbWUubGVuZ3RoIC0gMyk7XG4gICAgfVxuICAgIGNvbnN0IGxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sIHVuaWZvcm1JbmZvLm5hbWUpO1xuICAgIC8vIHRoZSB1bmlmb3JtIHdpbGwgaGF2ZSBubyBsb2NhdGlvbiBpZiBpdCdzIGluIGEgdW5pZm9ybSBibG9ja1xuICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgY29uc3Qgc2V0dGVyID0gY3JlYXRlVW5pZm9ybVNldHRlcihwcm9ncmFtLCB1bmlmb3JtSW5mbywgbG9jYXRpb24pO1xuICAgICAgdW5pZm9ybVNldHRlcnNbbmFtZV0gPSBzZXR0ZXI7XG4gICAgICBhZGRTZXR0ZXJUb1VuaWZvcm1UcmVlKG5hbWUsIHNldHRlciwgdW5pZm9ybVRyZWUsIHVuaWZvcm1TZXR0ZXJzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5pZm9ybVNldHRlcnM7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVHJhbnNmb3JtRmVlZGJhY2tJbmZvXG4gKiBAcHJvcGVydHkge251bWJlcn0gaW5kZXggaW5kZXggb2YgdHJhbnNmb3JtIGZlZWRiYWNrXG4gKiBAcHJvcGVydHkge251bWJlcn0gdHlwZSBHTCB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2l6ZSAxIC0gNFxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgVHJhbnNmb3JtRmVlZGJhY2tJbmZvIGZvciBwYXNzaW5nIHRvIGJpbmRUcmFuc2Zvcm1GZWVkYmFja0luZm8uXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCB0byB1c2UuXG4gKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gcHJvZ3JhbSBhbiBleGlzdGluZyBXZWJHTFByb2dyYW0uXG4gKiBAcmV0dXJuIHtPYmplY3Q8c3RyaW5nLCBtb2R1bGU6dHdnbC5UcmFuc2Zvcm1GZWVkYmFja0luZm8+fVxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrSW5mbyhnbCwgcHJvZ3JhbSkge1xuICBjb25zdCBpbmZvID0ge307XG4gIGNvbnN0IG51bVZhcnlpbmdzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBUUkFOU0ZPUk1fRkVFREJBQ0tfVkFSWUlOR1MpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbnVtVmFyeWluZ3M7ICsraWkpIHtcbiAgICBjb25zdCB2YXJ5aW5nID0gZ2wuZ2V0VHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nKHByb2dyYW0sIGlpKTtcbiAgICBpbmZvW3ZhcnlpbmcubmFtZV0gPSB7XG4gICAgICBpbmRleDogaWksXG4gICAgICB0eXBlOiB2YXJ5aW5nLnR5cGUsXG4gICAgICBzaXplOiB2YXJ5aW5nLnNpemUsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gaW5mbztcbn1cblxuLyoqXG4gKiBCaW5kcyBidWZmZXJzIGZvciB0cmFuc2Zvcm0gZmVlZGJhY2suXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQgdG8gdXNlLlxuICogQHBhcmFtIHsobW9kdWxlOnR3Z2wuUHJvZ3JhbUluZm98T2JqZWN0PHN0cmluZywgbW9kdWxlOnR3Z2wuVHJhbnNmb3JtRmVlZGJhY2tJbmZvPil9IHRyYW5zZm9ybUZlZWRiYWNrSW5mbyBBIFByb2dyYW1JbmZvIG9yIFRyYW5zZm9ybUZlZWRiYWNrSW5mby5cbiAqIEBwYXJhbSB7KG1vZHVsZTp0d2dsLkJ1ZmZlckluZm98T2JqZWN0PHN0cmluZywgbW9kdWxlOnR3Z2wuQXR0cmliSW5mbz4pfSBbYnVmZmVySW5mb10gQSBCdWZmZXJJbmZvIG9yIHNldCBvZiBBdHRyaWJJbmZvcy5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5mdW5jdGlvbiBiaW5kVHJhbnNmb3JtRmVlZGJhY2tJbmZvKGdsLCB0cmFuc2Zvcm1GZWVkYmFja0luZm8sIGJ1ZmZlckluZm8pIHtcbiAgaWYgKHRyYW5zZm9ybUZlZWRiYWNrSW5mby50cmFuc2Zvcm1GZWVkYmFja0luZm8pIHtcbiAgICB0cmFuc2Zvcm1GZWVkYmFja0luZm8gPSB0cmFuc2Zvcm1GZWVkYmFja0luZm8udHJhbnNmb3JtRmVlZGJhY2tJbmZvO1xuICB9XG4gIGlmIChidWZmZXJJbmZvLmF0dHJpYnMpIHtcbiAgICBidWZmZXJJbmZvID0gYnVmZmVySW5mby5hdHRyaWJzO1xuICB9XG4gIGZvciAoY29uc3QgbmFtZSBpbiBidWZmZXJJbmZvKSB7XG4gICAgY29uc3QgdmFyeWluZyA9IHRyYW5zZm9ybUZlZWRiYWNrSW5mb1tuYW1lXTtcbiAgICBpZiAodmFyeWluZykge1xuICAgICAgY29uc3QgYnVmID0gYnVmZmVySW5mb1tuYW1lXTtcbiAgICAgIGlmIChidWYub2Zmc2V0KSB7XG4gICAgICAgIGdsLmJpbmRCdWZmZXJSYW5nZShUUkFOU0ZPUk1fRkVFREJBQ0tfQlVGRkVSLCB2YXJ5aW5nLmluZGV4LCBidWYuYnVmZmVyLCBidWYub2Zmc2V0LCBidWYuc2l6ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbC5iaW5kQnVmZmVyQmFzZShUUkFOU0ZPUk1fRkVFREJBQ0tfQlVGRkVSLCB2YXJ5aW5nLmluZGV4LCBidWYuYnVmZmVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdHJhbnNmb3JtIGZlZWRiYWNrIGFuZCBzZXRzIHRoZSBidWZmZXJzXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCB0byB1c2UuXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlByb2dyYW1JbmZvfSBwcm9ncmFtSW5mbyBBIFByb2dyYW1JbmZvIGFzIHJldHVybmVkIGZyb20ge0BsaW5rIG1vZHVsZTp0d2dsLmNyZWF0ZVByb2dyYW1JbmZvfVxuICogQHBhcmFtIHsobW9kdWxlOnR3Z2wuQnVmZmVySW5mb3xPYmplY3Q8c3RyaW5nLCBtb2R1bGU6dHdnbC5BdHRyaWJJbmZvPil9IFtidWZmZXJJbmZvXSBBIEJ1ZmZlckluZm8gb3Igc2V0IG9mIEF0dHJpYkluZm9zLlxuICogQHJldHVybiB7V2ViR0xUcmFuc2Zvcm1GZWVkYmFja30gdGhlIGNyZWF0ZWQgdHJhbnNmb3JtIGZlZWRiYWNrXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soZ2wsIHByb2dyYW1JbmZvLCBidWZmZXJJbmZvKSB7XG4gIGNvbnN0IHRmID0gZ2wuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKTtcbiAgZ2wuYmluZFRyYW5zZm9ybUZlZWRiYWNrKFRSQU5TRk9STV9GRUVEQkFDSywgdGYpO1xuICBnbC51c2VQcm9ncmFtKHByb2dyYW1JbmZvLnByb2dyYW0pO1xuICBiaW5kVHJhbnNmb3JtRmVlZGJhY2tJbmZvKGdsLCBwcm9ncmFtSW5mbywgYnVmZmVySW5mbyk7XG4gIGdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhUUkFOU0ZPUk1fRkVFREJBQ0ssIG51bGwpO1xuICByZXR1cm4gdGY7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVW5pZm9ybURhdGFcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSB1bmlmb3JtXG4gKiBAcHJvcGVydHkge251bWJlcn0gdHlwZSBUaGUgV2ViR0wgdHlwZSBlbnVtIGZvciB0aGlzIHVuaWZvcm1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaXplIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgZm9yIHRoaXMgdW5pZm9ybVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJsb2NrTmR4IFRoZSBibG9jayBpbmRleCB0aGlzIHVuaWZvcm0gYXBwZWFycyBpblxuICogQHByb3BlcnR5IHtudW1iZXJ9IG9mZnNldCBUaGUgYnl0ZSBvZmZzZXQgaW4gdGhlIGJsb2NrIGZvciB0aGlzIHVuaWZvcm0ncyB2YWx1ZVxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuLyoqXG4gKiBUaGUgc3BlY2lmaWNhdGlvbiBmb3Igb25lIFVuaWZvcm1CbG9ja09iamVjdFxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJsb2NrU3BlY1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgYmxvY2suXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2l6ZSBUaGUgc2l6ZSBpbiBieXRlcyBuZWVkZWQgZm9yIHRoZSBibG9ja1xuICogQHByb3BlcnR5IHtudW1iZXJbXX0gdW5pZm9ybUluZGljZXMgVGhlIGluZGljZXMgb2YgdGhlIHVuaWZvcm1zIHVzZWQgYnkgdGhlIGJsb2NrLiBUaGVzZSBpbmRpY2VzXG4gKiAgICBjb3JyZXNwb25kIHRvIGVudHJpZXMgaW4gYSBVbmlmb3JtRGF0YSBhcnJheSBpbiB0aGUge0BsaW5rIG1vZHVsZTp0d2dsLlVuaWZvcm1CbG9ja1NwZWN9LlxuICogQHByb3BlcnR5IHtib29sfSB1c2VkQnlWZXJ0ZXhTaGFkZXIgU2VsZiBleHBsYW5hdG9yeVxuICogQHByb3BlcnR5IHtib29sfSB1c2VkQnlGcmFnbWVudFNoYWRlciBTZWxmIGV4cGxhbmF0b3J5XG4gKiBAcHJvcGVydHkge2Jvb2x9IHVzZWQgU2VsZiBleHBsYW5hdG9yeVxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuLyoqXG4gKiBBIGBVbmlmb3JtQmxvY2tTcGVjYCByZXByZXNlbnRzIHRoZSBkYXRhIG5lZWRlZCB0byBjcmVhdGUgYW5kIGJpbmRcbiAqIFVuaWZvcm1CbG9ja09iamVjdHMgZm9yIGEgZ2l2ZW4gcHJvZ3JhbVxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFVuaWZvcm1CbG9ja1NwZWNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIG1vZHVsZTp0d2dsLkJsb2NrU3BlYz59IGJsb2NrU3BlY3MgVGhlIEJsb2NrU3BlYyBmb3IgZWFjaCBibG9jayBieSBibG9jayBuYW1lXG4gKiBAcHJvcGVydHkge1VuaWZvcm1EYXRhW119IHVuaWZvcm1EYXRhIEFuIGFycmF5IG9mIGRhdGEgZm9yIGVhY2ggdW5pZm9ybSBieSB1bmlmb3JtIGluZGV4LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgVW5pZm9ybUJsb2NrU3BlYyBmb3IgdGhlIGdpdmVuIHByb2dyYW0uXG4gKlxuICogQSBVbmlmb3JtQmxvY2tTcGVjIHJlcHJlc2VudHMgdGhlIGRhdGEgbmVlZGVkIHRvIGNyZWF0ZSBhbmQgYmluZFxuICogVW5pZm9ybUJsb2NrT2JqZWN0c1xuICpcbiAqIEBwYXJhbSB7V2ViR0wyUmVuZGVyaW5nQ29udGV4dH0gZ2wgQSBXZWJHTDIgUmVuZGVyaW5nIENvbnRleHRcbiAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBwcm9ncmFtIEEgV2ViR0xQcm9ncmFtIGZvciBhIHN1Y2Nlc3NmdWxseSBsaW5rZWQgcHJvZ3JhbVxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuVW5pZm9ybUJsb2NrU3BlY30gVGhlIGNyZWF0ZWQgVW5pZm9ybUJsb2NrU3BlY1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3Byb2dyYW1zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVVuaWZvcm1CbG9ja1NwZWNGcm9tUHJvZ3JhbShnbCwgcHJvZ3JhbSkge1xuICBjb25zdCBudW1Vbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgQUNUSVZFX1VOSUZPUk1TKTtcbiAgY29uc3QgdW5pZm9ybURhdGEgPSBbXTtcbiAgY29uc3QgdW5pZm9ybUluZGljZXMgPSBbXTtcblxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbnVtVW5pZm9ybXM7ICsraWkpIHtcbiAgICB1bmlmb3JtSW5kaWNlcy5wdXNoKGlpKTtcbiAgICB1bmlmb3JtRGF0YS5wdXNoKHt9KTtcbiAgICBjb25zdCB1bmlmb3JtSW5mbyA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaWkpO1xuICAgIHVuaWZvcm1EYXRhW2lpXS5uYW1lID0gdW5pZm9ybUluZm8ubmFtZTtcbiAgfVxuXG4gIFtcbiAgICBbIFwiVU5JRk9STV9UWVBFXCIsIFwidHlwZVwiIF0sXG4gICAgWyBcIlVOSUZPUk1fU0laRVwiLCBcInNpemVcIiBdLCAgLy8gbnVtIGVsZW1lbnRzXG4gICAgWyBcIlVOSUZPUk1fQkxPQ0tfSU5ERVhcIiwgXCJibG9ja05keFwiIF0sXG4gICAgWyBcIlVOSUZPUk1fT0ZGU0VUXCIsIFwib2Zmc2V0XCIsIF0sXG4gIF0uZm9yRWFjaChmdW5jdGlvbihwYWlyKSB7XG4gICAgY29uc3QgcG5hbWUgPSBwYWlyWzBdO1xuICAgIGNvbnN0IGtleSA9IHBhaXJbMV07XG4gICAgZ2wuZ2V0QWN0aXZlVW5pZm9ybXMocHJvZ3JhbSwgdW5pZm9ybUluZGljZXMsIGdsW3BuYW1lXSkuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmR4KSB7XG4gICAgICB1bmlmb3JtRGF0YVtuZHhdW2tleV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgYmxvY2tTcGVjcyA9IHt9O1xuXG4gIGNvbnN0IG51bVVuaWZvcm1CbG9ja3MgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIEFDVElWRV9VTklGT1JNX0JMT0NLUyk7XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCBudW1Vbmlmb3JtQmxvY2tzOyArK2lpKSB7XG4gICAgY29uc3QgbmFtZSA9IGdsLmdldEFjdGl2ZVVuaWZvcm1CbG9ja05hbWUocHJvZ3JhbSwgaWkpO1xuICAgIGNvbnN0IGJsb2NrU3BlYyA9IHtcbiAgICAgIGluZGV4OiBnbC5nZXRVbmlmb3JtQmxvY2tJbmRleChwcm9ncmFtLCBuYW1lKSxcbiAgICAgIHVzZWRCeVZlcnRleFNoYWRlcjogZ2wuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrUGFyYW1ldGVyKHByb2dyYW0sIGlpLCBVTklGT1JNX0JMT0NLX1JFRkVSRU5DRURfQllfVkVSVEVYX1NIQURFUiksXG4gICAgICB1c2VkQnlGcmFnbWVudFNoYWRlcjogZ2wuZ2V0QWN0aXZlVW5pZm9ybUJsb2NrUGFyYW1ldGVyKHByb2dyYW0sIGlpLCBVTklGT1JNX0JMT0NLX1JFRkVSRU5DRURfQllfRlJBR01FTlRfU0hBREVSKSxcbiAgICAgIHNpemU6IGdsLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcihwcm9ncmFtLCBpaSwgVU5JRk9STV9CTE9DS19EQVRBX1NJWkUpLFxuICAgICAgdW5pZm9ybUluZGljZXM6IGdsLmdldEFjdGl2ZVVuaWZvcm1CbG9ja1BhcmFtZXRlcihwcm9ncmFtLCBpaSwgVU5JRk9STV9CTE9DS19BQ1RJVkVfVU5JRk9STV9JTkRJQ0VTKSxcbiAgICB9O1xuICAgIGJsb2NrU3BlYy51c2VkID0gYmxvY2tTcGVjLnVzZWRCeVZlcnRleFNoYWRlciB8fCBibG9ja1NwZWMudXNlZEJ5RnJhZ21lbnRTaGFkZXI7XG4gICAgYmxvY2tTcGVjc1tuYW1lXSA9IGJsb2NrU3BlYztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmxvY2tTcGVjczogYmxvY2tTcGVjcyxcbiAgICB1bmlmb3JtRGF0YTogdW5pZm9ybURhdGEsXG4gIH07XG59XG5cbmNvbnN0IGFycmF5U3VmZml4UkUgPSAvXFxbXFxkK1xcXVxcLiQvOyAgLy8gYmV0dGVyIHdheSB0byBjaGVjaz9cblxuY29uc3QgcGFkID0gKHYsIHBhZGRpbmcpID0+ICgodiArIChwYWRkaW5nIC0gMSkpIC8gcGFkZGluZyB8IDApICogcGFkZGluZztcblxuZnVuY3Rpb24gY3JlYXRlVW5pZm9ybUJsb2NrVW5pZm9ybVNldHRlcih2aWV3LCBpc0FycmF5LCByb3dzLCBjb2xzKSB7XG4gIGlmIChpc0FycmF5IHx8IHJvd3MpIHtcbiAgICBjb2xzID0gY29scyB8fCAxO1xuICAgIGNvbnN0IG51bUVsZW1lbnRzID0gdmlldy5sZW5ndGg7XG4gICAgY29uc3QgdG90YWxSb3dzID0gbnVtRWxlbWVudHMgLyA0O1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgbGV0IGRzdCA9IDA7XG4gICAgICBsZXQgc3JjID0gMDtcbiAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRvdGFsUm93czsgKytyb3cpIHtcbiAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY29sczsgKytjb2wpIHtcbiAgICAgICAgICB2aWV3W2RzdCsrXSA9IHZhbHVlW3NyYysrXTtcbiAgICAgICAgfVxuICAgICAgICBkc3QgKz0gNCAtIGNvbHM7XG4gICAgICB9XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgdmlldy5zZXQodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlld1swXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgVW5pZm9ybUJsb2NrT2JqZWN0IGluY2x1ZGluZyBhbiBBcnJheUJ1ZmZlciB3aXRoIGFsbCB0aGUgdW5pZm9ybSB2YWx1ZXNcbiAqIGFuZCBhIGNvcnJlc3BvbmRpbmcgV2ViR0xCdWZmZXIgdG8gaG9sZCB0aG9zZSB2YWx1ZXMgb24gdGhlIEdQVVxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFVuaWZvcm1CbG9ja0luZm9cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBibG9ja1xuICogQHByb3BlcnR5IHtBcnJheUJ1ZmZlcn0gYXJyYXkgVGhlIGFycmF5IGJ1ZmZlciB0aGF0IGNvbnRhaW5zIHRoZSB1bmlmb3JtIHZhbHVlc1xuICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGFzRmxvYXQgQSBmbG9hdCB2aWV3IG9uIHRoZSBhcnJheSBidWZmZXIuIFRoaXMgaXMgdXNlZnVsXG4gKiAgICBpbnNwZWN0aW5nIHRoZSBjb250ZW50cyBvZiB0aGUgYnVmZmVyIGluIHRoZSBkZWJ1Z2dlci5cbiAqIEBwcm9wZXJ0eSB7V2ViR0xCdWZmZXJ9IGJ1ZmZlciBBIFdlYkdMIGJ1ZmZlciB0aGF0IHdpbGwgaG9sZCBhIGNvcHkgb2YgdGhlIHVuaWZvcm0gdmFsdWVzIGZvciByZW5kZXJpbmcuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29mZnNldF0gb2Zmc2V0IGludG8gYnVmZmVyXG4gKiBAcHJvcGVydHkge09iamVjdDxzdHJpbmcsIEFycmF5QnVmZmVyVmlldz59IHVuaWZvcm1zIEEgdW5pZm9ybSBuYW1lIHRvIEFycmF5QnVmZmVyVmlldyBtYXAuXG4gKiAgIGVhY2ggVW5pZm9ybSBoYXMgYSBjb3JyZWN0bHkgdHlwZWQgYEFycmF5QnVmZmVyVmlld2AgaW50byBhcnJheSBhdCB0aGUgY29ycmVjdCBvZmZzZXRcbiAqICAgYW5kIGxlbmd0aCBvZiB0aGF0IHVuaWZvcm0uIFNvIGZvciBleGFtcGxlIGEgZmxvYXQgdW5pZm9ybSB3b3VsZCBoYXZlIGEgMSBmbG9hdCBgRmxvYXQzMkFycmF5YFxuICogICB2aWV3LiBBIHNpbmdsZSBtYXQ0IHdvdWxkIGhhdmUgYSAxNiBlbGVtZW50IGBGbG9hdDMyQXJyYXlgIHZpZXcuIEFuIGl2ZWMyIHdvdWxkIGhhdmUgYW5cbiAqICAgYEludDMyQXJyYXlgIHZpZXcsIGV0Yy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgZnVuY3Rpb24+fSBzZXR0ZXJzIEEgc2V0dGVyIGZvciB0aGlzIHVuaWZvcm0uXG4gKiAgIFRoZSByZWFzb24gdG8gdXNlIHNldHRlcnMgaXMgZWxlbWVudHMgb2YgYXJyYXlzIGFyZSBwYWRkZWQgdG8gdmVjNCBzaXplcyB3aGljaFxuICogICBtZWFucyBpZiB5b3Ugd2FudCB0byBzZXQgYW4gYXJyYXkgb2YgNCBmbG9hdHMgeW91J2QgbmVlZCB0byBzZXQgMTYgdmFsdWVzXG4gKiAgIChvciBzZXQgZWxlbWVudHMgMCwgNCwgOCwgMTIpLiBJbiBvdGhlciB3b3Jkc1xuICogICBgc29tZUJsb2NrSW5mby51bmlmb3Jtcy5zb21lNEZsb2F0QXJyYXlVbmlmb3JtLnNldChbMCwgLCAsICwgMSwgLCAsICwgMiwgLCAsICwgM10pYFxuICogICB3aGVyZSBhcyB0aGUgc2V0dGVyIGhhbmRsZXMganVzdCBwYXNzaW5nIGluIFswLCAxLCAyLCAzXSBlaXRoZXIgZGlyZWN0bHkgYXMgaW5cbiAqICAgYHNvbWVCbG9ja0luZm8uc2V0dGVyLnNvbWU0RmxvYXRBcnJheVVuaWZvcm0uc2V0KFswLCAxLCAyLCAzXSlgIChub3QgcmVjb21tZW5kZWQpXG4gKiAgIG9yIHZpYSB7QGxpbmsgbW9kdWxlOnR3Z2wuc2V0QmxvY2tVbmlmb3Jtc31cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIGBVbmlmb3JtQmxvY2tJbmZvYCBmb3IgdGhlIHNwZWNpZmllZCBibG9ja1xuICpcbiAqIE5vdGU6ICoqSWYgdGhlIGJsb2NrTmFtZSBtYXRjaGVzIG5vIGV4aXN0aW5nIGJsb2NrcyBhIHdhcm5pbmcgaXMgcHJpbnRlZCB0byB0aGUgY29uc29sZSBhbmQgYSBkdW1teVxuICogYFVuaWZvcm1CbG9ja0luZm9gIGlzIHJldHVybmVkKiouIFRoaXMgaXMgYmVjYXVzZSB3aGVuIGRlYnVnZ2luZyBHTFNMXG4gKiBpdCBpcyBjb21tb24gdG8gY29tbWVudCBvdXQgbGFyZ2UgcG9ydGlvbnMgb2YgYSBzaGFkZXIgb3IgZm9yIGV4YW1wbGUgc2V0XG4gKiB0aGUgZmluYWwgb3V0cHV0IHRvIGEgY29uc3RhbnQuIFdoZW4gdGhhdCBoYXBwZW5zIGJsb2NrcyBnZXQgb3B0aW1pemVkIG91dC5cbiAqIElmIHRoaXMgZnVuY3Rpb24gZGlkIG5vdCBjcmVhdGUgZHVtbXkgYmxvY2tzIHlvdXIgY29kZSB3b3VsZCBjcmFzaCB3aGVuIGRlYnVnZ2luZy5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsIEEgV2ViR0wyUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHtXZWJHTFByb2dyYW19IHByb2dyYW0gQSBXZWJHTFByb2dyYW1cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVW5pZm9ybUJsb2NrU3BlY30gdW5pZm9ybUJsb2NrU3BlYy4gQSBVbmlmb3JtQmxvY2tTcGVjIGFzIHJldHVybmVkXG4gKiAgICAgZnJvbSB7QGxpbmsgbW9kdWxlOnR3Z2wuY3JlYXRlVW5pZm9ybUJsb2NrU3BlY0Zyb21Qcm9ncmFtfS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBibG9ja05hbWUgVGhlIG5hbWUgb2YgdGhlIGJsb2NrLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuVW5pZm9ybUJsb2NrSW5mb30gVGhlIGNyZWF0ZWQgVW5pZm9ybUJsb2NrSW5mb1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3Byb2dyYW1zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVVuaWZvcm1CbG9ja0luZm9Gcm9tUHJvZ3JhbShnbCwgcHJvZ3JhbSwgdW5pZm9ybUJsb2NrU3BlYywgYmxvY2tOYW1lKSB7XG4gIGNvbnN0IGJsb2NrU3BlY3MgPSB1bmlmb3JtQmxvY2tTcGVjLmJsb2NrU3BlY3M7XG4gIGNvbnN0IHVuaWZvcm1EYXRhID0gdW5pZm9ybUJsb2NrU3BlYy51bmlmb3JtRGF0YTtcbiAgY29uc3QgYmxvY2tTcGVjID0gYmxvY2tTcGVjc1tibG9ja05hbWVdO1xuICBpZiAoIWJsb2NrU3BlYykge1xuICAgIHdhcm4kMShcIm5vIHVuaWZvcm0gYmxvY2sgb2JqZWN0IG5hbWVkOlwiLCBibG9ja05hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBibG9ja05hbWUsXG4gICAgICB1bmlmb3Jtczoge30sXG4gICAgfTtcbiAgfVxuICBjb25zdCBhcnJheSA9IG5ldyBBcnJheUJ1ZmZlcihibG9ja1NwZWMuc2l6ZSk7XG4gIGNvbnN0IGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICBjb25zdCB1bmlmb3JtQnVmZmVySW5kZXggPSBibG9ja1NwZWMuaW5kZXg7XG4gIGdsLmJpbmRCdWZmZXIoVU5JRk9STV9CVUZGRVIsIGJ1ZmZlcik7XG4gIGdsLnVuaWZvcm1CbG9ja0JpbmRpbmcocHJvZ3JhbSwgYmxvY2tTcGVjLmluZGV4LCB1bmlmb3JtQnVmZmVySW5kZXgpO1xuXG4gIGxldCBwcmVmaXggPSBibG9ja05hbWUgKyBcIi5cIjtcbiAgaWYgKGFycmF5U3VmZml4UkUudGVzdChwcmVmaXgpKSB7XG4gICAgcHJlZml4ID0gcHJlZml4LnJlcGxhY2UoYXJyYXlTdWZmaXhSRSwgXCIuXCIpO1xuICB9XG4gIGNvbnN0IHVuaWZvcm1zID0ge307XG4gIGNvbnN0IHNldHRlcnMgPSB7fTtcbiAgY29uc3Qgc2V0dGVyVHJlZSA9IHt9O1xuICBibG9ja1NwZWMudW5pZm9ybUluZGljZXMuZm9yRWFjaChmdW5jdGlvbih1bmlmb3JtTmR4KSB7XG4gICAgY29uc3QgZGF0YSA9IHVuaWZvcm1EYXRhW3VuaWZvcm1OZHhdO1xuICAgIGxldCBuYW1lID0gZGF0YS5uYW1lO1xuICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKHByZWZpeC5sZW5ndGgpO1xuICAgIH1cbiAgICBjb25zdCBpc0FycmF5ID0gbmFtZS5lbmRzV2l0aCgnWzBdJyk7XG4gICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDMpO1xuICAgIH1cbiAgICBjb25zdCB0eXBlSW5mbyA9IHR5cGVNYXBbZGF0YS50eXBlXTtcbiAgICBjb25zdCBUeXBlID0gdHlwZUluZm8uVHlwZTtcbiAgICBjb25zdCBieXRlTGVuZ3RoID0gaXNBcnJheVxuICAgICAgICA/IHBhZCh0eXBlSW5mby5zaXplLCAxNikgKiBkYXRhLnNpemVcbiAgICAgICAgOiB0eXBlSW5mby5zaXplICogZGF0YS5zaXplO1xuICAgIGNvbnN0IHVuaWZvcm1WaWV3ID0gbmV3IFR5cGUoYXJyYXksIGRhdGEub2Zmc2V0LCBieXRlTGVuZ3RoIC8gVHlwZS5CWVRFU19QRVJfRUxFTUVOVCk7XG4gICAgdW5pZm9ybXNbbmFtZV0gPSB1bmlmb3JtVmlldztcbiAgICAvLyBOb3RlOiBJJ20gbm90IHN1cmUgd2hhdCB0byBkbyBoZXJlLiBUaGUgb3JpZ2luYWxcbiAgICAvLyBpZGVhIHdhcyB0byBjcmVhdGUgVHlwZWRBcnJheSB2aWV3cyBpbnRvIGVhY2ggcGFydFxuICAgIC8vIG9mIHRoZSBibG9jay4gVGhpcyBpcyB1c2VmdWwsIGZvciBleGFtcGxlIGlmIHlvdSBoYXZlXG4gICAgLy8gYSBibG9jayB3aXRoIHsgbWF0NDogbW9kZWw7IG1hdDQgdmlldzsgbWF0NCBwcm9qZWN0aW9uOyB9XG4gICAgLy8geW91J2xsIGdldCBhIEZsb2F0MzJBcnJheSBmb3IgZWFjaCBvbmUgc3VpdGFibGUgZm9yXG4gICAgLy8gcGFzc2luZyB0byBtb3N0IEpTIG1hdGggbGlicmFyaWVzIGluY2x1ZGluZyB0d2dsJ3MgYW5kIGdsTWF0cml4LmpzLlxuICAgIC8vXG4gICAgLy8gQnV0LCBpZiB5b3UgaGF2ZSBhIGFuIGFycmF5IG9mIHN0cnVjdHVyZXMsIGVzcGVjaWFsbHkgaWYgdGhhdFxuICAgIC8vIGFycmF5IGlzIGxhcmdlLCB5b3UgZ2V0IGEgd2hvbGUgYnVuY2ggb2YgVHlwZWRBcnJheSB2aWV3cy5cbiAgICAvLyBFdmVyeSBvbmUgb2YgdGhlbSBoYXMgb3ZlcmhlYWQgYW5kIHN3aXRjaGluZyBiZXR3ZWVuIHRoZW0gYWxsXG4gICAgLy8gaXMgcHJvYmFibHkgYSBjYWNoZSBtaXNzLiBJbiB0aGF0IGNhc2UgaXQgd291bGQgcmVhbGx5IGJlIGJldHRlclxuICAgIC8vIHRvIGp1c3QgaGF2ZSBvbmUgdmlldyAoYXNGbG9hdCkgYW5kIGhhdmUgYWxsIHRoZSBzZXR0ZXJzXG4gICAgLy8ganVzdCByZWZlcmVuY2UgdGhlIGNvcnJlY3QgcG9ydGlvbi4gQnV0LCB0aGVuIHlvdSBjYW4ndCBlYXNpbHlcbiAgICAvLyB0cmVhdCBhIG1hdHJpeCwgb3IgYSB2ZWM0LCBhcyBhIHN0YW5kYWxvbmUgdGhpbmcgbGlrZSB5b3UgY2FuXG4gICAgLy8gd2l0aCBhbGwgdGhlIHZpZXdzLlxuICAgIC8vXG4gICAgLy8gQW5vdGhlciBwcm9ibGVtIHdpdGggdGhlIHZpZXdzIGlzIHRoZXkgYXJlIG5vdCBzaGFyZWQuIFdpdGhcbiAgICAvLyB1bmlmb3JtcyB5b3UgaGF2ZSBvbmUgc2V0IG9mIHNldHRlcnMuIFdpdGggVW5pZm9ybUJsb2NrSW5mb1xuICAgIC8vIHlvdSBoYXZlIGEgc2V0IG9mIHNldHRlcnMgKnByZSBibG9jayBpbnN0YW5jZSouIFRoYXQncyBiZWNhdXNlXG4gICAgLy8gVHlwZWRBcnJheSB2aWV3cyBjYW4ndCBiZSBtYXBwZWQgdG8gZGlmZmVyZW50IGJ1ZmZlcnMuXG4gICAgLy9cbiAgICAvLyBNeSBndXQgcmlnaHQgbm93IGlzIGlmIHlvdSByZWFsbHkgd2FudCB0aGUgc3BlZWQgYW5kIGNvbXBhY3RuZXNzXG4gICAgLy8gdGhlbiB5b3Ugc2hvdWxkIHByb2JhYmx5IHJvbGwgeW91ciBvd24gc29sdXRpb24uIFRXR0wncyBnb2FsXG4gICAgLy8gaGVyZSBpcyBlYXNlIG9mIHVzZSBhcyBBRkFJQ1QgdGhlcmUgaXMgbm8gc2ltcGxlIGdlbmVyaWMgZWZmaWNpZW50XG4gICAgLy8gc29sdXRpb24uXG4gICAgY29uc3Qgc2V0dGVyID0gY3JlYXRlVW5pZm9ybUJsb2NrVW5pZm9ybVNldHRlcih1bmlmb3JtVmlldywgaXNBcnJheSwgdHlwZUluZm8ucm93cywgdHlwZUluZm8uY29scyk7XG4gICAgc2V0dGVyc1tuYW1lXSA9IHNldHRlcjtcbiAgICBhZGRTZXR0ZXJUb1VuaWZvcm1UcmVlKG5hbWUsIHNldHRlciwgc2V0dGVyVHJlZSwgc2V0dGVycyk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIG5hbWU6IGJsb2NrTmFtZSxcbiAgICBhcnJheSxcbiAgICBhc0Zsb2F0OiBuZXcgRmxvYXQzMkFycmF5KGFycmF5KSwgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICBidWZmZXIsXG4gICAgdW5pZm9ybXMsXG4gICAgc2V0dGVycyxcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYFVuaWZvcm1CbG9ja0luZm9gIGZvciB0aGUgc3BlY2lmaWVkIGJsb2NrXG4gKlxuICogTm90ZTogKipJZiB0aGUgYmxvY2tOYW1lIG1hdGNoZXMgbm8gZXhpc3RpbmcgYmxvY2tzIGEgd2FybmluZyBpcyBwcmludGVkIHRvIHRoZSBjb25zb2xlIGFuZCBhIGR1bW15XG4gKiBgVW5pZm9ybUJsb2NrSW5mb2AgaXMgcmV0dXJuZWQqKi4gVGhpcyBpcyBiZWNhdXNlIHdoZW4gZGVidWdnaW5nIEdMU0xcbiAqIGl0IGlzIGNvbW1vbiB0byBjb21tZW50IG91dCBsYXJnZSBwb3J0aW9ucyBvZiBhIHNoYWRlciBvciBmb3IgZXhhbXBsZSBzZXRcbiAqIHRoZSBmaW5hbCBvdXRwdXQgdG8gYSBjb25zdGFudC4gV2hlbiB0aGF0IGhhcHBlbnMgYmxvY2tzIGdldCBvcHRpbWl6ZWQgb3V0LlxuICogSWYgdGhpcyBmdW5jdGlvbiBkaWQgbm90IGNyZWF0ZSBkdW1teSBibG9ja3MgeW91ciBjb2RlIHdvdWxkIGNyYXNoIHdoZW4gZGVidWdnaW5nLlxuICpcbiAqIEBwYXJhbSB7V2ViR0wyUmVuZGVyaW5nQ29udGV4dH0gZ2wgQSBXZWJHTDJSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlByb2dyYW1JbmZvfSBwcm9ncmFtSW5mbyBhIGBQcm9ncmFtSW5mb2BcbiAqICAgICBhcyByZXR1cm5lZCBmcm9tIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVQcm9ncmFtSW5mb31cbiAqIEBwYXJhbSB7c3RyaW5nfSBibG9ja05hbWUgVGhlIG5hbWUgb2YgdGhlIGJsb2NrLlxuICogQHJldHVybiB7bW9kdWxlOnR3Z2wuVW5pZm9ybUJsb2NrSW5mb30gVGhlIGNyZWF0ZWQgVW5pZm9ybUJsb2NrSW5mb1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3Byb2dyYW1zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVVuaWZvcm1CbG9ja0luZm8oZ2wsIHByb2dyYW1JbmZvLCBibG9ja05hbWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVVuaWZvcm1CbG9ja0luZm9Gcm9tUHJvZ3JhbShnbCwgcHJvZ3JhbUluZm8ucHJvZ3JhbSwgcHJvZ3JhbUluZm8udW5pZm9ybUJsb2NrU3BlYywgYmxvY2tOYW1lKTtcbn1cblxuLyoqXG4gKiBCaW5kcyBhIHVuaWZvcm0gYmxvY2sgdG8gdGhlIG1hdGNoaW5nIHVuaWZvcm0gYmxvY2sgcG9pbnQuXG4gKiBNYXRjaGVzIGJ5IGJsb2NrcyBieSBuYW1lIHNvIGJsb2NrcyBtdXN0IGhhdmUgdGhlIHNhbWUgbmFtZSBub3QganVzdCB0aGUgc2FtZVxuICogc3RydWN0dXJlLlxuICpcbiAqIElmIHlvdSBoYXZlIGNoYW5nZWQgYW55IHZhbHVlcyBhbmQgeW91IHVwbG9hZCB0aGUgdmFsdWVzIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgV2ViR0xCdWZmZXJcbiAqIGNhbGwge0BsaW5rIG1vZHVsZTp0d2dsLnNldFVuaWZvcm1CbG9ja30gaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge1dlYkdMMlJlbmRlcmluZ0NvbnRleHR9IGdsIEEgV2ViR0wgMiByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7KG1vZHVsZTp0d2dsLlByb2dyYW1JbmZvfG1vZHVsZTp0d2dsLlVuaWZvcm1CbG9ja1NwZWMpfSBwcm9ncmFtSW5mbyBhIGBQcm9ncmFtSW5mb2BcbiAqICAgICBhcyByZXR1cm5lZCBmcm9tIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVQcm9ncmFtSW5mb30gb3Igb3IgYFVuaWZvcm1CbG9ja1NwZWNgIGFzXG4gKiAgICAgcmV0dXJuZWQgZnJvbSB7QGxpbmsgbW9kdWxlOnR3Z2wuY3JlYXRlVW5pZm9ybUJsb2NrU3BlY0Zyb21Qcm9ncmFtfS5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVW5pZm9ybUJsb2NrSW5mb30gdW5pZm9ybUJsb2NrSW5mbyBhIGBVbmlmb3JtQmxvY2tJbmZvYCBhcyByZXR1cm5lZCBmcm9tXG4gKiAgICAge0BsaW5rIG1vZHVsZTp0d2dsLmNyZWF0ZVVuaWZvcm1CbG9ja0luZm99LlxuICogQHJldHVybiB7Ym9vbH0gdHJ1ZSBpZiBidWZmZXIgd2FzIGJvdW5kLiBJZiB0aGUgcHJvZ3JhbUluZm8gaGFzIG5vIGJsb2NrIHdpdGggdGhlIHNhbWUgYmxvY2sgbmFtZVxuICogICAgIG5vIGJ1ZmZlciBpcyBib3VuZC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcm9ncmFtc1xuICovXG5mdW5jdGlvbiBiaW5kVW5pZm9ybUJsb2NrKGdsLCBwcm9ncmFtSW5mbywgdW5pZm9ybUJsb2NrSW5mbykge1xuICBjb25zdCB1bmlmb3JtQmxvY2tTcGVjID0gcHJvZ3JhbUluZm8udW5pZm9ybUJsb2NrU3BlYyB8fCBwcm9ncmFtSW5mbztcbiAgY29uc3QgYmxvY2tTcGVjID0gdW5pZm9ybUJsb2NrU3BlYy5ibG9ja1NwZWNzW3VuaWZvcm1CbG9ja0luZm8ubmFtZV07XG4gIGlmIChibG9ja1NwZWMpIHtcbiAgICBjb25zdCBidWZmZXJCaW5kSW5kZXggPSBibG9ja1NwZWMuaW5kZXg7XG4gICAgZ2wuYmluZEJ1ZmZlclJhbmdlKFVOSUZPUk1fQlVGRkVSLCBidWZmZXJCaW5kSW5kZXgsIHVuaWZvcm1CbG9ja0luZm8uYnVmZmVyLCB1bmlmb3JtQmxvY2tJbmZvLm9mZnNldCB8fCAwLCB1bmlmb3JtQmxvY2tJbmZvLmFycmF5LmJ5dGVMZW5ndGgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBVcGxvYWRzIHRoZSBjdXJyZW50IHVuaWZvcm0gdmFsdWVzIHRvIHRoZSBjb3JyZXNwb25kaW5nIFdlYkdMQnVmZmVyXG4gKiBhbmQgYmluZHMgdGhhdCBidWZmZXIgdG8gdGhlIHByb2dyYW0ncyBjb3JyZXNwb25kaW5nIGJpbmQgcG9pbnQgZm9yIHRoZSB1bmlmb3JtIGJsb2NrIG9iamVjdC5cbiAqXG4gKiBJZiB5b3UgaGF2ZW4ndCBjaGFuZ2VkIGFueSB2YWx1ZXMgYW5kIHlvdSBvbmx5IG5lZWQgdG8gYmluZCB0aGUgdW5pZm9ybSBibG9jayBvYmplY3RcbiAqIGNhbGwge0BsaW5rIG1vZHVsZTp0d2dsLmJpbmRVbmlmb3JtQmxvY2t9IGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHtXZWJHTDJSZW5kZXJpbmdDb250ZXh0fSBnbCBBIFdlYkdMIDIgcmVuZGVyaW5nIGNvbnRleHQuXG4gKiBAcGFyYW0geyhtb2R1bGU6dHdnbC5Qcm9ncmFtSW5mb3xtb2R1bGU6dHdnbC5Vbmlmb3JtQmxvY2tTcGVjKX0gcHJvZ3JhbUluZm8gYSBgUHJvZ3JhbUluZm9gXG4gKiAgICAgYXMgcmV0dXJuZWQgZnJvbSB7QGxpbmsgbW9kdWxlOnR3Z2wuY3JlYXRlUHJvZ3JhbUluZm99IG9yIG9yIGBVbmlmb3JtQmxvY2tTcGVjYCBhc1xuICogICAgIHJldHVybmVkIGZyb20ge0BsaW5rIG1vZHVsZTp0d2dsLmNyZWF0ZVVuaWZvcm1CbG9ja1NwZWNGcm9tUHJvZ3JhbX0uXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLlVuaWZvcm1CbG9ja0luZm99IHVuaWZvcm1CbG9ja0luZm8gYSBgVW5pZm9ybUJsb2NrSW5mb2AgYXMgcmV0dXJuZWQgZnJvbVxuICogICAgIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVVbmlmb3JtQmxvY2tJbmZvfS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcm9ncmFtc1xuICovXG5mdW5jdGlvbiBzZXRVbmlmb3JtQmxvY2soZ2wsIHByb2dyYW1JbmZvLCB1bmlmb3JtQmxvY2tJbmZvKSB7XG4gIGlmIChiaW5kVW5pZm9ybUJsb2NrKGdsLCBwcm9ncmFtSW5mbywgdW5pZm9ybUJsb2NrSW5mbykpIHtcbiAgICBnbC5idWZmZXJEYXRhKFVOSUZPUk1fQlVGRkVSLCB1bmlmb3JtQmxvY2tJbmZvLmFycmF5LCBEWU5BTUlDX0RSQVcpO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyB2YWx1ZXMgb2YgYSB1bmlmb3JtIGJsb2NrIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuVW5pZm9ybUJsb2NrSW5mb30gdW5pZm9ybUJsb2NrSW5mbyBBIFVuaWZvcm1CbG9ja0luZm8gYXMgcmV0dXJuZWQgYnkge0BsaW5rIG1vZHVsZTp0d2dsLmNyZWF0ZVVuaWZvcm1CbG9ja0luZm99LlxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgPz59IHZhbHVlcyBBIHVuaWZvcm0gbmFtZSB0byB2YWx1ZSBtYXAgd2hlcmUgdGhlIHZhbHVlIGlzIGNvcnJlY3QgZm9yIHRoZSBnaXZlblxuICogICAgdHlwZSBvZiB1bmlmb3JtLiBTbyBmb3IgZXhhbXBsZSBnaXZlbiBhIGJsb2NrIGxpa2VcbiAqXG4gKiAgICAgICB1bmlmb3JtIFNvbWVCbG9jayB7XG4gKiAgICAgICAgIGZsb2F0IHNvbWVGbG9hdDtcbiAqICAgICAgICAgdmVjMiBzb21lVmVjMjtcbiAqICAgICAgICAgdmVjMyBzb21lVmVjM0FycmF5WzJdO1xuICogICAgICAgICBpbnQgc29tZUludDtcbiAqICAgICAgIH1cbiAqXG4gKiAgWW91IGNhbiBzZXQgdGhlIHZhbHVlcyBvZiB0aGUgdW5pZm9ybSBibG9jayB3aXRoXG4gKlxuICogICAgICAgdHdnbC5zZXRCbG9ja1VuaWZvcm1zKHNvbWVCbG9ja0luZm8sIHtcbiAqICAgICAgICAgIHNvbWVGbG9hdDogMTIuMyxcbiAqICAgICAgICAgIHNvbWVWZWMyOiBbMSwgMl0sXG4gKiAgICAgICAgICBzb21lVmVjM0FycmF5OiBbMSwgMiwgMywgNCwgNSwgNl0sXG4gKiAgICAgICAgICBzb21lSW50OiA1LFxuICogICAgICAgfVxuICpcbiAqICBBcnJheXMgY2FuIGJlIEphdmFTY3JpcHQgYXJyYXlzIG9yIHR5cGVkIGFycmF5c1xuICpcbiAqICBZb3UgY2FuIGFsc28gZmlsbCBvdXQgc3RydWN0dXJlIGFuZCBhcnJheSB2YWx1ZXMgZWl0aGVyIHZpYVxuICogIHNob3J0Y3V0LiBFeGFtcGxlXG4gKlxuICogICAgIC8vIC0tIGluIHNoYWRlciAtLVxuICogICAgIHN0cnVjdCBMaWdodCB7XG4gKiAgICAgICBmbG9hdCBpbnRlbnNpdHk7XG4gKiAgICAgICB2ZWM0IGNvbG9yO1xuICogICAgIH07XG4gKiAgICAgdW5pZm9ybSBMaWdodHMge1xuICogICAgICAgTGlnaHQgbGlnaHRzWzJdO1xuICogICAgIH07XG4gKlxuICogICAgIC8vIGluIEphdmFTY3JpcHRcbiAqXG4gKiAgICAgdHdnbC5zZXRCbG9ja1VuaWZvcm1zKHNvbWVCbG9ja0luZm8sIHtcbiAqICAgICAgIGxpZ2h0czogW1xuICogICAgICAgICB7IGludGVuc2l0eTogNS4wLCBjb2xvcjogWzEsIDAsIDAsIDFdIH0sXG4gKiAgICAgICAgIHsgaW50ZW5zaXR5OiAyLjAsIGNvbG9yOiBbMCwgMCwgMSwgMV0gfSxcbiAqICAgICAgIF0sXG4gKiAgICAgfSk7XG4gKlxuICogICAgIC8vIG9yIHRoZSBtb3JlIHRyYWRpdGlvbmFsIHdheVxuICpcbiAqICAgICB0d2dsLnNldEJsb2NrVW5pZm9ybXMoc29tZUJsb2NrSW5mbywge1xuICogICAgICAgXCJsaWdodHNbMF0uaW50ZW5zaXR5XCI6IDUuMCxcbiAqICAgICAgIFwibGlnaHRzWzBdLmNvbG9yXCI6IFsxLCAwLCAwLCAxXSxcbiAqICAgICAgIFwibGlnaHRzWzFdLmludGVuc2l0eVwiOiAyLjAsXG4gKiAgICAgICBcImxpZ2h0c1sxXS5jb2xvclwiOiBbMCwgMCwgMSwgMV0sXG4gKiAgICAgfSk7XG4gKlxuICogICBZb3UgY2FuIGFsc28gc3BlY2lmeSBwYXJ0aWFsIHBhdGhzXG4gKlxuICogICAgIHR3Z2wuc2V0QmxvY2tVbmlmb3Jtcyhzb21lQmxvY2tJbmZvLCB7XG4gKiAgICAgICAnbGlnaHRzWzFdOiB7IGludGVuc2l0eTogNS4wLCBjb2xvcjogWzEsIDAsIDAsIDFdIH0sXG4gKiAgICAgfSk7XG4gKlxuICogICBCdXQgeW91IGNhbiBub3Qgc3BlY2lmeSBsZWFmIGFycmF5IGluZGljZXMuXG4gKlxuICogICoqSU1QT1JUQU5UISoqLCBwYWNraW5nIGluIGEgVW5pZm9ybUJsb2NrIGlzIHVuaW50dWl0aXZlLlxuICogIEZvciBleGFtcGxlIHRoZSBhY3R1YWwgbGF5b3V0IG9mIGBzb21lVmVjM0FycmF5YCBhYm92ZSBpbiBtZW1vcnlcbiAqICBpcyBgMSwgMiwgMywgdW51c2VkLCA0LCA1LCA2LCB1bnVzZWRgLiB0d2dsIHRha2VzIGluIDYgdmFsdWVzXG4gKiAgYXMgc2hvd24gYWJvdXQgYW5kIGNvcGllcyB0aGVtLCBza2lwcGluZyB0aGUgcGFkZGluZy4gVGhpcyBtaWdodFxuICogIGJlIGNvbmZ1c2luZyBpZiB5b3UncmUgYWxyZWFkeSBmYW1pbGlhciB3aXRoIFVuaWZvcm0gYmxvY2tzLlxuICpcbiAqICBJZiB5b3Ugd2FudCB0byBkZWFsIHdpdGggdGhlIHBhZGRpbmcgeW91cnNlbGYgeW91IGNhbiBhY2Nlc3MgdGhlIGFycmF5XG4gKiAgYnVmZmVyIHZpZXdzIGRpcmVjdGx5LiBlZzpcbiAqXG4gKiAgICAgIHNvbWVCbG9ja0luZm8uc29tZVZlYzNBcnJheS5zZXQoWzEsIDIsIDMsIDAsIDQsIDUsIDYsIDBdKTtcbiAqXG4gKiAgQW55IG5hbWUgdGhhdCBkb2Vzbid0IG1hdGNoIHdpbGwgYmUgaWdub3JlZFxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3Byb2dyYW1zXG4gKi9cbmZ1bmN0aW9uIHNldEJsb2NrVW5pZm9ybXModW5pZm9ybUJsb2NrSW5mbywgdmFsdWVzKSB7XG4gIGNvbnN0IHNldHRlcnMgPSB1bmlmb3JtQmxvY2tJbmZvLnNldHRlcnM7XG4gIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZXMpIHtcbiAgICBjb25zdCBzZXR0ZXIgPSBzZXR0ZXJzW25hbWVdO1xuICAgIGlmIChzZXR0ZXIpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW25hbWVdO1xuICAgICAgc2V0dGVyKHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0VW5pZm9ybVRyZWUodHJlZSwgdmFsdWVzKSB7XG4gIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZXMpIHtcbiAgICBjb25zdCBwcm9wID0gdHJlZVtuYW1lXTtcbiAgICBpZiAodHlwZW9mIHByb3AgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb3AodmFsdWVzW25hbWVdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VW5pZm9ybVRyZWUodHJlZVtuYW1lXSwgdmFsdWVzW25hbWVdKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgdW5pZm9ybXMgYW5kIGJpbmRzIHJlbGF0ZWQgdGV4dHVyZXMuXG4gKlxuICogZXhhbXBsZTpcbiAqXG4gKiAgICAgY29uc3QgcHJvZ3JhbUluZm8gPSBjcmVhdGVQcm9ncmFtSW5mbyhcbiAqICAgICAgICAgZ2wsIFtcInNvbWUtdnNcIiwgXCJzb21lLWZzXCJdKTtcbiAqXG4gKiAgICAgY29uc3QgdGV4MSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAqICAgICBjb25zdCB0ZXgyID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICpcbiAqICAgICAuLi4gYXNzdW1lIHdlIHNldHVwIHRoZSB0ZXh0dXJlcyB3aXRoIGRhdGEgLi4uXG4gKlxuICogICAgIGNvbnN0IHVuaWZvcm1zID0ge1xuICogICAgICAgdV9zb21lU2FtcGxlcjogdGV4MSxcbiAqICAgICAgIHVfc29tZU90aGVyU2FtcGxlcjogdGV4MixcbiAqICAgICAgIHVfc29tZUNvbG9yOiBbMSwwLDAsMV0sXG4gKiAgICAgICB1X3NvbWVQb3NpdGlvbjogWzAsMSwxXSxcbiAqICAgICAgIHVfc29tZU1hdHJpeDogW1xuICogICAgICAgICAxLDAsMCwwLFxuICogICAgICAgICAwLDEsMCwwLFxuICogICAgICAgICAwLDAsMSwwLFxuICogICAgICAgICAwLDAsMCwwLFxuICogICAgICAgXSxcbiAqICAgICB9O1xuICpcbiAqICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICpcbiAqIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5IGJpbmQgdGhlIHRleHR1cmVzIEFORCBzZXQgdGhlXG4gKiB1bmlmb3Jtcy5cbiAqXG4gKiAgICAgdHdnbC5zZXRVbmlmb3Jtcyhwcm9ncmFtSW5mbywgdW5pZm9ybXMpO1xuICpcbiAqIEZvciB0aGUgZXhhbXBsZSBhYm92ZSBpdCBpcyBlcXVpdmFsZW50IHRvXG4gKlxuICogICAgIHZhciB0ZXhVbml0ID0gMDtcbiAqICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGV4VW5pdCk7XG4gKiAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4MSk7XG4gKiAgICAgZ2wudW5pZm9ybTFpKHVfc29tZVNhbXBsZXJMb2NhdGlvbiwgdGV4VW5pdCsrKTtcbiAqICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGV4VW5pdCk7XG4gKiAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4Mik7XG4gKiAgICAgZ2wudW5pZm9ybTFpKHVfc29tZVNhbXBsZXJMb2NhdGlvbiwgdGV4VW5pdCsrKTtcbiAqICAgICBnbC51bmlmb3JtNGZ2KHVfc29tZUNvbG9yTG9jYXRpb24sIFsxLCAwLCAwLCAxXSk7XG4gKiAgICAgZ2wudW5pZm9ybTNmdih1X3NvbWVQb3NpdGlvbkxvY2F0aW9uLCBbMCwgMSwgMV0pO1xuICogICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodV9zb21lTWF0cml4LCBmYWxzZSwgW1xuICogICAgICAgICAxLDAsMCwwLFxuICogICAgICAgICAwLDEsMCwwLFxuICogICAgICAgICAwLDAsMSwwLFxuICogICAgICAgICAwLDAsMCwwLFxuICogICAgICAgXSk7XG4gKlxuICogTm90ZSBpdCBpcyBwZXJmZWN0bHkgcmVhc29uYWJsZSB0byBjYWxsIGBzZXRVbmlmb3Jtc2AgbXVsdGlwbGUgdGltZXMuIEZvciBleGFtcGxlXG4gKlxuICogICAgIGNvbnN0IHVuaWZvcm1zID0ge1xuICogICAgICAgdV9zb21lU2FtcGxlcjogdGV4MSxcbiAqICAgICAgIHVfc29tZU90aGVyU2FtcGxlcjogdGV4MixcbiAqICAgICB9O1xuICpcbiAqICAgICBjb25zdCBtb3JlVW5pZm9ybXMge1xuICogICAgICAgdV9zb21lQ29sb3I6IFsxLDAsMCwxXSxcbiAqICAgICAgIHVfc29tZVBvc2l0aW9uOiBbMCwxLDFdLFxuICogICAgICAgdV9zb21lTWF0cml4OiBbXG4gKiAgICAgICAgIDEsMCwwLDAsXG4gKiAgICAgICAgIDAsMSwwLDAsXG4gKiAgICAgICAgIDAsMCwxLDAsXG4gKiAgICAgICAgIDAsMCwwLDAsXG4gKiAgICAgICBdLFxuICogICAgIH07XG4gKlxuICogICAgIHR3Z2wuc2V0VW5pZm9ybXMocHJvZ3JhbUluZm8sIHVuaWZvcm1zKTtcbiAqICAgICB0d2dsLnNldFVuaWZvcm1zKHByb2dyYW1JbmZvLCBtb3JlVW5pZm9ybXMpO1xuICpcbiAqIFlvdSBjYW4gYWxzbyBhZGQgV2ViR0xTYW1wbGVycyB0byB1bmlmb3JtIHNhbXBsZXJzIGFzIGluXG4gKlxuICogICAgIGNvbnN0IHVuaWZvcm1zID0ge1xuICogICAgICAgdV9zb21lU2FtcGxlcjoge1xuICogICAgICAgICB0ZXh0dXJlOiBzb21lV2ViR0xUZXh0dXJlLFxuICogICAgICAgICBzYW1wbGVyOiBzb21lV2ViR0xTYW1wbGVyLFxuICogICAgICAgfSxcbiAqICAgICB9O1xuICpcbiAqIEluIHdoaWNoIGNhc2UgYm90aCB0aGUgc2FtcGxlciBhbmQgdGV4dHVyZSB3aWxsIGJlIGJvdW5kIHRvIHRoZVxuICogc2FtZSB1bml0LlxuICpcbiAqIEBwYXJhbSB7KG1vZHVsZTp0d2dsLlByb2dyYW1JbmZvfE9iamVjdC48c3RyaW5nLCBmdW5jdGlvbj4pfSBzZXR0ZXJzIGEgYFByb2dyYW1JbmZvYCBhcyByZXR1cm5lZCBmcm9tIGBjcmVhdGVQcm9ncmFtSW5mb2Agb3IgdGhlIHNldHRlcnMgcmV0dXJuZWQgZnJvbVxuICogICAgICAgIGBjcmVhdGVVbmlmb3JtU2V0dGVyc2AuXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCA/Pn0gdmFsdWVzIGFuIG9iamVjdCB3aXRoIHZhbHVlcyBmb3IgdGhlXG4gKiAgICAgICAgdW5pZm9ybXMuXG4gKiAgIFlvdSBjYW4gcGFzcyBtdWx0aXBsZSBvYmplY3RzIGJ5IHB1dHRpbmcgdGhlbSBpbiBhbiBhcnJheSBvciBieSBjYWxsaW5nIHdpdGggbW9yZSBhcmd1bWVudHMuRm9yIGV4YW1wbGVcbiAqXG4gKiAgICAgY29uc3Qgc2hhcmVkVW5pZm9ybXMgPSB7XG4gKiAgICAgICB1X2ZvZ05lYXI6IDEwLFxuICogICAgICAgdV9wcm9qZWN0aW9uOiAuLi5cbiAqICAgICAgIC4uLlxuICogICAgIH07XG4gKlxuICogICAgIGNvbnN0IGxvY2FsVW5pZm9ybXMgPSB7XG4gKiAgICAgICB1X3dvcmxkOiAuLi5cbiAqICAgICAgIHVfZGlmZnVzZUNvbG9yOiAuLi5cbiAqICAgICB9O1xuICpcbiAqICAgICB0d2dsLnNldFVuaWZvcm1zKHByb2dyYW1JbmZvLCBzaGFyZWRVbmlmb3JtcywgbG9jYWxVbmlmb3Jtcyk7XG4gKlxuICogICAgIC8vIGlzIHRoZSBzYW1lIGFzXG4gKlxuICogICAgIHR3Z2wuc2V0VW5pZm9ybXMocHJvZ3JhbUluZm8sIFtzaGFyZWRVbmlmb3JtcywgbG9jYWxVbmlmb3Jtc10pO1xuICpcbiAqICAgICAvLyBpcyB0aGUgc2FtZSBhc1xuICpcbiAqICAgICB0d2dsLnNldFVuaWZvcm1zKHByb2dyYW1JbmZvLCBzaGFyZWRVbmlmb3Jtcyk7XG4gKiAgICAgdHdnbC5zZXRVbmlmb3Jtcyhwcm9ncmFtSW5mbywgbG9jYWxVbmlmb3Jtc307XG4gKlxuICogICBZb3UgY2FuIGFsc28gZmlsbCBvdXQgc3RydWN0dXJlIGFuZCBhcnJheSB2YWx1ZXMgZWl0aGVyIHZpYVxuICogICBzaG9ydGN1dC4gRXhhbXBsZVxuICpcbiAqICAgICAvLyAtLSBpbiBzaGFkZXIgLS1cbiAqICAgICBzdHJ1Y3QgTGlnaHQge1xuICogICAgICAgZmxvYXQgaW50ZW5zaXR5O1xuICogICAgICAgdmVjNCBjb2xvcjtcbiAqICAgICB9O1xuICogICAgIHVuaWZvcm0gTGlnaHQgbGlnaHRzWzJdO1xuICpcbiAqICAgICAvLyBpbiBKYXZhU2NyaXB0XG4gKlxuICogICAgIHR3Z2wuc2V0VW5pZm9ybXMocHJvZ3JhbUluZm8sIHtcbiAqICAgICAgIGxpZ2h0czogW1xuICogICAgICAgICB7IGludGVuc2l0eTogNS4wLCBjb2xvcjogWzEsIDAsIDAsIDFdIH0sXG4gKiAgICAgICAgIHsgaW50ZW5zaXR5OiAyLjAsIGNvbG9yOiBbMCwgMCwgMSwgMV0gfSxcbiAqICAgICAgIF0sXG4gKiAgICAgfSk7XG4gKlxuICogICBvciB0aGUgbW9yZSB0cmFkaXRpb25hbCB3YXlcbiAqXG4gKiAgICAgdHdnbC5zZXRVbmlmb3Jtcyhwcm9ncmFtSW5mbywge1xuICogICAgICAgXCJsaWdodHNbMF0uaW50ZW5zaXR5XCI6IDUuMCxcbiAqICAgICAgIFwibGlnaHRzWzBdLmNvbG9yXCI6IFsxLCAwLCAwLCAxXSxcbiAqICAgICAgIFwibGlnaHRzWzFdLmludGVuc2l0eVwiOiAyLjAsXG4gKiAgICAgICBcImxpZ2h0c1sxXS5jb2xvclwiOiBbMCwgMCwgMSwgMV0sXG4gKiAgICAgfSk7XG4gKlxuICogICBZb3UgY2FuIGFsc28gc3BlY2lmeSBwYXJ0aWFsIHBhdGhzXG4gKlxuICogICAgIHR3Z2wuc2V0VW5pZm9ybXMocHJvZ3JhbUluZm8sIHtcbiAqICAgICAgICdsaWdodHNbMV06IHsgaW50ZW5zaXR5OiA1LjAsIGNvbG9yOiBbMSwgMCwgMCwgMV0gfSxcbiAqICAgICB9KTtcbiAqXG4gKiAgIEJ1dCB5b3UgY2FuIG5vdCBzcGVjaWZ5IGxlYWYgYXJyYXkgaW5kaWNlc1xuICpcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcm9ncmFtc1xuICovXG5mdW5jdGlvbiBzZXRVbmlmb3JtcyhzZXR0ZXJzLCAuLi5hcmdzKSB7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGNvbnN0IGFjdHVhbFNldHRlcnMgPSBzZXR0ZXJzLnVuaWZvcm1TZXR0ZXJzIHx8IHNldHRlcnM7XG4gIGNvbnN0IG51bUFyZ3MgPSBhcmdzLmxlbmd0aDtcbiAgZm9yIChsZXQgYU5keCA9IDA7IGFOZHggPCBudW1BcmdzOyArK2FOZHgpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBhcmdzW2FOZHhdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgIGNvbnN0IG51bVZhbHVlcyA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbnVtVmFsdWVzOyArK2lpKSB7XG4gICAgICAgIHNldFVuaWZvcm1zKGFjdHVhbFNldHRlcnMsIHZhbHVlc1tpaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHNldHRlciA9IGFjdHVhbFNldHRlcnNbbmFtZV07XG4gICAgICAgIGlmIChzZXR0ZXIpIHtcbiAgICAgICAgICBzZXR0ZXIodmFsdWVzW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFsaWFzIGZvciBgc2V0VW5pZm9ybXNgXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7KG1vZHVsZTp0d2dsLlByb2dyYW1JbmZvfE9iamVjdC48c3RyaW5nLCBmdW5jdGlvbj4pfSBzZXR0ZXJzIGEgYFByb2dyYW1JbmZvYCBhcyByZXR1cm5lZCBmcm9tIGBjcmVhdGVQcm9ncmFtSW5mb2Agb3IgdGhlIHNldHRlcnMgcmV0dXJuZWQgZnJvbVxuICogICAgICAgIGBjcmVhdGVVbmlmb3JtU2V0dGVyc2AuXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCA/Pn0gdmFsdWVzIGFuIG9iamVjdCB3aXRoIHZhbHVlcyBmb3IgdGhlXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJvZ3JhbXNcbiAqL1xuY29uc3Qgc2V0VW5pZm9ybXNBbmRCaW5kVGV4dHVyZXMgPSBzZXRVbmlmb3JtcztcblxuLyoqXG4gKiBDcmVhdGVzIHNldHRlciBmdW5jdGlvbnMgZm9yIGFsbCBhdHRyaWJ1dGVzIG9mIGEgc2hhZGVyXG4gKiBwcm9ncmFtLiBZb3UgY2FuIHBhc3MgdGhpcyB0byB7QGxpbmsgbW9kdWxlOnR3Z2wuc2V0QnVmZmVyc0FuZEF0dHJpYnV0ZXN9IHRvIHNldCBhbGwgeW91ciBidWZmZXJzIGFuZCBhdHRyaWJ1dGVzLlxuICpcbiAqIEBzZWUge0BsaW5rIG1vZHVsZTp0d2dsLnNldEF0dHJpYnV0ZXN9IGZvciBleGFtcGxlXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCB0byB1c2UuXG4gKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gcHJvZ3JhbSB0aGUgcHJvZ3JhbSB0byBjcmVhdGUgc2V0dGVycyBmb3IuXG4gKiBAcmV0dXJuIHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSBhbiBvYmplY3Qgd2l0aCBhIHNldHRlciBmb3IgZWFjaCBhdHRyaWJ1dGUgYnkgbmFtZS5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9wcm9ncmFtc1xuICovXG5mdW5jdGlvbiBjcmVhdGVBdHRyaWJ1dGVTZXR0ZXJzKGdsLCBwcm9ncmFtKSB7XG4gIGNvbnN0IGF0dHJpYlNldHRlcnMgPSB7XG4gIH07XG5cbiAgY29uc3QgbnVtQXR0cmlicyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgQUNUSVZFX0FUVFJJQlVURVMpO1xuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbnVtQXR0cmliczsgKytpaSkge1xuICAgIGNvbnN0IGF0dHJpYkluZm8gPSBnbC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaWkpO1xuICAgIGlmIChpc0J1aWx0SW4oYXR0cmliSW5mbykpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYkluZm8ubmFtZSk7XG4gICAgY29uc3QgdHlwZUluZm8gPSBhdHRyVHlwZU1hcFthdHRyaWJJbmZvLnR5cGVdO1xuICAgIGNvbnN0IHNldHRlciA9IHR5cGVJbmZvLnNldHRlcihnbCwgaW5kZXgsIHR5cGVJbmZvKTtcbiAgICBzZXR0ZXIubG9jYXRpb24gPSBpbmRleDtcbiAgICBhdHRyaWJTZXR0ZXJzW2F0dHJpYkluZm8ubmFtZV0gPSBzZXR0ZXI7XG4gIH1cblxuICByZXR1cm4gYXR0cmliU2V0dGVycztcbn1cblxuLyoqXG4gKiBTZXRzIGF0dHJpYnV0ZXMgYW5kIGJpbmRzIGJ1ZmZlcnMgKGRlcHJlY2F0ZWQuLi4gdXNlIHtAbGluayBtb2R1bGU6dHdnbC5zZXRCdWZmZXJzQW5kQXR0cmlidXRlc30pXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyhcbiAqICAgICAgICAgZ2wsIFtcInNvbWUtdnNcIiwgXCJzb21lLWZzXCIpO1xuICpcbiAqICAgICBjb25zdCBhdHRyaWJTZXR0ZXJzID0gY3JlYXRlQXR0cmlidXRlU2V0dGVycyhwcm9ncmFtKTtcbiAqXG4gKiAgICAgY29uc3QgcG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAqICAgICBjb25zdCB0ZXhjb29yZEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICpcbiAqICAgICBjb25zdCBhdHRyaWJzID0ge1xuICogICAgICAgYV9wb3NpdGlvbjoge2J1ZmZlcjogcG9zaXRpb25CdWZmZXIsIG51bUNvbXBvbmVudHM6IDN9LFxuICogICAgICAgYV90ZXhjb29yZDoge2J1ZmZlcjogdGV4Y29vcmRCdWZmZXIsIG51bUNvbXBvbmVudHM6IDJ9LFxuICogICAgIH07XG4gKlxuICogICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gKlxuICogVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgYmluZCB0aGUgYnVmZmVycyBBTkQgc2V0IHRoZVxuICogYXR0cmlidXRlcy5cbiAqXG4gKiAgICAgc2V0QXR0cmlidXRlcyhhdHRyaWJTZXR0ZXJzLCBhdHRyaWJzKTtcbiAqXG4gKiBQcm9wZXJ0aWVzIG9mIGF0dHJpYnMuIEZvciBlYWNoIGF0dHJpYiB5b3UgY2FuIGFkZFxuICogcHJvcGVydGllczpcbiAqXG4gKiAqICAgdHlwZTogdGhlIHR5cGUgb2YgZGF0YSBpbiB0aGUgYnVmZmVyLiBEZWZhdWx0ID0gZ2wuRkxPQVRcbiAqICogICBub3JtYWxpemU6IHdoZXRoZXIgb3Igbm90IHRvIG5vcm1hbGl6ZSB0aGUgZGF0YS4gRGVmYXVsdCA9IGZhbHNlXG4gKiAqICAgc3RyaWRlOiB0aGUgc3RyaWRlLiBEZWZhdWx0ID0gMFxuICogKiAgIG9mZnNldDogb2Zmc2V0IGludG8gdGhlIGJ1ZmZlci4gRGVmYXVsdCA9IDBcbiAqICogICBkaXZpc29yOiB0aGUgZGl2aXNvciBmb3IgaW5zdGFuY2VzLiBEZWZhdWx0ID0gdW5kZWZpbmVkXG4gKlxuICogRm9yIGV4YW1wbGUgaWYgeW91IGhhZCAzIHZhbHVlIGZsb2F0IHBvc2l0aW9ucywgMiB2YWx1ZVxuICogZmxvYXQgdGV4Y29vcmQgYW5kIDQgdmFsdWUgdWludDggY29sb3JzIHlvdSdkIHNldHVwIHlvdXJcbiAqIGF0dHJpYnMgbGlrZSB0aGlzXG4gKlxuICogICAgIGNvbnN0IGF0dHJpYnMgPSB7XG4gKiAgICAgICBhX3Bvc2l0aW9uOiB7YnVmZmVyOiBwb3NpdGlvbkJ1ZmZlciwgbnVtQ29tcG9uZW50czogM30sXG4gKiAgICAgICBhX3RleGNvb3JkOiB7YnVmZmVyOiB0ZXhjb29yZEJ1ZmZlciwgbnVtQ29tcG9uZW50czogMn0sXG4gKiAgICAgICBhX2NvbG9yOiB7XG4gKiAgICAgICAgIGJ1ZmZlcjogY29sb3JCdWZmZXIsXG4gKiAgICAgICAgIG51bUNvbXBvbmVudHM6IDQsXG4gKiAgICAgICAgIHR5cGU6IGdsLlVOU0lHTkVEX0JZVEUsXG4gKiAgICAgICAgIG5vcm1hbGl6ZTogdHJ1ZSxcbiAqICAgICAgIH0sXG4gKiAgICAgfTtcbiAqXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59IHNldHRlcnMgQXR0cmlidXRlIHNldHRlcnMgYXMgcmV0dXJuZWQgZnJvbSBjcmVhdGVBdHRyaWJ1dGVTZXR0ZXJzXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBtb2R1bGU6dHdnbC5BdHRyaWJJbmZvPn0gYnVmZmVycyBBdHRyaWJJbmZvcyBtYXBwZWQgYnkgYXR0cmlidXRlIG5hbWUuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJvZ3JhbXNcbiAqIEBkZXByZWNhdGVkIHVzZSB7QGxpbmsgbW9kdWxlOnR3Z2wuc2V0QnVmZmVyc0FuZEF0dHJpYnV0ZXN9XG4gKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoc2V0dGVycywgYnVmZmVycykge1xuICBmb3IgKGNvbnN0IG5hbWUgaW4gYnVmZmVycykge1xuICAgIGNvbnN0IHNldHRlciA9IHNldHRlcnNbbmFtZV07XG4gICAgaWYgKHNldHRlcikge1xuICAgICAgc2V0dGVyKGJ1ZmZlcnNbbmFtZV0pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNldHMgYXR0cmlidXRlcyBhbmQgYnVmZmVycyBpbmNsdWRpbmcgdGhlIGBFTEVNRU5UX0FSUkFZX0JVRkZFUmAgaWYgYXBwcm9wcmlhdGVcbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBjb25zdCBwcm9ncmFtSW5mbyA9IGNyZWF0ZVByb2dyYW1JbmZvKFxuICogICAgICAgICBnbCwgW1wic29tZS12c1wiLCBcInNvbWUtZnNcIik7XG4gKlxuICogICAgIGNvbnN0IGFycmF5cyA9IHtcbiAqICAgICAgIHBvc2l0aW9uOiB7IG51bUNvbXBvbmVudHM6IDMsIGRhdGE6IFswLCAwLCAwLCAxMCwgMCwgMCwgMCwgMTAsIDAsIDEwLCAxMCwgMF0sIH0sXG4gKiAgICAgICB0ZXhjb29yZDogeyBudW1Db21wb25lbnRzOiAyLCBkYXRhOiBbMCwgMCwgMCwgMSwgMSwgMCwgMSwgMV0sICAgICAgICAgICAgICAgICB9LFxuICogICAgIH07XG4gKlxuICogICAgIGNvbnN0IGJ1ZmZlckluZm8gPSBjcmVhdGVCdWZmZXJJbmZvRnJvbUFycmF5cyhnbCwgYXJyYXlzKTtcbiAqXG4gKiAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtSW5mby5wcm9ncmFtKTtcbiAqXG4gKiBUaGlzIHdpbGwgYXV0b21hdGljYWxseSBiaW5kIHRoZSBidWZmZXJzIEFORCBzZXQgdGhlXG4gKiBhdHRyaWJ1dGVzLlxuICpcbiAqICAgICBzZXRCdWZmZXJzQW5kQXR0cmlidXRlcyhnbCwgcHJvZ3JhbUluZm8sIGJ1ZmZlckluZm8pO1xuICpcbiAqIEZvciB0aGUgZXhhbXBsZSBhYm92ZSBpdCBpcyBlcXVpdmFsZW50IHRvXG4gKlxuICogICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XG4gKiAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYV9wb3NpdGlvbkxvY2F0aW9uKTtcbiAqICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGFfcG9zaXRpb25Mb2NhdGlvbiwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAqICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGV4Y29vcmRCdWZmZXIpO1xuICogICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGFfdGV4Y29vcmRMb2NhdGlvbik7XG4gKiAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihhX3RleGNvb3JkTG9jYXRpb24sIDQsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIEEgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlxuICogQHBhcmFtIHsobW9kdWxlOnR3Z2wuUHJvZ3JhbUluZm98T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPil9IHNldHRlcnMgQSBgUHJvZ3JhbUluZm9gIGFzIHJldHVybmVkIGZyb20ge0BsaW5rIG1vZHVsZTp0d2dsLmNyZWF0ZVByb2dyYW1JbmZvfSBvciBBdHRyaWJ1dGUgc2V0dGVycyBhcyByZXR1cm5lZCBmcm9tIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVBdHRyaWJ1dGVTZXR0ZXJzfVxuICogQHBhcmFtIHsobW9kdWxlOnR3Z2wuQnVmZmVySW5mb3xtb2R1bGU6dHdnbC5WZXJ0ZXhBcnJheUluZm8pfSBidWZmZXJzIGEgYEJ1ZmZlckluZm9gIGFzIHJldHVybmVkIGZyb20ge0BsaW5rIG1vZHVsZTp0d2dsLmNyZWF0ZUJ1ZmZlckluZm9Gcm9tQXJyYXlzfS5cbiAqICAgb3IgYSBgVmVydGV4QXJyYXlJbmZvYCBhcyByZXR1cm5lZCBmcm9tIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVWZXJ0ZXhBcnJheUluZm99XG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJvZ3JhbXNcbiAqL1xuZnVuY3Rpb24gc2V0QnVmZmVyc0FuZEF0dHJpYnV0ZXMoZ2wsIHByb2dyYW1JbmZvLCBidWZmZXJzKSB7XG4gIGlmIChidWZmZXJzLnZlcnRleEFycmF5T2JqZWN0KSB7XG4gICAgZ2wuYmluZFZlcnRleEFycmF5KGJ1ZmZlcnMudmVydGV4QXJyYXlPYmplY3QpO1xuICB9IGVsc2Uge1xuICAgIHNldEF0dHJpYnV0ZXMocHJvZ3JhbUluZm8uYXR0cmliU2V0dGVycyB8fCBwcm9ncmFtSW5mbywgYnVmZmVycy5hdHRyaWJzKTtcbiAgICBpZiAoYnVmZmVycy5pbmRpY2VzKSB7XG4gICAgICBnbC5iaW5kQnVmZmVyKEVMRU1FTlRfQVJSQVlfQlVGRkVSJDEsIGJ1ZmZlcnMuaW5kaWNlcyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHJvZ3JhbUluZm9cbiAqIEBwcm9wZXJ0eSB7V2ViR0xQcm9ncmFtfSBwcm9ncmFtIEEgc2hhZGVyIHByb2dyYW1cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgZnVuY3Rpb24+fSB1bmlmb3JtU2V0dGVycyBvYmplY3Qgb2Ygc2V0dGVycyBhcyByZXR1cm5lZCBmcm9tIGNyZWF0ZVVuaWZvcm1TZXR0ZXJzLFxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCBmdW5jdGlvbj59IGF0dHJpYlNldHRlcnMgb2JqZWN0IG9mIHNldHRlcnMgYXMgcmV0dXJuZWQgZnJvbSBjcmVhdGVBdHRyaWJTZXR0ZXJzLFxuICogQHByb3BlcnR5IHttb2R1bGU6dHdnbC5Vbmlmb3JtQmxvY2tTcGVjfSBbdW5pZm9ybUJsb2NrU3BlY10gYSB1bmlmb3JtIGJsb2NrIHNwZWMgZm9yIG1ha2luZyBVbmlmb3JtQmxvY2tJbmZvcyB3aXRoIGNyZWF0ZVVuaWZvcm1CbG9ja0luZm8gZXRjLi5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0PHN0cmluZywgbW9kdWxlOnR3Z2wuVHJhbnNmb3JtRmVlZGJhY2tJbmZvPn0gW3RyYW5zZm9ybUZlZWRiYWNrSW5mb10gaW5mbyBmb3IgdHJhbnNmb3JtIGZlZWRiYWNrc1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgUHJvZ3JhbUluZm8gZnJvbSBhbiBleGlzdGluZyBwcm9ncmFtLlxuICpcbiAqIEEgUHJvZ3JhbUluZm8gY29udGFpbnNcbiAqXG4gKiAgICAgcHJvZ3JhbUluZm8gPSB7XG4gKiAgICAgICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxuICogICAgICAgIHVuaWZvcm1TZXR0ZXJzOiBvYmplY3Qgb2Ygc2V0dGVycyBhcyByZXR1cm5lZCBmcm9tIGNyZWF0ZVVuaWZvcm1TZXR0ZXJzLFxuICogICAgICAgIGF0dHJpYlNldHRlcnM6IG9iamVjdCBvZiBzZXR0ZXJzIGFzIHJldHVybmVkIGZyb20gY3JlYXRlQXR0cmliU2V0dGVycyxcbiAqICAgICB9XG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqICAgICAgICB0byB1c2UuXG4gKiBAcGFyYW0ge1dlYkdMUHJvZ3JhbX0gcHJvZ3JhbSBhbiBleGlzdGluZyBXZWJHTFByb2dyYW0uXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC5Qcm9ncmFtSW5mb30gVGhlIGNyZWF0ZWQgUHJvZ3JhbUluZm8uXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvcHJvZ3JhbXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbUluZm9Gcm9tUHJvZ3JhbShnbCwgcHJvZ3JhbSkge1xuICBjb25zdCB1bmlmb3JtU2V0dGVycyA9IGNyZWF0ZVVuaWZvcm1TZXR0ZXJzKGdsLCBwcm9ncmFtKTtcbiAgY29uc3QgYXR0cmliU2V0dGVycyA9IGNyZWF0ZUF0dHJpYnV0ZVNldHRlcnMoZ2wsIHByb2dyYW0pO1xuICBjb25zdCBwcm9ncmFtSW5mbyA9IHtcbiAgICBwcm9ncmFtLFxuICAgIHVuaWZvcm1TZXR0ZXJzLFxuICAgIGF0dHJpYlNldHRlcnMsXG4gIH07XG5cbiAgaWYgKGlzV2ViR0wyKGdsKSkge1xuICAgIHByb2dyYW1JbmZvLnVuaWZvcm1CbG9ja1NwZWMgPSBjcmVhdGVVbmlmb3JtQmxvY2tTcGVjRnJvbVByb2dyYW0oZ2wsIHByb2dyYW0pO1xuICAgIHByb2dyYW1JbmZvLnRyYW5zZm9ybUZlZWRiYWNrSW5mbyA9IGNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrSW5mbyhnbCwgcHJvZ3JhbSk7XG4gIH1cblxuICByZXR1cm4gcHJvZ3JhbUluZm87XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFByb2dyYW1JbmZvIGZyb20gMiBzb3VyY2VzLlxuICpcbiAqIEEgUHJvZ3JhbUluZm8gY29udGFpbnNcbiAqXG4gKiAgICAgcHJvZ3JhbUluZm8gPSB7XG4gKiAgICAgICAgcHJvZ3JhbTogV2ViR0xQcm9ncmFtLFxuICogICAgICAgIHVuaWZvcm1TZXR0ZXJzOiBvYmplY3Qgb2Ygc2V0dGVycyBhcyByZXR1cm5lZCBmcm9tIGNyZWF0ZVVuaWZvcm1TZXR0ZXJzLFxuICogICAgICAgIGF0dHJpYlNldHRlcnM6IG9iamVjdCBvZiBzZXR0ZXJzIGFzIHJldHVybmVkIGZyb20gY3JlYXRlQXR0cmliU2V0dGVycyxcbiAqICAgICB9XG4gKlxuICogTk9URTogVGhlcmUgYXJlIDQgc2lnbmF0dXJlcyBmb3IgdGhpcyBmdW5jdGlvblxuICpcbiAqICAgICB0d2dsLmNyZWF0ZVByb2dyYW1JbmZvKGdsLCBbdnMsIGZzXSwgb3B0aW9ucyk7XG4gKiAgICAgdHdnbC5jcmVhdGVQcm9ncmFtSW5mbyhnbCwgW3ZzLCBmc10sIG9wdF9lcnJGdW5jKTtcbiAqICAgICB0d2dsLmNyZWF0ZVByb2dyYW1JbmZvKGdsLCBbdnMsIGZzXSwgb3B0X2F0dHJpYnMsIG9wdF9lcnJGdW5jKTtcbiAqICAgICB0d2dsLmNyZWF0ZVByb2dyYW1JbmZvKGdsLCBbdnMsIGZzXSwgb3B0X2F0dHJpYnMsIG9wdF9sb2NhdGlvbnMsIG9wdF9lcnJGdW5jKTtcbiAqXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogICAgICAgIHRvIHVzZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IHNoYWRlclNvdXJjZXMgQXJyYXkgb2Ygc291cmNlcyBmb3IgdGhlXG4gKiAgICAgICAgc2hhZGVycyBvciBpZHMuIFRoZSBmaXJzdCBpcyBhc3N1bWVkIHRvIGJlIHRoZSB2ZXJ0ZXggc2hhZGVyLFxuICogICAgICAgIHRoZSBzZWNvbmQgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuUHJvZ3JhbU9wdGlvbnN8c3RyaW5nW118bW9kdWxlOnR3Z2wuRXJyb3JDYWxsYmFja30gW29wdF9hdHRyaWJzXSBPcHRpb25zIGZvciB0aGUgcHJvZ3JhbSBvciBhbiBhcnJheSBvZiBhdHRyaWJzIG5hbWVzIG9yIGFuIGVycm9yIGNhbGxiYWNrLiBMb2NhdGlvbnMgd2lsbCBiZSBhc3NpZ25lZCBieSBpbmRleCBpZiBub3QgcGFzc2VkIGluXG4gKiBAcGFyYW0ge251bWJlcltdfSBbb3B0X2xvY2F0aW9uc3xtb2R1bGU6dHdnbC5FcnJvckNhbGxiYWNrXSBUaGUgbG9jYXRpb25zIGZvciB0aGUuIEEgcGFyYWxsZWwgYXJyYXkgdG8gb3B0X2F0dHJpYnMgbGV0dGluZyB5b3UgYXNzaWduIGxvY2F0aW9ucyBvciBhbiBlcnJvciBjYWxsYmFjay5cbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuRXJyb3JDYWxsYmFja30gW29wdF9lcnJvckNhbGxiYWNrXSBjYWxsYmFjayBmb3IgZXJyb3JzLiBCeSBkZWZhdWx0IGl0IGp1c3QgcHJpbnRzIGFuIGVycm9yIHRvIHRoZSBjb25zb2xlXG4gKiAgICAgICAgb24gZXJyb3IuIElmIHlvdSB3YW50IHNvbWV0aGluZyBlbHNlIHBhc3MgYW4gY2FsbGJhY2suIEl0J3MgcGFzc2VkIGFuIGVycm9yIG1lc3NhZ2UuXG4gKiBAcmV0dXJuIHttb2R1bGU6dHdnbC5Qcm9ncmFtSW5mbz99IFRoZSBjcmVhdGVkIFByb2dyYW1JbmZvIG9yIG51bGwgaWYgaXQgZmFpbGVkIHRvIGxpbmsgb3IgY29tcGlsZVxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3Byb2dyYW1zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVByb2dyYW1JbmZvKFxuICAgIGdsLCBzaGFkZXJTb3VyY2VzLCBvcHRfYXR0cmlicywgb3B0X2xvY2F0aW9ucywgb3B0X2Vycm9yQ2FsbGJhY2spIHtcbiAgY29uc3QgcHJvZ09wdGlvbnMgPSBnZXRQcm9ncmFtT3B0aW9ucyhvcHRfYXR0cmlicywgb3B0X2xvY2F0aW9ucywgb3B0X2Vycm9yQ2FsbGJhY2spO1xuICBsZXQgZ29vZCA9IHRydWU7XG4gIHNoYWRlclNvdXJjZXMgPSBzaGFkZXJTb3VyY2VzLm1hcChmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAvLyBMZXRzIGFzc3VtZSBpZiB0aGVyZSBpcyBubyBcXG4gaXQncyBhbiBpZFxuICAgIGlmIChzb3VyY2UuaW5kZXhPZihcIlxcblwiKSA8IDApIHtcbiAgICAgIGNvbnN0IHNjcmlwdCA9IGdldEVsZW1lbnRCeUlkKHNvdXJjZSk7XG4gICAgICBpZiAoIXNjcmlwdCkge1xuICAgICAgICBwcm9nT3B0aW9ucy5lcnJvckNhbGxiYWNrKFwibm8gZWxlbWVudCB3aXRoIGlkOiBcIiArIHNvdXJjZSk7XG4gICAgICAgIGdvb2QgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdXJjZSA9IHNjcmlwdC50ZXh0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9KTtcbiAgaWYgKCFnb29kKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW1Gcm9tU291cmNlcyhnbCwgc2hhZGVyU291cmNlcywgcHJvZ09wdGlvbnMpO1xuICBpZiAoIXByb2dyYW0pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlUHJvZ3JhbUluZm9Gcm9tUHJvZ3JhbShnbCwgcHJvZ3JhbSk7XG59XG5cbnZhciBwcm9ncmFtcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBjcmVhdGVBdHRyaWJ1dGVTZXR0ZXJzOiBjcmVhdGVBdHRyaWJ1dGVTZXR0ZXJzLFxuICBjcmVhdGVQcm9ncmFtOiBjcmVhdGVQcm9ncmFtLFxuICBjcmVhdGVQcm9ncmFtRnJvbVNjcmlwdHM6IGNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyxcbiAgY3JlYXRlUHJvZ3JhbUZyb21Tb3VyY2VzOiBjcmVhdGVQcm9ncmFtRnJvbVNvdXJjZXMsXG4gIGNyZWF0ZVByb2dyYW1JbmZvOiBjcmVhdGVQcm9ncmFtSW5mbyxcbiAgY3JlYXRlUHJvZ3JhbUluZm9Gcm9tUHJvZ3JhbTogY3JlYXRlUHJvZ3JhbUluZm9Gcm9tUHJvZ3JhbSxcbiAgY3JlYXRlVW5pZm9ybVNldHRlcnM6IGNyZWF0ZVVuaWZvcm1TZXR0ZXJzLFxuICBjcmVhdGVVbmlmb3JtQmxvY2tTcGVjRnJvbVByb2dyYW06IGNyZWF0ZVVuaWZvcm1CbG9ja1NwZWNGcm9tUHJvZ3JhbSxcbiAgY3JlYXRlVW5pZm9ybUJsb2NrSW5mb0Zyb21Qcm9ncmFtOiBjcmVhdGVVbmlmb3JtQmxvY2tJbmZvRnJvbVByb2dyYW0sXG4gIGNyZWF0ZVVuaWZvcm1CbG9ja0luZm86IGNyZWF0ZVVuaWZvcm1CbG9ja0luZm8sXG4gIGNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrOiBjcmVhdGVUcmFuc2Zvcm1GZWVkYmFjayxcbiAgY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2tJbmZvOiBjcmVhdGVUcmFuc2Zvcm1GZWVkYmFja0luZm8sXG4gIGJpbmRUcmFuc2Zvcm1GZWVkYmFja0luZm86IGJpbmRUcmFuc2Zvcm1GZWVkYmFja0luZm8sXG4gIHNldEF0dHJpYnV0ZXM6IHNldEF0dHJpYnV0ZXMsXG4gIHNldEJ1ZmZlcnNBbmRBdHRyaWJ1dGVzOiBzZXRCdWZmZXJzQW5kQXR0cmlidXRlcyxcbiAgc2V0VW5pZm9ybXM6IHNldFVuaWZvcm1zLFxuICBzZXRVbmlmb3Jtc0FuZEJpbmRUZXh0dXJlczogc2V0VW5pZm9ybXNBbmRCaW5kVGV4dHVyZXMsXG4gIHNldFVuaWZvcm1CbG9jazogc2V0VW5pZm9ybUJsb2NrLFxuICBzZXRCbG9ja1VuaWZvcm1zOiBzZXRCbG9ja1VuaWZvcm1zLFxuICBiaW5kVW5pZm9ybUJsb2NrOiBiaW5kVW5pZm9ybUJsb2NrXG59KTtcblxuLypcbiAqIENvcHlyaWdodCAyMDE5IEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuXG5jb25zdCBUUklBTkdMRVMgICAgICAgICAgICAgICAgICAgICAgPSAweDAwMDQ7XG5jb25zdCBVTlNJR05FRF9TSE9SVCQzICAgICAgICAgICAgICAgICA9IDB4MTQwMztcblxuLyoqXG4gKiBEcmF3aW5nIHJlbGF0ZWQgZnVuY3Rpb25zXG4gKlxuICogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgdGhleSBhcmUgYXZhaWxhYmxlIGF0IGJvdGggYHR3Z2wuZHJhd2AgYW5kIGB0d2dsYFxuICogaXRzZWxmXG4gKlxuICogU2VlIHtAbGluayBtb2R1bGU6dHdnbH0gZm9yIGNvcmUgZnVuY3Rpb25zXG4gKlxuICogQG1vZHVsZSB0d2dsL2RyYXdcbiAqL1xuXG4vKipcbiAqIENhbGxzIGBnbC5kcmF3RWxlbWVudHNgIG9yIGBnbC5kcmF3QXJyYXlzYCwgd2hpY2hldmVyIGlzIGFwcHJvcHJpYXRlXG4gKlxuICogbm9ybWFsbHkgeW91J2QgY2FsbCBgZ2wuZHJhd0VsZW1lbnRzYCBvciBgZ2wuZHJhd0FycmF5c2AgeW91cnNlbGZcbiAqIGJ1dCBjYWxsaW5nIHRoaXMgbWVhbnMgaWYgeW91IHN3aXRjaCBmcm9tIGluZGV4ZWQgZGF0YSB0byBub24taW5kZXhlZFxuICogZGF0YSB5b3UgZG9uJ3QgaGF2ZSB0byByZW1lbWJlciB0byB1cGRhdGUgeW91ciBkcmF3IGNhbGwuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIEEgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0geyhtb2R1bGU6dHdnbC5CdWZmZXJJbmZvfG1vZHVsZTp0d2dsLlZlcnRleEFycmF5SW5mbyl9IGJ1ZmZlckluZm8gQSBCdWZmZXJJbmZvIGFzIHJldHVybmVkIGZyb20ge0BsaW5rIG1vZHVsZTp0d2dsLmNyZWF0ZUJ1ZmZlckluZm9Gcm9tQXJyYXlzfSBvclxuICogICBhIFZlcnRleEFycmF5SW5mbyBhcyByZXR1cm5lZCBmcm9tIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVWZXJ0ZXhBcnJheUluZm99XG4gKiBAcGFyYW0ge251bWJlcn0gW3R5cGVdIGVnIChnbC5UUklBTkdMRVMsIGdsLkxJTkVTLCBnbC5QT0lOVFMsIGdsLlRSSUFOR0xFX1NUUklQLCAuLi4pLiBEZWZhdWx0cyB0byBgZ2wuVFJJQU5HTEVTYFxuICogQHBhcmFtIHtudW1iZXJ9IFtjb3VudF0gQW4gb3B0aW9uYWwgY291bnQuIERlZmF1bHRzIHRvIGJ1ZmZlckluZm8ubnVtRWxlbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0XSBBbiBvcHRpb25hbCBvZmZzZXQuIERlZmF1bHRzIHRvIDAuXG4gKiBAcGFyYW0ge251bWJlcn0gW2luc3RhbmNlQ291bnRdIEFuIG9wdGlvbmFsIGluc3RhbmNlQ291bnQuIGlmIHNldCB0aGVuIGBkcmF3QXJyYXlzSW5zdGFuY2VkYCBvciBgZHJhd0VsZW1lbnRzSW5zdGFuY2VkYCB3aWxsIGJlIGNhbGxlZFxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL2RyYXdcbiAqL1xuZnVuY3Rpb24gZHJhd0J1ZmZlckluZm8oZ2wsIGJ1ZmZlckluZm8sIHR5cGUsIGNvdW50LCBvZmZzZXQsIGluc3RhbmNlQ291bnQpIHtcbiAgdHlwZSA9IHR5cGUgPT09IHVuZGVmaW5lZCA/IFRSSUFOR0xFUyA6IHR5cGU7XG4gIGNvbnN0IGluZGljZXMgPSBidWZmZXJJbmZvLmluZGljZXM7XG4gIGNvbnN0IGVsZW1lbnRUeXBlID0gYnVmZmVySW5mby5lbGVtZW50VHlwZTtcbiAgY29uc3QgbnVtRWxlbWVudHMgPSBjb3VudCA9PT0gdW5kZWZpbmVkID8gYnVmZmVySW5mby5udW1FbGVtZW50cyA6IGNvdW50O1xuICBvZmZzZXQgPSBvZmZzZXQgPT09IHVuZGVmaW5lZCA/IDAgOiBvZmZzZXQ7XG4gIGlmIChlbGVtZW50VHlwZSB8fCBpbmRpY2VzKSB7XG4gICAgaWYgKGluc3RhbmNlQ291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKHR5cGUsIG51bUVsZW1lbnRzLCBlbGVtZW50VHlwZSA9PT0gdW5kZWZpbmVkID8gVU5TSUdORURfU0hPUlQkMyA6IGJ1ZmZlckluZm8uZWxlbWVudFR5cGUsIG9mZnNldCwgaW5zdGFuY2VDb3VudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsLmRyYXdFbGVtZW50cyh0eXBlLCBudW1FbGVtZW50cywgZWxlbWVudFR5cGUgPT09IHVuZGVmaW5lZCA/IFVOU0lHTkVEX1NIT1JUJDMgOiBidWZmZXJJbmZvLmVsZW1lbnRUeXBlLCBvZmZzZXQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaW5zdGFuY2VDb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkKHR5cGUsIG9mZnNldCwgbnVtRWxlbWVudHMsIGluc3RhbmNlQ291bnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIG9mZnNldCwgbnVtRWxlbWVudHMpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEEgRHJhd09iamVjdCBpcyB1c2VmdWwgZm9yIHB1dHRpbmcgb2JqZWN0cyBpbiB0byBhbiBhcnJheSBhbmQgcGFzc2luZyB0aGVtIHRvIHtAbGluayBtb2R1bGU6dHdnbC5kcmF3T2JqZWN0TGlzdH0uXG4gKlxuICogWW91IG5lZWQgZWl0aGVyIGEgYEJ1ZmZlckluZm9gIG9yIGEgYFZlcnRleEFycmF5SW5mb2AuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gRHJhd09iamVjdFxuICogQHByb3BlcnR5IHtib29sZWFufSBbYWN0aXZlXSB3aGV0aGVyIG9yIG5vdCB0byBkcmF3LiBEZWZhdWx0ID0gYHRydWVgIChtdXN0IGJlIGBmYWxzZWAgdG8gYmUgbm90IHRydWUpLiBJbiBvdGhlciB3b3JkcyBgdW5kZWZpbmVkYCA9IGB0cnVlYFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0eXBlXSB0eXBlIHRvIGRyYXcgZWcuIGBnbC5UUklBTkdMRVNgLCBgZ2wuTElORVNgLCBldGMuLi5cbiAqIEBwcm9wZXJ0eSB7bW9kdWxlOnR3Z2wuUHJvZ3JhbUluZm99IHByb2dyYW1JbmZvIEEgUHJvZ3JhbUluZm8gYXMgcmV0dXJuZWQgZnJvbSB7QGxpbmsgbW9kdWxlOnR3Z2wuY3JlYXRlUHJvZ3JhbUluZm99XG4gKiBAcHJvcGVydHkge21vZHVsZTp0d2dsLkJ1ZmZlckluZm99IFtidWZmZXJJbmZvXSBBIEJ1ZmZlckluZm8gYXMgcmV0dXJuZWQgZnJvbSB7QGxpbmsgbW9kdWxlOnR3Z2wuY3JlYXRlQnVmZmVySW5mb0Zyb21BcnJheXN9XG4gKiBAcHJvcGVydHkge21vZHVsZTp0d2dsLlZlcnRleEFycmF5SW5mb30gW3ZlcnRleEFycmF5SW5mb10gQSBWZXJ0ZXhBcnJheUluZm8gYXMgcmV0dXJuZWQgZnJvbSB7QGxpbmsgbW9kdWxlOnR3Z2wuY3JlYXRlVmVydGV4QXJyYXlJbmZvfVxuICogQHByb3BlcnR5IHtPYmplY3Q8c3RyaW5nLCA/Pn0gdW5pZm9ybXMgVGhlIHZhbHVlcyBmb3IgdGhlIHVuaWZvcm1zLlxuICogICBZb3UgY2FuIHBhc3MgbXVsdGlwbGUgb2JqZWN0cyBieSBwdXR0aW5nIHRoZW0gaW4gYW4gYXJyYXkuIEZvciBleGFtcGxlXG4gKlxuICogICAgIHZhciBzaGFyZWRVbmlmb3JtcyA9IHtcbiAqICAgICAgIHVfZm9nTmVhcjogMTAsXG4gKiAgICAgICB1X3Byb2plY3Rpb246IC4uLlxuICogICAgICAgLi4uXG4gKiAgICAgfTtcbiAqXG4gKiAgICAgdmFyIGxvY2FsVW5pZm9ybXMgPSB7XG4gKiAgICAgICB1X3dvcmxkOiAuLi5cbiAqICAgICAgIHVfZGlmZnVzZUNvbG9yOiAuLi5cbiAqICAgICB9O1xuICpcbiAqICAgICB2YXIgZHJhd09iaiA9IHtcbiAqICAgICAgIC4uLlxuICogICAgICAgdW5pZm9ybXM6IFtzaGFyZWRVbmlmb3JtcywgbG9jYWxVbmlmb3Jtc10sXG4gKiAgICAgfTtcbiAqXG4gKiBAcHJvcGVydHkge251bWJlcn0gW29mZnNldF0gdGhlIG9mZnNldCB0byBwYXNzIHRvIGBnbC5kcmF3QXJyYXlzYCBvciBgZ2wuZHJhd0VsZW1lbnRzYC4gRGVmYXVsdHMgdG8gMC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbY291bnRdIHRoZSBjb3VudCB0byBwYXNzIHRvIGBnbC5kcmF3QXJyYXlzYCBvciBgZ2wuZHJhd0VsZW1lbnRzYC4gRGVmYXVsdHMgdG8gYnVmZmVySW5mby5udW1FbGVtZW50cy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaW5zdGFuY2VDb3VudF0gdGhlIG51bWJlciBvZiBpbnN0YW5jZXMuIERlZmF1bHRzIHRvIHVuZGVmaW5lZC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5cbi8qKlxuICogRHJhd3MgYSBsaXN0IG9mIG9iamVjdHNcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBBIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHtEcmF3T2JqZWN0W119IG9iamVjdHNUb0RyYXcgYW4gYXJyYXkgb2Ygb2JqZWN0cyB0byBkcmF3LlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL2RyYXdcbiAqL1xuZnVuY3Rpb24gZHJhd09iamVjdExpc3QoZ2wsIG9iamVjdHNUb0RyYXcpIHtcbiAgbGV0IGxhc3RVc2VkUHJvZ3JhbUluZm8gPSBudWxsO1xuICBsZXQgbGFzdFVzZWRCdWZmZXJJbmZvID0gbnVsbDtcblxuICBvYmplY3RzVG9EcmF3LmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdC5hY3RpdmUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJvZ3JhbUluZm8gPSBvYmplY3QucHJvZ3JhbUluZm87XG4gICAgY29uc3QgYnVmZmVySW5mbyA9IG9iamVjdC52ZXJ0ZXhBcnJheUluZm8gfHwgb2JqZWN0LmJ1ZmZlckluZm87XG4gICAgbGV0IGJpbmRCdWZmZXJzID0gZmFsc2U7XG4gICAgY29uc3QgdHlwZSA9IG9iamVjdC50eXBlID09PSB1bmRlZmluZWQgPyBUUklBTkdMRVMgOiBvYmplY3QudHlwZTtcblxuICAgIGlmIChwcm9ncmFtSW5mbyAhPT0gbGFzdFVzZWRQcm9ncmFtSW5mbykge1xuICAgICAgbGFzdFVzZWRQcm9ncmFtSW5mbyA9IHByb2dyYW1JbmZvO1xuICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtSW5mby5wcm9ncmFtKTtcblxuICAgICAgLy8gV2UgaGF2ZSB0byByZWJpbmQgYnVmZmVycyB3aGVuIGNoYW5naW5nIHByb2dyYW1zIGJlY2F1c2Ugd2VcbiAgICAgIC8vIG9ubHkgYmluZCBidWZmZXJzIHRoZSBwcm9ncmFtIHVzZXMuIFNvIGlmIDIgcHJvZ3JhbXMgdXNlIHRoZSBzYW1lXG4gICAgICAvLyBidWZmZXJJbmZvIGJ1dCB0aGUgMXN0IG9uZSB1c2VzIG9ubHkgcG9zaXRpb25zIHRoZSB3aGVuIHRoZVxuICAgICAgLy8gd2Ugc3dpdGNoIHRvIHRoZSAybmQgb25lIHNvbWUgb2YgdGhlIGF0dHJpYnV0ZXMgd2lsbCBub3QgYmUgb24uXG4gICAgICBiaW5kQnVmZmVycyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgYWxsIHRoZSBuZWVkZWQgYXR0cmlidXRlcy5cbiAgICBpZiAoYmluZEJ1ZmZlcnMgfHwgYnVmZmVySW5mbyAhPT0gbGFzdFVzZWRCdWZmZXJJbmZvKSB7XG4gICAgICBpZiAobGFzdFVzZWRCdWZmZXJJbmZvICYmIGxhc3RVc2VkQnVmZmVySW5mby52ZXJ0ZXhBcnJheU9iamVjdCAmJiAhYnVmZmVySW5mby52ZXJ0ZXhBcnJheU9iamVjdCkge1xuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICB9XG4gICAgICBsYXN0VXNlZEJ1ZmZlckluZm8gPSBidWZmZXJJbmZvO1xuICAgICAgc2V0QnVmZmVyc0FuZEF0dHJpYnV0ZXMoZ2wsIHByb2dyYW1JbmZvLCBidWZmZXJJbmZvKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIHVuaWZvcm1zLlxuICAgIHNldFVuaWZvcm1zKHByb2dyYW1JbmZvLCBvYmplY3QudW5pZm9ybXMpO1xuXG4gICAgLy8gRHJhd1xuICAgIGRyYXdCdWZmZXJJbmZvKGdsLCBidWZmZXJJbmZvLCB0eXBlLCBvYmplY3QuY291bnQsIG9iamVjdC5vZmZzZXQsIG9iamVjdC5pbnN0YW5jZUNvdW50KTtcbiAgfSk7XG5cbiAgaWYgKGxhc3RVc2VkQnVmZmVySW5mbyAmJiBsYXN0VXNlZEJ1ZmZlckluZm8udmVydGV4QXJyYXlPYmplY3QpIHtcbiAgICBnbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gIH1cbn1cblxudmFyIGRyYXcgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgZHJhd0J1ZmZlckluZm86IGRyYXdCdWZmZXJJbmZvLFxuICBkcmF3T2JqZWN0TGlzdDogZHJhd09iamVjdExpc3Rcbn0pO1xuXG4vKlxuICogQ29weXJpZ2h0IDIwMTkgR3JlZ2cgVGF2YXJlc1xuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4gKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksXG4gKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uXG4gKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSxcbiAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZVxuICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTExcbiAqIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUlxuICogREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG5cbmNvbnN0IEZSQU1FQlVGRkVSICAgICAgICAgICAgICAgICAgICA9IDB4OGQ0MDtcbmNvbnN0IFJFTkRFUkJVRkZFUiAgICAgICAgICAgICAgICAgICA9IDB4OGQ0MTtcbmNvbnN0IFRFWFRVUkVfMkQkMiAgICAgICAgICAgICAgICAgICAgID0gMHgwZGUxO1xuXG5jb25zdCBVTlNJR05FRF9CWVRFJDMgICAgICAgICAgICAgICAgICA9IDB4MTQwMTtcblxuLyogUGl4ZWxGb3JtYXQgKi9cbmNvbnN0IERFUFRIX0NPTVBPTkVOVCQxICAgICAgICAgICAgICAgID0gMHgxOTAyO1xuY29uc3QgUkdCQSQxICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDE5MDg7XG5jb25zdCBERVBUSF9DT01QT05FTlQyNCQxICAgICAgICAgICAgICA9IDB4ODFhNjtcbmNvbnN0IERFUFRIX0NPTVBPTkVOVDMyRiQxICAgICAgICAgICAgID0gMHg4Y2FjO1xuY29uc3QgREVQVEgyNF9TVEVOQ0lMOCQxICAgICAgICAgICAgICAgPSAweDg4ZjA7XG5jb25zdCBERVBUSDMyRl9TVEVOQ0lMOCQxICAgICAgICAgICAgICA9IDB4OGNhZDtcblxuLyogRnJhbWVidWZmZXIgT2JqZWN0LiAqL1xuY29uc3QgUkdCQTQkMSAgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDgwNTY7XG5jb25zdCBSR0I1X0ExJDEgICAgICAgICAgICAgICAgICAgICAgICA9IDB4ODA1NztcbmNvbnN0IFJHQjU2NSQxICAgICAgICAgICAgICAgICAgICAgICAgID0gMHg4RDYyO1xuY29uc3QgREVQVEhfQ09NUE9ORU5UMTYkMSAgICAgICAgICAgICAgPSAweDgxQTU7XG5jb25zdCBTVEVOQ0lMX0lOREVYICAgICAgICAgICAgICAgICAgPSAweDE5MDE7XG5jb25zdCBTVEVOQ0lMX0lOREVYOCAgICAgICAgICAgICAgICAgPSAweDhENDg7XG5jb25zdCBERVBUSF9TVEVOQ0lMJDEgICAgICAgICAgICAgICAgICA9IDB4ODRGOTtcbmNvbnN0IENPTE9SX0FUVEFDSE1FTlQwICAgICAgICAgICAgICA9IDB4OENFMDtcbmNvbnN0IERFUFRIX0FUVEFDSE1FTlQgICAgICAgICAgICAgICA9IDB4OEQwMDtcbmNvbnN0IFNURU5DSUxfQVRUQUNITUVOVCAgICAgICAgICAgICA9IDB4OEQyMDtcbmNvbnN0IERFUFRIX1NURU5DSUxfQVRUQUNITUVOVCAgICAgICA9IDB4ODIxQTtcblxuLyogVGV4dHVyZVdyYXBNb2RlICovXG5jb25zdCBDTEFNUF9UT19FREdFJDEgICAgICAgICAgICAgICAgICA9IDB4ODEyRjtcblxuLyogVGV4dHVyZU1hZ0ZpbHRlciAqL1xuY29uc3QgTElORUFSJDEgICAgICAgICAgICAgICAgICAgICAgICAgPSAweDI2MDE7XG5cbi8qKlxuICogVGhlIG9wdGlvbnMgZm9yIGEgZnJhbWVidWZmZXIgYXR0YWNobWVudC5cbiAqXG4gKiBOb3RlOiBGb3IgYSBgZm9ybWF0YCB0aGF0IGlzIGEgdGV4dHVyZSBpbmNsdWRlIGFsbCB0aGUgdGV4dHVyZVxuICogb3B0aW9ucyBmcm9tIHtAbGluayBtb2R1bGU6dHdnbC5UZXh0dXJlT3B0aW9uc30gZm9yIGV4YW1wbGVcbiAqIGBtaW5gLCBgbWFnYCwgYGNsYW1wYCwgZXRjLi4uIE5vdGUgdGhhdCB1bmxpa2Uge0BsaW5rIG1vZHVsZTp0d2dsLlRleHR1cmVPcHRpb25zfVxuICogYGF1dG9gIGRlZmF1bHRzIHRvIGBmYWxzZWAgZm9yIGF0dGFjaG1lbnQgdGV4dHVyZXMgYnV0IGBtaW5gIGFuZCBgbWFnYCBkZWZhdWx0XG4gKiB0byBgZ2wuTElORUFSYCBhbmQgYHdyYXBgIGRlZmF1bHRzIHRvIGBDTEFNUF9UT19FREdFYFxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEF0dGFjaG1lbnRPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2F0dGFjaG1lbnRQb2ludF0gVGhlIGF0dGFjaG1lbnQgcG9pbnQuIERlZmF1bHRzXG4gKiAgIHRvIGBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIG5keGAgdW5sZXNzIHR5cGUgaXMgYSBkZXB0aCBvciBzdGVuY2lsIHR5cGVcbiAqICAgdGhlbiBpdCdzIGdsLkRFUFRIX0FUVEFDSE1FTlQgb3IgYGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVGAgZGVwZW5kaW5nXG4gKiAgIG9uIHRoZSBmb3JtYXQgb3IgYXR0YWNobWVudCB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmb3JtYXRdIFRoZSBmb3JtYXQuIElmIG9uZSBvZiBgZ2wuUkdCQTRgLFxuICogICBgZ2wuUkdCNTY1YCwgYGdsLlJHQjVfQTFgLCBgZ2wuREVQVEhfQ09NUE9ORU5UMTZgLFxuICogICBgZ2wuU1RFTkNJTF9JTkRFWDhgIG9yIGBnbC5ERVBUSF9TVEVOQ0lMYCB0aGVuIHdpbGwgY3JlYXRlIGFcbiAqICAgcmVuZGVyYnVmZmVyLiBPdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSB0ZXh0dXJlLiBEZWZhdWx0ID0gYGdsLlJHQkFgXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3R5cGVdIFRoZSB0eXBlLiBVc2VkIGZvciB0ZXh0dXJlLiBEZWZhdWx0ID0gYGdsLlVOU0lHTkVEX0JZVEVgLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0YXJnZXRdIFRoZSB0ZXh0dXJlIHRhcmdldCBmb3IgYGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEYC5cbiAqICAgRGVmYXVsdHMgdG8gYGdsLlRFWFRVUkVfMkRgLiBTZXQgdG8gYXBwcm9wcmlhdGUgZmFjZSBmb3IgY3ViZSBtYXBzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtsZXZlbF0gbGV2ZWwgZm9yIGBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRGAuIERlZmF1bHRzIHRvIDAuXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xheWVyXSBsYXllciBmb3IgYGdsLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyYC4gRGVmYXVsdHMgdG8gdW5kZWZpbmVkLlxuICogICBJZiBzZXQgdGhlbiBgZ2wuZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXJgIGlzIGNhbGxlZCwgaWYgbm90IHRoZW4gYGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEYFxuICogQHByb3BlcnR5IHsoV2ViR0xSZW5kZXJidWZmZXIgfCBXZWJHTFRleHR1cmUpfSBbYXR0YWNobWVudF0gQW4gZXhpc3RpbmcgcmVuZGVyYnVmZmVyIG9yIHRleHR1cmUuXG4gKiAgICBJZiBwcm92aWRlZCB3aWxsIGF0dGFjaCB0aGlzIE9iamVjdC4gVGhpcyBhbGxvd3MgeW91IHRvIHNoYXJlXG4gKiAgICBhdHRhY2htZW50cyBhY3Jvc3MgZnJhbWVidWZmZXJzLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKiBAbWl4ZXMgbW9kdWxlOnR3Z2wuVGV4dHVyZU9wdGlvbnNcbiAqL1xuXG5jb25zdCBkZWZhdWx0QXR0YWNobWVudHMgPSBbXG4gIHsgZm9ybWF0OiBSR0JBJDEsIHR5cGU6IFVOU0lHTkVEX0JZVEUkMywgbWluOiBMSU5FQVIkMSwgd3JhcDogQ0xBTVBfVE9fRURHRSQxLCB9LFxuICB7IGZvcm1hdDogREVQVEhfU1RFTkNJTCQxLCB9LFxuXTtcblxuY29uc3QgYXR0YWNobWVudHNCeUZvcm1hdCA9IHt9O1xuYXR0YWNobWVudHNCeUZvcm1hdFtERVBUSF9TVEVOQ0lMJDFdID0gREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UO1xuYXR0YWNobWVudHNCeUZvcm1hdFtTVEVOQ0lMX0lOREVYXSA9IFNURU5DSUxfQVRUQUNITUVOVDtcbmF0dGFjaG1lbnRzQnlGb3JtYXRbU1RFTkNJTF9JTkRFWDhdID0gU1RFTkNJTF9BVFRBQ0hNRU5UO1xuYXR0YWNobWVudHNCeUZvcm1hdFtERVBUSF9DT01QT05FTlQkMV0gPSBERVBUSF9BVFRBQ0hNRU5UO1xuYXR0YWNobWVudHNCeUZvcm1hdFtERVBUSF9DT01QT05FTlQxNiQxXSA9IERFUFRIX0FUVEFDSE1FTlQ7XG5hdHRhY2htZW50c0J5Rm9ybWF0W0RFUFRIX0NPTVBPTkVOVDI0JDFdID0gREVQVEhfQVRUQUNITUVOVDtcbmF0dGFjaG1lbnRzQnlGb3JtYXRbREVQVEhfQ09NUE9ORU5UMzJGJDFdID0gREVQVEhfQVRUQUNITUVOVDtcbmF0dGFjaG1lbnRzQnlGb3JtYXRbREVQVEgyNF9TVEVOQ0lMOCQxXSA9IERFUFRIX1NURU5DSUxfQVRUQUNITUVOVDtcbmF0dGFjaG1lbnRzQnlGb3JtYXRbREVQVEgzMkZfU1RFTkNJTDgkMV0gPSBERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQ7XG5cbmZ1bmN0aW9uIGdldEF0dGFjaG1lbnRQb2ludEZvckZvcm1hdChmb3JtYXQsIGludGVybmFsRm9ybWF0KSB7XG4gIHJldHVybiBhdHRhY2htZW50c0J5Rm9ybWF0W2Zvcm1hdF0gfHwgYXR0YWNobWVudHNCeUZvcm1hdFtpbnRlcm5hbEZvcm1hdF07XG59XG5cbmNvbnN0IHJlbmRlcmJ1ZmZlckZvcm1hdHMgPSB7fTtcbnJlbmRlcmJ1ZmZlckZvcm1hdHNbUkdCQTQkMV0gPSB0cnVlO1xucmVuZGVyYnVmZmVyRm9ybWF0c1tSR0I1X0ExJDFdID0gdHJ1ZTtcbnJlbmRlcmJ1ZmZlckZvcm1hdHNbUkdCNTY1JDFdID0gdHJ1ZTtcbnJlbmRlcmJ1ZmZlckZvcm1hdHNbREVQVEhfU1RFTkNJTCQxXSA9IHRydWU7XG5yZW5kZXJidWZmZXJGb3JtYXRzW0RFUFRIX0NPTVBPTkVOVDE2JDFdID0gdHJ1ZTtcbnJlbmRlcmJ1ZmZlckZvcm1hdHNbU1RFTkNJTF9JTkRFWF0gPSB0cnVlO1xucmVuZGVyYnVmZmVyRm9ybWF0c1tTVEVOQ0lMX0lOREVYOF0gPSB0cnVlO1xuXG5mdW5jdGlvbiBpc1JlbmRlcmJ1ZmZlckZvcm1hdChmb3JtYXQpIHtcbiAgcmV0dXJuIHJlbmRlcmJ1ZmZlckZvcm1hdHNbZm9ybWF0XTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGcmFtZWJ1ZmZlckluZm9cbiAqIEBwcm9wZXJ0eSB7V2ViR0xGcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXIgVGhlIFdlYkdMRnJhbWVidWZmZXIgZm9yIHRoaXMgZnJhbWVidWZmZXJJbmZvXG4gKiBAcHJvcGVydHkge0FycmF5LjwoV2ViR0xSZW5kZXJidWZmZXIgfCBXZWJHTFRleHR1cmUpPn0gYXR0YWNobWVudHMgVGhlIGNyZWF0ZWQgYXR0YWNobWVudHMgaW4gdGhlIHNhbWUgb3JkZXIgYXMgcGFzc2VkIGluIHRvIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVGcmFtZWJ1ZmZlckluZm99LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgZnJhbWVidWZmZXIgYW5kIGl0cyBhdHRhY2htZW50c1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCBUaGUgd2lkdGggb2YgdGhlIGZyYW1lYnVmZmVyIGFuZCBpdHMgYXR0YWNobWVudHNcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIGZyYW1lYnVmZmVyIGFuZCBhdHRhY2htZW50cy5cbiAqXG4gKiBUaGlzIHJldHVybnMgYSB7QGxpbmsgbW9kdWxlOnR3Z2wuRnJhbWVidWZmZXJJbmZvfSBiZWNhdXNlIGl0IG5lZWRzIHRvIHJldHVybiB0aGUgYXR0YWNobWVudHMgYXMgd2VsbCBhcyB0aGUgZnJhbWVidWZmZXIuXG4gKlxuICogVGhlIHNpbXBsZXN0IHVzYWdlXG4gKlxuICogICAgIC8vIGNyZWF0ZSBhbiBSR0JBL1VOU0lHTkVEX0JZVEUgdGV4dHVyZSBhbmQgREVQVEhfU1RFTkNJTCByZW5kZXJidWZmZXJcbiAqICAgICBjb25zdCBmYmkgPSB0d2dsLmNyZWF0ZUZyYW1lYnVmZmVySW5mbyhnbCk7XG4gKlxuICogTW9yZSBjb21wbGV4IHVzYWdlXG4gKlxuICogICAgIC8vIGNyZWF0ZSBhbiBSR0I1NjUgcmVuZGVyYnVmZmVyIGFuZCBhIFNURU5DSUxfSU5ERVg4IHJlbmRlcmJ1ZmZlclxuICogICAgIGNvbnN0IGF0dGFjaG1lbnRzID0gW1xuICogICAgICAgeyBmb3JtYXQ6IFJHQjU2NSwgbWFnOiBORUFSRVNUIH0sXG4gKiAgICAgICB7IGZvcm1hdDogU1RFTkNJTF9JTkRFWDggfSxcbiAqICAgICBdXG4gKiAgICAgY29uc3QgZmJpID0gdHdnbC5jcmVhdGVGcmFtZWJ1ZmZlckluZm8oZ2wsIGF0dGFjaG1lbnRzKTtcbiAqXG4gKiBQYXNzaW5nIGluIGEgc3BlY2lmaWMgc2l6ZVxuICpcbiAqICAgICBjb25zdCB3aWR0aCA9IDI1NjtcbiAqICAgICBjb25zdCBoZWlnaHQgPSAyNTY7XG4gKiAgICAgY29uc3QgZmJpID0gdHdnbC5jcmVhdGVGcmFtZWJ1ZmZlckluZm8oZ2wsIGF0dGFjaG1lbnRzLCB3aWR0aCwgaGVpZ2h0KTtcbiAqXG4gKiAqKk5vdGUhISoqIEl0IGlzIHVwIHRvIHlvdSB0byBjaGVjayBpZiB0aGUgZnJhbWVidWZmZXIgaXMgcmVuZGVyYWJsZSBieSBjYWxsaW5nIGBnbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzYC5cbiAqIFtXZWJHTDEgb25seSBndWFyYW50ZWVzIDMgY29tYmluYXRpb25zIG9mIGF0dGFjaG1lbnRzIHdvcmtdKGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL3NwZWNzL2xhdGVzdC8xLjAvIzYuNikuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHRcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuQXR0YWNobWVudE9wdGlvbnNbXX0gW2F0dGFjaG1lbnRzXSB3aGljaCBhdHRhY2htZW50cyB0byBjcmVhdGUuIElmIG5vdCBwcm92aWRlZCB0aGUgZGVmYXVsdCBpcyBhIGZyYW1lYnVmZmVyIHdpdGggYW5cbiAqICAgIGBSR0JBYCwgYFVOU0lHTkVEX0JZVEVgIHRleHR1cmUgYENPTE9SX0FUVEFDSE1FTlQwYCBhbmQgYSBgREVQVEhfU1RFTkNJTGAgcmVuZGVyYnVmZmVyIGBERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlRgLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aF0gdGhlIHdpZHRoIGZvciB0aGUgYXR0YWNobWVudHMuIERlZmF1bHQgPSBzaXplIG9mIGRyYXdpbmdCdWZmZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0XSB0aGUgaGVpZ2h0IGZvciB0aGUgYXR0YWNobWVudHMuIERlZmF1bHQgPSBzaXplIG9mIGRyYXdpbmdCdWZmZXJcbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsLkZyYW1lYnVmZmVySW5mb30gdGhlIGZyYW1lYnVmZmVyIGFuZCBhdHRhY2htZW50cy5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbC9mcmFtZWJ1ZmZlcnNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRnJhbWVidWZmZXJJbmZvKGdsLCBhdHRhY2htZW50cywgd2lkdGgsIGhlaWdodCkge1xuICBjb25zdCB0YXJnZXQgPSBGUkFNRUJVRkZFUjtcbiAgY29uc3QgZmIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICBnbC5iaW5kRnJhbWVidWZmZXIodGFyZ2V0LCBmYik7XG4gIHdpZHRoICA9IHdpZHRoICB8fCBnbC5kcmF3aW5nQnVmZmVyV2lkdGg7XG4gIGhlaWdodCA9IGhlaWdodCB8fCBnbC5kcmF3aW5nQnVmZmVySGVpZ2h0O1xuICBhdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzIHx8IGRlZmF1bHRBdHRhY2htZW50cztcbiAgbGV0IGNvbG9yQXR0YWNobWVudENvdW50ID0gMDtcbiAgY29uc3QgZnJhbWVidWZmZXJJbmZvID0ge1xuICAgIGZyYW1lYnVmZmVyOiBmYixcbiAgICBhdHRhY2htZW50czogW10sXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICB9O1xuICBhdHRhY2htZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGF0dGFjaG1lbnRPcHRpb25zKSB7XG4gICAgbGV0IGF0dGFjaG1lbnQgPSBhdHRhY2htZW50T3B0aW9ucy5hdHRhY2htZW50O1xuICAgIGNvbnN0IGZvcm1hdCA9IGF0dGFjaG1lbnRPcHRpb25zLmZvcm1hdDtcbiAgICBsZXQgYXR0YWNobWVudFBvaW50ID0gYXR0YWNobWVudE9wdGlvbnMuYXR0YWNobWVudFBvaW50IHx8IGdldEF0dGFjaG1lbnRQb2ludEZvckZvcm1hdChmb3JtYXQsIGF0dGFjaG1lbnRPcHRpb25zLmludGVybmFsRm9ybWF0KTtcbiAgICBpZiAoIWF0dGFjaG1lbnRQb2ludCkge1xuICAgICAgYXR0YWNobWVudFBvaW50ID0gQ09MT1JfQVRUQUNITUVOVDAgKyBjb2xvckF0dGFjaG1lbnRDb3VudCsrO1xuICAgIH1cbiAgICBpZiAoIWF0dGFjaG1lbnQpIHtcbiAgICAgIGlmIChpc1JlbmRlcmJ1ZmZlckZvcm1hdChmb3JtYXQpKSB7XG4gICAgICAgIGF0dGFjaG1lbnQgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihSRU5ERVJCVUZGRVIsIGF0dGFjaG1lbnQpO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKFJFTkRFUkJVRkZFUiwgZm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmVPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgYXR0YWNobWVudE9wdGlvbnMpO1xuICAgICAgICB0ZXh0dXJlT3B0aW9ucy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0ZXh0dXJlT3B0aW9ucy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGlmICh0ZXh0dXJlT3B0aW9ucy5hdXRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0ZXh0dXJlT3B0aW9ucy5hdXRvID0gZmFsc2U7XG4gICAgICAgICAgdGV4dHVyZU9wdGlvbnMubWluID0gdGV4dHVyZU9wdGlvbnMubWluIHx8IHRleHR1cmVPcHRpb25zLm1pbk1hZyB8fCBMSU5FQVIkMTtcbiAgICAgICAgICB0ZXh0dXJlT3B0aW9ucy5tYWcgPSB0ZXh0dXJlT3B0aW9ucy5tYWcgfHwgdGV4dHVyZU9wdGlvbnMubWluTWFnIHx8IExJTkVBUiQxO1xuICAgICAgICAgIHRleHR1cmVPcHRpb25zLndyYXBTID0gdGV4dHVyZU9wdGlvbnMud3JhcFMgfHwgdGV4dHVyZU9wdGlvbnMud3JhcCB8fCBDTEFNUF9UT19FREdFJDE7XG4gICAgICAgICAgdGV4dHVyZU9wdGlvbnMud3JhcFQgPSB0ZXh0dXJlT3B0aW9ucy53cmFwVCB8fCB0ZXh0dXJlT3B0aW9ucy53cmFwIHx8IENMQU1QX1RPX0VER0UkMTtcbiAgICAgICAgfVxuICAgICAgICBhdHRhY2htZW50ID0gY3JlYXRlVGV4dHVyZShnbCwgdGV4dHVyZU9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNSZW5kZXJidWZmZXIoZ2wsIGF0dGFjaG1lbnQpKSB7XG4gICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0YXJnZXQsIGF0dGFjaG1lbnRQb2ludCwgUkVOREVSQlVGRkVSLCBhdHRhY2htZW50KTtcbiAgICB9IGVsc2UgaWYgKGlzVGV4dHVyZShnbCwgYXR0YWNobWVudCkpIHtcbiAgICAgIGlmIChhdHRhY2htZW50T3B0aW9ucy5sYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICBhdHRhY2htZW50UG9pbnQsXG4gICAgICAgICAgYXR0YWNobWVudCxcbiAgICAgICAgICBhdHRhY2htZW50T3B0aW9ucy5sZXZlbCB8fCAwLFxuICAgICAgICAgIGF0dGFjaG1lbnRPcHRpb25zLmxheWVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgYXR0YWNobWVudFBvaW50LFxuICAgICAgICAgICAgYXR0YWNobWVudE9wdGlvbnMudGFyZ2V0IHx8IFRFWFRVUkVfMkQkMixcbiAgICAgICAgICAgIGF0dGFjaG1lbnQsXG4gICAgICAgICAgICBhdHRhY2htZW50T3B0aW9ucy5sZXZlbCB8fCAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGF0dGFjaG1lbnQgdHlwZScpO1xuICAgIH1cbiAgICBmcmFtZWJ1ZmZlckluZm8uYXR0YWNobWVudHMucHVzaChhdHRhY2htZW50KTtcbiAgfSk7XG4gIHJldHVybiBmcmFtZWJ1ZmZlckluZm87XG59XG5cbi8qKlxuICogUmVzaXplcyB0aGUgYXR0YWNobWVudHMgb2YgYSBmcmFtZWJ1ZmZlci5cbiAqXG4gKiBZb3UgbmVlZCB0byBwYXNzIGluIHRoZSBzYW1lIGBhdHRhY2htZW50c2AgYXMgeW91IHBhc3NlZCBpbiB7QGxpbmsgbW9kdWxlOnR3Z2wuY3JlYXRlRnJhbWVidWZmZXJJbmZvfVxuICogYmVjYXVzZSBUV0dMIGhhcyBubyBpZGVhIHRoZSBmb3JtYXQvdHlwZSBvZiBlYWNoIGF0dGFjaG1lbnQuXG4gKlxuICogVGhlIHNpbXBsZXN0IHVzYWdlXG4gKlxuICogICAgIC8vIGNyZWF0ZSBhbiBSR0JBL1VOU0lHTkVEX0JZVEUgdGV4dHVyZSBhbmQgREVQVEhfU1RFTkNJTCByZW5kZXJidWZmZXJcbiAqICAgICBjb25zdCBmYmkgPSB0d2dsLmNyZWF0ZUZyYW1lYnVmZmVySW5mbyhnbCk7XG4gKlxuICogICAgIC4uLlxuICpcbiAqICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gKiAgICAgICBpZiAodHdnbC5yZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplKGdsLmNhbnZhcykpIHtcbiAqICAgICAgICAgLy8gcmVzaXplIHRoZSBhdHRhY2htZW50c1xuICogICAgICAgICB0d2dsLnJlc2l6ZUZyYW1lYnVmZmVySW5mbyhnbCwgZmJpKTtcbiAqICAgICAgIH1cbiAqXG4gKiBNb3JlIGNvbXBsZXggdXNhZ2VcbiAqXG4gKiAgICAgLy8gY3JlYXRlIGFuIFJHQjU2NSByZW5kZXJidWZmZXIgYW5kIGEgU1RFTkNJTF9JTkRFWDggcmVuZGVyYnVmZmVyXG4gKiAgICAgY29uc3QgYXR0YWNobWVudHMgPSBbXG4gKiAgICAgICB7IGZvcm1hdDogUkdCNTY1LCBtYWc6IE5FQVJFU1QgfSxcbiAqICAgICAgIHsgZm9ybWF0OiBTVEVOQ0lMX0lOREVYOCB9LFxuICogICAgIF1cbiAqICAgICBjb25zdCBmYmkgPSB0d2dsLmNyZWF0ZUZyYW1lYnVmZmVySW5mbyhnbCwgYXR0YWNobWVudHMpO1xuICpcbiAqICAgICAuLi5cbiAqXG4gKiAgICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICogICAgICAgaWYgKHR3Z2wucmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZShnbC5jYW52YXMpKSB7XG4gKiAgICAgICAgIC8vIHJlc2l6ZSB0aGUgYXR0YWNobWVudHMgdG8gbWF0Y2hcbiAqICAgICAgICAgdHdnbC5yZXNpemVGcmFtZWJ1ZmZlckluZm8oZ2wsIGZiaSwgYXR0YWNobWVudHMpO1xuICogICAgICAgfVxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkZyYW1lYnVmZmVySW5mb30gZnJhbWVidWZmZXJJbmZvIGEgZnJhbWVidWZmZXJJbmZvIGFzIHJldHVybmVkIGZyb20ge0BsaW5rIG1vZHVsZTp0d2dsLmNyZWF0ZUZyYW1lYnVmZmVySW5mb30uXG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkF0dGFjaG1lbnRPcHRpb25zW119IFthdHRhY2htZW50c10gdGhlIHNhbWUgYXR0YWNobWVudHMgb3B0aW9ucyBhcyBwYXNzZWQgdG8ge0BsaW5rIG1vZHVsZTp0d2dsLmNyZWF0ZUZyYW1lYnVmZmVySW5mb30uXG4gKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoXSB0aGUgd2lkdGggZm9yIHRoZSBhdHRhY2htZW50cy4gRGVmYXVsdCA9IHNpemUgb2YgZHJhd2luZ0J1ZmZlclxuICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHRdIHRoZSBoZWlnaHQgZm9yIHRoZSBhdHRhY2htZW50cy4gRGVmYXVsdCA9IHNpemUgb2YgZHJhd2luZ0J1ZmZlclxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL2ZyYW1lYnVmZmVyc1xuICovXG5mdW5jdGlvbiByZXNpemVGcmFtZWJ1ZmZlckluZm8oZ2wsIGZyYW1lYnVmZmVySW5mbywgYXR0YWNobWVudHMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgd2lkdGggID0gd2lkdGggIHx8IGdsLmRyYXdpbmdCdWZmZXJXaWR0aDtcbiAgaGVpZ2h0ID0gaGVpZ2h0IHx8IGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQ7XG4gIGZyYW1lYnVmZmVySW5mby53aWR0aCA9IHdpZHRoO1xuICBmcmFtZWJ1ZmZlckluZm8uaGVpZ2h0ID0gaGVpZ2h0O1xuICBhdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzIHx8IGRlZmF1bHRBdHRhY2htZW50cztcbiAgYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbihhdHRhY2htZW50T3B0aW9ucywgbmR4KSB7XG4gICAgY29uc3QgYXR0YWNobWVudCA9IGZyYW1lYnVmZmVySW5mby5hdHRhY2htZW50c1tuZHhdO1xuICAgIGNvbnN0IGZvcm1hdCA9IGF0dGFjaG1lbnRPcHRpb25zLmZvcm1hdDtcbiAgICBpZiAoaXNSZW5kZXJidWZmZXIoZ2wsIGF0dGFjaG1lbnQpKSB7XG4gICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKFJFTkRFUkJVRkZFUiwgYXR0YWNobWVudCk7XG4gICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKFJFTkRFUkJVRkZFUiwgZm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9IGVsc2UgaWYgKGlzVGV4dHVyZShnbCwgYXR0YWNobWVudCkpIHtcbiAgICAgIHJlc2l6ZVRleHR1cmUoZ2wsIGF0dGFjaG1lbnQsIGF0dGFjaG1lbnRPcHRpb25zLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGF0dGFjaG1lbnQgdHlwZScpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQmluZHMgYSBmcmFtZWJ1ZmZlclxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcHJldHR5IG11Y2ggc29sZWx5IGV4aXN0cyBiZWNhdXNlIEkgc3BlbnQgaG91cnNcbiAqIHRyeWluZyB0byBmaWd1cmUgb3V0IHdoeSBzb21ldGhpbmcgSSB3cm90ZSB3YXNuJ3Qgd29ya2luZyBvbmx5XG4gKiB0byByZWFsaXplIEkgZm9yZ2V0IHRvIHNldCB0aGUgdmlld3BvcnQgZGltZW5zaW9ucy5cbiAqIE15IGhvcGUgaXMgdGhpcyBmdW5jdGlvbiB3aWxsIGZpeCB0aGF0LlxuICpcbiAqIEl0IGlzIGVmZmVjdGl2ZWx5IHRoZSBzYW1lIGFzXG4gKlxuICogICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgc29tZUZyYW1lYnVmZmVySW5mby5mcmFtZWJ1ZmZlcik7XG4gKiAgICAgZ2wudmlld3BvcnQoMCwgMCwgc29tZUZyYW1lYnVmZmVySW5mby53aWR0aCwgc29tZUZyYW1lYnVmZmVySW5mby5oZWlnaHQpO1xuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiBAcGFyYW0ge21vZHVsZTp0d2dsLkZyYW1lYnVmZmVySW5mb3xudWxsfSBbZnJhbWVidWZmZXJJbmZvXSBhIGZyYW1lYnVmZmVySW5mbyBhcyByZXR1cm5lZCBmcm9tIHtAbGluayBtb2R1bGU6dHdnbC5jcmVhdGVGcmFtZWJ1ZmZlckluZm99LlxuICogICBJZiBmYWxzeSB3aWxsIGJpbmQgdGhlIGNhbnZhcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbdGFyZ2V0XSBUaGUgdGFyZ2V0LiBJZiBub3QgcGFzc2VkIGBnbC5GUkFNRUJVRkZFUmAgd2lsbCBiZSB1c2VkLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL2ZyYW1lYnVmZmVyc1xuICovXG5cbmZ1bmN0aW9uIGJpbmRGcmFtZWJ1ZmZlckluZm8oZ2wsIGZyYW1lYnVmZmVySW5mbywgdGFyZ2V0KSB7XG4gIHRhcmdldCA9IHRhcmdldCB8fCBGUkFNRUJVRkZFUjtcbiAgaWYgKGZyYW1lYnVmZmVySW5mbykge1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcih0YXJnZXQsIGZyYW1lYnVmZmVySW5mby5mcmFtZWJ1ZmZlcik7XG4gICAgZ2wudmlld3BvcnQoMCwgMCwgZnJhbWVidWZmZXJJbmZvLndpZHRoLCBmcmFtZWJ1ZmZlckluZm8uaGVpZ2h0KTtcbiAgfSBlbHNlIHtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIodGFyZ2V0LCBudWxsKTtcbiAgICBnbC52aWV3cG9ydCgwLCAwLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQpO1xuICB9XG59XG5cbnZhciBmcmFtZWJ1ZmZlcnMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmluZEZyYW1lYnVmZmVySW5mbzogYmluZEZyYW1lYnVmZmVySW5mbyxcbiAgY3JlYXRlRnJhbWVidWZmZXJJbmZvOiBjcmVhdGVGcmFtZWJ1ZmZlckluZm8sXG4gIHJlc2l6ZUZyYW1lYnVmZmVySW5mbzogcmVzaXplRnJhbWVidWZmZXJJbmZvXG59KTtcblxuLypcbiAqIENvcHlyaWdodCAyMDE5IEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuXG4vKipcbiAqIHZlcnRleCBhcnJheSBvYmplY3QgcmVsYXRlZCBmdW5jdGlvbnNcbiAqXG4gKiBZb3Ugc2hvdWxkIGdlbmVyYWxseSBub3QgbmVlZCB0byB1c2UgdGhlc2UgZnVuY3Rpb25zLiBUaGV5IGFyZSBwcm92aWRlZFxuICogZm9yIHRob3NlIGNhc2VzIHdoZXJlIHlvdSdyZSBkb2luZyBzb21ldGhpbmcgb3V0IG9mIHRoZSBvcmRpbmFyeVxuICogYW5kIHlvdSBuZWVkIGxvd2VyIGxldmVsIGFjY2Vzcy5cbiAqXG4gKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB0aGV5IGFyZSBhdmFpbGFibGUgYXQgYm90aCBgdHdnbC5hdHRyaWJ1dGVzYCBhbmQgYHR3Z2xgXG4gKiBpdHNlbGZcbiAqXG4gKiBTZWUge0BsaW5rIG1vZHVsZTp0d2dsfSBmb3IgY29yZSBmdW5jdGlvbnNcbiAqXG4gKiBAbW9kdWxlIHR3Z2wvdmVydGV4QXJyYXlzXG4gKi9cblxuY29uc3QgRUxFTUVOVF9BUlJBWV9CVUZGRVIkMiAgICAgICAgICAgPSAweDg4OTM7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVmVydGV4QXJyYXlJbmZvXG4gKiBAcHJvcGVydHkge251bWJlcn0gbnVtRWxlbWVudHMgVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBwYXNzIHRvIGBnbC5kcmF3QXJyYXlzYCBvciBgZ2wuZHJhd0VsZW1lbnRzYC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZWxlbWVudFR5cGVdIFRoZSB0eXBlIG9mIGluZGljZXMgYFVOU0lHTkVEX0JZVEVgLCBgVU5TSUdORURfU0hPUlRgIGV0Yy4uXG4gKiBAcHJvcGVydHkge1dlYkdMVmVydGV4QXJyYXlPYmplY3R9IFt2ZXJ0ZXhBcnJheU9iamVjdF0gYSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBWZXJ0ZXhBcnJheUluZm8gZnJvbSBhIEJ1ZmZlckluZm8gYW5kIG9uZSBvciBtb3JlIFByb2dyYW1JbmZvc1xuICpcbiAqIFRoaXMgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbW9kdWxlOnR3Z2wuc2V0QnVmZmVyc0FuZEF0dHJpYnV0ZXN9IGFuZCB0b1xuICoge0BsaW5rIG1vZHVsZTp0d2dsOmRyYXdCdWZmZXJJbmZvfS5cbiAqXG4gKiA+ICoqSU1QT1JUQU5UOioqIFZlcnRleCBBcnJheSBPYmplY3RzIGFyZSAqKm5vdCoqIGEgZGlyZWN0IGFuYWxvZyBmb3IgYSBCdWZmZXJJbmZvLiBWZXJ0ZXggQXJyYXkgT2JqZWN0c1xuICogICBhc3NpZ24gYnVmZmVycyB0byBzcGVjaWZpYyBhdHRyaWJ1dGVzIGF0IGNyZWF0aW9uIHRpbWUuIFRoYXQgbWVhbnMgdGhleSBjYW4gb25seSBiZSB1c2VkIHdpdGggcHJvZ3JhbXNcbiAqICAgd2hvJ3MgYXR0cmlidXRlcyB1c2UgdGhlIHNhbWUgYXR0cmlidXRlIGxvY2F0aW9ucyBmb3IgdGhlIHNhbWUgcHVycG9zZXMuXG4gKlxuICogPiBCaW5kIHlvdXIgYXR0cmlidXRlIGxvY2F0aW9ucyBieSBwYXNzaW5nIGFuIGFycmF5IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byB7QGxpbmsgbW9kdWxlOnR3Z2wuY3JlYXRlUHJvZ3JhbUluZm99XG4gKiAgIG9yIHVzZSBXZWJHTCAyJ3MgR0xTTCBFUyAzJ3MgYGxheW91dChsb2NhdGlvbiA9IDxudW0+KWAgdG8gbWFrZSBzdXJlIGxvY2F0aW9ucyBtYXRjaC5cbiAqXG4gKiBhbHNvXG4gKlxuICogPiAqKklNUE9SVEFOVDoqKiBBZnRlciBjYWxsaW5nIHR3Z2wuc2V0QnVmZmVyc0FuZEF0dHJpYnV0ZSB3aXRoIGEgQnVmZmVySW5mbyB0aGF0IHVzZXMgYSBWZXJ0ZXggQXJyYXkgT2JqZWN0XG4gKiAgIHRoYXQgVmVydGV4IEFycmF5IE9iamVjdCB3aWxsIGJlIGJvdW5kLiBUaGF0IG1lYW5zICoqQU5ZIE1BTklQVUxBVElPTiBPRiBFTEVNRU5UX0FSUkFZX0JVRkZFUiBvciBBVFRSSUJVVEVTKipcbiAqICAgd2lsbCBhZmZlY3QgdGhlIFZlcnRleCBBcnJheSBPYmplY3Qgc3RhdGUuXG4gKlxuICogPiBDYWxsIGBnbC5iaW5kVmVydGV4QXJyYXkobnVsbClgIHRvIGdldCBiYWNrIG1hbmlwdWxhdGluZyB0aGUgZ2xvYmFsIGF0dHJpYnV0ZXMgYW5kIEVMRU1FTlRfQVJSQVlfQlVGRkVSLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBBIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQHBhcmFtIHttb2R1bGU6dHdnbC5Qcm9ncmFtSW5mb3xtb2R1bGU6dHdnbC5Qcm9ncmFtSW5mb1tdfSBwcm9ncmFtSW5mbyBhIHByb2dyYW1JbmZvIG9yIGFycmF5IG9mIHByb2dyYW1JbmZvc1xuICogQHBhcmFtIHttb2R1bGU6dHdnbC5CdWZmZXJJbmZvfSBidWZmZXJJbmZvIEJ1ZmZlckluZm8gYXMgcmV0dXJuZWQgZnJvbSBjcmVhdGVCdWZmZXJJbmZvRnJvbUFycmF5cyBldGMuLi5cbiAqXG4gKiAgICBZb3UgbmVlZCB0byBtYWtlIHN1cmUgZXZlcnkgYXR0cmlidXRlIHRoYXQgd2lsbCBiZSB1c2VkIGlzIGJvdW5kLiBTbyBmb3IgZXhhbXBsZSBhc3N1bWUgc2hhZGVyIDFcbiAqICAgIHVzZXMgYXR0cmlidXRlcyBBLCBCLCBDIGFuZCBzaGFkZXIgMiB1c2VzIGF0dHJpYnV0ZXMgQSwgQiwgRC4gSWYgeW91IG9ubHkgcGFzcyBpbiB0aGUgcHJvZ3JhbUluZm9cbiAqICAgIGZvciBzaGFkZXIgMSB0aGVuIG9ubHkgYXR0cmlidXRlcyBBLCBCLCBhbmQgQyB3aWxsIGhhdmUgdGhlaXIgYXR0cmlidXRlcyBzZXQgYmVjYXVzZSBUV0dMIGRvZXNuJ3RcbiAqICAgIG5vdyBhdHRyaWJ1dGUgRCdzIGxvY2F0aW9uLlxuICpcbiAqICAgIFNvLCB5b3UgY2FuIHBhc3MgaW4gYm90aCBzaGFkZXIgMSBhbmQgc2hhZGVyIDIncyBwcm9ncmFtSW5mb1xuICpcbiAqIEByZXR1cm4ge21vZHVsZTp0d2dsLlZlcnRleEFycmF5SW5mb30gVGhlIGNyZWF0ZWQgVmVydGV4QXJyYXlJbmZvXG4gKlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ZlcnRleEFycmF5c1xuICovXG5mdW5jdGlvbiBjcmVhdGVWZXJ0ZXhBcnJheUluZm8oZ2wsIHByb2dyYW1JbmZvcywgYnVmZmVySW5mbykge1xuICBjb25zdCB2YW8gPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xuICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgaWYgKCFwcm9ncmFtSW5mb3MubGVuZ3RoKSB7XG4gICAgcHJvZ3JhbUluZm9zID0gW3Byb2dyYW1JbmZvc107XG4gIH1cbiAgcHJvZ3JhbUluZm9zLmZvckVhY2goZnVuY3Rpb24ocHJvZ3JhbUluZm8pIHtcbiAgICBzZXRCdWZmZXJzQW5kQXR0cmlidXRlcyhnbCwgcHJvZ3JhbUluZm8sIGJ1ZmZlckluZm8pO1xuICB9KTtcbiAgZ2wuYmluZFZlcnRleEFycmF5KG51bGwpO1xuICByZXR1cm4ge1xuICAgIG51bUVsZW1lbnRzOiBidWZmZXJJbmZvLm51bUVsZW1lbnRzLFxuICAgIGVsZW1lbnRUeXBlOiBidWZmZXJJbmZvLmVsZW1lbnRUeXBlLFxuICAgIHZlcnRleEFycmF5T2JqZWN0OiB2YW8sXG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHZlcnRleCBhcnJheSBvYmplY3QgYW5kIHRoZW4gc2V0cyB0aGUgYXR0cmlidXRlcyBvbiBpdFxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0IHRvIHVzZS5cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gc2V0dGVycyBBdHRyaWJ1dGUgc2V0dGVycyBhcyByZXR1cm5lZCBmcm9tIGNyZWF0ZUF0dHJpYnV0ZVNldHRlcnNcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIG1vZHVsZTp0d2dsLkF0dHJpYkluZm8+fSBhdHRyaWJzIEF0dHJpYkluZm9zIG1hcHBlZCBieSBhdHRyaWJ1dGUgbmFtZS5cbiAqIEBwYXJhbSB7V2ViR0xCdWZmZXJ9IFtpbmRpY2VzXSBhbiBvcHRpb25hbCBFTEVNRU5UX0FSUkFZX0JVRkZFUiBvZiBpbmRpY2VzXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2wvdmVydGV4QXJyYXlzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVZBT0FuZFNldEF0dHJpYnV0ZXMoZ2wsIHNldHRlcnMsIGF0dHJpYnMsIGluZGljZXMpIHtcbiAgY29uc3QgdmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcbiAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG4gIHNldEF0dHJpYnV0ZXMoc2V0dGVycywgYXR0cmlicyk7XG4gIGlmIChpbmRpY2VzKSB7XG4gICAgZ2wuYmluZEJ1ZmZlcihFTEVNRU5UX0FSUkFZX0JVRkZFUiQyLCBpbmRpY2VzKTtcbiAgfVxuICAvLyBXZSB1bmJpbmQgdGhpcyBiZWNhdXNlIG90aGVyd2lzZSBhbnkgY2hhbmdlIHRvIEVMRU1FTlRfQVJSQVlfQlVGRkVSXG4gIC8vIGxpa2Ugd2hlbiBjcmVhdGluZyBidWZmZXJzIGZvciBvdGhlciBzdHVmZiB3aWxsIG1lc3MgdXAgdGhpcyBWQU8ncyBiaW5kaW5nXG4gIGdsLmJpbmRWZXJ0ZXhBcnJheShudWxsKTtcbiAgcmV0dXJuIHZhbztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdmVydGV4IGFycmF5IG9iamVjdCBhbmQgdGhlbiBzZXRzIHRoZSBhdHRyaWJ1dGVzXG4gKiBvbiBpdFxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0XG4gKiAgICAgICAgdG8gdXNlLlxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fCBtb2R1bGU6dHdnbC5Qcm9ncmFtSW5mb30gcHJvZ3JhbUluZm8gYXMgcmV0dXJuZWQgZnJvbSBjcmVhdGVQcm9ncmFtSW5mbyBvciBBdHRyaWJ1dGUgc2V0dGVycyBhcyByZXR1cm5lZCBmcm9tIGNyZWF0ZUF0dHJpYnV0ZVNldHRlcnNcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuQnVmZmVySW5mb30gYnVmZmVySW5mbyBCdWZmZXJJbmZvIGFzIHJldHVybmVkIGZyb20gY3JlYXRlQnVmZmVySW5mb0Zyb21BcnJheXMgZXRjLi4uXG4gKiBAcGFyYW0ge1dlYkdMQnVmZmVyfSBbaW5kaWNlc10gYW4gb3B0aW9uYWwgRUxFTUVOVF9BUlJBWV9CVUZGRVIgb2YgaW5kaWNlc1xuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsL3ZlcnRleEFycmF5c1xuICovXG5mdW5jdGlvbiBjcmVhdGVWQU9Gcm9tQnVmZmVySW5mbyhnbCwgcHJvZ3JhbUluZm8sIGJ1ZmZlckluZm8pIHtcbiAgcmV0dXJuIGNyZWF0ZVZBT0FuZFNldEF0dHJpYnV0ZXMoZ2wsIHByb2dyYW1JbmZvLmF0dHJpYlNldHRlcnMgfHwgcHJvZ3JhbUluZm8sIGJ1ZmZlckluZm8uYXR0cmlicywgYnVmZmVySW5mby5pbmRpY2VzKTtcbn1cblxudmFyIHZlcnRleEFycmF5cyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBjcmVhdGVWZXJ0ZXhBcnJheUluZm86IGNyZWF0ZVZlcnRleEFycmF5SW5mbyxcbiAgY3JlYXRlVkFPQW5kU2V0QXR0cmlidXRlczogY3JlYXRlVkFPQW5kU2V0QXR0cmlidXRlcyxcbiAgY3JlYXRlVkFPRnJvbUJ1ZmZlckluZm86IGNyZWF0ZVZBT0Zyb21CdWZmZXJJbmZvXG59KTtcblxuLypcbiAqIENvcHlyaWdodCAyMDE5IEdyZWdnIFRhdmFyZXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLFxuICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvblxuICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMXG4gKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuY29uc3QgZGVmYXVsdHMkMiA9IHtcbiAgYWRkRXh0ZW5zaW9uc1RvQ29udGV4dDogdHJ1ZSxcbn07XG5cbi8qKlxuICogVmFyaW91cyBkZWZhdWx0IHNldHRpbmdzIGZvciB0d2dsLlxuICpcbiAqIE5vdGU6IFlvdSBjYW4gY2FsbCB0aGlzIGFueSBudW1iZXIgb2YgdGltZXMuIEV4YW1wbGU6XG4gKlxuICogICAgIHR3Z2wuc2V0RGVmYXVsdHMoeyB0ZXh0dXJlQ29sb3I6IFsxLCAwLCAwLCAxXSB9KTtcbiAqICAgICB0d2dsLnNldERlZmF1bHRzKHsgYXR0cmliUHJlZml4OiAnYV8nIH0pO1xuICpcbiAqIGlzIGVxdWl2YWxlbnQgdG9cbiAqXG4gKiAgICAgdHdnbC5zZXREZWZhdWx0cyh7XG4gKiAgICAgICB0ZXh0dXJlQ29sb3I6IFsxLCAwLCAwLCAxXSxcbiAqICAgICAgIGF0dHJpYlByZWZpeDogJ2FfJyxcbiAqICAgICB9KTtcbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBEZWZhdWx0c1xuICogQHByb3BlcnR5IHtzdHJpbmd9IFthdHRyaWJQcmVmaXhdIFRoZSBwcmVmaXggdG8gc3RpY2sgb24gYXR0cmlidXRlc1xuICpcbiAqICAgV2hlbiB3cml0aW5nIHNoYWRlcnMgSSBwcmVmZXIgdG8gbmFtZSBhdHRyaWJ1dGVzIHdpdGggYGFfYCwgdW5pZm9ybXMgd2l0aCBgdV9gIGFuZCB2YXJ5aW5ncyB3aXRoIGB2X2BcbiAqICAgYXMgaXQgbWFrZXMgaXQgY2xlYXIgd2hlcmUgdGhleSBjYW1lIGZyb20uIEJ1dCwgd2hlbiBidWlsZGluZyBnZW9tZXRyeSBJIHByZWZlciB1c2luZyB1bi1wcmVmaXhlZCBuYW1lcy5cbiAqXG4gKiAgIEluIG90aGVyIHdvcmRzIEknbGwgY3JlYXRlIGFycmF5cyBvZiBnZW9tZXRyeSBsaWtlIHRoaXNcbiAqXG4gKiAgICAgICBjb25zdCBhcnJheXMgPSB7XG4gKiAgICAgICAgIHBvc2l0aW9uOiAuLi5cbiAqICAgICAgICAgbm9ybWFsOiAuLi5cbiAqICAgICAgICAgdGV4Y29vcmQ6IC4uLlxuICogICAgICAgfTtcbiAqXG4gKiAgIEJ1dCBuZWVkIHRob3NlIG1hcHBlZCB0byBhdHRyaWJ1dGVzIGFuZCBteSBhdHRyaWJ1dGVzIHN0YXJ0IHdpdGggYGFfYC5cbiAqXG4gKiAgIERlZmF1bHQ6IGBcIlwiYFxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyW119IFt0ZXh0dXJlQ29sb3JdIEFycmF5IG9mIDQgdmFsdWVzIGluIHRoZSByYW5nZSAwIHRvIDFcbiAqXG4gKiAgIFRoZSBkZWZhdWx0IHRleHR1cmUgY29sb3IgaXMgdXNlZCB3aGVuIGxvYWRpbmcgdGV4dHVyZXMgZnJvbVxuICogICB1cmxzLiBCZWNhdXNlIHRoZSBVUkwgd2lsbCBiZSBsb2FkZWQgYXN5bmMgd2UnZCBsaWtlIHRvIGJlXG4gKiAgIGFibGUgdG8gdXNlIHRoZSB0ZXh0dXJlIGltbWVkaWF0ZWx5LiBCeSBwdXR0aW5nIGEgMXgxIHBpeGVsXG4gKiAgIGNvbG9yIGluIHRoZSB0ZXh0dXJlIHdlIGNhbiBzdGFydCB1c2luZyB0aGUgdGV4dHVyZSBiZWZvcmVcbiAqICAgdGhlIFVSTCBoYXMgbG9hZGVkLlxuICpcbiAqICAgRGVmYXVsdDogYFswLjUsIDAuNzUsIDEsIDFdYFxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY3Jvc3NPcmlnaW5dXG4gKlxuICogICBJZiBub3QgdW5kZWZpbmVkIHNldHMgdGhlIGNyb3NzT3JpZ2luIGF0dHJpYnV0ZSBvbiBpbWFnZXNcbiAqICAgdGhhdCB0d2dsIGNyZWF0ZXMgd2hlbiBkb3dubG9hZGluZyBpbWFnZXMgZm9yIHRleHR1cmVzLlxuICpcbiAqICAgQWxzbyBzZWUge0BsaW5rIG1vZHVsZTp0d2dsLlRleHR1cmVPcHRpb25zfS5cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2x9IFthZGRFeHRlbnNpb25zVG9Db250ZXh0XVxuICpcbiAqICAgSWYgdHJ1ZSwgdGhlbiwgd2hlbiB0d2dsIHdpbGwgdHJ5IHRvIGFkZCBhbnkgc3VwcG9ydGVkIFdlYkdMIGV4dGVuc2lvbnNcbiAqICAgZGlyZWN0bHkgdG8gdGhlIGNvbnRleHQgdW5kZXIgdGhlaXIgbm9ybWFsIEdMIG5hbWVzLiBGb3IgZXhhbXBsZVxuICogICBpZiBBTkdMRV9pbnN0YW5jZXNfYXJyYXlzIGV4aXN0cyB0aGVuIHR3Z2wgd291bGQgZW5hYmxlIGl0LFxuICogICBhZGQgdGhlIGZ1bmN0aW9ucyBgdmVydGV4QXR0cmliRGl2aXNvcmAsIGBkcmF3QXJyYXlzSW5zdGFuY2VkYCxcbiAqICAgYGRyYXdFbGVtZW50c0luc3RhbmNlZGAsIGFuZCB0aGUgY29uc3RhbnQgYFZFUlRFWF9BVFRSSUJfQVJSQVlfRElWSVNPUmBcbiAqICAgdG8gdGhlIGBXZWJHTFJlbmRlcmluZ0NvbnRleHRgLlxuICpcbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5cbi8qKlxuICogU2V0cyB2YXJpb3VzIGRlZmF1bHRzIGZvciB0d2dsLlxuICpcbiAqIEluIHRoZSBpbnRlcmVzdCBvZiB0ZXJzZW5lc3Mgd2hpY2ggaXMga2luZCBvZiB0aGUgcG9pbnRcbiAqIG9mIHR3Z2wgSSd2ZSBpbnRlZ3JhdGVkIGEgZmV3IG9mIHRoZSBvbGRlciBmdW5jdGlvbnMgaGVyZVxuICpcbiAqIEBwYXJhbSB7bW9kdWxlOnR3Z2wuRGVmYXVsdHN9IG5ld0RlZmF1bHRzIFRoZSBkZWZhdWx0IHNldHRpbmdzLlxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cbmZ1bmN0aW9uIHNldERlZmF1bHRzJDIobmV3RGVmYXVsdHMpIHtcbiAgY29weUV4aXN0aW5nUHJvcGVydGllcyhuZXdEZWZhdWx0cywgZGVmYXVsdHMkMik7XG4gIHNldERlZmF1bHRzKG5ld0RlZmF1bHRzKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgc2V0RGVmYXVsdHMkMShuZXdEZWZhdWx0cyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG59XG5cbmNvbnN0IHByZWZpeFJFID0gL14oLio/KV8vO1xuZnVuY3Rpb24gYWRkRXh0ZW5zaW9uVG9Db250ZXh0KGdsLCBleHRlbnNpb25OYW1lKSB7XG4gIGdsRW51bVRvU3RyaW5nKGdsLCAwKTtcbiAgY29uc3QgZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKGV4dGVuc2lvbk5hbWUpO1xuICBpZiAoZXh0KSB7XG4gICAgY29uc3QgZW51bXMgPSB7fTtcbiAgICBjb25zdCBmblN1ZmZpeCA9IHByZWZpeFJFLmV4ZWMoZXh0ZW5zaW9uTmFtZSlbMV07XG4gICAgY29uc3QgZW51bVN1ZmZpeCA9ICdfJyArIGZuU3VmZml4O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGV4dCkge1xuICAgICAgY29uc3QgdmFsdWUgPSBleHRba2V5XTtcbiAgICAgIGNvbnN0IGlzRnVuYyA9IHR5cGVvZiAodmFsdWUpID09PSAnZnVuY3Rpb24nO1xuICAgICAgY29uc3Qgc3VmZml4ID0gaXNGdW5jID8gZm5TdWZmaXggOiBlbnVtU3VmZml4O1xuICAgICAgbGV0IG5hbWUgPSBrZXk7XG4gICAgICAvLyBleGFtcGxlcyBvZiB3aGVyZSB0aGlzIGlzIG5vdCB0cnVlIGFyZSBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1xuICAgICAgLy8gYW5kIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1xuICAgICAgaWYgKGtleS5lbmRzV2l0aChzdWZmaXgpKSB7XG4gICAgICAgIG5hbWUgPSBrZXkuc3Vic3RyaW5nKDAsIGtleS5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlmIChnbFtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICghaXNGdW5jICYmIGdsW25hbWVdICE9PSB2YWx1ZSkge1xuICAgICAgICAgIHdhcm4obmFtZSwgZ2xbbmFtZV0sIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgZ2xbbmFtZV0gPSBmdW5jdGlvbihvcmlnRm4pIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9yaWdGbi5hcHBseShleHQsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0odmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdsW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgZW51bXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBwYXNzIHRoZSBtb2RpZmllZCBlbnVtcyB0byBnbEVudW1Ub1N0cmluZ1xuICAgIGVudW1zLmNvbnN0cnVjdG9yID0ge1xuICAgICAgbmFtZTogZXh0LmNvbnN0cnVjdG9yLm5hbWUsXG4gICAgfTtcbiAgICBnbEVudW1Ub1N0cmluZyhlbnVtcywgMCk7XG4gIH1cbiAgcmV0dXJuIGV4dDtcbn1cblxuLypcbiAqIElmIHlvdSdyZSB3b25kZXJpbmcgd2h5IHRoZSBjb2RlIGRvZXNuJ3QganVzdCBpdGVyYXRlXG4gKiBvdmVyIGFsbCBleHRlbnNpb25zIHVzaW5nIGBnbC5nZXRFeHRlbnNpb25zYCBpcyB0aGF0IGl0J3MgcG9zc2libGVcbiAqIHNvbWUgZnV0dXJlIGV4dGVuc2lvbiBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGlzIGNvZGUuIFJhdGhlciB0aGFuXG4gKiBoYXZlIHRoaW5nIHN1ZGRlbmx5IGJyZWFrIGl0IHNlZW1zIGJldHRlciB0byBtYW51YWxseSBhZGQgdG8gdGhpc1xuICogbGlzdC5cbiAqXG4gKi9cbmNvbnN0IHN1cHBvcnRlZEV4dGVuc2lvbnMgPSBbXG4gICdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyxcbiAgJ0VYVF9ibGVuZF9taW5tYXgnLFxuICAnRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcsXG4gICdFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQnLFxuICAnRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5JyxcbiAgJ0VYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDInLFxuICAnRVhUX2ZyYWdfZGVwdGgnLFxuICAnRVhUX3NSR0InLFxuICAnRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCcsXG4gICdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnLFxuICAnT0VTX2VsZW1lbnRfaW5kZXhfdWludCcsXG4gICdPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMnLFxuICAnT0VTX3RleHR1cmVfZmxvYXQnLFxuICAnT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyxcbiAgJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnLFxuICAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInLFxuICAnT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnLFxuICAnV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0JyxcbiAgJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hdGMnLFxuICAnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEnLFxuICAnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjJyxcbiAgJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyxcbiAgJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2InLFxuICAnV0VCR0xfZGVwdGhfdGV4dHVyZScsXG4gICdXRUJHTF9kcmF3X2J1ZmZlcnMnLFxuXTtcblxuLyoqXG4gKiBBdHRlbXB0cyB0byBlbmFibGUgYWxsIG9mIHRoZSBmb2xsb3dpbmcgZXh0ZW5zaW9uc1xuICogYW5kIGFkZCB0aGVpciBmdW5jdGlvbnMgYW5kIGNvbnN0YW50cyB0byB0aGVcbiAqIGBXZWJHTFJlbmRlcmluZ0NvbnRleHRgIHVzaW5nIHRoZWlyIG5vcm1hbCBub24tZXh0ZW5zaW9uIGxpa2UgbmFtZXMuXG4gKlxuICogICAgICBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXG4gKiAgICAgIEVYVF9ibGVuZF9taW5tYXhcbiAqICAgICAgRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdFxuICogICAgICBFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXRcbiAqICAgICAgRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5XG4gKiAgICAgIEVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDJcbiAqICAgICAgRVhUX2ZyYWdfZGVwdGhcbiAqICAgICAgRVhUX3NSR0JcbiAqICAgICAgRVhUX3NoYWRlcl90ZXh0dXJlX2xvZFxuICogICAgICBFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcbiAqICAgICAgT0VTX2VsZW1lbnRfaW5kZXhfdWludFxuICogICAgICBPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcbiAqICAgICAgT0VTX3RleHR1cmVfZmxvYXRcbiAqICAgICAgT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyXG4gKiAgICAgIE9FU190ZXh0dXJlX2hhbGZfZmxvYXRcbiAqICAgICAgT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXJcbiAqICAgICAgT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcbiAqICAgICAgV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0XG4gKiAgICAgIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hdGNcbiAqICAgICAgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzFcbiAqICAgICAgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXG4gKiAgICAgIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXG4gKiAgICAgIFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2JcbiAqICAgICAgV0VCR0xfZGVwdGhfdGV4dHVyZVxuICogICAgICBXRUJHTF9kcmF3X2J1ZmZlcnNcbiAqXG4gKiBGb3IgZXhhbXBsZSBpZiBgQU5HTEVfaW5zdGFuY2VkX2FycmF5c2AgZXhpc3RzIHRoZW4gdGhlIGZ1bmN0aW9uc1xuICogYGRyYXdBcnJheXNJbnN0YW5jZWRgLCBgZHJhd0VsZW1lbnRzSW5zdGFuY2VkYCwgYHZlcnRleEF0dHJpYkRpdmlzb3JgXG4gKiBhbmQgdGhlIGNvbnN0YW50IGBWRVJURVhfQVRUUklCX0FSUkFZX0RJVklTT1JgIGFyZSBhZGRlZCB0byB0aGVcbiAqIGBXZWJHTFJlbmRlcmluZ0NvbnRleHRgLlxuICpcbiAqIE5vdGUgdGhhdCBpZiB5b3Ugd2FudCB0byBrbm93IGlmIHRoZSBleHRlbnNpb24gZXhpc3RzIHlvdSBzaG91bGRcbiAqIHByb2JhYmx5IGNhbGwgYGdsLmdldEV4dGVuc2lvbmAgZm9yIGVhY2ggZXh0ZW5zaW9uLiBBbHRlcm5hdGl2ZWx5XG4gKiB5b3UgY2FuIGNoZWNrIGZvciB0aGUgZXhpc3RlbmNlIG9mIHRoZSBmdW5jdGlvbnMgb3IgY29uc3RhbnRzIHRoYXRcbiAqIGFyZSBleHBlY3RlZCB0byBiZSBhZGRlZC4gRm9yIGV4YW1wbGVcbiAqXG4gKiAgICBpZiAoZ2wuZHJhd0J1ZmZlcnMpIHtcbiAqICAgICAgLy8gRWl0aGVyIFdFQkdMX2RyYXdfYnVmZmVycyB3YXMgZW5hYmxlZCBPUiB5b3UncmUgcnVubmluZyBpbiBXZWJHTDJcbiAqICAgICAgLi4uLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBBIFdlYkdMUmVuZGVyaW5nQ29udGV4dFxuICogQG1lbWJlck9mIG1vZHVsZTp0d2dsXG4gKi9cbmZ1bmN0aW9uIGFkZEV4dGVuc2lvbnNUb0NvbnRleHQoZ2wpIHtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHN1cHBvcnRlZEV4dGVuc2lvbnMubGVuZ3RoOyArK2lpKSB7XG4gICAgYWRkRXh0ZW5zaW9uVG9Db250ZXh0KGdsLCBzdXBwb3J0ZWRFeHRlbnNpb25zW2lpXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgd2ViZ2wgY29udGV4dC5cbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyBUaGUgY2FudmFzIHRhZyB0byBnZXRcbiAqICAgICBjb250ZXh0IGZyb20uIElmIG9uZSBpcyBub3QgcGFzc2VkIGluIG9uZSB3aWxsIGJlXG4gKiAgICAgY3JlYXRlZC5cbiAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGNyZWF0ZWQgY29udGV4dC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZTNEQ29udGV4dChjYW52YXMsIG9wdF9hdHRyaWJzKSB7XG4gIGNvbnN0IG5hbWVzID0gW1wid2ViZ2xcIiwgXCJleHBlcmltZW50YWwtd2ViZ2xcIl07XG4gIGxldCBjb250ZXh0ID0gbnVsbDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5hbWVzLmxlbmd0aDsgKytpaSkge1xuICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChuYW1lc1tpaV0sIG9wdF9hdHRyaWJzKTtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgaWYgKGRlZmF1bHRzJDIuYWRkRXh0ZW5zaW9uc1RvQ29udGV4dCkge1xuICAgICAgICBhZGRFeHRlbnNpb25zVG9Db250ZXh0KGNvbnRleHQpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuXG4vKipcbiAqIEdldHMgYSBXZWJHTDEgY29udGV4dC5cbiAqXG4gKiBOb3RlOiBXaWxsIGF0dGVtcHQgdG8gZW5hYmxlIFZlcnRleCBBcnJheSBPYmplY3RzXG4gKiBhbmQgYWRkIFdlYkdMMiBlbnRyeSBwb2ludHMuICh1bmxlc3MgeW91IGZpcnN0IHNldCBkZWZhdWx0cyB3aXRoXG4gKiBgdHdnbC5zZXREZWZhdWx0cyh7ZW5hYmxlVmVydGV4QXJyYXlPYmplY3RzOiBmYWxzZX0pYDtcbiAqXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgYSBjYW52YXMgZWxlbWVudC5cbiAqIEBwYXJhbSB7V2ViR0xDb250ZXh0QXR0cmlidXRlc30gW29wdF9hdHRyaWJzXSBvcHRpb25hbCB3ZWJnbCBjb250ZXh0IGNyZWF0aW9uIGF0dHJpYnV0ZXNcbiAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGNyZWF0ZWQgY29udGV4dC5cbiAqIEBtZW1iZXJPZiBtb2R1bGU6dHdnbFxuICovXG5mdW5jdGlvbiBnZXRXZWJHTENvbnRleHQoY2FudmFzLCBvcHRfYXR0cmlicykge1xuICBjb25zdCBnbCA9IGNyZWF0ZTNEQ29udGV4dChjYW52YXMsIG9wdF9hdHRyaWJzKTtcbiAgcmV0dXJuIGdsO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB3ZWJnbCBjb250ZXh0LlxuICpcbiAqIFdpbGwgcmV0dXJuIGEgV2ViR0wyIGNvbnRleHQgaWYgcG9zc2libGUuXG4gKlxuICogWW91IGNhbiBjaGVjayBpZiBpdCdzIFdlYkdMMiB3aXRoXG4gKlxuICogICAgIHR3Z2wuaXNXZWJHTDIoZ2wpO1xuICpcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyBUaGUgY2FudmFzIHRhZyB0byBnZXRcbiAqICAgICBjb250ZXh0IGZyb20uIElmIG9uZSBpcyBub3QgcGFzc2VkIGluIG9uZSB3aWxsIGJlXG4gKiAgICAgY3JlYXRlZC5cbiAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGNyZWF0ZWQgY29udGV4dC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29udGV4dChjYW52YXMsIG9wdF9hdHRyaWJzKSB7XG4gIGNvbnN0IG5hbWVzID0gW1wid2ViZ2wyXCIsIFwid2ViZ2xcIiwgXCJleHBlcmltZW50YWwtd2ViZ2xcIl07XG4gIGxldCBjb250ZXh0ID0gbnVsbDtcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5hbWVzLmxlbmd0aDsgKytpaSkge1xuICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChuYW1lc1tpaV0sIG9wdF9hdHRyaWJzKTtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgaWYgKGRlZmF1bHRzJDIuYWRkRXh0ZW5zaW9uc1RvQ29udGV4dCkge1xuICAgICAgICBhZGRFeHRlbnNpb25zVG9Db250ZXh0KGNvbnRleHQpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuXG4vKipcbiAqIEdldHMgYSBXZWJHTCBjb250ZXh0LiAgV2lsbCBjcmVhdGUgYSBXZWJHTDIgY29udGV4dCBpZiBwb3NzaWJsZS5cbiAqXG4gKiBZb3UgY2FuIGNoZWNrIGlmIGl0J3MgV2ViR0wyIHdpdGhcbiAqXG4gKiAgICBmdW5jdGlvbiBpc1dlYkdMMihnbCkge1xuICogICAgICByZXR1cm4gZ2wuZ2V0UGFyYW1ldGVyKGdsLlZFUlNJT04pLmluZGV4T2YoXCJXZWJHTCAyLjAgXCIpID09IDA7XG4gKiAgICB9XG4gKlxuICogTm90ZTogRm9yIGEgV2ViR0wxIGNvbnRleHQgd2lsbCBhdHRlbXB0IHRvIGVuYWJsZSBWZXJ0ZXggQXJyYXkgT2JqZWN0c1xuICogYW5kIGFkZCBXZWJHTDIgZW50cnkgcG9pbnRzLiAodW5sZXNzIHlvdSBmaXJzdCBzZXQgZGVmYXVsdHMgd2l0aFxuICogYHR3Z2wuc2V0RGVmYXVsdHMoe2VuYWJsZVZlcnRleEFycmF5T2JqZWN0czogZmFsc2V9KWA7XG4gKlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIGEgY2FudmFzIGVsZW1lbnQuXG4gKiBAcGFyYW0ge1dlYkdMQ29udGV4dEF0dHJpYnV0ZXN9IFtvcHRfYXR0cmlic10gb3B0aW9uYWwgd2ViZ2wgY29udGV4dCBjcmVhdGlvbiBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJuIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjcmVhdGVkIGNvbnRleHQuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqL1xuZnVuY3Rpb24gZ2V0Q29udGV4dChjYW52YXMsIG9wdF9hdHRyaWJzKSB7XG4gIGNvbnN0IGdsID0gY3JlYXRlQ29udGV4dChjYW52YXMsIG9wdF9hdHRyaWJzKTtcbiAgcmV0dXJuIGdsO1xufVxuXG4vKipcbiAqIFJlc2l6ZSBhIGNhbnZhcyB0byBtYXRjaCB0aGUgc2l6ZSBpdCdzIGRpc3BsYXllZC5cbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyBUaGUgY2FudmFzIHRvIHJlc2l6ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbXVsdGlwbGllcl0gU28geW91IGNhbiBwYXNzIGluIGB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb2Agb3Igb3RoZXIgc2NhbGUgdmFsdWUgaWYgeW91IHdhbnQgdG8uXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBjYW52YXMgd2FzIHJlc2l6ZWQuXG4gKiBAbWVtYmVyT2YgbW9kdWxlOnR3Z2xcbiAqL1xuZnVuY3Rpb24gcmVzaXplQ2FudmFzVG9EaXNwbGF5U2l6ZShjYW52YXMsIG11bHRpcGxpZXIpIHtcbiAgbXVsdGlwbGllciA9IG11bHRpcGxpZXIgfHwgMTtcbiAgbXVsdGlwbGllciA9IE1hdGgubWF4KDAsIG11bHRpcGxpZXIpO1xuICBjb25zdCB3aWR0aCAgPSBjYW52YXMuY2xpZW50V2lkdGggICogbXVsdGlwbGllciB8IDA7XG4gIGNvbnN0IGhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQgKiBtdWx0aXBsaWVyIHwgMDtcbiAgaWYgKGNhbnZhcy53aWR0aCAhPT0gd2lkdGggfHwgY2FudmFzLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7IGFkZEV4dGVuc2lvbnNUb0NvbnRleHQsIGF0dHJpYnV0ZXMsIGJpbmRGcmFtZWJ1ZmZlckluZm8sIGJpbmRUcmFuc2Zvcm1GZWVkYmFja0luZm8sIGJpbmRVbmlmb3JtQmxvY2ssIGNhbkZpbHRlciwgY2FuR2VuZXJhdGVNaXBtYXAsIGNyZWF0ZUF0dHJpYnNGcm9tQXJyYXlzLCBjcmVhdGVBdHRyaWJ1dGVTZXR0ZXJzLCBjcmVhdGVCdWZmZXJGcm9tQXJyYXksIGNyZWF0ZUJ1ZmZlckZyb21UeXBlZEFycmF5LCBjcmVhdGVCdWZmZXJJbmZvRnJvbUFycmF5cywgY3JlYXRlQnVmZmVyc0Zyb21BcnJheXMsIGNyZWF0ZUZyYW1lYnVmZmVySW5mbywgY3JlYXRlUHJvZ3JhbSwgY3JlYXRlUHJvZ3JhbUZyb21TY3JpcHRzLCBjcmVhdGVQcm9ncmFtRnJvbVNvdXJjZXMsIGNyZWF0ZVByb2dyYW1JbmZvLCBjcmVhdGVQcm9ncmFtSW5mb0Zyb21Qcm9ncmFtLCBjcmVhdGVTYW1wbGVyLCBjcmVhdGVTYW1wbGVycywgY3JlYXRlVGV4dHVyZSwgY3JlYXRlVGV4dHVyZXMsIGNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrLCBjcmVhdGVUcmFuc2Zvcm1GZWVkYmFja0luZm8sIGNyZWF0ZVVuaWZvcm1CbG9ja0luZm8sIGNyZWF0ZVVuaWZvcm1CbG9ja0luZm9Gcm9tUHJvZ3JhbSwgY3JlYXRlVW5pZm9ybUJsb2NrU3BlY0Zyb21Qcm9ncmFtLCBjcmVhdGVVbmlmb3JtU2V0dGVycywgY3JlYXRlVkFPQW5kU2V0QXR0cmlidXRlcywgY3JlYXRlVkFPRnJvbUJ1ZmZlckluZm8sIGNyZWF0ZVZlcnRleEFycmF5SW5mbywgZHJhdywgZHJhd0J1ZmZlckluZm8sIGRyYXdPYmplY3RMaXN0LCBmcmFtZWJ1ZmZlcnMsIGdldEFycmF5IGFzIGdldEFycmF5XywgZ2V0Qnl0ZXNQZXJFbGVtZW50Rm9ySW50ZXJuYWxGb3JtYXQsIGdldENvbnRleHQsIGdldEZvcm1hdEFuZFR5cGVGb3JJbnRlcm5hbEZvcm1hdCwgZ2V0R0xUeXBlRm9yVHlwZWRBcnJheSwgZ2V0R0xUeXBlRm9yVHlwZWRBcnJheVR5cGUsIGdldE51bUNvbXBvbmVudHNGb3JGb3JtYXQsIGdldE51bUNvbXBvbmVudHMgYXMgZ2V0TnVtQ29tcG9uZW50c18sIGdldFR5cGVkQXJyYXlUeXBlRm9yR0xUeXBlLCBnZXRXZWJHTENvbnRleHQsIGdsRW51bVRvU3RyaW5nLCBpc0FycmF5QnVmZmVyLCBpc1dlYkdMMSwgaXNXZWJHTDIsIGxvYWRUZXh0dXJlRnJvbVVybCwgbTQsIHByaW1pdGl2ZXMsIHByb2dyYW1zLCByZXNpemVDYW52YXNUb0Rpc3BsYXlTaXplLCByZXNpemVGcmFtZWJ1ZmZlckluZm8sIHJlc2l6ZVRleHR1cmUsIHNldEF0dHJpYkluZm9CdWZmZXJGcm9tQXJyYXksIHNldERlZmF1bHRzIGFzIHNldEF0dHJpYnV0ZURlZmF1bHRzXywgc2V0QXR0cmlidXRlUHJlZml4LCBzZXRBdHRyaWJ1dGVzLCBzZXRCbG9ja1VuaWZvcm1zLCBzZXRCdWZmZXJzQW5kQXR0cmlidXRlcywgc2V0RGVmYXVsdFRleHR1cmVDb2xvciwgc2V0RGVmYXVsdHMkMiBhcyBzZXREZWZhdWx0cywgc2V0RW1wdHlUZXh0dXJlLCBzZXRTYW1wbGVyUGFyYW1ldGVycywgc2V0RGVmYXVsdHMkMSBhcyBzZXRUZXh0dXJlRGVmYXVsdHNfLCBzZXRUZXh0dXJlRmlsdGVyaW5nRm9yU2l6ZSwgc2V0VGV4dHVyZUZyb21BcnJheSwgc2V0VGV4dHVyZUZyb21FbGVtZW50LCBzZXRUZXh0dXJlUGFyYW1ldGVycywgc2V0VW5pZm9ybUJsb2NrLCBzZXRVbmlmb3Jtcywgc2V0VW5pZm9ybXNBbmRCaW5kVGV4dHVyZXMsIHRleHR1cmVzLCB0eXBlZGFycmF5cywgdXRpbHMsIHYzLCB2ZXJ0ZXhBcnJheXMgfTtcbiIsImltcG9ydCB7IGdhc0Rpc2NoYXJnZUxpbmVzIH0gZnJvbSBcIi4vZ2FzRGlzY2hhcmdlTGluZXNcIjtcclxuaW1wb3J0IHsgd2F2ZWxlbmd0aFRvUmdiVGFibGUgfSBmcm9tIFwiLi93YXZlbGVuZ3RoVG9SZ2JUYWJsZVwiO1xyXG5pbXBvcnQgKiBhcyB0d2dsIGZyb20gXCJ0d2dsLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRW1pc3Npb25TcGVjdHJ1bSB7XHJcbiAgICBzdGF0aWMgTEFNQkRBX01JTiA9IDM2MC4wO1xyXG4gICAgc3RhdGljIExBTUJEQV9NQVggPSA3NTAuMDtcclxuXHJcbiAgICBzdGF0aWMgU1BFQ1RSVU1fU0FNUExFUyA9IDI1NjtcclxuICAgIHN0YXRpYyBJQ0RGX1NBTVBMRVMgPSAxMDI0O1xyXG5cclxuICAgIHN0YXRpYyBTUEVDVFJVTV9XSElURSA9IDA7XHJcbiAgICBzdGF0aWMgU1BFQ1RSVU1fSU5DQU5ERVNDRU5UID0gMTtcclxuICAgIHN0YXRpYyBTUEVDVFJVTV9HQVNfRElTQ0hBUkdFID0gMjtcclxuXHJcbiAgICBlbWlzc2lvblR5cGUgPSBFbWlzc2lvblNwZWN0cnVtLlNQRUNUUlVNX1dISVRFO1xyXG4gICAgZW1pdHRlclRlbXBlcmF0dXJlID0gNTAwMC4wO1xyXG4gICAgZW1pdHRlckdhcyA9IDA7XHJcblxyXG4gICAgc2FtcGxlcyA9IG5ldyBGbG9hdDMyQXJyYXkoRW1pc3Npb25TcGVjdHJ1bS5TUEVDVFJVTV9TQU1QTEVTKTtcclxuICAgIGNkZiA9IG5ldyBGbG9hdDMyQXJyYXkoRW1pc3Npb25TcGVjdHJ1bS5TUEVDVFJVTV9TQU1QTEVTICsgMSk7XHJcbiAgICBwZGYgPSBuZXcgRmxvYXQzMkFycmF5KEVtaXNzaW9uU3BlY3RydW0uU1BFQ1RSVU1fU0FNUExFUyk7XHJcbiAgICBpY2RmID0gbmV3IEZsb2F0MzJBcnJheShFbWlzc2lvblNwZWN0cnVtLklDREZfU0FNUExFUyk7XHJcblxyXG4gICAgc3BlY3RydW1UZXg6IFdlYkdMVGV4dHVyZTtcclxuICAgIGVtaXNzaW9uVGV4OiBXZWJHTFRleHR1cmU7XHJcbiAgICBlbWlzc2lvbkljZGZUZXg6IFdlYkdMVGV4dHVyZTtcclxuICAgIGVtaXNzaW9uUGRmVGV4OiBXZWJHTFRleHR1cmU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGdsOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5zcGVjdHJ1bVRleCA9IHR3Z2wuY3JlYXRlVGV4dHVyZShnbCwge1xyXG4gICAgICAgICAgICB3aWR0aDogd2F2ZWxlbmd0aFRvUmdiVGFibGUubGVuZ3RoIC8gNCxcclxuICAgICAgICAgICAgaGVpZ2h0OiAxLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IGdsLlJHQkEsIC8vIDQtY2hhbm5lbFxyXG4gICAgICAgICAgICB0eXBlOiBnbC5GTE9BVCxcclxuICAgICAgICAgICAgbWluTWFnOiBnbC5MSU5FQVIsXHJcbiAgICAgICAgICAgIHdyYXA6IGdsLkNMQU1QX1RPX0VER0UsXHJcbiAgICAgICAgICAgIHNyYzogd2F2ZWxlbmd0aFRvUmdiVGFibGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lbWlzc2lvblRleCA9IHR3Z2wuY3JlYXRlVGV4dHVyZShnbCwge1xyXG4gICAgICAgICAgICB3aWR0aDogRW1pc3Npb25TcGVjdHJ1bS5TUEVDVFJVTV9TQU1QTEVTLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgIGZvcm1hdDogZ2wuTFVNSU5BTkNFLCAvLyAxLWNoYW5uZWxcclxuICAgICAgICAgICAgdHlwZTogZ2wuRkxPQVQsXHJcbiAgICAgICAgICAgIG1pbk1hZzogZ2wuTkVBUkVTVCxcclxuICAgICAgICAgICAgd3JhcDogZ2wuQ0xBTVBfVE9fRURHRSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVtaXNzaW9uSWNkZlRleCA9IHR3Z2wuY3JlYXRlVGV4dHVyZShnbCwge1xyXG4gICAgICAgICAgICB3aWR0aDogRW1pc3Npb25TcGVjdHJ1bS5JQ0RGX1NBTVBMRVMsXHJcbiAgICAgICAgICAgIGhlaWdodDogMSxcclxuICAgICAgICAgICAgZm9ybWF0OiBnbC5MVU1JTkFOQ0UsIC8vIDEtY2hhbm5lbFxyXG4gICAgICAgICAgICB0eXBlOiBnbC5GTE9BVCxcclxuICAgICAgICAgICAgbWluTWFnOiBnbC5ORUFSRVNULFxyXG4gICAgICAgICAgICB3cmFwOiBnbC5DTEFNUF9UT19FREdFLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZW1pc3Npb25QZGZUZXggPSB0d2dsLmNyZWF0ZVRleHR1cmUoZ2wsIHtcclxuICAgICAgICAgICAgd2lkdGg6IEVtaXNzaW9uU3BlY3RydW0uU1BFQ1RSVU1fU0FNUExFUyxcclxuICAgICAgICAgICAgaGVpZ2h0OiAxLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IGdsLkxVTUlOQU5DRSwgLy8gMS1jaGFubmVsXHJcbiAgICAgICAgICAgIHR5cGU6IGdsLkZMT0FULFxyXG4gICAgICAgICAgICBtaW5NYWc6IGdsLk5FQVJFU1QsXHJcbiAgICAgICAgICAgIHdyYXA6IGdsLkNMQU1QX1RPX0VER0UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0KHZhbHVlczoge1xyXG4gICAgICAgIGVtaXNzaW9uVHlwZT86IG51bWJlcixcclxuICAgICAgICBlbWl0dGVyVGVtcGVyYXR1cmU/OiBudW1iZXIsXHJcbiAgICAgICAgZW1pdHRlckdhcz86IG51bWJlcixcclxuICAgIH0pIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHZhbHVlcyk7XHJcbiAgICAgICAgdGhpcy5jb21wdXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcHV0ZSgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuZW1pc3Npb25UeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRW1pc3Npb25TcGVjdHJ1bS5TUEVDVFJVTV9XSElURTpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZVdoaXRlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBFbWlzc2lvblNwZWN0cnVtLlNQRUNUUlVNX0lOQ0FOREVTQ0VOVDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tcHV0ZUluY2FuZGVzY2VudCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRW1pc3Npb25TcGVjdHJ1bS5TUEVDVFJVTV9HQVNfRElTQ0hBUkdFOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlRGlzY2hhcmdlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbXB1dGVJY2RmKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcclxuICAgICAgICB0d2dsLnNldFRleHR1cmVGcm9tQXJyYXkoZ2wsIHRoaXMuZW1pc3Npb25JY2RmVGV4LCB0aGlzLmljZGYsIHtcclxuICAgICAgICAgICAgd2lkdGg6IEVtaXNzaW9uU3BlY3RydW0uSUNERl9TQU1QTEVTLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgIGZvcm1hdDogZ2wuTFVNSU5BTkNFLFxyXG4gICAgICAgICAgICB0eXBlOiBnbC5GTE9BVCxcclxuICAgICAgICAgICAgbWluTWFnOiBnbC5ORUFSRVNULFxyXG4gICAgICAgICAgICB3cmFwOiBnbC5DTEFNUF9UT19FREdFLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHR3Z2wuc2V0VGV4dHVyZUZyb21BcnJheShnbCwgdGhpcy5lbWlzc2lvblBkZlRleCwgdGhpcy5wZGYsIHtcclxuICAgICAgICAgICAgd2lkdGg6IEVtaXNzaW9uU3BlY3RydW0uU1BFQ1RSVU1fU0FNUExFUyxcclxuICAgICAgICAgICAgaGVpZ2h0OiAxLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IGdsLkxVTUlOQU5DRSxcclxuICAgICAgICAgICAgdHlwZTogZ2wuRkxPQVQsXHJcbiAgICAgICAgICAgIG1pbk1hZzogZ2wuTkVBUkVTVCxcclxuICAgICAgICAgICAgd3JhcDogZ2wuQ0xBTVBfVE9fRURHRSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0d2dsLnNldFRleHR1cmVGcm9tQXJyYXkoZ2wsIHRoaXMuZW1pc3Npb25UZXgsIHRoaXMuc2FtcGxlcywge1xyXG4gICAgICAgICAgICB3aWR0aDogRW1pc3Npb25TcGVjdHJ1bS5TUEVDVFJVTV9TQU1QTEVTLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDEsXHJcbiAgICAgICAgICAgIGZvcm1hdDogZ2wuTFVNSU5BTkNFLFxyXG4gICAgICAgICAgICB0eXBlOiBnbC5GTE9BVCxcclxuICAgICAgICAgICAgbWluTWFnOiBnbC5ORUFSRVNULFxyXG4gICAgICAgICAgICB3cmFwOiBnbC5DTEFNUF9UT19FREdFLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXB1dGVXaGl0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IFNQRUNUUlVNX1NBTVBMRVMgfSA9IEVtaXNzaW9uU3BlY3RydW07XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU1BFQ1RSVU1fU0FNUExFUzsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlc1tpXSA9IDEuMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcHV0ZUluY2FuZGVzY2VudCgpIHtcclxuICAgICAgICBjb25zdCB7IFNQRUNUUlVNX1NBTVBMRVMsIExBTUJEQV9NSU4sIExBTUJEQV9NQVggfSA9IEVtaXNzaW9uU3BlY3RydW07XHJcbiAgICAgICAgY29uc3QgaCA9IDYuNjI2MDcwMDQwZS0zNDtcclxuICAgICAgICBjb25zdCBjID0gMjk5NzkyNDU4LjA7XHJcbiAgICAgICAgY29uc3Qga0IgPSAxLjM4MDY0ODhlLTIzO1xyXG4gICAgICAgIGNvbnN0IFQgPSB0aGlzLmVtaXR0ZXJUZW1wZXJhdHVyZTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBTUEVDVFJVTV9TQU1QTEVTOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgbCA9IChMQU1CREFfTUlOICsgKExBTUJEQV9NQVggLSBMQU1CREFfTUlOKSAqIChpICsgMC41KSAvIFNQRUNUUlVNX1NBTVBMRVMpICogMWUtOTtcclxuICAgICAgICAgICAgY29uc3QgcG93ZXIgPSAxZS0xMiAqICgyLjAgKiBoICogYyAqIGMpIC8gKGwgKiBsICogbCAqIGwgKiBsICogKE1hdGguZXhwKGggKiBjIC8gKGwgKiBrQiAqIFQpKSAtIDEuMCkpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zYW1wbGVzW2ldID0gcG93ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXB1dGVEaXNjaGFyZ2UoKSB7XHJcbiAgICAgICAgY29uc3QgeyBTUEVDVFJVTV9TQU1QTEVTLCBMQU1CREFfTUlOLCBMQU1CREFfTUFYIH0gPSBFbWlzc2lvblNwZWN0cnVtO1xyXG4gICAgICAgIGNvbnN0IHdhdmVsZW5ndGhzID0gZ2FzRGlzY2hhcmdlTGluZXNbdGhpcy5lbWl0dGVyR2FzXS53YXZlbGVuZ3RocztcclxuICAgICAgICBjb25zdCBzdHJlbmd0aHMgPSBnYXNEaXNjaGFyZ2VMaW5lc1t0aGlzLmVtaXR0ZXJHYXNdLnN0cmVuZ3RocztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBTUEVDVFJVTV9TQU1QTEVTOyArK2kpXHJcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlc1tpXSA9IDAuMDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3YXZlbGVuZ3Rocy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgaWR4ID0gTWF0aC5mbG9vcigod2F2ZWxlbmd0aHNbaV0gLSBMQU1CREFfTUlOKSAvIChMQU1CREFfTUFYIC0gTEFNQkRBX01JTikgKiBTUEVDVFJVTV9TQU1QTEVTKTtcclxuICAgICAgICAgICAgaWYgKGlkeCA8IDAgfHwgaWR4ID49IFNQRUNUUlVNX1NBTVBMRVMpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlc1tpZHhdICs9IHN0cmVuZ3Roc1tpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcHV0ZUljZGYoKSB7XHJcbiAgICAgICAgY29uc3QgeyBTUEVDVFJVTV9TQU1QTEVTLCBJQ0RGX1NBTVBMRVMgfSA9IEVtaXNzaW9uU3BlY3RydW07XHJcbiAgICAgICAgY29uc3QgeyBwZGYsIGNkZiwgaWNkZiwgc2FtcGxlczogZW1pc3Npb25TcGVjdHJ1bSB9ID0gdGhpcztcclxuXHJcbiAgICAgICAgbGV0IHN1bSA9IDAuMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFNQRUNUUlVNX1NBTVBMRVM7ICsraSkge1xyXG4gICAgICAgICAgICBzdW0gKz0gZW1pc3Npb25TcGVjdHJ1bVtpXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIE1peCBpbiAxMCUgb2YgYSB1bmlmb3JtIHNhbXBsZSBkaXN0cmlidXRpb24gdG8gc3RheSBvbiB0aGUgc2FmZSBzaWRlLlxyXG4gICAgICAgICAgIEVzcGVjaWFsbHkgZ2FzIGVtaXNzaW9uIHNwZWN0cmEgd2l0aCBsb3RzIG9mIGVtaXNzaW9uIGxpbmVzXHJcbiAgICAgICAgICAgdGVuZCB0byBoYXZlIHNtYWxsIHBlYWtzIHRoYXQgZmFsbCB0aHJvdWdoIHRoZSBjcmFja3Mgb3RoZXJ3aXNlICovXHJcbiAgICAgICAgdmFyIHNhZmV0eVBhZGRpbmcgPSAwLjE7XHJcbiAgICAgICAgdmFyIG5vcm1hbGl6YXRpb24gPSBTUEVDVFJVTV9TQU1QTEVTIC8gc3VtO1xyXG5cclxuICAgICAgICAvKiBQcmVjb21wdXRlIGNkZiBhbmQgcGRmICh1bm5vcm1hbGl6ZWQgZm9yIG5vdykgKi9cclxuICAgICAgICBjZGZbMF0gPSAwLjA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBTUEVDVFJVTV9TQU1QTEVTOyArK2kpIHtcclxuICAgICAgICAgICAgZW1pc3Npb25TcGVjdHJ1bVtpXSAqPSBub3JtYWxpemF0aW9uO1xyXG5cclxuICAgICAgICAgICAgLyogQWxzbyB0YWtlIGludG8gYWNjb3VudCB0aGUgb2JzZXJ2ZXIgcmVzcG9uc2Ugd2hlbiBkaXN0cmlidXRpbmcgc2FtcGxlcy5cclxuICAgICAgICAgICAgICAgT3RoZXJ3aXNlIHRlbmRzIHRvIHByaW9yaXRpemUgcGVha3MganVzdCBiYXJlbHkgb3V0c2lkZSB0aGUgdmlzaWJsZSBzcGVjdHJ1bSAqL1xyXG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXJSZXNwb25zZSA9ICgxLjAgLyAzLjApICogKFxyXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMod2F2ZWxlbmd0aFRvUmdiVGFibGVbaSAqIDRdKSArXHJcbiAgICAgICAgICAgICAgICBNYXRoLmFicyh3YXZlbGVuZ3RoVG9SZ2JUYWJsZVtpICogNCArIDFdKSArXHJcbiAgICAgICAgICAgICAgICBNYXRoLmFicyh3YXZlbGVuZ3RoVG9SZ2JUYWJsZVtpICogNCArIDJdKSk7XHJcblxyXG4gICAgICAgICAgICBwZGZbaV0gPSBvYnNlcnZlclJlc3BvbnNlICogKGVtaXNzaW9uU3BlY3RydW1baV0gKyBzYWZldHlQYWRkaW5nKSAvICgxLjAgKyBzYWZldHlQYWRkaW5nKTtcclxuICAgICAgICAgICAgdGhpcy5jZGZbaSArIDFdID0gcGRmW2ldICsgdGhpcy5jZGZbaV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBBbGwgZG9uZSEgVGltZSB0byBub3JtYWxpemUgKi9cclxuICAgICAgICB2YXIgY2RmU3VtID0gY2RmW1NQRUNUUlVNX1NBTVBMRVNdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgU1BFQ1RSVU1fU0FNUExFUzsgKytpKSB7XHJcbiAgICAgICAgICAgIHBkZltpXSAqPSBTUEVDVFJVTV9TQU1QTEVTIC8gY2RmU3VtO1xyXG4gICAgICAgICAgICBjZGZbaSArIDFdIC89IGNkZlN1bTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogTWFrZSBzdXJlIHdlIGRvbid0IGZhbGwgaW50byBhbnkgZmxvYXRpbmcgcG9pbnQgcGl0cyAqL1xyXG4gICAgICAgIGNkZltTUEVDVFJVTV9TQU1QTEVTXSA9IDEuMDtcclxuXHJcbiAgICAgICAgLyogUHJlY29tcHV0ZSBhbiBpbnZlcnRlZCBtYXBwaW5nIG9mIHRoZSBjZGYuIFRoaXMgaXMgYmlhc2VkIVxyXG4gICAgICAgICAgIFVuZm9ydHVuYXRlbHkgd2UgY2FuJ3QgcmVhbGx5IGFmZm9yZCB0byBkbyBydW50aW1lIGJpc2VjdGlvblxyXG4gICAgICAgICAgIG9uIHRoZSBHUFUsIHNvIHRoaXMgd2lsbCBoYXZlIHRvIGRvLiBGb3Igb3VyIHB1cnBvc2VzIGEgc21hbGxcclxuICAgICAgICAgICBhbW91bnQgb2YgYmlhcyBpcyB0b2xlcmFibGUgYW55d2F5LiAqL1xyXG4gICAgICAgIHZhciBjZGZJZHggPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgSUNERl9TQU1QTEVTOyArK2kpIHtcclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IE1hdGgubWluKChpICsgMSkgLyBJQ0RGX1NBTVBMRVMsIDEuMCk7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmNkZltjZGZJZHhdIDwgdGFyZ2V0KVxyXG4gICAgICAgICAgICAgICAgY2RmSWR4Kys7XHJcbiAgICAgICAgICAgIGljZGZbaV0gPSAoY2RmSWR4IC0gMS4wKSAvIFNQRUNUUlVNX1NBTVBMRVM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRW1pc3Npb25TcGVjdHJ1bSB9IGZyb20gXCIuL0VtaXNzaW9uU3BlY3RydW1cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTcGVjdHJ1bVJlbmRlcmVyIHtcclxuICAgIHNtb290aCA9IHRydWU7XHJcbiAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICBzcGVjdHJ1bUZpbGw6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBwYXR0ZXJuPzogQ2FudmFzUGF0dGVybiB8IG51bGw7XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCxcclxuICAgICAgICBwdWJsaWMgc3BlY3RydW06IEVtaXNzaW9uU3BlY3RydW1cclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJykhO1xyXG5cclxuICAgICAgICB0aGlzLnNwZWN0cnVtRmlsbCA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuc3BlY3RydW1GaWxsLnNyYyA9ICdTcGVjdHJ1bS5wbmcnO1xyXG4gICAgICAgIHRoaXMuc3BlY3RydW1GaWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLmxvYWRQYXR0ZXJuLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGlmICh0aGlzLnNwZWN0cnVtRmlsbC5jb21wbGV0ZSlcclxuICAgICAgICAgICAgdGhpcy5sb2FkUGF0dGVybigpO1xyXG4gICAgfVxyXG4gICAgbG9hZFBhdHRlcm4oKSB7XHJcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gdGhpcy5jb250ZXh0LmNyZWF0ZVBhdHRlcm4odGhpcy5zcGVjdHJ1bUZpbGwsICdyZXBlYXQteScpO1xyXG4gICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgfVxyXG4gICAgc2V0Q29sb3IocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2IoJyArIHIgKyAnLCcgKyBnICsgJywnICsgYiArICcpJztcclxuICAgIH1cclxuICAgIGRyYXdMaW5lKHA6IG51bWJlcltdKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbyhwWzBdLCBwWzFdKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IHAubGVuZ3RoOyBpICs9IDIpXHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5lVG8ocFtpXSwgcFtpICsgMV0pO1xyXG4gICAgfVxyXG4gICAgc2V0U21vb3RoKHNtb290aDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuc21vb3RoID0gc21vb3RoO1xyXG4gICAgfVxyXG4gICAgZHJhdygpIHtcclxuICAgICAgICB2YXIgY3R4ID0gdGhpcy5jb250ZXh0O1xyXG5cclxuICAgICAgICB2YXIgdyA9IHRoaXMuY2FudmFzLndpZHRoO1xyXG4gICAgICAgIHZhciBoID0gdGhpcy5jYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgIHZhciBtYXJnaW5YID0gMTA7XHJcbiAgICAgICAgdmFyIG1hcmdpblkgPSAyMDtcclxuXHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3LCBoKTtcclxuXHJcbiAgICAgICAgdmFyIGdyYXBoVyA9IHcgLSAyICogbWFyZ2luWDtcclxuICAgICAgICB2YXIgZ3JhcGhIID0gaCAtIDIgKiBtYXJnaW5ZO1xyXG4gICAgICAgIHZhciBncmFwaFggPSAwICogMC41ICsgbWFyZ2luWDtcclxuICAgICAgICB2YXIgZ3JhcGhZID0gMCAqIDAuNSArIGggLSBtYXJnaW5ZO1xyXG5cclxuICAgICAgICB2YXIgYXhpc1gwID0gMzYwO1xyXG4gICAgICAgIHZhciBheGlzWDEgPSA3NTA7XHJcbiAgICAgICAgdmFyIGF4aXNZMCA9IDAuMDtcclxuICAgICAgICB2YXIgYXhpc1kxID0gMS4wO1xyXG4gICAgICAgIHZhciB4VGlja3MgPSA1MC4wO1xyXG4gICAgICAgIHZhciB5VGlja3MgPSAwLjI7XHJcbiAgICAgICAgdmFyIHRpY2tTaXplID0gMTA7XHJcblxyXG4gICAgICAgIHZhciBtYXBYID0gZnVuY3Rpb24gKHg6IG51bWJlcikgeyByZXR1cm4gZ3JhcGhYICsgTWF0aC5mbG9vcihncmFwaFcgKiAoeCAtIGF4aXNYMCkgLyAoYXhpc1gxIC0gYXhpc1gwKSk7IH07XHJcbiAgICAgICAgdmFyIG1hcFkgPSBmdW5jdGlvbiAoeTogbnVtYmVyKSB7IHJldHVybiBncmFwaFkgLSBNYXRoLmZsb29yKGdyYXBoSCAqICh5IC0gYXhpc1kwKSAvIChheGlzWTEgLSBheGlzWTApKTsgfTtcclxuXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHRoaXMuc2V0Q29sb3IoMTI4LCAxMjgsIDEyOCk7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgY3R4LnNldExpbmVEYXNoKFsxLCAyXSk7XHJcbiAgICAgICAgZm9yICh2YXIgZ3ggPSBheGlzWDAgLSAxMCArIHhUaWNrczsgZ3ggPD0gYXhpc1gxOyBneCArPSB4VGlja3MpXHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0xpbmUoW21hcFgoZ3gpLCBncmFwaFksIG1hcFgoZ3gpLCBncmFwaFkgLSBncmFwaEhdKTtcclxuICAgICAgICBmb3IgKHZhciBneSA9IGF4aXNZMCArIHlUaWNrczsgZ3kgPD0gYXhpc1kxOyBneSArPSB5VGlja3MpXHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0xpbmUoW2dyYXBoWCwgbWFwWShneSksIGdyYXBoWCArIGdyYXBoVywgbWFwWShneSldKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgY3R4LnNldExpbmVEYXNoKFtdKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3BlY3RydW0gPSB0aGlzLnNwZWN0cnVtLnNhbXBsZXM7XHJcbiAgICAgICAgdmFyIG1heCA9IDAuMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwZWN0cnVtLmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICBtYXggPSBNYXRoLm1heChzcGVjdHJ1bVtpXSwgbWF4KTtcclxuICAgICAgICBtYXggKj0gMS4xO1xyXG5cclxuICAgICAgICB2YXIgZ3JhcGhlciA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGRyYXdHcmFwaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBMQU1CREFfTUlOLCBMQU1CREFfTUFYIH0gPSBFbWlzc2lvblNwZWN0cnVtO1xyXG4gICAgICAgICAgICB2YXIgc3BlY3RydW0gPSBncmFwaGVyLnNwZWN0cnVtLnNhbXBsZXM7XHJcbiAgICAgICAgICAgIHZhciBwYXRoID0gbmV3IFBhdGgyRCgpO1xyXG4gICAgICAgICAgICBwYXRoLm1vdmVUbygwLCBoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgZ3ggPSBheGlzWDA7IGd4IDw9IGF4aXNYMTsgZ3ggKz0gZ3JhcGhlci5zbW9vdGggPyAxNSA6IDEpIHtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gbWFwWChneCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ggPSBzcGVjdHJ1bS5sZW5ndGggKiAoZ3ggLSBMQU1CREFfTUlOKSAvIChMQU1CREFfTUFYIC0gTEFNQkRBX01JTik7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9IG1hcFkoc3BlY3RydW1bTWF0aC5tYXgoTWF0aC5taW4oTWF0aC5mbG9vcihzeCksIHNwZWN0cnVtLmxlbmd0aCAtIDEpLCAwKV0gLyBtYXgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGd4ID09IGF4aXNYMClcclxuICAgICAgICAgICAgICAgICAgICBwYXRoLm1vdmVUbyh4LCB5KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGgubGluZVRvKHgsIHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBmaWxsZWQgPSBkcmF3R3JhcGgoKTtcclxuICAgICAgICBmaWxsZWQubGluZVRvKGdyYXBoWCArIGdyYXBoVywgZ3JhcGhZKTtcclxuICAgICAgICBmaWxsZWQubGluZVRvKGdyYXBoWCwgZ3JhcGhZKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wYXR0ZXJuITtcclxuICAgICAgICBjdHguZmlsbChmaWxsZWQpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcblxyXG4gICAgICAgIHZhciBvdXRsaW5lID0gZHJhd0dyYXBoKCk7XHJcbiAgICAgICAgdGhpcy5zZXRDb2xvcigwLCAwLCAwKTtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguc3Ryb2tlKG91dGxpbmUpO1xyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5zZXRDb2xvcigxMjgsIDEyOCwgMTI4KTtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICB0aGlzLmRyYXdMaW5lKFtcclxuICAgICAgICAgICAgZ3JhcGhYICsgZ3JhcGhXLCBncmFwaFkgLSB0aWNrU2l6ZSxcclxuICAgICAgICAgICAgZ3JhcGhYICsgZ3JhcGhXLCBncmFwaFksXHJcbiAgICAgICAgICAgIGdyYXBoWCwgZ3JhcGhZLFxyXG4gICAgICAgICAgICBncmFwaFgsIGdyYXBoWSAtIGdyYXBoSCxcclxuICAgICAgICAgICAgZ3JhcGhYICsgdGlja1NpemUsIGdyYXBoWSAtIGdyYXBoSFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xyXG4gICAgICAgIGZvciAodmFyIGd4ID0gYXhpc1gwIC0gMTAgKyB4VGlja3M7IGd4IDwgYXhpc1gxOyBneCArPSB4VGlja3MpXHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0xpbmUoW21hcFgoZ3gpLCBncmFwaFksIG1hcFgoZ3gpLCBncmFwaFkgLSB0aWNrU2l6ZV0pO1xyXG4gICAgICAgIGZvciAodmFyIGd5ID0gYXhpc1kwICsgeVRpY2tzOyBneSA8IGF4aXNZMTsgZ3kgKz0geVRpY2tzKVxyXG4gICAgICAgICAgICB0aGlzLmRyYXdMaW5lKFtncmFwaFgsIG1hcFkoZ3kpLCBncmFwaFggKyB0aWNrU2l6ZSwgbWFwWShneSldKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gXCIxNXB4IHNlcmlmXCI7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgZm9yICh2YXIgZ3ggPSBheGlzWDAgLSAxMCArIHhUaWNrczsgZ3ggPCBheGlzWDE7IGd4ICs9IHhUaWNrcylcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGd4LnRvU3RyaW5nKCksIG1hcFgoZ3gpLCBncmFwaFkgKyAxNSk7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KFwizrtcIiwgZ3JhcGhYICsgZ3JhcGhXLCBncmFwaFkgKyAxNik7XHJcbiAgICB9XHJcbn1cclxuIiwiXHJcbmV4cG9ydCBjbGFzcyBQcm9ncmVzc0JhciB7XHJcbiAgICBlbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcm9ncmVzc0JhcjogSFRNTEVsZW1lbnQ7XHJcbiAgICBsYWJlbD86IEhUTUxFbGVtZW50O1xyXG5cclxuICAgIHByb2dyZXNzRnJhY3Rpb24gPSAwO1xyXG4gICAgcHJvZ3Jlc3NQZXJjZW50YWdlID0gMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihoYXNMYWJlbDogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHByb2dyZXNzQmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgcHJvZ3Jlc3NCYWNrZ3JvdW5kLmNsYXNzTmFtZSA9IFwicHJvZ3Jlc3NcIjtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0JhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5jbGFzc05hbWUgPSBcInByb2dyZXNzLWJhclwiO1xyXG4gICAgICAgIHByb2dyZXNzQmFja2dyb3VuZC5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzQmFyKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRQcm9ncmVzcygwLjApO1xyXG5cclxuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHByb2dyZXNzQmFja2dyb3VuZCk7XHJcblxyXG4gICAgICAgIGlmIChoYXNMYWJlbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuY2xhc3NOYW1lID0gXCJwcm9ncmVzcy1sYWJlbFwiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRQcm9ncmVzcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzc0ZyYWN0aW9uO1xyXG4gICAgfVxyXG4gICAgc2V0UHJvZ3Jlc3MocHJvZ3Jlc3NGcmFjdGlvbjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0ZyYWN0aW9uID0gcHJvZ3Jlc3NGcmFjdGlvbjtcclxuICAgICAgICB0aGlzLnByb2dyZXNzUGVyY2VudGFnZSA9IE1hdGgubWluKE1hdGgubWF4KE1hdGguZmxvb3IocHJvZ3Jlc3NGcmFjdGlvbiAqIDEwMC4wKSwgMCksIDEwMCk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IHRoaXMucHJvZ3Jlc3NQZXJjZW50YWdlLnRvU3RyaW5nKCkgKyBcIiVcIjtcclxuICAgIH1cclxuICAgIHNldFByb2dyZXNzV2l0aG91dFRyYW5zaXRpb24ocHJvZ3Jlc3NGcmFjdGlvbjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5jbGFzc0xpc3QuYWRkKFwibm90cmFuc2l0aW9uXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0UHJvZ3Jlc3MocHJvZ3Jlc3NGcmFjdGlvbik7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5vZmZzZXRIZWlnaHQ7IC8qIEZsdXNoIENTUyBjaGFuZ2VzICovXHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5jbGFzc0xpc3QucmVtb3ZlKFwibm90cmFuc2l0aW9uXCIpO1xyXG4gICAgfVxyXG4gICAgc2V0TGFiZWwodGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGFiZWwpXHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfVxyXG4gICAgZ2V0UHJvZ3Jlc3NQZXJjZW50YWdlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzUGVyY2VudGFnZTtcclxuICAgIH1cclxufVxyXG4iLCJcclxuXHJcbmV4cG9ydCBjbGFzcyBTbGlkZXIge1xyXG4gICAgZWw6IEhUTUxFbGVtZW50O1xyXG4gICAgc2xpZGVyQmFja2dyb3VuZDogSFRNTEVsZW1lbnQ7XHJcbiAgICBzbGlkZXJCYXI6IEhUTUxFbGVtZW50O1xyXG4gICAgc2xpZGVySGFuZGxlOiBIVE1MRWxlbWVudDtcclxuICAgIGxhYmVsPzogSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgdmFsdWUgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBtaW5WYWx1ZTogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyBtYXhWYWx1ZTogbnVtYmVyLFxyXG4gICAgICAgIGhhc0xhYmVsOiBib29sZWFuLFxyXG4gICAgICAgIHB1YmxpYyBjYWxsYmFjazogKHZhbHVlOiBudW1iZXIpID0+IHZvaWRcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuc2xpZGVyQmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJCYWNrZ3JvdW5kLmNsYXNzTmFtZSA9IFwic2xpZGVyXCI7XHJcblxyXG4gICAgICAgIHRoaXMuc2xpZGVyQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLnNsaWRlckJhci5jbGFzc05hbWUgPSBcInNsaWRlci1iYXJcIjtcclxuICAgICAgICB0aGlzLnNsaWRlckJhY2tncm91bmQuYXBwZW5kQ2hpbGQodGhpcy5zbGlkZXJCYXIpO1xyXG5cclxuICAgICAgICB0aGlzLnNsaWRlckhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICAgIHRoaXMuc2xpZGVySGFuZGxlLmNsYXNzTmFtZSA9IFwic2xpZGVyLWhhbmRsZVwiO1xyXG4gICAgICAgIHRoaXMuc2xpZGVyQmFja2dyb3VuZC5hcHBlbmRDaGlsZCh0aGlzLnNsaWRlckhhbmRsZSk7XHJcblxyXG4gICAgICAgIHZhciBtb3VzZU1vdmVMaXN0ZW5lciA9IHRoaXMubW91c2VNb3ZlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgZnVuY3Rpb24gbW91c2VVcExpc3RlbmVyKCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlTW92ZUxpc3RlbmVyKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbW91c2VVcExpc3RlbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2xpZGVySGFuZGxlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgbW91c2VNb3ZlTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtb3VzZVVwTGlzdGVuZXIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuc2xpZGVyQmFja2dyb3VuZCk7XHJcblxyXG4gICAgICAgIGlmIChoYXNMYWJlbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuY2xhc3NOYW1lID0gXCJzbGlkZXItbGFiZWxcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKDAuNDUpO1xyXG4gICAgfVxyXG4gICAgbW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLnNsaWRlckJhY2tncm91bmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbigoZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCkgLyAocmVjdC5yaWdodCAtIHJlY3QubGVmdCkpO1xyXG4gICAgfVxyXG4gICAgc2V0TGFiZWwodGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0VmFsdWUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4odGhpcy5tYXhWYWx1ZSwgTWF0aC5tYXgodGhpcy5taW5WYWx1ZSwgdmFsdWUpKTtcclxuICAgICAgICBpZiAodmFsdWUgIT0gdGhpcy52YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHZhciBwZXJjZW50YWdlID0gTWF0aC5tYXgoTWF0aC5taW4oTWF0aC5mbG9vcigxMDAuMCAqICh2YWx1ZSAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSksIDEwMC4wKSwgMC4wKTtcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXJIYW5kbGUuc3R5bGUubGVmdCA9IHRoaXMuc2xpZGVyQmFyLnN0eWxlLndpZHRoID0gcGVyY2VudGFnZS50b1N0cmluZygpICsgXCIlXCI7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFjaylcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldFBvc2l0aW9uKHBvc2l0aW9uOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnNldFZhbHVlKE1hdGguZmxvb3IodGhpcy5taW5WYWx1ZSArIHBvc2l0aW9uICogKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSkpO1xyXG4gICAgfVxyXG4gICAgc2hvdyhzaG93OiBib29sZWFuKSB7XHJcbiAgICAgICAgdmFyIGRpc3BsYXkgPSBzaG93ID8gXCJibG9ja1wiIDogXCJub25lXCI7XHJcbiAgICAgICAgdGhpcy5zbGlkZXJCYWNrZ3JvdW5kLnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xyXG4gICAgICAgIGlmICh0aGlzLmxhYmVsKVxyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLnN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xyXG4gICAgfVxyXG59XHJcbiIsIlxyXG5leHBvcnQgY2xhc3MgQnV0dG9uR3JpZCB7XHJcbiAgICBlbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBjb2x1bW5zOiBIVE1MRWxlbWVudFtdO1xyXG4gICAgY2VsbHM6IEhUTUxFbGVtZW50W107XHJcbiAgICBzZWxlY3RlZEJ1dHRvbiA9IDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGNvbHM6IG51bWJlcixcclxuICAgICAgICBsYWJlbHM6IHN0cmluZ1tdLFxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3Rpb25DYWxsYmFjazogKGlkeDogbnVtYmVyKSA9PiB2b2lkXHJcbiAgICApIHtcclxuICAgICAgICB0aGlzLnNlbGVjdGlvbkNhbGxiYWNrID0gc2VsZWN0aW9uQ2FsbGJhY2s7XHJcblxyXG4gICAgICAgIHRoaXMuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHRoaXMuZWwuY2xhc3NOYW1lID0gXCJidXR0b24tZ3JpZFwiO1xyXG5cclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjb2xzIH0sICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IFwiYnV0dG9uLWdyaWQtY29sdW1uXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW47XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lbC5hcHBlbmQoLi4udGhpcy5jb2x1bW5zKTtcclxuXHJcbiAgICAgICAgdGhpcy5jZWxscyA9IGxhYmVscy5tYXAoKGxhYmVsLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBjb2x1bW4gPSBpICUgdGhpcy5jb2xzO1xyXG4gICAgICAgICAgICB2YXIgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gXCJidXR0b24gc3RyZXRjaC1idXR0b24gYnV0dG9uLWdyaWQtYnV0dG9uXCI7XHJcbiAgICAgICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGFiZWwpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpID09IDApXHJcbiAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tZ3JpZC10bFwiKTtcclxuICAgICAgICAgICAgaWYgKGkgPT0gdGhpcy5jb2xzIC0gMSlcclxuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcImJ1dHRvbi1ncmlkLXRyXCIpO1xyXG4gICAgICAgICAgICBpZiAoaSArIHRoaXMuY29scyA+PSBsYWJlbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uLWdyaWQtYmxcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uID09IHRoaXMuY29scyAtIDEgfHwgaSA9PSBsYWJlbHMubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tZ3JpZC1iclwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5zZWxlY3QoaSkpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jb2x1bW5zW2NvbHVtbl0uYXBwZW5kQ2hpbGQoY2VsbCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY2VsbDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3QoMCk7XHJcbiAgICB9XHJcbiAgICBzZWxlY3QoaWR4OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoaWR4IDwgMCB8fCBpZHggPj0gdGhpcy5jZWxscy5sZW5ndGgpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuY2VsbHNbdGhpcy5zZWxlY3RlZEJ1dHRvbl0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICB0aGlzLmNlbGxzW2lkeF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRCdXR0b24gIT0gaWR4ICYmIHRoaXMuc2VsZWN0aW9uQ2FsbGJhY2spXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uQ2FsbGJhY2soaWR4KTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkQnV0dG9uID0gaWR4O1xyXG4gICAgfVxyXG4gICAgc2hvdyhzaG93OiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gc2hvdyA/IFwiZmxleFwiIDogXCJub25lXCI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQnV0dG9uR3JpZCB9IGZyb20gXCIuL0J1dHRvbkdyaWRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b25Hcm91cCBleHRlbmRzIEJ1dHRvbkdyaWQge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgdmVydGljYWw6IGJvb2xlYW4sXHJcbiAgICAgICAgbGFiZWxzOiBzdHJpbmdbXSxcclxuICAgICAgICBzZWxlY3Rpb25DYWxsYmFjazogKGlkeDogbnVtYmVyKSA9PiB2b2lkXHJcbiAgICApIHtcclxuICAgICAgICBzdXBlcih2ZXJ0aWNhbCA/IDEgOiBsYWJlbHMubGVuZ3RoLCBsYWJlbHMsIHNlbGVjdGlvbkNhbGxiYWNrKTtcclxuICAgIH1cclxufVxyXG4iLCJcclxuZXhwb3J0IGNsYXNzIE1vdXNlTGlzdGVuZXIge1xyXG4gICAgbW91c2VTdGFydDogW251bWJlciwgbnVtYmVyXSA9IFswLCAwXTtcclxuXHJcbiAgICBtb3VzZVVwSGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZVVwSGFuZGxlcik7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tb3VzZU1vdmVIYW5kbGVyKTtcclxuICAgIH07XHJcbiAgICBtb3VzZU1vdmVIYW5kbGVyID0gKGV2dDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tb3VzZVN0YXJ0LCB0aGlzLm1hcE1vdXNlRXZlbnQoZXZ0KSk7XHJcbiAgICB9O1xyXG4gICAgbW91c2VEb3duID0gKGV2dDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMubW91c2VTdGFydCA9IHRoaXMubWFwTW91c2VFdmVudChldnQpO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tb3VzZVN0YXJ0LCB0aGlzLm1vdXNlU3RhcnQpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm1vdXNlVXBIYW5kbGVyKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgdGFyZ2V0OiBIVE1MRWxlbWVudCxcclxuICAgICAgICBwdWJsaWMgY2FsbGJhY2s6IChtb3VzZVN0YXJ0OiBbbnVtYmVyLCBudW1iZXJdLCBtb3VzZTogW251bWJlciwgbnVtYmVyXSkgPT4gdm9pZFxyXG4gICAgKSB7XHJcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMubW91c2VEb3duKTtcclxuICAgIH1cclxuICAgIG1hcE1vdXNlRXZlbnQoZXZ0OiB7IGNsaWVudFg6IG51bWJlcjsgY2xpZW50WTogbnVtYmVyOyB9KTogW251bWJlciwgbnVtYmVyXSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICByZXR1cm4gW2V2dC5jbGllbnRYIC0gcmVjdC5sZWZ0LCBldnQuY2xpZW50WSAtIHJlY3QudG9wXTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgeyBQcm9ncmVzc0JhciB9IGZyb20gXCIuL1Byb2dyZXNzQmFyXCI7XHJcbmV4cG9ydCB7IFNsaWRlciB9IGZyb20gXCIuL1NsaWRlclwiO1xyXG5leHBvcnQgeyBCdXR0b25HcmlkIH0gZnJvbSBcIi4vQnV0dG9uR3JpZFwiO1xyXG5leHBvcnQgeyBCdXR0b25Hcm91cCB9IGZyb20gXCIuL0J1dHRvbkdyb3VwXCI7XHJcbmV4cG9ydCB7IE1vdXNlTGlzdGVuZXIgfSBmcm9tIFwiLi9Nb3VzZUxpc3RlbmVyXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZSh0YXJnZXRJZDogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldElkKSE7XHJcbiAgICB0YXJnZXQucGFyZW50Tm9kZSEucmVwbGFjZUNoaWxkKGVsLCB0YXJnZXQpO1xyXG59IiwiaW1wb3J0ICogYXMgX3NoYWRlcnMgZnJvbSBcIi4vdGFudGFsdW0tc2hhZGVyc1wiO1xyXG5cclxuY29uc3Qgc2hhZGVycyA9IF9zaGFkZXJzIGFzIHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVTaGFkZXIobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghKG5hbWUgaW4gc2hhZGVycykpIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIHNoYWRlciBzb3VyY2UgZm9yICdcIiArIG5hbWUgKyBcIidcIik7XHJcblxyXG4gICAgLyogUnVkaW1lbnRhcnkgaW5jbHVkZSBoYW5kbGluZyBmb3IgY29udmVuaWVuY2UuXHJcbiAgICAgICBOb3QgdGhlIG1vc3Qgcm9idXN0LCBidXQgaXQgd2lsbCBkbyBmb3Igb3VyIHB1cnBvc2VzICovXHJcbiAgICByZXR1cm4gc2hhZGVyc1tuYW1lXS5yZXBsYWNlQWxsKC8jaW5jbHVkZSBcIiguKylcIi9nLCAoXywgZzEpID0+IHJlc29sdmVTaGFkZXIoZzEpKTtcclxufTsiLCJpbXBvcnQgeyBFbWlzc2lvblNwZWN0cnVtIH0gZnJvbSBcIi4vRW1pc3Npb25TcGVjdHJ1bVwiO1xyXG5pbXBvcnQgKiBhcyB0d2dsIGZyb20gXCJ0d2dsLmpzXCI7XHJcbmltcG9ydCB7IHJlc29sdmVTaGFkZXIgfSBmcm9tIFwiLi4vcmVzb2x2ZVNoYWRlclwiO1xyXG5pbXBvcnQgeyBSYXlTdGF0ZSB9IGZyb20gXCIuL1JheVN0YXRlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRW1pdHRlciB7XHJcbiAgICBzdGF0aWMgU1BSRUFEX1BPSU5UID0gMDtcclxuICAgIHN0YXRpYyBTUFJFQURfQ09ORSA9IDE7XHJcbiAgICBzdGF0aWMgU1BSRUFEX0JFQU0gPSAyO1xyXG4gICAgc3RhdGljIFNQUkVBRF9MQVNFUiA9IDM7XHJcbiAgICBzdGF0aWMgU1BSRUFEX0FSRUEgPSA0O1xyXG5cclxuICAgIHNwcmVhZFR5cGUgPSBFbWl0dGVyLlNQUkVBRF9QT0lOVDtcclxuICAgIHNwZWN0cnVtOiBFbWlzc2lvblNwZWN0cnVtO1xyXG4gICAgcG9zOiBbbnVtYmVyLCBudW1iZXJdID0gWzAuNSwgMC41XTtcclxuICAgIGFuZ2xlOiBudW1iZXIgPSAwO1xyXG4gICAgcG93ZXIgPSAwO1xyXG4gICAgc3BhdGlhbFNwcmVhZCA9IDA7XHJcbiAgICBhbmd1bGFyU3ByZWFkID0gWzAsIDBdO1xyXG5cclxuICAgIGZyYW1lQnVmZmVyOiBXZWJHTEZyYW1lYnVmZmVyO1xyXG4gICAgcXVhZFZlcnRleEJ1ZmZlcjogdHdnbC5CdWZmZXJJbmZvO1xyXG4gICAgZW1pdFByb2dyYW06IHR3Z2wuUHJvZ3JhbUluZm87XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGdsOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgICAgIHB1YmxpYyBtdWx0aUJ1ZkV4dDogV0VCR0xfZHJhd19idWZmZXJzLFxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCkhO1xyXG4gICAgICAgIHRoaXMucXVhZFZlcnRleEJ1ZmZlciA9IHR3Z2wuY3JlYXRlQnVmZmVySW5mb0Zyb21BcnJheXMoZ2wsIHtcclxuICAgICAgICAgICAgUG9zaXRpb246IFsxLjAsIDEuMCwgMC4wLCAtMS4wLCAxLjAsIDAuMCwgLTEuMCwgLTEuMCwgMC4wLCAxLjAsIC0xLjAsIDAuMF0sXHJcbiAgICAgICAgICAgIFRleENvb3JkOiBbMS4wLCAxLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMS4wLCAwLjBdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZW1pdFByb2dyYW0gPSB0d2dsLmNyZWF0ZVByb2dyYW1JbmZvKGdsLCBbXHJcbiAgICAgICAgICAgIHJlc29sdmVTaGFkZXIoXCJlbWl0X3ZlcnRcIiksXHJcbiAgICAgICAgICAgIHJlc29sdmVTaGFkZXIoXCJlbWl0X2ZyYWdcIiksXHJcbiAgICAgICAgXSwgZXIgPT4geyB0aHJvdyBuZXcgRXJyb3IoZXIpOyB9KTtcclxuICAgICAgICB0aGlzLnNwZWN0cnVtID0gbmV3IEVtaXNzaW9uU3BlY3RydW0oZ2wpO1xyXG4gICAgICAgIHRoaXMuY29tcHV0ZVNwcmVhZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEVtaXNzaW9uU3BlY3RydW0odmFsdWVzOiBQYXJhbWV0ZXJzPEVtaXNzaW9uU3BlY3RydW1bXCJzZXRcIl0+WzBdKSB7XHJcbiAgICAgICAgdGhpcy5zcGVjdHJ1bS5zZXQodmFsdWVzKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQb3MocG9zQTogW251bWJlciwgbnVtYmVyXSwgcG9zQjogW251bWJlciwgbnVtYmVyXSkge1xyXG4gICAgICAgIHRoaXMucG9zID0gdGhpcy5zcHJlYWRUeXBlID09IEVtaXR0ZXIuU1BSRUFEX1BPSU5UID8gcG9zQiA6IHBvc0E7XHJcbiAgICAgICAgdGhpcy5hbmdsZSA9IHRoaXMuc3ByZWFkVHlwZSA9PSBFbWl0dGVyLlNQUkVBRF9QT0lOVCA/IDAuMCA6IE1hdGguYXRhbjIocG9zQlsxXSAtIHBvc0FbMV0sIHBvc0JbMF0gLSBwb3NBWzBdKTtcclxuICAgICAgICB0aGlzLmNvbXB1dGVTcHJlYWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTcHJlYWRUeXBlKHR5cGU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc3ByZWFkVHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5jb21wdXRlU3ByZWFkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcHV0ZVNwcmVhZCgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3ByZWFkVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEVtaXR0ZXIuU1BSRUFEX1BPSU5UOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3dlciA9IDAuMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3BhdGlhbFNwcmVhZCA9IDAuMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5ndWxhclNwcmVhZCA9IFswLjAsIE1hdGguUEkgKiAyLjBdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRW1pdHRlci5TUFJFQURfQ09ORTpcclxuICAgICAgICAgICAgICAgIHRoaXMucG93ZXIgPSAwLjAzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGF0aWFsU3ByZWFkID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmd1bGFyU3ByZWFkID0gW3RoaXMuYW5nbGUsIE1hdGguUEkgKiAwLjNdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRW1pdHRlci5TUFJFQURfQkVBTTpcclxuICAgICAgICAgICAgICAgIHRoaXMucG93ZXIgPSAwLjAzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGF0aWFsU3ByZWFkID0gMC40O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmd1bGFyU3ByZWFkID0gW3RoaXMuYW5nbGUsIDAuMF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBFbWl0dGVyLlNQUkVBRF9MQVNFUjpcclxuICAgICAgICAgICAgICAgIHRoaXMucG93ZXIgPSAwLjA1O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGF0aWFsU3ByZWFkID0gMC4wO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmd1bGFyU3ByZWFkID0gW3RoaXMuYW5nbGUsIDAuMF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBFbWl0dGVyLlNQUkVBRF9BUkVBOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3dlciA9IDAuMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3BhdGlhbFNwcmVhZCA9IDAuNDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5ndWxhclNwcmVhZCA9IFt0aGlzLmFuZ2xlLCBNYXRoLlBJXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBydW5FbWl0KFxyXG4gICAgICAgIGN1cnJlbnRSYXlTdGF0ZTogUmF5U3RhdGUsXHJcbiAgICAgICAgbmV4dFJheVN0YXRlOiBSYXlTdGF0ZSxcclxuICAgICAgICByYXlDb3VudDogbnVtYmVyLFxyXG4gICAgICAgIGFzcGVjdDogbnVtYmVyLFxyXG4gICAgKSB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGNvbnN0IHJheVNpemUgPSBuZXh0UmF5U3RhdGUuc2l6ZTtcclxuXHJcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLmZyYW1lQnVmZmVyKTtcclxuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCByYXlTaXplLCByYXlTaXplKTtcclxuICAgICAgICBnbC5zY2lzc29yKDAsIDAsIHJheVNpemUsIHJheUNvdW50KTtcclxuICAgICAgICBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcclxuICAgICAgICB0aGlzLm11bHRpQnVmRXh0LmRyYXdCdWZmZXJzV0VCR0woW1xyXG4gICAgICAgICAgICBnbC5DT0xPUl9BVFRBQ0hNRU5UMCxcclxuICAgICAgICAgICAgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyAxLFxyXG4gICAgICAgICAgICBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIDIsXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoXHJcbiAgICAgICAgICAgIGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgbmV4dFJheVN0YXRlLnBvc1RleCwgMCk7XHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoXHJcbiAgICAgICAgICAgIGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIDEsIGdsLlRFWFRVUkVfMkQsIG5leHRSYXlTdGF0ZS5ybmdUZXgsIDApO1xyXG4gICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKFxyXG4gICAgICAgICAgICBnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyAyLCBnbC5URVhUVVJFXzJELCBuZXh0UmF5U3RhdGUucmdiVGV4LCAwKTtcclxuXHJcbiAgICAgICAgdHdnbC5kcmF3T2JqZWN0TGlzdChnbCwgW3tcclxuICAgICAgICAgICAgcHJvZ3JhbUluZm86IHRoaXMuZW1pdFByb2dyYW0sXHJcbiAgICAgICAgICAgIGJ1ZmZlckluZm86IHRoaXMucXVhZFZlcnRleEJ1ZmZlcixcclxuICAgICAgICAgICAgdW5pZm9ybXM6IHtcclxuICAgICAgICAgICAgICAgIFJuZ0RhdGE6IGN1cnJlbnRSYXlTdGF0ZS5ybmdUZXgsXHJcbiAgICAgICAgICAgICAgICBTcGVjdHJ1bTogdGhpcy5zcGVjdHJ1bS5zcGVjdHJ1bVRleCxcclxuICAgICAgICAgICAgICAgIEVtaXNzaW9uOiB0aGlzLnNwZWN0cnVtLmVtaXNzaW9uVGV4LFxyXG4gICAgICAgICAgICAgICAgSUNERjogdGhpcy5zcGVjdHJ1bS5lbWlzc2lvbkljZGZUZXgsXHJcbiAgICAgICAgICAgICAgICBQREY6IHRoaXMuc3BlY3RydW0uZW1pc3Npb25QZGZUZXgsXHJcbiAgICAgICAgICAgICAgICBFbWl0dGVyUG9zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgKCh0aGlzLnBvc1swXSkgKiAyLjAgLSAxLjApICogYXNwZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgIDEuMCAtICh0aGlzLnBvc1sxXSkgKiAyLjBdLFxyXG4gICAgICAgICAgICAgICAgRW1pdHRlckRpcjogW1xyXG4gICAgICAgICAgICAgICAgICAgIE1hdGguY29zKHRoaXMuYW5ndWxhclNwcmVhZFswXSksXHJcbiAgICAgICAgICAgICAgICAgICAgLU1hdGguc2luKHRoaXMuYW5ndWxhclNwcmVhZFswXSldLFxyXG4gICAgICAgICAgICAgICAgRW1pdHRlclBvd2VyOiB0aGlzLnBvd2VyLFxyXG4gICAgICAgICAgICAgICAgU3BhdGlhbFNwcmVhZDogdGhpcy5zcGF0aWFsU3ByZWFkLFxyXG4gICAgICAgICAgICAgICAgQW5ndWxhclNwcmVhZDogWy10aGlzLmFuZ3VsYXJTcHJlYWRbMF0sIHRoaXMuYW5ndWxhclNwcmVhZFsxXV0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR5cGU6IGdsLlRSSUFOR0xFX0ZBTixcclxuICAgICAgICB9XSk7XHJcblxyXG4gICAgICAgIHRoaXMubXVsdGlCdWZFeHQuZHJhd0J1ZmZlcnNXRUJHTChbXHJcbiAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgbnVsbCwgMCk7XHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgMSwgZ2wuVEVYVFVSRV8yRCwgbnVsbCwgMCk7XHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgMiwgZ2wuVEVYVFVSRV8yRCwgbnVsbCwgMCk7XHJcbiAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xyXG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgdHdnbCBmcm9tIFwidHdnbC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJheVN0YXRlIHtcclxuICAgIHBvc1RleDogV2ViR0xUZXh0dXJlO1xyXG4gICAgcm5nVGV4OiBXZWJHTFRleHR1cmU7XHJcbiAgICByZ2JUZXg6IFdlYkdMVGV4dHVyZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgZ2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICAgICAgcHVibGljIHNpemU6IG51bWJlclxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5wb3NUZXggPSB0d2dsLmNyZWF0ZVRleHR1cmUoZ2wsIHtcclxuICAgICAgICAgICAgd2lkdGg6IHNpemUsXHJcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZSxcclxuICAgICAgICAgICAgZm9ybWF0OiBnbC5SR0JBLFxyXG4gICAgICAgICAgICB0eXBlOiBnbC5GTE9BVCxcclxuICAgICAgICAgICAgbWluTWFnOiBnbC5ORUFSRVNULFxyXG4gICAgICAgICAgICB3cmFwOiBnbC5DTEFNUF9UT19FREdFLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBybmdEYXRhID0gbmV3IEZsb2F0MzJBcnJheShzaXplICogc2l6ZSAqIDQpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZSAqIHNpemUgKiA0OyArK2kpIHtcclxuICAgICAgICAgICAgcm5nRGF0YVtpXSA9IE1hdGgucmFuZG9tKCkgKiA0MTk0MTY3LjA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucm5nVGV4ID0gdHdnbC5jcmVhdGVUZXh0dXJlKGdsLCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHNpemUsXHJcbiAgICAgICAgICAgIGZvcm1hdDogZ2wuUkdCQSxcclxuICAgICAgICAgICAgdHlwZTogZ2wuRkxPQVQsXHJcbiAgICAgICAgICAgIG1pbk1hZzogZ2wuTkVBUkVTVCxcclxuICAgICAgICAgICAgd3JhcDogZ2wuQ0xBTVBfVE9fRURHRSxcclxuICAgICAgICAgICAgc3JjOiBybmdEYXRhLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJnYlRleCA9IHR3Z2wuY3JlYXRlVGV4dHVyZShnbCwge1xyXG4gICAgICAgICAgICB3aWR0aDogc2l6ZSxcclxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IGdsLlJHQkEsXHJcbiAgICAgICAgICAgIHR5cGU6IGdsLkZMT0FULFxyXG4gICAgICAgICAgICBtaW5NYWc6IGdsLk5FQVJFU1QsXHJcbiAgICAgICAgICAgIHdyYXA6IGdsLkNMQU1QX1RPX0VER0UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgd2F2ZWxlbmd0aFRvUmdiVGFibGUgfSBmcm9tIFwiLi93YXZlbGVuZ3RoVG9SZ2JUYWJsZVwiO1xyXG5pbXBvcnQgeyBFbWlzc2lvblNwZWN0cnVtIH0gZnJvbSBcIi4vRW1pc3Npb25TcGVjdHJ1bVwiO1xyXG5pbXBvcnQgKiBhcyB0d2dsIGZyb20gXCJ0d2dsLmpzXCI7XHJcbmltcG9ydCB7IHJlc29sdmVTaGFkZXIgfSBmcm9tIFwiLi4vcmVzb2x2ZVNoYWRlclwiO1xyXG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIi4vRW1pdHRlclwiO1xyXG4vLyBpbXBvcnQgeyBNb25vY2hyb21hdGljUG9pbnRFbWl0dG9yIH0gZnJvbSBcIi4vTW9ub2Nocm9tYXRpY1BvaW50RW1pdHRvclwiO1xyXG5pbXBvcnQgeyBSYXlTdGF0ZSB9IGZyb20gXCIuL1JheVN0YXRlXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9ybWF0Rm9yQ2hhbm5lbENvdW50KGdsOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0LCBjaGFubmVsczogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gW2dsLkxVTUlOQU5DRSwgZ2wuUkcsIGdsLlJHQiwgZ2wuUkdCQV1bY2hhbm5lbHMgLSAxXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlbmRlcmVyIHtcclxuICAgIG1heFNhbXBsZUNvdW50ID0gMTAwMDAwO1xyXG4gICAgbWF4UGF0aExlbmd0aCA9IDEyO1xyXG4gICAgY3VycmVudFNjZW5lID0gMDtcclxuXHJcbiAgICBxdWFkVmJvOiB0d2dsLkJ1ZmZlckluZm87XHJcbiAgICBjb21wb3NpdGVQcm9ncmFtOiB0d2dsLlByb2dyYW1JbmZvO1xyXG4gICAgcGFzc1Byb2dyYW06IHR3Z2wuUHJvZ3JhbUluZm87XHJcbiAgICByYXlQcm9ncmFtOiB0d2dsLlByb2dyYW1JbmZvO1xyXG4gICAgdHJhY2VQcm9ncmFtczogdHdnbC5Qcm9ncmFtSW5mb1tdO1xyXG5cclxuICAgIHJheVNpemUgPSA1MTI7XHJcbiAgICByYXlDb3VudCA9IHRoaXMucmF5U2l6ZSAqIHRoaXMucmF5U2l6ZTtcclxuICAgIGN1cnJlbnRTdGF0ZUluZGV4ID0gMDtcclxuICAgIHJheVN0YXRlczogUmF5U3RhdGVbXTtcclxuXHJcbiAgICByYXlWYm86IHR3Z2wuQnVmZmVySW5mbztcclxuICAgIGZibzogV2ViR0xGcmFtZWJ1ZmZlcjtcclxuXHJcbiAgICByYXlzUGVyV2F2ZSA9IDQ7XHJcblxyXG4gICAgYXNwZWN0ID0gMTtcclxuXHJcbiAgICBzY3JlZW5CdWZmZXI/OiBXZWJHTFRleHR1cmU7XHJcbiAgICB3YXZlQnVmZmVyPzogV2ViR0xUZXh0dXJlO1xyXG5cclxuICAgIGVtaXR0ZXI6IEVtaXR0ZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGdsOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgICAgIHB1YmxpYyBtdWx0aUJ1ZkV4dDogV0VCR0xfZHJhd19idWZmZXJzLFxyXG4gICAgICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICBzY2VuZXM6IHN0cmluZ1tdLFxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoZ2wsIG11bHRpQnVmRXh0KTtcclxuICAgICAgICB0aGlzLnF1YWRWYm8gPSB0d2dsLmNyZWF0ZUJ1ZmZlckluZm9Gcm9tQXJyYXlzKGdsLCB7XHJcbiAgICAgICAgICAgIFBvc2l0aW9uOiBbXHJcbiAgICAgICAgICAgICAgICAxLjAsIDEuMCwgMC4wLFxyXG4gICAgICAgICAgICAgICAgLTEuMCwgMS4wLCAwLjAsXHJcbiAgICAgICAgICAgICAgICAtMS4wLCAtMS4wLCAwLjAsXHJcbiAgICAgICAgICAgICAgICAxLjAsIC0xLjAsIDAuMFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBUZXhDb29yZDogW1xyXG4gICAgICAgICAgICAgICAgMS4wLCAxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjAsIDEuMCxcclxuICAgICAgICAgICAgICAgIDAuMCwgMC4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLCAwLjBcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKHZlcnROYW1lOiBzdHJpbmcsIGZyYWdOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR3Z2wuY3JlYXRlUHJvZ3JhbUluZm8oZ2wsIFtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVTaGFkZXIodmVydE5hbWUpLFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZVNoYWRlcihmcmFnTmFtZSksXHJcbiAgICAgICAgICAgIF0sIGVyID0+IHsgdGhyb3cgbmV3IEVycm9yKGVyKTsgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbXBvc2l0ZVByb2dyYW0gPSBjcmVhdGVQcm9ncmFtKFwiY29tcG9zZV92ZXJ0XCIsIFwiY29tcG9zZV9mcmFnXCIpO1xyXG4gICAgICAgIHRoaXMucGFzc1Byb2dyYW0gPSBjcmVhdGVQcm9ncmFtKFwiY29tcG9zZV92ZXJ0XCIsIFwicGFzc19mcmFnXCIpO1xyXG4gICAgICAgIHRoaXMucmF5UHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW0oXCJyYXlfdmVydFwiLCBcInJheV9mcmFnXCIpO1xyXG4gICAgICAgIHRoaXMudHJhY2VQcm9ncmFtcyA9IHNjZW5lcy5tYXAocyA9PiBjcmVhdGVQcm9ncmFtKFwidHJhY2VfdmVydFwiLCBzKSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnJlc2V0QWN0aXZlQmxvY2soKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZUluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLnJheVN0YXRlcyA9IFtuZXcgUmF5U3RhdGUoZ2wsIHRoaXMucmF5U2l6ZSksIG5ldyBSYXlTdGF0ZShnbCwgdGhpcy5yYXlTaXplKV07XHJcblxyXG4gICAgICAgIGNvbnN0IHZib0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMucmF5Q291bnQgKiAyICogMyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJheUNvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgdSA9ICgoaSAlIHRoaXMucmF5U2l6ZSkgKyAwLjUpIC8gdGhpcy5yYXlTaXplO1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gKE1hdGguZmxvb3IoaSAvIHRoaXMucmF5U2l6ZSkgKyAwLjUpIC8gdGhpcy5yYXlTaXplO1xyXG4gICAgICAgICAgICB2Ym9EYXRhW2kgKiA2ICsgMF0gPSB2Ym9EYXRhW2kgKiA2ICsgM10gPSB1O1xyXG4gICAgICAgICAgICB2Ym9EYXRhW2kgKiA2ICsgMV0gPSB2Ym9EYXRhW2kgKiA2ICsgNF0gPSB2O1xyXG4gICAgICAgICAgICB2Ym9EYXRhW2kgKiA2ICsgMl0gPSAwLjA7XHJcbiAgICAgICAgICAgIHZib0RhdGFbaSAqIDYgKyA1XSA9IDEuMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yYXlWYm8gPSB0d2dsLmNyZWF0ZUJ1ZmZlckluZm9Gcm9tQXJyYXlzKGdsLCB7XHJcbiAgICAgICAgICAgIFwiVGV4Q29vcmRcIjogeyBudW1Db21wb25lbnRzOiAzLCBkYXRhOiB2Ym9EYXRhIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZmJvID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKSE7XHJcblxyXG4gICAgICAgIGdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGFuZ2VSZXNvbHV0aW9uKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG4gICAgcmVzZXRBY3RpdmVCbG9jaygpIHtcclxuICAgICAgICB0aGlzLnJheXNQZXJXYXZlID0gNDtcclxuICAgIH1cclxuICAgIHNldEVtaXNzaW9uU3BlY3RydW0odmFsdWVzOiBQYXJhbWV0ZXJzPEVtaXNzaW9uU3BlY3RydW1bXCJzZXRcIl0+WzBdKSB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLnNldEVtaXNzaW9uU3BlY3RydW0odmFsdWVzKTtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TWF4UGF0aExlbmd0aChsZW5ndGg6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubWF4UGF0aExlbmd0aCA9IGxlbmd0aDtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICBzZXRNYXhTYW1wbGVDb3VudChjb3VudDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5tYXhTYW1wbGVDb3VudCA9IGNvdW50O1xyXG4gICAgfVxyXG4gICAgY2hhbmdlUmVzb2x1dGlvbih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcclxuXHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuQnVmZmVyID0gdHdnbC5jcmVhdGVUZXh0dXJlKGdsLCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxyXG4gICAgICAgICAgICBmb3JtYXQ6IGdldEZvcm1hdEZvckNoYW5uZWxDb3VudChnbCwgNCksXHJcbiAgICAgICAgICAgIHR5cGU6IGdsLkZMT0FULFxyXG4gICAgICAgICAgICBtaW5NYWc6IGdsLk5FQVJFU1QsXHJcbiAgICAgICAgICAgIHdyYXA6IGdsLkNMQU1QX1RPX0VER0VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLndhdmVCdWZmZXIgPSB0d2dsLmNyZWF0ZVRleHR1cmUoZ2wsIHtcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgICAgIGZvcm1hdDogZ2V0Rm9ybWF0Rm9yQ2hhbm5lbENvdW50KGdsLCA0KSxcclxuICAgICAgICAgICAgdHlwZTogZ2wuRkxPQVQsXHJcbiAgICAgICAgICAgIG1pbk1hZzogZ2wuTkVBUkVTVCxcclxuICAgICAgICAgICAgd3JhcDogZ2wuQ0xBTVBfVE9fRURHRVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0QWN0aXZlQmxvY2soKTtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICBjaGFuZ2VTY2VuZShpZHg6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucmVzZXRBY3RpdmVCbG9jaygpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFNjZW5lID0gaWR4O1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuICAgIGlzRmlyc3RXYXZlID0gdHJ1ZTtcclxuICAgIHdhdmVTdGFydFRpbWVzdGFtcCA9IDA7XHJcbiAgICB3YXZlRnJhbWVzQ291bnQgPSAwO1xyXG4gICAgcmF5c1RyYWNlZCA9IDA7XHJcbiAgICBzYW1wbGVzVHJhY2VkID0gMDtcclxuICAgIHBhdGhMZW5ndGggPSAwO1xyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5pc0ZpcnN0V2F2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy53YXZlU3RhcnRUaW1lc3RhbXAgPSAwO1xyXG4gICAgICAgIHRoaXMud2F2ZUZyYW1lc0NvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnJheXNUcmFjZWQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2FtcGxlc1RyYWNlZCA9IDA7XHJcbiAgICAgICAgdGhpcy5wYXRoTGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5mYm8pO1xyXG4gICAgICAgIHRoaXMubXVsdGlCdWZFeHQuZHJhd0J1ZmZlcnNXRUJHTChbZ2wuQ09MT1JfQVRUQUNITUVOVDBdKTtcclxuICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRoaXMuc2NyZWVuQnVmZmVyISwgMCk7XHJcbiAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgIH1cclxuICAgIHNldFNwcmVhZFR5cGUoLi4uYXJnczogUGFyYW1ldGVyczxFbWl0dGVyW1wic2V0U3ByZWFkVHlwZVwiXT4pIHtcclxuICAgICAgICB0aGlzLnJlc2V0QWN0aXZlQmxvY2soKTtcclxuICAgICAgICB0aGlzLmVtaXR0ZXIuc2V0U3ByZWFkVHlwZSguLi5hcmdzKTtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICBzZXRFbWl0dGVyUG9zKHBvc0E6IFtudW1iZXIsIG51bWJlcl0sIHBvc0I6IFtudW1iZXIsIG51bWJlcl0pIHtcclxuICAgICAgICB0aGlzLnNldE5vcm1hbGl6ZWRFbWl0dGVyUG9zKFxyXG4gICAgICAgICAgICBbcG9zQVswXSAvIHRoaXMud2lkdGgsIHBvc0FbMV0gLyB0aGlzLmhlaWdodF0sXHJcbiAgICAgICAgICAgIFtwb3NCWzBdIC8gdGhpcy53aWR0aCwgcG9zQlsxXSAvIHRoaXMuaGVpZ2h0XVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBzZXROb3JtYWxpemVkRW1pdHRlclBvcyguLi5hcmdzOiBQYXJhbWV0ZXJzPEVtaXR0ZXJbXCJzZXRQb3NcIl0+KSB7XHJcbiAgICAgICAgdGhpcy5lbWl0dGVyLnNldFBvcyguLi5hcmdzKTtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICB0b3RhbFJheXNUcmFjZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmF5c1RyYWNlZDtcclxuICAgIH1cclxuICAgIG1heFJheUNvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1heFBhdGhMZW5ndGggKiB0aGlzLm1heFNhbXBsZUNvdW50O1xyXG4gICAgfVxyXG4gICAgdG90YWxTYW1wbGVzVHJhY2VkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNhbXBsZXNUcmFjZWQ7XHJcbiAgICB9XHJcbiAgICBwcm9ncmVzcygpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy50b3RhbFJheXNUcmFjZWQoKSAvIHRoaXMubWF4UmF5Q291bnQoKSwgMS4wKTtcclxuICAgIH1cclxuICAgIGZpbmlzaGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsU2FtcGxlc1RyYWNlZCgpID49IHRoaXMubWF4U2FtcGxlQ291bnQ7XHJcbiAgICB9XHJcbiAgICBydW5Db21wb3NpdGUoKSB7XHJcbiAgICAgICAgdHdnbC5kcmF3T2JqZWN0TGlzdCh0aGlzLmdsLCBbe1xyXG4gICAgICAgICAgICBwcm9ncmFtSW5mbzogdGhpcy5jb21wb3NpdGVQcm9ncmFtLFxyXG4gICAgICAgICAgICBidWZmZXJJbmZvOiB0aGlzLnF1YWRWYm8sXHJcbiAgICAgICAgICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgICAgICAgICAgICBGcmFtZTogdGhpcy5zY3JlZW5CdWZmZXIhLFxyXG4gICAgICAgICAgICAgICAgRXhwb3N1cmU6IHRoaXMud2lkdGggLyAoTWF0aC5tYXgodGhpcy5zYW1wbGVzVHJhY2VkLCB0aGlzLnJheVNpemUgKiB0aGlzLnJheXNQZXJXYXZlKSksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR5cGU6IHRoaXMuZ2wuVFJJQU5HTEVfRkFOLFxyXG4gICAgICAgIH1dKTtcclxuICAgIH1cclxuICAgIHJ1blJheSgpIHtcclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudFN0YXRlSW5kZXg7XHJcbiAgICAgICAgY29uc3QgbmV4dCA9IDEgLSB0aGlzLmN1cnJlbnRTdGF0ZUluZGV4O1xyXG5cclxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuZmJvKTtcclxuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5tdWx0aUJ1ZkV4dC5kcmF3QnVmZmVyc1dFQkdMKFtnbC5DT0xPUl9BVFRBQ0hNRU5UMF0pO1xyXG4gICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGhpcy53YXZlQnVmZmVyISwgMCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhdGhMZW5ndGggPT0gMCB8fCB0aGlzLmlzRmlyc3RXYXZlKSB7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuXHJcbiAgICAgICAgdHdnbC5kcmF3T2JqZWN0TGlzdChnbCwgW3tcclxuICAgICAgICAgICAgcHJvZ3JhbUluZm86IHRoaXMucmF5UHJvZ3JhbSxcclxuICAgICAgICAgICAgYnVmZmVySW5mbzogdGhpcy5yYXlWYm8sXHJcbiAgICAgICAgICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgICAgICAgICAgICBQb3NEYXRhQTogdGhpcy5yYXlTdGF0ZXNbY3VycmVudF0ucG9zVGV4LFxyXG4gICAgICAgICAgICAgICAgUG9zRGF0YUI6IHRoaXMucmF5U3RhdGVzW25leHRdLnBvc1RleCxcclxuICAgICAgICAgICAgICAgIFJnYkRhdGE6IHRoaXMucmF5U3RhdGVzW2N1cnJlbnRdLnJnYlRleCxcclxuICAgICAgICAgICAgICAgIEFzcGVjdDogdGhpcy5hc3BlY3QsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR5cGU6IGdsLkxJTkVTLFxyXG4gICAgICAgICAgICBjb3VudDogdGhpcy5yYXlTaXplICogdGhpcy5yYXlzUGVyV2F2ZSAqIDIsXHJcbiAgICAgICAgfV0pO1xyXG5cclxuICAgICAgICBnbC5kaXNhYmxlKGdsLkJMRU5EKTtcclxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgfVxyXG4gICAgcnVuUGFzcygpIHtcclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcblxyXG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5mYm8pO1xyXG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLm11bHRpQnVmRXh0LmRyYXdCdWZmZXJzV0VCR0woW2dsLkNPTE9SX0FUVEFDSE1FTlQwXSk7XHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0aGlzLnNjcmVlbkJ1ZmZlciEsIDApO1xyXG4gICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XHJcbiAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLk9ORSwgZ2wuT05FKTtcclxuXHJcbiAgICAgICAgdHdnbC5kcmF3T2JqZWN0TGlzdChnbCwgW3tcclxuICAgICAgICAgICAgcHJvZ3JhbUluZm86IHRoaXMucGFzc1Byb2dyYW0sXHJcbiAgICAgICAgICAgIGJ1ZmZlckluZm86IHRoaXMucXVhZFZibyxcclxuICAgICAgICAgICAgdW5pZm9ybXM6IHtcclxuICAgICAgICAgICAgICAgIEZyYW1lOiB0aGlzLndhdmVCdWZmZXIhLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0eXBlOiBnbC5UUklBTkdMRV9GQU4sXHJcbiAgICAgICAgfV0pO1xyXG5cclxuICAgICAgICBnbC5kaXNhYmxlKGdsLkJMRU5EKTtcclxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgfVxyXG4gICAgcnVuVHJhY2UoKSB7XHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG5cclxuICAgICAgICBjb25zdCBjdXJyZWN0UmF5U3RhdGUgPSB0aGlzLnJheVN0YXRlc1t0aGlzLmN1cnJlbnRTdGF0ZUluZGV4XTtcclxuICAgICAgICBjb25zdCBuZXh0UmF5U3RhdGUgPSB0aGlzLnJheVN0YXRlc1sxIC0gdGhpcy5jdXJyZW50U3RhdGVJbmRleF07XHJcblxyXG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5mYm8pO1xyXG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIHRoaXMucmF5U2l6ZSwgdGhpcy5yYXlTaXplKTtcclxuICAgICAgICBnbC5zY2lzc29yKDAsIDAsIHRoaXMucmF5U2l6ZSwgdGhpcy5yYXlzUGVyV2F2ZSk7XHJcbiAgICAgICAgZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XHJcbiAgICAgICAgdGhpcy5tdWx0aUJ1ZkV4dC5kcmF3QnVmZmVyc1dFQkdMKFtcclxuICAgICAgICAgICAgZ2wuQ09MT1JfQVRUQUNITUVOVDAsXHJcbiAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgMSxcclxuICAgICAgICAgICAgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyAyLFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgbmV4dFJheVN0YXRlLnBvc1RleCwgMCk7XHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgMSwgZ2wuVEVYVFVSRV8yRCwgbmV4dFJheVN0YXRlLnJuZ1RleCwgMCk7XHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgMiwgZ2wuVEVYVFVSRV8yRCwgbmV4dFJheVN0YXRlLnJnYlRleCwgMCk7XHJcblxyXG4gICAgICAgIHR3Z2wuZHJhd09iamVjdExpc3QoZ2wsIFt7XHJcbiAgICAgICAgICAgIHByb2dyYW1JbmZvOiB0aGlzLnRyYWNlUHJvZ3JhbXNbdGhpcy5jdXJyZW50U2NlbmVdLFxyXG4gICAgICAgICAgICBidWZmZXJJbmZvOiB0aGlzLnF1YWRWYm8sXHJcbiAgICAgICAgICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgICAgICAgICAgICBQb3NEYXRhOiBjdXJyZWN0UmF5U3RhdGUucG9zVGV4LFxyXG4gICAgICAgICAgICAgICAgUm5nRGF0YTogY3VycmVjdFJheVN0YXRlLnJuZ1RleCxcclxuICAgICAgICAgICAgICAgIFJnYkRhdGE6IGN1cnJlY3RSYXlTdGF0ZS5yZ2JUZXgsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR5cGU6IHRoaXMuZ2wuVFJJQU5HTEVfRkFOLFxyXG4gICAgICAgIH1dKTtcclxuXHJcbiAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCBudWxsLCAwKTtcclxuICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyAxLCBnbC5URVhUVVJFXzJELCBudWxsLCAwKTtcclxuICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyAyLCBnbC5URVhUVVJFXzJELCBudWxsLCAwKTtcclxuICAgICAgICBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XHJcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgIH1cclxuICAgIHJlbmRlcih0aW1lc3RhbXA6IG51bWJlcikge1xyXG4gICAgICAgIC8vIElmIHRoaXMgZnJhbWUgc3RhcnRzIGEgbmV3IHdhdmVcclxuICAgICAgICBpZiAodGhpcy5wYXRoTGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy53YXZlU3RhcnRUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XHJcbiAgICAgICAgICAgIHRoaXMud2F2ZUZyYW1lc0NvdW50ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLnJ1bkVtaXQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJheVN0YXRlc1t0aGlzLmN1cnJlbnRTdGF0ZUluZGV4XSxcclxuICAgICAgICAgICAgICAgIHRoaXMucmF5U3RhdGVzWzEgLSB0aGlzLmN1cnJlbnRTdGF0ZUluZGV4XSxcclxuICAgICAgICAgICAgICAgIHRoaXMucmF5c1BlcldhdmUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFzcGVjdCxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVJbmRleCA9IDEgLSB0aGlzLmN1cnJlbnRTdGF0ZUluZGV4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ydW5UcmFjZSgpO1xyXG4gICAgICAgIHRoaXMucnVuUmF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMucmF5c1RyYWNlZCArPSB0aGlzLnJheVNpemUgKiB0aGlzLnJheXNQZXJXYXZlO1xyXG4gICAgICAgIHRoaXMucGF0aExlbmd0aCArPSAxO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgd2F2ZSBoYXMgZW5kZWQsIHByZXBhcmUgdG8gc3RhcnQgYSBuZXcgd2F2ZVxyXG4gICAgICAgIGlmICh0aGlzLnBhdGhMZW5ndGggPT0gdGhpcy5tYXhQYXRoTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucnVuUGFzcygpO1xyXG4gICAgICAgICAgICB0aGlzLnNhbXBsZXNUcmFjZWQgKz0gdGhpcy5yYXlTaXplICogdGhpcy5yYXlzUGVyV2F2ZTtcclxuICAgICAgICAgICAgdGhpcy5pc0ZpcnN0V2F2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnBhdGhMZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRqdXN0IGhvdyBtYW55IHJheXMgYXJlIGNvbXB1dGVkIHBlciB3YXZlXHJcbiAgICAgICAgICAgIC8vIGp1ZGdpbmcgZnJvbSB0aGUgRlBTIGR1cmluZyB0aGF0IHdhdmVcclxuICAgICAgICAgICAgaWYgKHRoaXMud2F2ZUZyYW1lc0NvdW50ID4gNCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXZnRnJhbWVUaW1lID0gKHRpbWVzdGFtcCAtIHRoaXMud2F2ZVN0YXJ0VGltZXN0YW1wKSAvIHRoaXMud2F2ZUZyYW1lc0NvdW50O1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF2Z0ZyYW1lVGltZSwgdGhpcy5yYXlzUGVyV2F2ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLyogTGV0J3MgdHJ5IHRvIHN0YXkgYXQgcmVhc29uYWJsZSBmcmFtZSB0aW1lcy4gVGFyZ2V0aW5nIDE2bXMgaXNcclxuICAgICAgICAgICAgICAgICAgIGEgYml0IHRyaWNreSBiZWNhdXNlIHRoZXJlJ3MgYSBsb3Qgb2YgdmFyaWFiaWxpdHkgaW4gaG93IG9mdGVuXHJcbiAgICAgICAgICAgICAgICAgICB0aGUgYnJvd3NlciBleGVjdXRlcyB0aGlzIGxvb3AgYW5kIDE2bXMgbWlnaHQgd2VsbCBub3QgYmVcclxuICAgICAgICAgICAgICAgICAgIHJlYWNoYWJsZSwgYnV0IDI0bXMgc2VlbXMgdG8gZG8gb2sgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEZyYW1lVGltZSA9IDI0LjA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJheXNQZXJXYXZlID0gTWF0aC5tYXgoNCwgTWF0aC5taW4oNTEyLCBNYXRoLnJvdW5kKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmF5c1BlcldhdmUgKiAodGFyZ2V0RnJhbWVUaW1lIC8gYXZnRnJhbWVUaW1lKVxyXG4gICAgICAgICAgICAgICAgKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEcmF3IHRoZSByZXN1bHRzIGV2ZXJ5IGZyYW1lIGR1cmluZyB0aGUgZmlyc3Qgd2F2ZVxyXG4gICAgICAgIGlmICh0aGlzLmlzRmlyc3RXYXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucnVuUGFzcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ydW5Db21wb3NpdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGVJbmRleCA9IDEgLSB0aGlzLmN1cnJlbnRTdGF0ZUluZGV4O1xyXG4gICAgICAgIHRoaXMud2F2ZUZyYW1lc0NvdW50Kys7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbiIsImltcG9ydCAqIGFzIHR3Z2wgZnJvbSBcInR3Z2wuanNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb2xvckJ1ZmZlckZsb2F0VGVzdChcclxuICAgIGdsOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0LFxyXG4gICAgbXVsdGlCdWZFeHQ6IFdFQkdMX2RyYXdfYnVmZmVyc1xyXG4pIHtcclxuICAgIC8qIFRoaXMgb25lIGlzIHNsaWdodGx5IGF3a3dhcmQuIFRoZSBXRUJHTF9jb2xvcl9idWZmZXJfZmxvYXRcclxuICAgICAgIGV4dGVuc2lvbiBpcyBhcHBhcmVudGx5IGNhdXNpbmcgYSBsb3Qgb2YgdHJvdWJsZXMgZm9yXHJcbiAgICAgICBBTkdMRSwgc28gYmFyZWx5IGFueW9uZSBib3RoZXJzIHRvIGltcGxlbWVudCBpdC4gT24gdGhlIG90aGVyXHJcbiAgICAgICBoYW5kLCBtb3N0IHBsYXRmb3JtcyBkbyBhY3R1YWxseSBpbXBsaWNpdGx5IHN1cHBvcnQgZmxvYXQgcmVuZGVyXHJcbiAgICAgICB0YXJnZXRzIGp1c3QgZmluZSwgZXZlbiB0aG91Z2ggdGhleSBwcmV0ZW5kIHRoZXkgZG9uJ3QuXHJcbiAgICAgICBTbyB0byAqYWN0dWFsbHkqIGZpZ3VyZSBvdXQgd2hldGhlciB3ZSBjYW4gZG8gZmxvYXQgYXR0YWNobWVudHNcclxuICAgICAgIG9yIG5vdCwgd2UgaGF2ZSB0byBkbyBhIHZlcnkgaGFja3kgdXAtZnJvbnQgYmxlbmRpbmcgdGVzdFxyXG4gICAgICAgYW5kIHNlZSB3aGV0aGVyIHRoZSByZXN1bHRzIGNvbWUgb3V0IGNvcnJlY3QuXHJcbiAgICAgICBIdXJyYXkgV2ViR0whICovXHJcblxyXG4gICAgY29uc3QgYmxlbmRfdGVzdF92ZXJ0ID0gYHByZWNpc2lvbiBoaWdocCBmbG9hdDsgXHJcbiAgICBhdHRyaWJ1dGUgdmVjMyBQb3NpdGlvbjsgXHJcbiAgICB2b2lkIG1haW4oKSB7IGdsX1Bvc2l0aW9uID0gdmVjNChQb3NpdGlvbiwgMS4wKTsgfWA7XHJcbiAgICBjb25zdCBibGVuZF90ZXN0X2ZyYWcgPSBgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0OyBcclxuICAgIHZvaWQgbWFpbigpIHsgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2ZWMzKDcuMCwgNTkuMCwgLTcuMCksIDEuMCk7IH1gO1xyXG4gICAgY29uc3QgYmxlbmRfdGVzdF9wYWNrX2ZyYWcgPSBgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0OyBcclxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIFRleDsgXHJcbiAgICB2b2lkIG1haW4oKSB7IGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRChUZXgsIHZlYzIoMC41KSkqKDEuMC8yNTUuMCk7IH1gO1xyXG5cclxuICAgIGNvbnN0IHNoYWRlciA9IHR3Z2wuY3JlYXRlUHJvZ3JhbUluZm8oZ2wsIFtibGVuZF90ZXN0X3ZlcnQsIGJsZW5kX3Rlc3RfZnJhZ10sIGVyID0+IHsgdGhyb3cgbmV3IEVycm9yKGVyKTsgfSk7XHJcbiAgICBjb25zdCBwYWNrU2hhZGVyID0gdHdnbC5jcmVhdGVQcm9ncmFtSW5mbyhnbCwgW2JsZW5kX3Rlc3RfdmVydCwgYmxlbmRfdGVzdF9wYWNrX2ZyYWddLCBlciA9PiB7IHRocm93IG5ldyBFcnJvcihlcik7IH0pO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gdHdnbC5jcmVhdGVUZXh0dXJlKGdsLCB7XHJcbiAgICAgICAgd2lkdGg6IDEsXHJcbiAgICAgICAgaGVpZ2h0OiAxLFxyXG4gICAgICAgIGZvcm1hdDogZ2wuUkdCQSxcclxuICAgICAgICB0eXBlOiBnbC5GTE9BVCxcclxuICAgICAgICBtaW5NYWc6IGdsLk5FQVJFU1QsXHJcbiAgICAgICAgd3JhcDogZ2wuUkVQRUFULFxyXG4gICAgICAgIHNyYzogWy02LjAsIDEwLjAsIDMwLjAsIDIuMF0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBmYm8gPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xyXG4gICAgY29uc3QgdmJvID0gdHdnbC5jcmVhdGVCdWZmZXJJbmZvRnJvbUFycmF5cyhnbCwge1xyXG4gICAgICAgIFBvc2l0aW9uOiBbXHJcbiAgICAgICAgICAgIDEuMCwgMS4wLCAwLjAsXHJcbiAgICAgICAgICAgIC0xLjAsIDEuMCwgMC4wLFxyXG4gICAgICAgICAgICAtMS4wLCAtMS4wLCAwLjAsXHJcbiAgICAgICAgICAgIDEuMCwgLTEuMCwgMC4wXHJcbiAgICAgICAgXSxcclxuICAgIH0pO1xyXG5cclxuICAgIGdsLnZpZXdwb3J0KDAsIDAsIDEsIDEpO1xyXG5cclxuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZmJvKTtcclxuICAgIG11bHRpQnVmRXh0LmRyYXdCdWZmZXJzV0VCR0woW2dsLkNPTE9SX0FUVEFDSE1FTlQwXSk7XHJcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRhcmdldCwgMCk7XHJcblxyXG4gICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuICAgIGdsLmJsZW5kRnVuYyhnbC5PTkUsIGdsLk9ORSk7XHJcblxyXG4gICAgZ2wudXNlUHJvZ3JhbShzaGFkZXIucHJvZ3JhbSk7XHJcbiAgICB0d2dsLmRyYXdPYmplY3RMaXN0KGdsLCBbe1xyXG4gICAgICAgIHByb2dyYW1JbmZvOiBzaGFkZXIsXHJcbiAgICAgICAgYnVmZmVySW5mbzogdmJvLFxyXG4gICAgICAgIHVuaWZvcm1zOiB7fSxcclxuICAgICAgICB0eXBlOiBnbC5UUklBTkdMRV9GQU4sXHJcbiAgICB9XSk7XHJcbiAgICB0d2dsLmRyYXdPYmplY3RMaXN0KGdsLCBbe1xyXG4gICAgICAgIHByb2dyYW1JbmZvOiBzaGFkZXIsXHJcbiAgICAgICAgYnVmZmVySW5mbzogdmJvLFxyXG4gICAgICAgIHVuaWZvcm1zOiB7fSxcclxuICAgICAgICB0eXBlOiBnbC5UUklBTkdMRV9GQU4sXHJcbiAgICB9XSk7XHJcblxyXG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgIGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xyXG5cclxuICAgIC8qIE9mIGNvdXJzZSB3ZSBjYW4gbmVpdGhlciByZWFkIGJhY2sgdGV4dHVyZSBjb250ZW50cyBvciByZWFkIGZsb2F0aW5nIHBvaW50XHJcbiAgICAgICBGQk8gYXR0YWNobWVudHMgaW4gV2ViR0wsIHNvIHdlIGhhdmUgdG8gZG8gYW5vdGhlciBwYXNzLCBjb252ZXJ0IHRvIHVpbnQ4XHJcbiAgICAgICBhbmQgY2hlY2sgd2hldGhlciB0aGUgcmVzdWx0cyBhcmUgb2suXHJcbiAgICAgICBIdXJyYXkgV2ViR0whICovXHJcbiAgICB0d2dsLmRyYXdPYmplY3RMaXN0KGdsLCBbe1xyXG4gICAgICAgIHByb2dyYW1JbmZvOiBwYWNrU2hhZGVyLFxyXG4gICAgICAgIGJ1ZmZlckluZm86IHZibyxcclxuICAgICAgICB1bmlmb3Jtczoge1xyXG4gICAgICAgICAgICBUZXg6IHRhcmdldFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHlwZTogZ2wuVFJJQU5HTEVfRkFOLFxyXG4gICAgfV0pO1xyXG5cclxuICAgIGNvbnN0IHBpeGVscyA9IG5ldyBVaW50OEFycmF5KFswLCAwLCAwLCAwXSk7XHJcbiAgICBnbC5yZWFkUGl4ZWxzKDAsIDAsIDEsIDEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHBpeGVscyk7XHJcblxyXG4gICAgaWYgKHBpeGVsc1swXSAhPSA4IHx8IHBpeGVsc1sxXSAhPSAxMjggfHwgcGl4ZWxzWzJdICE9IDE2IHx8IHBpeGVsc1szXSAhPSA0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJGbG9hdGluZyBwb2ludCBibGVuZGluZyB0ZXN0IGZhaWxlZC4gUmVzdWx0IHdhcyBcIiArIHBpeGVscyArIFwiIGJ1dCBzaG91bGQgaGF2ZSBiZWVuIFwiICsgWzgsIDEyOCwgMTYsIDRdKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3VyIHBsYXRmb3JtIGRvZXMgbm90IHN1cHBvcnQgZmxvYXRpbmcgcG9pbnQgYXR0YWNobWVudHNcIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgKiBhcyBTcGVjdHJ1bVJlbmRlcmVyIGZyb20gXCIuL3RhbnRhbHVtLWNvcmUvU3BlY3RydW1SZW5kZXJlclwiO1xyXG5pbXBvcnQgKiBhcyB0dWkgZnJvbSBcIi4vdGFudGFsdW0tdWkvaW5kZXhcIjtcclxuaW1wb3J0ICogYXMgdGNvcmUgZnJvbSBcIi4vdGFudGFsdW0tY29yZS9pbmRleFwiO1xyXG5pbXBvcnQgeyBnYXNEaXNjaGFyZ2VMaW5lcyB9IGZyb20gXCIuL3RhbnRhbHVtLWNvcmUvZ2FzRGlzY2hhcmdlTGluZXNcIjtcclxuaW1wb3J0IHsgY29sb3JCdWZmZXJGbG9hdFRlc3QgfSBmcm9tIFwiLi9jb2xvckJ1ZmZlckZsb2F0VGVzdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhbnRhbHVtIHtcclxuICAgIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVuZGVyLWNhbnZhc1wiKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbmRlci1vdmVybGF5XCIpITtcclxuICAgIGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIikhO1xyXG4gICAgY29udHJvbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyb2xzXCIpITtcclxuICAgIHNwZWN0cnVtQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGVjdHJ1bS1jYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG4gICAgYm91bmRSZW5kZXJMb29wOiAodGltZXN0YW1wOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG4gICAgc2F2ZWRJbWFnZXMgPSAwO1xyXG5cclxuICAgIGdsOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0O1xyXG4gICAgbXVsdGlCdWZFeHQ6IFdFQkdMX2RyYXdfYnVmZmVycztcclxuXHJcbiAgICByZW5kZXJlcjogdGNvcmUuUmVuZGVyZXI7XHJcbiAgICBzcGVjdHJ1bVJlbmRlcmVyOiB0Y29yZS5TcGVjdHJ1bVJlbmRlcmVyO1xyXG4gICAgcHJvZ3Jlc3NCYXI6IHR1aS5Qcm9ncmVzc0JhcjtcclxuICAgIHNhdmVJbWFnZURhdGEgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmJvdW5kUmVuZGVyTG9vcCA9IHRoaXMucmVuZGVyTG9vcC5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB7IGdsLCBtdWx0aUJ1ZkV4dCB9ID0gdGhpcy5zZXR1cEdMKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2wgPSBnbDtcclxuICAgICAgICAgICAgdGhpcy5tdWx0aUJ1ZkV4dCA9IG11bHRpQnVmRXh0O1xyXG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgICAgICAgICAvKiBHTCBlcnJvcnMgYXQgdGhpcyBzdGFnZSBhcmUgdG8gYmUgZXhwZWN0ZWQgdG8gc29tZSBkZWdyZWUsXHJcbiAgICAgICAgICAgICAgIHNvIGRpc3BsYXkgYSBuaWNlIGVycm9yIG1lc3NhZ2UgYW5kIGNhbGwgaXQgcXVpdHMgKi9cclxuICAgICAgICAgICAgZS5tZXNzYWdlICs9IFwiLiBUaGlzIGRlbW8gd29uJ3QgcnVuIGluIHlvdXIgYnJvd3Nlci5cIjtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdWkgPSB0aGlzLnNldHVwVUkoKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlciA9IHVpLnJlbmRlcmVyO1xyXG4gICAgICAgICAgICB0aGlzLnNwZWN0cnVtUmVuZGVyZXIgPSB1aS5zcGVjdHJ1bVJlbmRlcmVyO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQmFyID0gdWkucHJvZ3Jlc3NCYXI7XHJcbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgICAgICAgIC8qIEVycm9ycyBoZXJlIGFyZSBhIGJpdCBtb3JlIHNlcmlvdXMgYW5kIHNob3VsZG4ndCBub3JtYWxseSBoYXBwZW4uXHJcbiAgICAgICAgICAgICAgIExldCdzIGp1c3QgZHVtcCB3aGF0IHdlIGhhdmUgYW5kIGhvcGUgdGhlIHVzZXIgY2FuIG1ha2Ugc2Vuc2Ugb2YgaXQgKi9cclxuICAgICAgICAgICAgZS5tZXNzYWdlID0gXCJPb29wcyEgU29tZXRoaW5nIHVuZXhwZWN0ZWQgaGFwcGVuZWQuIFRoZSBlcnJvciBtZXNzYWdlIGlzIGxpc3RlZCBiZWxvdzo8YnIvPlwiICtcclxuICAgICAgICAgICAgICAgIFwiPHByZT5cIiArIGUubWVzc2FnZSArIFwiPC9wcmU+XCI7XHJcbiAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBPaywgYWxsIHNlZW1zIHdlbGwuIFRpbWUgdG8gc2hvdyB0aGUgY29udHJvbHMgKi9cclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcclxuXHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmJvdW5kUmVuZGVyTG9vcCk7XHJcbiAgICB9XHJcbiAgICBzZXR1cEdMKCkge1xyXG4gICAgICAgIGxldCBnbDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBnbCA9ICh0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIikgfHwgdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiKSkgYXMgV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcclxuICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgICAgICAgICAgZS5tZXNzYWdlID0gXCJDb3VsZCBub3QgaW5pdGlhbGlzZSBXZWJHTDogXCIgKyBlLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZ2wpIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBpbml0aWFsaXNlIFdlYkdMXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBmbG9hdEV4dCA9IGdsLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2Zsb2F0XCIpO1xyXG4gICAgICAgIGNvbnN0IGZsb2F0TGluRXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyXCIpO1xyXG4gICAgICAgIGNvbnN0IGZsb2F0QnVmRXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0XCIpO1xyXG4gICAgICAgIGNvbnN0IG11bHRpQnVmRXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZHJhd19idWZmZXJzXCIpO1xyXG5cclxuICAgICAgICBpZiAoIWZsb2F0RXh0IHx8ICFmbG9hdExpbkV4dCkgdGhyb3cgbmV3IEVycm9yKFwiWW91ciBwbGF0Zm9ybSBkb2VzIG5vdCBzdXBwb3J0IGZsb2F0IHRleHR1cmVzXCIpO1xyXG4gICAgICAgIGlmICghbXVsdGlCdWZFeHQpIHRocm93IG5ldyBFcnJvcihcIllvdXIgcGxhdGZvcm0gZG9lcyBub3Qgc3VwcG9ydCB0aGUgZHJhdyBidWZmZXJzIGV4dGVuc2lvblwiKTtcclxuXHJcbiAgICAgICAgaWYgKCFmbG9hdEJ1ZkV4dCkge1xyXG4gICAgICAgICAgICBjb2xvckJ1ZmZlckZsb2F0VGVzdChnbCwgbXVsdGlCdWZFeHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHsgZ2wsIG11bHRpQnVmRXh0IH07XHJcbiAgICB9XHJcbiAgICBzZXR1cFVJKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIG1hcChhOiBudW1iZXIsIGI6IG51bWJlcikgeyByZXR1cm4gW2EgKiAwLjUgLyAxLjc4ICsgMC41LCAtYiAqIDAuNSArIDAuNV07IH1cclxuXHJcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICBcInJlc29sdXRpb25zXCI6IFtbODIwLCA0NjFdLCBbMTAyNCwgNTc2XSwgWzEyODAsIDcyMF0sIFsxNjAwLCA5MDBdLCBbMTkyMCwgMTA4MF0sIFs0MDk2LCAyMTYwXV0sXHJcbiAgICAgICAgICAgIFwic2NlbmVzXCI6IFtcclxuICAgICAgICAgICAgICAgIHsgJ3NoYWRlcic6ICdzY2VuZTEnLCAnbmFtZSc6ICdMZW5zZXMnLCAncG9zQSc6IFswLjUsIDAuNV0sICdwb3NCJzogWzAuNSwgMC41XSwgJ3NwcmVhZCc6IHRjb3JlLkVtaXR0b3IuU1BSRUFEX1BPSU5UIH0sXHJcbiAgICAgICAgICAgICAgICB7ICdzaGFkZXInOiAnc2NlbmU2JywgJ25hbWUnOiAnU3BoZXJlcycsICdwb3NBJzogbWFwKC0xLjU5LCAwLjY1KSwgJ3Bvc0InOiBtYXAoMC42NSwgLTAuNzUpLCAnc3ByZWFkJzogdGNvcmUuRW1pdHRvci5TUFJFQURfQkVBTSB9LFxyXG4gICAgICAgICAgICAgICAgeyAnc2hhZGVyJzogJ3NjZW5lNycsICduYW1lJzogJ1BsYXlncm91bmQnLCAncG9zQSc6IFswLjMsIDAuNTJdLCAncG9zQic6IFswLjMsIDAuNTJdLCAnc3ByZWFkJzogdGNvcmUuRW1pdHRvci5TUFJFQURfUE9JTlQgfSxcclxuICAgICAgICAgICAgICAgIHsgJ3NoYWRlcic6ICdzY2VuZTQnLCAnbmFtZSc6ICdQcmlzbScsICdwb3NBJzogWzAuMSwgMC42NV0sICdwb3NCJzogWzAuNCwgMC40XSwgJ3NwcmVhZCc6IHRjb3JlLkVtaXR0b3IuU1BSRUFEX0xBU0VSIH0sXHJcbiAgICAgICAgICAgICAgICB7ICdzaGFkZXInOiAnc2NlbmU1JywgJ25hbWUnOiAnQ2FyZGlvaWQnLCAncG9zQSc6IFswLjIsIDAuNV0sICdwb3NCJzogWzAuMiwgMC41XSwgJ3NwcmVhZCc6IHRjb3JlLkVtaXR0b3IuU1BSRUFEX1BPSU5UIH0sXHJcbiAgICAgICAgICAgICAgICB7ICdzaGFkZXInOiAnc2NlbmUzJywgJ25hbWUnOiAnQ29ybmVsbCBCb3gnLCAncG9zQSc6IFswLjUsIDAuMTAxXSwgJ3Bvc0InOiBbMC41LCAwLjJdLCAnc3ByZWFkJzogdGNvcmUuRW1pdHRvci5TUFJFQURfQVJFQSB9LFxyXG4gICAgICAgICAgICAgICAgeyAnc2hhZGVyJzogJ3NjZW5lMicsICduYW1lJzogJ1JvdWdoIE1pcnJvciBTcGhlcmVzJywgJ3Bvc0EnOiBbMC4yNSwgMC4xMjVdLCAncG9zQic6IFswLjUsIDAuNjZdLCAnc3ByZWFkJzogdGNvcmUuRW1pdHRvci5TUFJFQURfTEFTRVIgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSBhcyB7XHJcbiAgICAgICAgICAgIHJlc29sdXRpb25zOiBbbnVtYmVyLCBudW1iZXJdW10sXHJcbiAgICAgICAgICAgIHNjZW5lczogQXJyYXk8e1xyXG4gICAgICAgICAgICAgICAgc2hhZGVyOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICBwb3NBOiBbbnVtYmVyLCBudW1iZXJdLFxyXG4gICAgICAgICAgICAgICAgcG9zQjogW251bWJlciwgbnVtYmVyXSxcclxuICAgICAgICAgICAgICAgIHNwcmVhZDogbnVtYmVyLFxyXG4gICAgICAgICAgICB9PixcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCByZW5kZXJlciA9IG5ldyB0Y29yZS5SZW5kZXJlcihcclxuICAgICAgICAgICAgdGhpcy5nbCxcclxuICAgICAgICAgICAgdGhpcy5tdWx0aUJ1ZkV4dCxcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGgsXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCxcclxuICAgICAgICAgICAgY29uZmlnLnNjZW5lcy5tYXAocyA9PiBzLnNoYWRlcikpO1xyXG4gICAgICAgIGNvbnN0IHNwZWN0cnVtUmVuZGVyZXIgPSBuZXcgU3BlY3RydW1SZW5kZXJlci5TcGVjdHJ1bVJlbmRlcmVyKFxyXG4gICAgICAgICAgICB0aGlzLnNwZWN0cnVtQ2FudmFzLFxyXG4gICAgICAgICAgICByZW5kZXJlci5lbWl0dGVyLnNwZWN0cnVtKTtcclxuXHJcbiAgICAgICAgLyogTGV0J3MgdHJ5IGFuZCBtYWtlIG1lbWJlciB2YXJpYWJsZXMgaW4gSlMgYSBsaXR0bGUgbGVzcyB2ZXJib3NlLi4uICovXHJcbiAgICAgICAgY29uc3QgeyBjb250ZW50LCBjYW52YXMgfSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gbmV3IHR1aS5Qcm9ncmVzc0Jhcih0cnVlKTtcclxuICAgICAgICB0dWkucmVwbGFjZShcInJlbmRlci1wcm9ncmVzc1wiLCBwcm9ncmVzc0Jhci5lbCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc29sdXRpb25MYWJlbHMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmZpZy5yZXNvbHV0aW9ucy5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgcmVzb2x1dGlvbkxhYmVscy5wdXNoKGNvbmZpZy5yZXNvbHV0aW9uc1tpXVswXSArIFwieFwiICsgY29uZmlnLnJlc29sdXRpb25zW2ldWzFdKTtcclxuXHJcbiAgICAgICAgdHVpLnJlcGxhY2UoXHJcbiAgICAgICAgICAgIFwicmVzb2x1dGlvbi1zZWxlY3RvclwiLFxyXG4gICAgICAgICAgICBuZXcgdHVpLkJ1dHRvbkdyb3VwKGZhbHNlLCByZXNvbHV0aW9uTGFiZWxzLCBmdW5jdGlvbiAoaWR4OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt3aWR0aCwgaGVpZ2h0XSA9IGNvbmZpZy5yZXNvbHV0aW9uc1tpZHhdO1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgY29udGVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJlci5jaGFuZ2VSZXNvbHV0aW9uKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9KS5lbCk7XHJcbiAgICAgICAgY29uc3Qgc3ByZWFkU2VsZWN0b3IgPSBuZXcgdHVpLkJ1dHRvbkdyb3VwKFxyXG4gICAgICAgICAgICB0cnVlLFxyXG4gICAgICAgICAgICBbXCJQb2ludFwiLCBcIkNvbmVcIiwgXCJCZWFtXCIsIFwiTGFzZXJcIiwgXCJBcmVhXCJdLFxyXG4gICAgICAgICAgICByZW5kZXJlci5zZXRTcHJlYWRUeXBlLmJpbmQocmVuZGVyZXIpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0dWkucmVwbGFjZShcclxuICAgICAgICAgICAgXCJzcHJlYWQtc2VsZWN0b3JcIixcclxuICAgICAgICAgICAgc3ByZWFkU2VsZWN0b3IuZWwsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0U2NlbmUoaWR4OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgcmVuZGVyZXIuY2hhbmdlU2NlbmUoaWR4KTtcclxuICAgICAgICAgICAgc3ByZWFkU2VsZWN0b3Iuc2VsZWN0KGNvbmZpZy5zY2VuZXNbaWR4XS5zcHJlYWQpO1xyXG4gICAgICAgICAgICByZW5kZXJlci5zZXROb3JtYWxpemVkRW1pdHRlclBvcyhcclxuICAgICAgICAgICAgICAgIGNvbmZpZy5zY2VuZXNbaWR4XS5wb3NBLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnLnNjZW5lc1tpZHhdLnBvc0IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0dWkucmVwbGFjZShcclxuICAgICAgICAgICAgXCJzY2VuZS1zZWxlY3RvclwiLFxyXG4gICAgICAgICAgICBuZXcgdHVpLkJ1dHRvbkdyb3VwKHRydWUsIGNvbmZpZy5zY2VuZXMubWFwKHMgPT4gcy5uYW1lKSwgc2VsZWN0U2NlbmUpLmVsKTtcclxuXHJcbiAgICAgICAgY29uc3QgbW91c2VMaXN0ZW5lciA9IG5ldyB0dWkuTW91c2VMaXN0ZW5lcihjYW52YXMsIHJlbmRlcmVyLnNldEVtaXR0ZXJQb3MuYmluZChyZW5kZXJlcikpO1xyXG5cclxuICAgICAgICBjb25zdCB0ZW1wZXJhdHVyZVNsaWRlciA9IG5ldyB0dWkuU2xpZGVyKDEwMDAsIDEwMDAwLCB0cnVlLCBmdW5jdGlvbiAodGhpczogdHVpLlNsaWRlciwgdGVtcGVyYXR1cmU6IG51bWJlcikge1xyXG4gICAgICAgICAgICB0aGlzLnNldExhYmVsKFwiVGVtcGVyYXR1cmU6IFwiICsgdGVtcGVyYXR1cmUgKyBcIktcIik7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldEVtaXNzaW9uU3BlY3RydW0oeyBlbWl0dGVyVGVtcGVyYXR1cmU6IHRlbXBlcmF0dXJlIH0pO1xyXG4gICAgICAgICAgICBzcGVjdHJ1bVJlbmRlcmVyLmRyYXcoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0dWkucmVwbGFjZShcImVtaXNzaW9uLXRlbXBlcmF0dXJlXCIsIHRlbXBlcmF0dXJlU2xpZGVyLmVsKTtcclxuXHJcbiAgICAgICAgY29uc3QgYm91bmNlU2xpZGVyID0gbmV3IHR1aS5TbGlkZXIoMSwgMjAsIHRydWUsIGZ1bmN0aW9uICh0aGlzOiB0dWkuU2xpZGVyLCBsZW5ndGg6IG51bWJlcikge1xyXG4gICAgICAgICAgICB0aGlzLnNldExhYmVsKChsZW5ndGggLSAxKSArIFwiIGxpZ2h0IGJvdW5jZXNcIik7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldE1heFBhdGhMZW5ndGgobGVuZ3RoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBib3VuY2VTbGlkZXIuc2V0VmFsdWUoMTIpO1xyXG4gICAgICAgIHR1aS5yZXBsYWNlKFwicGF0aC1sZW5ndGhcIiwgYm91bmNlU2xpZGVyLmVsKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2FtcGxlU2xpZGVyID0gbmV3IHR1aS5TbGlkZXIoNDAwLCA3MDAsIHRydWUsIGZ1bmN0aW9uICh0aGlzOiB0dWkuU2xpZGVyLCBleHBvbmVudDEwMDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZUNvdW50ID0gTWF0aC5mbG9vcihNYXRoLnBvdygxMCwgZXhwb25lbnQxMDAgKiAwLjAxKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TGFiZWwoc2FtcGxlQ291bnQgKyBcIiBsaWdodCBwYXRoc1wiKTtcclxuICAgICAgICAgICAgcmVuZGVyZXIuc2V0TWF4U2FtcGxlQ291bnQoc2FtcGxlQ291bnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNhbXBsZVNsaWRlci5zZXRWYWx1ZSg2MDApO1xyXG4gICAgICAgIHR1aS5yZXBsYWNlKFwic2FtcGxlLWNvdW50XCIsIHNhbXBsZVNsaWRlci5lbCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGdhc0dyaWQgPSBuZXcgdHVpLkJ1dHRvbkdyaWQoXHJcbiAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgIGdhc0Rpc2NoYXJnZUxpbmVzLm1hcChsID0+IGwubmFtZSksXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChnYXNJZCkge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2V0RW1pc3Npb25TcGVjdHJ1bSh7IGVtaXR0ZXJHYXM6IGdhc0lkIH0pO1xyXG4gICAgICAgICAgICAgICAgc3BlY3RydW1SZW5kZXJlci5kcmF3KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHR1aS5yZXBsYWNlKFwiZ2FzLXNlbGVjdGlvblwiLCBnYXNHcmlkLmVsKTtcclxuXHJcbiAgICAgICAgdGVtcGVyYXR1cmVTbGlkZXIuc2hvdyhmYWxzZSk7XHJcbiAgICAgICAgZ2FzR3JpZC5zaG93KGZhbHNlKTtcclxuXHJcbiAgICAgICAgdHVpLnJlcGxhY2UoXHJcbiAgICAgICAgICAgIFwiZW1pc3Npb24tc2VsZWN0b3JcIixcclxuICAgICAgICAgICAgbmV3IHR1aS5CdXR0b25Hcm91cChcclxuICAgICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgW1wiV2hpdGVcIiwgXCJJbmNhbmRlc2NlbnRcIiwgXCJHYXMgRGlzY2hhcmdlXCJdLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRFbWlzc2lvblNwZWN0cnVtKHsgZW1pc3Npb25UeXBlOiB0eXBlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlY3RydW1SZW5kZXJlci5zZXRTbW9vdGgodHlwZSAhPSB0Y29yZS5FbWlzc2lvblNwZWN0cnVtLlNQRUNUUlVNX0dBU19ESVNDSEFSR0UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWN0cnVtUmVuZGVyZXIuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlU2xpZGVyLnNob3codHlwZSA9PSB0Y29yZS5FbWlzc2lvblNwZWN0cnVtLlNQRUNUUlVNX0lOQ0FOREVTQ0VOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FzR3JpZC5zaG93KHR5cGUgPT0gdGNvcmUuRW1pc3Npb25TcGVjdHJ1bS5TUEVDVFJVTV9HQVNfRElTQ0hBUkdFKTtcclxuICAgICAgICAgICAgICAgIH0pLmVsKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUtYnV0dG9uJykhXHJcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuc2F2ZUltYWdlRGF0YSA9IHRydWUpO1xyXG5cclxuICAgICAgICBzZWxlY3RTY2VuZSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy5vdmVybGF5LmNsYXNzTmFtZSA9IFwicmVuZGVyLWhlbHBcIjtcclxuICAgICAgICB0aGlzLm92ZXJsYXkub2Zmc2V0SGVpZ2h0OyAvKiBGbHVzaCBDU1MgY2hhbmdlcyAqL1xyXG4gICAgICAgIHRoaXMub3ZlcmxheS5jbGFzc05hbWUgKz0gXCIgcmVuZGVyLWhlbHAtdHJhbnNpdGlvblwiO1xyXG4gICAgICAgIHRoaXMub3ZlcmxheS50ZXh0Q29udGVudCA9IFwiQ2xpY2sgYW5kIGRyYWchXCI7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24gKHRoaXM6IEhUTUxFbGVtZW50LCBldmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUhLnJlbW92ZUNoaWxkKHRoaXMpO1xyXG4gICAgICAgICAgICBtb3VzZUxpc3RlbmVyLm1vdXNlRG93bihldmVudCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyLFxyXG4gICAgICAgICAgICBzcGVjdHJ1bVJlbmRlcmVyLFxyXG4gICAgICAgICAgICBwcm9ncmVzc0JhcixcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZW5kZXJMb29wKHRpbWVzdGFtcDogbnVtYmVyKSB7XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmJvdW5kUmVuZGVyTG9vcCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5yZW5kZXJlci5maW5pc2hlZCgpKVxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aW1lc3RhbXApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zYXZlSW1hZ2VEYXRhKSB7XHJcbiAgICAgICAgICAgIC8qIEVuc3VyZSB3ZSByZWRyYXcgdGhlIGltYWdlIGJlZm9yZSB3ZSBncmFiIGl0LiBUaGlzIGlzIGEgc3RyYW5nZSBvbmU6XHJcbiAgICAgICAgICAgICAgIFRvIHNhdmUgcG93ZXIgdGhlIHJlbmRlcmVyIHN0b3BzIGRvaW5nIGFueXRoaW5nIGFmdGVyIGl0IGZpbmlzaGVkXHJcbiAgICAgICAgICAgICAgIHRyYWNpbmcgcmF5cywgYW5kIHRoZSBjYW52YXMga2VlcHMgZGlzcGxheWluZyB0aGUgY29ycmVjdCBpbWFnZVxyXG4gICAgICAgICAgICAgICAoYXMgeW91IHdvdWxkIGV4cGVjdCkuIEhvd2V2ZXIsIHdoZW4gd2UgZ2V0IHRoZSBjYW52YXMgYXMgYSBibG9iLFxyXG4gICAgICAgICAgICAgICB0aGUgcmVzdWx0cyBhcmUgZ2FyYmFnZSB1bmxlc3Mgd2UgcmVuZGVyZWQgdG8gaXQgaW4gdGhhdCBmcmFtZS5cclxuICAgICAgICAgICAgICAgVGhlcmUncyBtb3N0IGxpa2VseSBzb21lIGJyb3dzZXIvQU5HTEUgbWVkZGxpbmcgaGFwcGVuaW5nIGhlcmUsIGJ1dFxyXG4gICAgICAgICAgICAgICBpbiBpbnRlcmVzdCBvZiBteSBtZW50YWwgaGVhbHRoIEknbSBub3QgZ29pbmcgdG8gZGlnIGRlZXBlciBpbnRvIHRoaXMgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuZmluaXNoZWQoKSlcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucnVuQ29tcG9zaXRlKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZmlsZU5hbWUgPSBcIlRhbnRhbHVtXCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNhdmVkSW1hZ2VzID4gMClcclxuICAgICAgICAgICAgICAgIGZpbGVOYW1lICs9ICh0aGlzLnNhdmVkSW1hZ2VzICsgMSk7XHJcbiAgICAgICAgICAgIGZpbGVOYW1lICs9IFwiLnBuZ1wiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW52YXMudG9CbG9iKGZ1bmN0aW9uIChibG9iKSB7IHNhdmVBcyhibG9iISwgZmlsZU5hbWUpOyB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZWRJbWFnZXMrKztcclxuICAgICAgICAgICAgdGhpcy5zYXZlSW1hZ2VEYXRhID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnByb2dyZXNzQmFyLnNldFByb2dyZXNzKHRoaXMucmVuZGVyZXIucHJvZ3Jlc3MoKSk7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRMYWJlbChNYXRoLm1pbih0aGlzLnJlbmRlcmVyLnRvdGFsUmF5c1RyYWNlZCgpLCB0aGlzLnJlbmRlcmVyLm1heFJheUNvdW50KCkpICtcclxuICAgICAgICAgICAgXCIvXCIgKyB0aGlzLnJlbmRlcmVyLm1heFJheUNvdW50KCkgKyBcIiByYXlzIHRyYWNlZDsgUHJvZ3Jlc3M6IFwiICtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5nZXRQcm9ncmVzc1BlcmNlbnRhZ2UoKSArIFwiJVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZmFpbChtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBzb3JyeVAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICAgICAgICBzb3JyeVAuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJTb3JyeSEgOihcIikpO1xyXG4gICAgICAgIHNvcnJ5UC5zdHlsZS5mb250U2l6ZSA9IFwiNTBweFwiO1xyXG5cclxuICAgICAgICBjb25zdCBmYWlsdXJlUCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgICAgIGZhaWx1cmVQLmNsYXNzTmFtZSA9IFwid2FybmluZy1ib3hcIjtcclxuICAgICAgICBmYWlsdXJlUC5pbm5lckhUTUwgPSBtZXNzYWdlO1xyXG5cclxuICAgICAgICBjb25zdCBlcnJvckltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgZXJyb3JJbWcudGl0bGUgPSBlcnJvckltZy5hbHQgPSBcIlRoZSBFbGVtZW50IG9mIEZhaWx1cmVcIjtcclxuICAgICAgICBlcnJvckltZy5zcmMgPSBcImRlcnAuZ2lmXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IGZhaWx1cmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGZhaWx1cmVEaXYuY2xhc3NOYW1lID0gXCJjZW50ZXJcIjtcclxuICAgICAgICBmYWlsdXJlRGl2LmFwcGVuZChzb3JyeVAsIGVycm9ySW1nLCBmYWlsdXJlUCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKSEuYXBwZW5kQ2hpbGQoZmFpbHVyZURpdik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW5kZXItb3ZlcmxheVwiKSEuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbmRlci1jYW52YXNcIikhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVGFudGFsdW0gfSBmcm9tIFwiLi9UYW50YWx1bVwiO1xyXG5cclxudHJ5IHtcclxuICAgIG5ldyBUYW50YWx1bSgpO1xyXG59IGNhdGNoIChlOiBhbnkpIHtcclxuICAgIFRhbnRhbHVtLmZhaWwoZS5tZXNzYWdlKTtcclxuICAgIHRocm93IGU7XHJcbn0iXSwibmFtZXMiOlsidHdnbC5jcmVhdGVUZXh0dXJlIiwidHdnbC5zZXRUZXh0dXJlRnJvbUFycmF5IiwidHdnbC5jcmVhdGVCdWZmZXJJbmZvRnJvbUFycmF5cyIsInR3Z2wuY3JlYXRlUHJvZ3JhbUluZm8iLCJ0d2dsLmRyYXdPYmplY3RMaXN0IiwidGNvcmUuRW1pdHRvciIsInRjb3JlLlJlbmRlcmVyIiwiU3BlY3RydW1SZW5kZXJlci5TcGVjdHJ1bVJlbmRlcmVyIiwidHVpLlByb2dyZXNzQmFyIiwidHVpLnJlcGxhY2UiLCJ0dWkuQnV0dG9uR3JvdXAiLCJ0dWkuTW91c2VMaXN0ZW5lciIsInR1aS5TbGlkZXIiLCJ0dWkuQnV0dG9uR3JpZCIsInRjb3JlLkVtaXNzaW9uU3BlY3RydW0iXSwibWFwcGluZ3MiOiI7OztJQUFPLE1BQU0saUJBQWlCLEdBQUc7UUFDN0I7WUFDSSxNQUFNLEVBQUUsVUFBVTtZQUNsQixhQUFhLEVBQUU7Z0JBQ1gsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTztnQkFDbkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87YUFDOUM7WUFDRCxXQUFXLEVBQUU7Z0JBQ1QsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO2dCQUN4RixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7Z0JBQ3hGLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRTthQUM1QztTQUNKO1FBQ0Q7WUFDSSxNQUFNLEVBQUUsT0FBTztZQUNmLGFBQWEsRUFBRTtnQkFDWCxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN4RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN4RixPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUNyRixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNO2dCQUN2RixPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUNwRixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN0RixNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN4RixPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN0RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUNyRixNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUNyRixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN4RixNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN4RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2FBQ3JDO1lBQ0QsV0FBVyxFQUFFO2dCQUNULEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRztnQkFDdEYsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUc7Z0JBQ3hGLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHO2dCQUNyRixHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRztnQkFDdkYsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUN6RixFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7Z0JBQ3RGLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUN2RixFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUN6RixFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7YUFDZjtTQUNKO1FBQ0Q7WUFDSSxNQUFNLEVBQUUsUUFBUTtZQUNoQixhQUFhLEVBQUU7Z0JBQ1gsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdEYsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSztnQkFDcEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2FBQ3ZEO1lBQ0QsV0FBVyxFQUFFO2dCQUNULEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHO2dCQUN6RixDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRTtnQkFDeEYsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtnQkFDeEYsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDO2dCQUN2RixHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRztnQkFDekYsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQzthQUNwQztTQUNKO1FBQ0Q7WUFDSSxNQUFNLEVBQUUsU0FBUztZQUNqQixhQUFhLEVBQUU7Z0JBQ1gsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTTtnQkFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTTtnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87YUFDekU7WUFDRCxXQUFXLEVBQUU7Z0JBQ1QsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUN6RixDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtnQkFDdkYsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtnQkFDdEYsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtnQkFDdEYsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtnQkFDdEYsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtnQkFDdEYsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7YUFDN0Y7U0FDSjtRQUNEO1lBQ0ksTUFBTSxFQUFFLFFBQVE7WUFDaEIsYUFBYSxFQUFFO2dCQUNYLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3RGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUs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LE9BQU87Z0JBQ3BGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3RGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3RGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3ZGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3hGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3RGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3hGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3ZGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3hGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU87Z0JBQ3RGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3hGLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3RGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3ZGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3ZGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3hGLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3BGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2FBQzlDO1lBQ0QsV0FBVyxFQUFFO2dCQUNULEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUc7Z0JBQ3JGLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRztnQkFDekYsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxJQUFJO2dCQUNyRixHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUN2RixHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtnQkFDdkYsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUk7Z0JBQ3ZGLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFO2dCQUN6RixHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7Z0JBQ3hGLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7Z0JBQ3hGLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTthQUM5RDtTQUNKO1FBQ0Q7WUFDSSxN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QUUsT0FBTztnQkFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTztnQkFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTztnQkFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPO2FBQ2hGO1lBQ0QsV0FBVyxFQUFFO2dCQUNULENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztnQkFDdkYsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FB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LEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUU7YUFDbkY7U0FDSjtRQUNEO1lBQ0ksTUFBTSxFQUFFLFVBQVU7WUFDbEIsYUFBYSxFQUFFO2dCQUNYLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3BGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3hGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3hGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU07Z0JBQ3RGLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU07Z0JBQ3RGLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3ZGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU07Z0JBQ3ZGLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVB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RSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU87Z0JBQ3ZGLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNO2FBQzdDO1lBQ0QsV0FBVyxFQUFFO2dCQUNULEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztnQkFDdEYsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztnQkFDdkYsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztnQkFDeEYsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUNyRixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRzthQUN2RDtTQUNKO1FBQ0Q7WUFDSSxNQUFNLEVBQUUsV0FBVztZQUNuQixhQUFhLEVBQUU7Z0JBQ1gsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDcEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSzthQUM5RDtZQUNELFdBQVcsRUFBRTtnQkFDVCxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7Z0JBQ3hGLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQzthQUNsRjtTQUNKO1FBQ0Q7WUFDSSxNQUFNLEVBQUUsU0FBUztZQUNqQixhQUFhLEVBQUU7Z0JBQ1gsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTztnQkFDdkYsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTTtnQkFDdEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTTthQUNwQztZQUNELFdBQVcsRUFBRTtnQkFDVCxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7Z0JBQ3hGLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7Z0JBQ3ZGLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUc7Z0JBQ3ZGLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHO2dCQUNyRixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJO2dCQUN0RixJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUc7Z0JBQ3pGLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO2FBQ3RCO1NBQ0o7UUFDRDtZQUNJLE1BQU0sRUFBRSxRQUFRO1lBQ2hCLGFBQWEsRUFBRTtnQkFDWCxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN0RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN4RixNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN0RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN4RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN4RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU87YUFDakY7WUFDRCxXQUFXLEVBQUU7Z0JBQ1QsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUN2RixFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztnQkFDckYsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHO2dCQUNyRixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHO2dCQUN0RixFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUN0RixFQUFFLEVBQUUsRUFBRTthQUNUO1NBQ0o7UUFDRDtZQUNJLE1BQU0sRUFBRSxXQUFXO1lBQ25CLGFBQWEsRUFBRTtnQkFDWCxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN0RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN2RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPO2dCQUN0RixPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO2dCQUN0RixPQUFPO2FBQ1Y7WUFDRCxXQUFXLEVBQUU7Z0JBQ1QsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUk7Z0JBQ3JGLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUk7Z0JBQ3BGLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFF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RUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTztnQkFDckYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDdkYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztnQkFDeEYsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVB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QU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUc7UUFDMUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRztRQUMxSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHO1FBQzFJLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxF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LEtBQUssMEJBQTBCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLEtBQUssMEJBQTBCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLElBQUksMkJBQTJCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLEtBQUssMEJBQTBCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLElBQUksMkJBQTJCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLEtBQUssMEJBQTBCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLElBQUksMkJBQTJCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLElBQUksMkJBQTJCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLEtBQUssMEJBQTBCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE1BQU0seUJBQXlCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLFVBQVUscUJBQXFCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLGNBQWMsaUJBQWlCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE9BQU8sd0JBQXdCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE1BQU0seUJBQXlCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE1BQU0seUJBQXlCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE1BQU0seUJBQXlCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLEtBQUssMEJBQTBCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE9BQU8sd0JBQXdCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE1BQU0seUJBQXlCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE9BQU8sd0JBQXdCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE1BQU0seUJBQXlCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLEtBQUssMEJBQTBCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLFlBQVksbUJBQW1CLE1BQU0sQ0FBQztJQUM1QyxNQUFNLFdBQVcsb0JBQW9CLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE9BQU8sd0JBQXdCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLEtBQUssMEJBQTBCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLFFBQVEsdUJBQXVCLE1BQU0sQ0FBQztJQUM1QyxNQUFNLE9BQU8sd0JB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Q0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELEtBQUssTUFBTSxJQUFJLFNBQVMsR0FBRyxDQUFDLEtBQUssUUFBUSxFQUFFO0lBQzNDO0lBQ0EsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDO0lBQ3RCLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxLQUFLLE1BQU0sSUFBSSxRQUFRLEdBQUcsQ0FBQyxLQUFLLFNBQVMsR0FBRyxDQUFDLEVBQUU7SUFDL0M7SUFDQSxNQUFNLElBQUksR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxLQUFLLE1BQU0sSUFBSSxRQUFRLEdBQUcsQ0FBQyxLQUFLLFNBQVMsR0FBRyxDQUFDLEVBQUU7SUFDL0M7SUFDQSxNQUFNLElBQUksR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxLQUFLLE1BQU07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QUksR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsU0FBUyxXQUFXLEVBQUUsY0FBYyxHQUFHLENBQUM7SUFDcEksT0FBTyxDQUFDLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxJQUFJLEVBQUUsVUFBVSxJQUFJLElBQUksR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLGFBQWEsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDOUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxJQUFJLEVBQUUsVUFBVSxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLGFBQWEsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDOUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxJQUFJLEVBQUUsVUFBVSxJQUFJLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLGFBQWEsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDOUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLEVBQUUsV0FBVyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLFVBQVUsUUFBUSxXQUFXLEVBQUUsZUFBZSxHQUFHLENBQUM7SUFDckksT0FBTyxDQUFDLGlCQUFpQixDQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsV0FBVyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLGNBQWMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDOUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsV0FBVyxHQUFHLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLGNBQWMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDOUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsV0FBVyxHQUFHLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLGNBQWMsSUFBSSxJ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LEdBQUcsQ0FBQztJQUM1RSxXQUFXLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLE1BQU0sRUFBRSxpQkFBaUIsR0FBRyxDQUFDO0lBQzFFLFdBQVcsQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLGlCQUFpQixHQUFHLENBQUM7SUFDMUUsV0FBVyxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsaUJBQWlCLEdBQUcsQ0FBQztJQUMxRSxXQUFXLENBQUMsS0FBSyxDQUFDLGlCQUFpQixFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLGVBQWUsS0FBSyxDQUFDO0lBQzVFLFdBQVcsQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLGVBQWUsS0FBSyxDQUFDO0lBQzFFLFdBQVcsQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLGVBQWUsS0FBSyxDQUFDO0lBQzFFLFdBQVcsQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLGVBQWUsS0FBSyxDQUFDO0lBQzFFLFdBQVcsQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixJQUFJLENBQUM7SUFDNUUsV0FBVyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsSUFBSSxDQUFDO0lBQzFFLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLElBQUksQ0FBQztJQUMxRSxXQUFXLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsTUFB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QTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsV0FBVyxDQUFDLE9BQU8sRUFBRSxHQUFHLElBQUksRUFBRTtJQUN2QyxFQUFFLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxjQUFjLElBQUksT0FBTyxDQUFDO0lBQzFELEVBQUUsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM5QixFQUFFLEtBQUss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
